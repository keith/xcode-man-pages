<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>install::TempContent::Objects::mod_perl-2.0.12::docs::api::Apache2::Module(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">install::TempContent::Objects::mod_perl-2.0.12::docs::api::Apache2::Module(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">install::TempContent::Objects::mod_perl-2.0.12::docs::api::Apache2::Module(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Apache2::Module - Perl API for creating and working with Apache
    modules</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Synopsis"><a class="permalink" href="#Synopsis">Synopsis</a></h1>
<pre>  use Apache2::Module ();
  
  #Define a configuration directive
  my @directives = (
      {
          name =&gt; 'MyDirective',
      }
  );
  
  Apache2::Module::add(__PACKAGE__, \@directives);
  
  # iterate over the whole module list
  for (my $modp = Apache2::Module::top_module(); $modp; $modp = $modp-&gt;next) {
      my $name                  = $modp-&gt;name;
      my $index                 = $modp-&gt;module_index;
      my $ap_api_major_version  = $modp-&gt;ap_api_major_version;
      my $ap_api_minor_version  = $modp-&gt;ap_api_minor_version;
      my $commands              = $modp-&gt;cmds;
  }
  
  # find a specific module
  my $module = Apache2::Module::find_linked_module('mod_ssl.c');
  
  # remove a specific module
  $module-&gt;remove_loaded_module();
  
  # access module configuration from a directive
  sub MyDirective {
      my ($self, $parms, $args) = @_;
      my  $srv_cfg = Apache2::Module::get_config($self, $parms-&gt;server);
      [...]
  }
  
  # test if an Apache module is loaded
  if (Apache2::Module::loaded('mod_ssl.c')) {
      [...]
  }
  
  # test if a Perl module is loaded
  if (Apache2::Module::loaded('Apache2::Status')) {
      [...]
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Description"><a class="permalink" href="#Description">Description</a></h1>
<p class="Pp"><span class="Li">&quot;Apache2::Module&quot;</span> provides the
    Perl API for creating and working with Apache modules</p>
<p class="Pp">See Apache Server Configuration Customization in Perl.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
<p class="Pp"><span class="Li">&quot;Apache2::Module&quot;</span> provides the
    following functions and/or methods:</p>
<section class="Ss">
<h2 class="Ss" id="_add_"><a class="permalink" href="#_add_">&quot;add&quot;</a></h2>
<p class="Pp">Add a module's custom configuration directive to Apache.</p>
<p class="Pp"></p>
<pre>  Apache2::Module::add($package, $cmds);
</pre>
<dl class="Bl-tag">
  <dt id="arg1:"><a class="permalink" href="#arg1:">arg1: $package ( string
    )</a></dt>
  <dd>the package of the module to add</dd>
  <dt id="arg2:"><a class="permalink" href="#arg2:">arg2: $cmds ( ARRAY of HASH
    refs )</a></dt>
  <dd>the list of configuration directives to add</dd>
  <dt id="ret:"><a class="permalink" href="#ret:">ret: no return value</a></dt>
  <dd></dd>
  <dt id="since:"><a class="permalink" href="#since:">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">See also Apache Server Configuration Customization in Perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_ap_api_major_version_"><a class="permalink" href="#_ap_api_major_version_">&quot;ap_api_major_version&quot;</a></h2>
<p class="Pp">Get the httpd API version this module was build against,
    <b>not</b> the module's version.</p>
<p class="Pp"></p>
<pre>  $major_version = $module-&gt;ap_api_major_version();
</pre>
<dl class="Bl-tag">
  <dt id="obj:"><a class="permalink" href="#obj:">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~2"><a class="permalink" href="#ret:~2">ret: $major_version (
    integer )</a></dt>
  <dd></dd>
  <dt id="since:~2"><a class="permalink" href="#since:~2">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">This methid is used to check that module is compatible with this
    version of the server before loading it.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_ap_api_minor_version_"><a class="permalink" href="#_ap_api_minor_version_">&quot;ap_api_minor_version&quot;</a></h2>
<p class="Pp">Get the module API minor version.</p>
<p class="Pp"></p>
<pre>  $minor_version = $module-&gt;ap_api_minor_version();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~2"><a class="permalink" href="#obj:~2">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~3"><a class="permalink" href="#ret:~3">ret: $minor_version (
    integer )</a></dt>
  <dd></dd>
  <dt id="since:~3"><a class="permalink" href="#since:~3">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li">&quot;ap_api_minor_version()&quot;</span>
    provides API feature milestones.</p>
<p class="Pp">It's not checked during module init.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_cmds_"><a class="permalink" href="#_cmds_">&quot;cmds&quot;</a></h2>
<p class="Pp">Get the <span class="Li">&quot;Apache2::Command&quot;</span>
    object, describing all of the directives this module defines.</p>
<p class="Pp"></p>
<pre>  $command = $module-&gt;cmds();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~3"><a class="permalink" href="#obj:~3">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~4"><a class="permalink" href="#ret:~4">ret: $command (
    &quot;Apache2::Command object&quot; )</a></dt>
  <dd></dd>
  <dt id="since:~4"><a class="permalink" href="#since:~4">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_get_config_"><a class="permalink" href="#_get_config_">&quot;get_config&quot;</a></h2>
<p class="Pp">Retrieve a module's configuration. Used by configuration
    directives.</p>
<p class="Pp"></p>
<pre>  $cfg = Apache2::Module::get_config($class, $server, $dir_config);
  $cfg = Apache2::Module::get_config($class, $server);
  $cfg =          $self-&gt;get_config($server, $dir_config);
  $cfg =          $self-&gt;get_config($server);
</pre>
<dl class="Bl-tag">
  <dt id="obj:~4"><a class="permalink" href="#obj:~4">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="arg1:~2"><a class="permalink" href="#arg1:~2">arg1: $class ( string
    )</a></dt>
  <dd>The Perl package this configuration is for</dd>
  <dt id="arg2:~2"><a class="permalink" href="#arg2:~2">arg2: $server (
    &quot;Apache2::ServerRec object&quot; )</a></dt>
  <dd>The current server, typically
      <span class="Li">&quot;$r-&gt;server&quot;</span> or
      <span class="Li">&quot;$parms-&gt;server&quot;</span>.</dd>
  <dt id="opt"><a class="permalink" href="#opt">opt arg3: $dir_config (
    &quot;Apache2::ConfVector object&quot; )</a></dt>
  <dd>By default, the configuration returned is the server level one. To
      retrieve the per directory configuration, use
      <span class="Li">&quot;$r-&gt;per_dir_config&quot;</span> as a last
      argument.</dd>
  <dt id="ret:~5"><a class="permalink" href="#ret:~5">ret: $cfg (HASH
    reference)</a></dt>
  <dd>A reference to the hash holding the module configuration data.</dd>
  <dt id="since:~5"><a class="permalink" href="#since:~5">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">See also Apache Server Configuration Customization in Perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_find_linked_module_"><a class="permalink" href="#_find_linked_module_">&quot;find_linked_module&quot;</a></h2>
<p class="Pp">Find a module based on the name of the module</p>
<p class="Pp"></p>
<pre>  $module = Apache2::Module::find_linked_module($name);
</pre>
<dl class="Bl-tag">
  <dt id="arg1:~3"><a class="permalink" href="#arg1:~3">arg1: $name ( string
    )</a></dt>
  <dd>The name of the module ending in
    <span class="Li">&quot;.c&quot;</span></dd>
  <dt id="ret:~6"><a class="permalink" href="#ret:~6">ret: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd>The module object if found, <span class="Li">&quot;undef&quot;</span>
      otherwise.</dd>
  <dt id="since:~6"><a class="permalink" href="#since:~6">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">For example:</p>
<p class="Pp"></p>
<pre>  my $module = Apache2::Module::find_linked_module('mod_ssl.c');
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_loaded_"><a class="permalink" href="#_loaded_">&quot;loaded&quot;</a></h2>
<p class="Pp">Determine if a certain module is loaded</p>
<p class="Pp"></p>
<pre>  $loaded = Apache2::Module::loaded($module);
</pre>
<dl class="Bl-tag">
  <dt id="name:"><a class="permalink" href="#name:">name: $module ( string
    )</a></dt>
  <dd>The name of the module to search for.
    <p class="Pp">If <span class="Li">$module</span> ends with
        <span class="Li">&quot;.c&quot;</span>, search all the modules,
        statically compiled and dynamically loaded.</p>
    <p class="Pp">If <span class="Li">$module</span> ends with
        <span class="Li">&quot;.so&quot;</span>, search only the dynamically
        loaded modules.</p>
    <p class="Pp">If <span class="Li">$module</span> doesn't contain a
        <span class="Li">&quot;.&quot;</span>, search the loaded Perl modules
        (checks <span class="Li">%INC</span>).</p>
  </dd>
  <dt id="ret:~7"><a class="permalink" href="#ret:~7">ret: $loaded ( boolean
    )</a></dt>
  <dd>Returns true if the module is loaded, false otherwise.</dd>
  <dt id="since:~7"><a class="permalink" href="#since:~7">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">For example, to test if this server supports ssl:</p>
<p class="Pp"></p>
<pre>  if (Apache2::Module::loaded('mod_ssl.c')) {
      [...]
  }
</pre>
<p class="Pp">To test is this server dynamically loaded mod_perl:</p>
<p class="Pp"></p>
<pre>  if (Apache2::Module::loaded('mod_perl.so')) {
      [...]
  }
</pre>
<p class="Pp">To test if <span class="Li">&quot;Apache2::Status&quot;</span> is
    loaded:</p>
<p class="Pp"></p>
<pre>  if (Apache2::Module::loaded('Apache2::Status')) {
      [...]
  }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_module_index_"><a class="permalink" href="#_module_index_">&quot;module_index&quot;</a></h2>
<p class="Pp">Get the index to this modules structures in config vectors.</p>
<p class="Pp"></p>
<pre>  $index = $module-&gt;module_index();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~5"><a class="permalink" href="#obj:~5">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~8"><a class="permalink" href="#ret:~8">ret: $index ( integer
    )</a></dt>
  <dd></dd>
  <dt id="since:~8"><a class="permalink" href="#since:~8">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_name_"><a class="permalink" href="#_name_">&quot;name&quot;</a></h2>
<p class="Pp">Get the name of the module's <i>.c</i> file</p>
<p class="Pp"></p>
<pre>  $name = $module-&gt;name();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~6"><a class="permalink" href="#obj:~6">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~9"><a class="permalink" href="#ret:~9">ret: $name ( string
    )</a></dt>
  <dd></dd>
  <dt id="since:~9"><a class="permalink" href="#since:~9">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">For example a mod_perl module, will return: <i>mod_perl.c</i>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_next_"><a class="permalink" href="#_next_">&quot;next&quot;</a></h2>
<p class="Pp">Get the next module in the list,
    <span class="Li">&quot;undef&quot;</span> if this is the last module in the
    list.</p>
<p class="Pp"></p>
<pre>  $next_module = $module-&gt;next();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~7"><a class="permalink" href="#obj:~7">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~10"><a class="permalink" href="#ret:~10">ret: $next_module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="since:~10"><a class="permalink" href="#since:~10">since:
    2.0.00</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_remove_loaded_module_"><a class="permalink" href="#_remove_loaded_module_">&quot;remove_loaded_module&quot;</a></h2>
<p class="Pp">Remove a module from the list of loaded modules permanently.</p>
<p class="Pp"></p>
<pre>  $module-&gt;remove_loaded_module();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~8"><a class="permalink" href="#obj:~8">obj: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="ret:~11"><a class="permalink" href="#ret:~11">ret: no return
    value</a></dt>
  <dd></dd>
  <dt id="since:~11"><a class="permalink" href="#since:~11">since:
    2.0.00</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_top_module_"><a class="permalink" href="#_top_module_">&quot;top_module&quot;</a></h2>
<p class="Pp">Returns the first module in the module list. Usefull to start a
    module iteration.</p>
<p class="Pp"></p>
<pre>  $module = Apache2::Module::top_module();
</pre>
<dl class="Bl-tag">
  <dt id="ret:~12"><a class="permalink" href="#ret:~12">ret: $module (
    &quot;Apache2::Module object&quot; )</a></dt>
  <dd></dd>
  <dt id="since:~12"><a class="permalink" href="#since:~12">since:
    2.0.00</a></dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="See_Also"><a class="permalink" href="#See_Also">See
  Also</a></h1>
<p class="Pp">mod_perl 2.0 documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Copyright"><a class="permalink" href="#Copyright">Copyright</a></h1>
<p class="Pp">mod_perl 2.0 and its core modules are copyrighted under The Apache
    Software License, Version 2.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Authors"><a class="permalink" href="#Authors">Authors</a></h1>
<p class="Pp">The mod_perl development team and numerous contributors.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-18</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
