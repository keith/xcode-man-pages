<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Man page generated from reStructuredText.
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>METAL-PIPELINES-SCRIPT(5)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">METAL-PIPELINES-SCRIPT(5)</td>
    <td class="head-vol">Metal</td>
    <td class="head-rtitle">METAL-PIPELINES-SCRIPT(5)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">metal-pipelines-script - Metal pipelines script JSON file
  format</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">A Metal pipelines script is used to specify a collection of Metal
    libraries and pipeline descriptors. <b>metal-nt</b> consumes this
    information to determine which input file to read and which GPU binaries
    must be generated and stored in a GPU binaries archive.</p>
<p class="Pp">A Metal pipelines script has a JSON based textual representation.
    Its canonical file extension is <i>.mtlp-json</i>. The script itself is a
    single object that can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="libraries"><a class="permalink" href="#libraries"><b>libraries</b></a></dt>
  <dd>An object describing the input Metal libraries from file or generated via
      the function constants specialization process. See <i>LIBRARIES</i>.</dd>
  <dt id="pipelines"><a class="permalink" href="#pipelines"><b>pipelines</b></a></dt>
  <dd>An object describing the compute pipelines, render pipelines, and
      tile-render pipelines that need to be compiled into GPU binaries. See
      <i>PIPELINES</i>.</dd>
  <dt id="functions"><a class="permalink" href="#functions"><b>functions</b></a></dt>
  <dd>An object describing the intersection functions, and visible functions
      that need to be compiled separately into GPU binaries. See
      <i>FUNCTIONS</i>.</dd>
  <dt id="named_predicates"><a class="permalink" href="#named_predicates"><b>named_predicates</b></a></dt>
  <dd>An array of objects describing the named predicate definitions. Predicates
      can be used to control whether a pipeline should be compiled or ignored.
      See <i>PREDICATES</i>.</dd>
  <dt id="named_function_constant_values"><a class="permalink" href="#named_function_constant_values"><b>named_function_constant_values</b></a></dt>
  <dd>An array of objects describing the named function constant values
      definitions. These can be referenced by name from specialized function
      library definitions. See <i>NAMED FUNCTION CONSTANT VALUES</i>.</dd>
</dl>
</div>
<br/>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARIES"><a class="permalink" href="#LIBRARIES">LIBRARIES</a></h1>
<p class="Pp">The object describing the collection of Metal libraries can have
    the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="paths"><a class="permalink" href="#paths"><b>paths</b></a></dt>
  <dd>An array of objects describing a Metal library on disk. Each object can
      define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="label"><a class="permalink" href="#label"><b>label
    <i>(required)</i></b></a></dt>
  <dd>Unique identifier for the library in a Metal pipelines script. The label
      value is used for the <i>alias:</i> URIs to reference a function from the
      library with the given label. See <i>FUNCTION REFERENCE</i>.</dd>
  <dt id="path"><a class="permalink" href="#path"><b>path
    <i>(required)</i></b></a></dt>
  <dd>Path to the Metal library on disk. If the path is relative, the library is
      resolved considering the library search paths provided with the option
      <i>-L</i> to <b>metal-nt</b>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="specialized_functions"><a class="permalink" href="#specialized_functions"><b>specialized_functions</b></a></dt>
  <dd>An array of objects describing a Metal library generated via the function
      constants specialization process. Each object can define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="label~2"><a class="permalink" href="#label~2"><b>label
    <i>(required)</i></b></a></dt>
  <dd>Unique identifier for the library in a Metal pipelines script. The label
      value is used for the <i>alias:</i> URIs to reference a function from the
      library with the given label. See <i>FUNCTION REFERENCE</i>.</dd>
  <dt id="function"><a class="permalink" href="#function"><b>function
    <i>(required)</i></b></a></dt>
  <dd>Reference to the function to be specialized. See <i>FUNCTION REFERENCE</i>
      for more details about the different syntaxes to reference a
    function.</dd>
  <dt id="specialized_name"><a class="permalink" href="#specialized_name"><b>specialized_name</b></a></dt>
  <dd>Name of the function after specialization. If not specified, the original
      name is used.</dd>
  <dt id="named_constant_values"><a class="permalink" href="#named_constant_values"><b>named_constant_values</b></a></dt>
  <dd>Name of the named function constant values object to use for the constant
      specialization values. See <i>NAMED FUNCTION CONSTANT VALUES</i>.</dd>
  <dt id="constant_values"><a class="permalink" href="#constant_values"><b>constant_values</b></a></dt>
  <dd>An array of objects describing the constant specialization values. The
      constant specialization values defined in this array <i>overrides</i> the
      corresponding values provided by the named function constant values object
      specified via <i>named_function_constant_values</i>. See <i>FUNCTION
      CONSTANT VALUE</i>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="stitched_libraries"><a class="permalink" href="#stitched_libraries"><b>stitched_libraries</b></a></dt>
  <dd>An array of objects describing a Metal stitched library. Each object is
      the equivalent structure of <b>MTLStitchedLibraryDescriptor</b> in the
      Metal API, and can define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="label~3"><a class="permalink" href="#label~3"><b>label
    <i>(required)</i></b></a></dt>
  <dd>Unique identifier for the library in a Metal pipelines script. The label
      value is used for the <i>alias:</i> URIs to reference a function from the
      library with the given label. See <i>FUNCTION REFERENCE</i>.</dd>
  <dt id="functions~2"><a class="permalink" href="#functions~2"><b>functions</b></a></dt>
  <dd>An array of functions. Each element is a reference to a stitchable
      function that is used for generating the functions associated with the
      function graphs of the given stitched library. See <i>FUNCTION
      REFERENCE</i> for more details about the different syntaxes to reference a
      function.</dd>
  <dt id="function_graphs"><a class="permalink" href="#function_graphs"><b>function_graphs</b></a></dt>
  <dd>An array of objects describing a function graph. See <i>FUNCTION
      GRAPH</i>.</dd>
</dl>
</div>
<br/>
</div>
<br/>
<section class="Ss">
<h2 class="Ss" id="NAMED_FUNCTION_CONSTANT_VALUES"><a class="permalink" href="#NAMED_FUNCTION_CONSTANT_VALUES">NAMED
  FUNCTION CONSTANT VALUES</a></h2>
<p class="Pp">A named function constant values object can define the
  members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="name"><a class="permalink" href="#name"><b>name
    <i>(required)</i></b></a></dt>
  <dd>The name for the named function constant values being defined.</dd>
  <dt><b>constant_values <i>(required)</i></b></dt>
  <dd>An array of objects describing the constant specialization values. See
      <i>FUNCTION CONSTANT VALUE</i>.</dd>
</dl>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="FUNCTION_CONSTANT_VALUE"><a class="permalink" href="#FUNCTION_CONSTANT_VALUE">FUNCTION
  CONSTANT VALUE</a></h2>
<p class="Pp">A function constant value object can define the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="id_type"><a class="permalink" href="#id_type"><b>id_type
    <i>(required)</i></b></a></dt>
  <dd>String with one of the following values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>FunctionConstantIndex</b></li>
  <li><b>FunctionConstantName</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="id"><a class="permalink" href="#id"><b>id
    <i>(required)</i></b></a></dt>
  <dd>If <b>id_type</b> is <b>FunctionConstantIndex</b> then <b>id</b> must be
      an object with a single member <b>data</b> whose value must be an integer
      between <b>0</b> and <b>65535</b> representing the index of a function
      constant variable.
    <p class="Pp">If <b>id_type</b> is <b>FunctionConstantName</b> then
        <b>id</b> must be a string whose value represents the name of function
        constant variable.</p>
  </dd>
  <dt id="value_type"><a class="permalink" href="#value_type"><b>value_type
    <i>(required)</i></b></a></dt>
  <dd>Data type of the function constant value. It must be one of the following
      string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>ConstantBool</b></li>
  <li><b>ConstantBool2</b></li>
  <li><b>ConstantBool3</b></li>
  <li><b>ConstantBool4</b></li>
  <li><b>ConstantChar</b></li>
  <li><b>ConstantChar2</b></li>
  <li><b>ConstantChar3</b></li>
  <li><b>ConstantChar4</b></li>
  <li><b>ConstantUChar</b></li>
  <li><b>ConstantUChar2</b></li>
  <li><b>ConstantUChar3</b></li>
  <li><b>ConstantUChar4</b></li>
  <li><b>ConstantShort</b></li>
  <li><b>ConstantShort2</b></li>
  <li><b>ConstantShort3</b></li>
  <li><b>ConstantShort4</b></li>
  <li><b>ConstantUShort</b></li>
  <li><b>ConstantUShort2</b></li>
  <li><b>ConstantUShort3</b></li>
  <li><b>ConstantUShort4</b></li>
  <li><b>ConstantInt</b></li>
  <li><b>ConstantInt2</b></li>
  <li><b>ConstantInt3</b></li>
  <li><b>ConstantInt4</b></li>
  <li><b>ConstantUInt</b></li>
  <li><b>ConstantUInt2</b></li>
  <li><b>ConstantUInt3</b></li>
  <li><b>ConstantUInt4</b></li>
  <li><b>ConstantLong</b></li>
  <li><b>ConstantLong2</b></li>
  <li><b>ConstantLong3</b></li>
  <li><b>ConstantLong4</b></li>
  <li><b>ConstantULong</b></li>
  <li><b>ConstantULong2</b></li>
  <li><b>ConstantULong3</b></li>
  <li><b>ConstantULong4</b></li>
  <li><b>ConstantFloat</b></li>
  <li><b>ConstantFloat2</b></li>
  <li><b>ConstantFloat3</b></li>
  <li><b>ConstantFloat4</b></li>
  <li><b>ConstantHalf</b></li>
  <li><b>ConstantHalf2</b></li>
  <li><b>ConstantHalf3</b></li>
  <li><b>ConstantHalf4</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="value"><a class="permalink" href="#value"><b>value
    <i>(required)</i></b></a></dt>
  <dd>An object with a single member <b>data</b> whose value is either a scalar
      or array of 2/3/4 integer/floating point values depending on the value of
      <b>value_type</b>.</dd>
</dl>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="FUNCTION_GRAPH"><a class="permalink" href="#FUNCTION_GRAPH">FUNCTION
  GRAPH</a></h2>
<p class="Pp">This is the equivalent structure of
    <b>MTLFunctionStitchingGraph</b> in the Metal API. A function graph object
    can define the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="function_name"><a class="permalink" href="#function_name"><b>function_name</b></a></dt>
  <dd>The name of the new stitched function.</dd>
  <dt id="nodes"><a class="permalink" href="#nodes"><b>nodes</b></a></dt>
  <dd>An array of objects describing the nodes in the function's call graph.
      Each object can define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="node_type"><a class="permalink" href="#node_type"><b>node_type
    <i>(required)</i></b></a></dt>
  <dd>String with one of the following values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>InputNode</b></li>
  <li><b>FunctionNode</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="node"><a class="permalink" href="#node"><b>node
    <i>(required)</i></b></a></dt>
  <dd>An object describing the given node.
    <p class="Pp">If <b>node_type</b> is <b>InputNode</b> then <b>node</b> must
        be an object with a single member <b>index</b> whose value represents
        the index of the given input node.</p>
    <p class="Pp">If <b>node_type</b> is <b>FunctionNode</b> then <b>node</b>
        must be an object with the following members:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="name~2"><a class="permalink" href="#name~2"><b>name
    <i>(required)</i></b></a></dt>
  <dd>The name of the function associated with the given function node.</dd>
  <dt id="arguments"><a class="permalink" href="#arguments"><b>arguments</b></a></dt>
  <dd>An array of objects representing the node indices of the arguments used by
      the given function node. Each element must be an object with a single
      member <b>id</b> whose value is the position of the node in <b>nodes</b>
      representing the given argument. Valid values must be less than the
      position of the function node being defined.</dd>
  <dt id="control_dependencies"><a class="permalink" href="#control_dependencies"><b>control_dependencies</b></a></dt>
  <dd>An array of objects representing the node indices of the control
      dependencies by the given function node. Each element must be an object
      with a single member <b>id</b> whose value is the position of the function
      node in <b>nodes</b> representing the given control dependency. Valid
      values must be less than the position of the function node being
    defined.</dd>
</dl>
</div>
<br/>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="output_node"><a class="permalink" href="#output_node"><b>output_node</b></a></dt>
  <dd>An object with a single member <b>id</b> whose value is the position of
      the function node in <b>nodes</b> that produces the return value of the
      new stitched function.</dd>
  <dt id="attributes"><a class="permalink" href="#attributes"><b>attributes</b></a></dt>
  <dd>An array of objects describing function attributes. Each element must be
      an object with the following members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="attribute_type"><a class="permalink" href="#attribute_type"><b>attribute_type</b></a></dt>
  <dd>String with one of the following values:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><b>AlwaysInlineAttribute</b></dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="attribute"><a class="permalink" href="#attribute"><b>attribute</b></a></dt>
  <dd>An object describing the given attribute.
    <p class="Pp">If <b>attribute_type</b> is <b>AlwaysInlineAttribute</b> then
        <b>attribute</b> must be an empty object.</p>
  </dd>
</dl>
</div>
<br/>
</div>
<br/>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="PIPELINES"><a class="permalink" href="#PIPELINES">PIPELINES</a></h1>
<p class="Pp">The object describing the collection of Metal pipelines can have
    the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="compute_pipelines"><a class="permalink" href="#compute_pipelines"><b>compute_pipelines</b></a></dt>
  <dd>An array of objects describing a Metal compute pipeline. See <i>COMPUTE
      PIPELINE DESCRIPTOR</i>.</dd>
  <dt id="render_pipelines"><a class="permalink" href="#render_pipelines"><b>render_pipelines</b></a></dt>
  <dd>An array of objects describing a Metal render pipeline. See <i>RENDER
      PIPELINE DESCRIPTOR</i>.</dd>
  <dt id="tile_render_pipelines"><a class="permalink" href="#tile_render_pipelines"><b>tile_render_pipelines</b></a></dt>
  <dd>An array of objects describing a Metal tile render pipeline. See <i>TILE
      RENDER PIPELINE DESCRIPTOR</i>.</dd>
</dl>
</div>
<br/>
<section class="Ss">
<h2 class="Ss" id="COMPUTE_PIPELINE_DESCRIPTOR"><a class="permalink" href="#COMPUTE_PIPELINE_DESCRIPTOR">COMPUTE
  PIPELINE DESCRIPTOR</a></h2>
<p class="Pp">This is the equivalent structure of
    <b>MTLComputePipelineDescriptor</b> in the Metal API. A Metal compute
    pipeline descriptor object can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="enable"><a class="permalink" href="#enable"><b>enable</b></a></dt>
  <dd>A predicate expression that determines if the pipeline should be compiled
      or ignored. The default value is the empty expression. See
      <i>PREDICATES</i>.</dd>
  <dt id="compute_function"><a class="permalink" href="#compute_function"><b>compute_function
    <i>(required)</i></b></a></dt>
  <dd>Reference to a kernel function. See <i>FUNCTION REFERENCE</i> for more
      details about the different syntaxes to reference a function.</dd>
  <dt id="threadgroup_size_is_multiple_of_thread_execution_width"><a class="permalink" href="#threadgroup_size_is_multiple_of_thread_execution_width"><b>threadgroup_size_is_multiple_of_thread_execution_width</b></a></dt>
  <dd>A boolean value that indicates if the threadgroup size is always a
      multiple of the thread execution width. The default value is
    <b>false</b>.</dd>
  <dt id="max_total_threads_per_threadgroup"><a class="permalink" href="#max_total_threads_per_threadgroup"><b>max_total_threads_per_threadgroup</b></a></dt>
  <dd>The maximum number of threads in a threadgroup when dispatching a command
      using this pipeline. If set to <b>0</b>, the implementation calculates
      this value based on the properties of the device and the compute function.
      The default value is <b>0</b>.</dd>
  <dt id="max_call_stack_depth"><a class="permalink" href="#max_call_stack_depth"><b>max_call_stack_depth</b></a></dt>
  <dd>The maximum function call depth from the compute function. The default
      value is <b>1</b>.</dd>
  <dt id="stage_input_descriptor"><a class="permalink" href="#stage_input_descriptor"><b>stage_input_descriptor</b></a></dt>
  <dd>The organization of input data for the compute function. See <i>STAGE
      INPUT OUTPUT DESCRIPTOR</i>.</dd>
  <dt id="buffers"><a class="permalink" href="#buffers"><b>buffers</b></a></dt>
  <dd>This is an array of objects describing the buffer mutability option for
      the compute function. Each array index corresponds to the same index in
      the buffer argument table for the compute function. See <i>PIPELINE BUFFER
      DESCRIPTOR</i>.</dd>
  <dt id="linked_functions"><a class="permalink" href="#linked_functions"><b>linked_functions</b></a></dt>
  <dd>The functions linked in the compute pipeline. See <i>LINKED
    FUNCTIONS</i>.</dd>
  <dt id="support_indirect_command_buffers"><a class="permalink" href="#support_indirect_command_buffers"><b>support_indirect_command_buffers</b></a></dt>
  <dd>A boolean value that indicates if the resulting pipeline state can be
      referenced by commands in an indirect command buffer. The default value is
      <b>false</b>.</dd>
  <dt id="support_adding_binary_functions"><a class="permalink" href="#support_adding_binary_functions"><b>support_adding_binary_functions</b></a></dt>
  <dd>A boolean value that indicates if the resulting pipeline state can be used
      to create new pipelines by adding binary functions to its callable
      functions list. The default value is <b>false</b>.</dd>
</dl>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="RENDER_PIPELINE_DESCRIPTOR"><a class="permalink" href="#RENDER_PIPELINE_DESCRIPTOR">RENDER
  PIPELINE DESCRIPTOR</a></h2>
<p class="Pp">This is the equivalent structure of
    <b>MTLRenderPipelineDescriptor</b> in the Metal API. A Metal render pipeline
    descriptor object can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="enable~2"><a class="permalink" href="#enable~2"><b>enable</b></a></dt>
  <dd>A predicate expression that determines if the pipeline should be compiled
      or ignored. The default value is the empty expression. See
      <i>PREDICATES</i>.</dd>
  <dt id="vertex_function"><a class="permalink" href="#vertex_function"><b>vertex_function
    <i>(required)</i></b></a></dt>
  <dd>Reference to a vertex function. See <i>FUNCTION REFERENCE</i> for more
      details about the different syntaxes to reference a function.</dd>
  <dt id="fragment_function"><a class="permalink" href="#fragment_function"><b>fragment_function</b></a></dt>
  <dd>Reference to a fragment function. See <i>FUNCTION REFERENCE</i> for more
      details about the different syntaxes to reference a function.</dd>
  <dt id="max_vertex_call_stack_depth"><a class="permalink" href="#max_vertex_call_stack_depth"><b>max_vertex_call_stack_depth</b></a></dt>
  <dd>The maximum function call depth from the vertex function. The default
      value is <b>1</b>.</dd>
  <dt id="max_fragment_call_stack_depth"><a class="permalink" href="#max_fragment_call_stack_depth"><b>max_fragment_call_stack_depth</b></a></dt>
  <dd>The maximum function call depth from the fragment function. The default
      value is <b>1</b>.</dd>
  <dt id="vertex_descriptor"><a class="permalink" href="#vertex_descriptor"><b>vertex_descriptor</b></a></dt>
  <dd>The organization of vertex data for the vertex function. See <i>VERTEX
      DESCRIPTOR</i>.</dd>
  <dt id="input_primitive_topology"><a class="permalink" href="#input_primitive_topology"><b>input_primitive_topology</b></a></dt>
  <dd>The type of primitive topology the pipeline renders. It must be one of the
      following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Unspecified</b> (default)</li>
  <li><b>Point</b></li>
  <li><b>Line</b></li>
  <li><b>Triangle</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="max_tessellation_factor"><a class="permalink" href="#max_tessellation_factor"><b>max_tessellation_factor</b></a></dt>
  <dd>The maximum tessellation factor that the tessellator uses when
      tessellating patches. The default value is <b>16</b>.</dd>
  <dt id="tessellation_factor_scale_enabled"><a class="permalink" href="#tessellation_factor_scale_enabled"><b>tessellation_factor_scale_enabled</b></a></dt>
  <dd>A boolean value that determines if the pipeline scales the tessellation
      factor. The default value is <b>false</b>.</dd>
  <dt id="tessellation_factor_format"><a class="permalink" href="#tessellation_factor_format"><b>tessellation_factor_format</b></a></dt>
  <dd>The format of the tessellation factors in the tessellation factor buffer.
      It must be one of the following string values:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><b>Half</b> (default)</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="tessellation_control_point_index_type"><a class="permalink" href="#tessellation_control_point_index_type"><b>tessellation_control_point_index_type</b></a></dt>
  <dd>The size of the control point indices in a control point index buffer. It
      must be one the following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>None</b> (default)</li>
  <li><b>UInt16</b></li>
  <li><b>UInt32</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="tessellation_factor_step_function"><a class="permalink" href="#tessellation_factor_step_function"><b>tessellation_factor_step_function</b></a></dt>
  <dd>The step function for determining the tessellation factors for a patch
      from the tessellation factor buffer. It must be one of the following
      string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Constant</b> (default)</li>
  <li><b>PerPatch</b></li>
  <li><b>PerInstance</b></li>
  <li><b>PerPatchAndPerInstance</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="tessellation_output_winding_order"><a class="permalink" href="#tessellation_output_winding_order"><b>tessellation_output_winding_order</b></a></dt>
  <dd>The winding order of triangles from the tessellator. It must be one of the
      following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Clockwise</b> (default)</li>
  <li><b>CounterClockwise</b>.</li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="tessellation_partition_mode"><a class="permalink" href="#tessellation_partition_mode"><b>tessellation_partition_mode</b></a></dt>
  <dd>The partitioning mode that the tessellator uses to derive the number and
      spacing of segments for subdividing a corresponding edge. It must be one
      of the following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Pow2</b> (default)</li>
  <li><b>Integer</b></li>
  <li><b>FractionalOdd</b></li>
  <li><b>FractionalEven</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="max_vertex_amplification_count"><a class="permalink" href="#max_vertex_amplification_count"><b>max_vertex_amplification_count</b></a></dt>
  <dd>The maximum vertex amplification count you can set when encoding render
      commands. The default value is <b>1</b>.</dd>
  <dt id="rasterization_enabled"><a class="permalink" href="#rasterization_enabled"><b>rasterization_enabled</b></a></dt>
  <dd>A boolean value that determines if the pipeline rasterizes primitives. The
      default value is <b>true</b>.</dd>
  <dt id="alpha_to_coverage_enabled"><a class="permalink" href="#alpha_to_coverage_enabled"><b>alpha_to_coverage_enabled</b></a></dt>
  <dd>A boolean value that indicates if the alpha channel fragment output for
      color attachments is read and used to compute a sample coverage mask. The
      default value is <b>false</b>.</dd>
  <dt id="alpha_to_one_enabled"><a class="permalink" href="#alpha_to_one_enabled"><b>alpha_to_one_enabled</b></a></dt>
  <dd>A boolean value that indicates if the alpha channel values for color
      attachments are forced to the largest representable value. The default
      value is <b>false</b>.</dd>
  <dt id="raster_sample_count"><a class="permalink" href="#raster_sample_count"><b>raster_sample_count</b></a></dt>
  <dd>The number of samples in each fragment. The default value is
    <b>1</b>.</dd>
  <dt id="color_attachments"><a class="permalink" href="#color_attachments"><b>color_attachments</b></a></dt>
  <dd>An array of objects describing the color data. Each object is the
      equivalent structure of <b>MTLRenderPipelineColorAttachmentDescriptor</b>
      in the Metal API, and can define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="pixel_format"><a class="permalink" href="#pixel_format"><b>pixel_format</b></a></dt>
  <dd>The pixel format of the color attachment's texture. The default value is
      <b>Invalid</b>. See <i>PIXEL FORMAT</i>.</dd>
  <dt id="write_mask"><a class="permalink" href="#write_mask"><b>write_mask</b></a></dt>
  <dd>A bitmask that restricts which color channels are written into the
      texture. It must be a string containing one or more of the following
      string values separated by space:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>None</b></li>
  <li><b>Red</b></li>
  <li><b>Green</b></li>
  <li><b>Blue</b></li>
  <li><b>Alpha</b></li>
  <li><b>All</b> (default)</li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="blending_enabled"><a class="permalink" href="#blending_enabled"><b>blending_enabled</b></a></dt>
  <dd>A boolean value that determines if blending is enabled. The default value
      is <b>false</b>.</dd>
  <dt id="alpha_blend_operation"><a class="permalink" href="#alpha_blend_operation"><b>alpha_blend_operation</b></a></dt>
  <dd>The blend operation assigned for the alpha data. The default value is
      <b>Add</b>. See <i>BLEND OPERATION</i>.</dd>
  <dt id="rgb_blend_operation"><a class="permalink" href="#rgb_blend_operation"><b>rgb_blend_operation</b></a></dt>
  <dd>The blend operation assigned for the RGB data. The default value is
      <b>Add</b>. See <i>BLEND OPERATION</i>.</dd>
  <dt id="destination_alpha_blend_factor"><a class="permalink" href="#destination_alpha_blend_factor"><b>destination_alpha_blend_factor</b></a></dt>
  <dd>The destination blend factor used by the alpha blend operation. The
      default value is <b>Zero</b>. See <i>BLEND FACTOR</i>.</dd>
  <dt id="destination_rgb_blend_factor"><a class="permalink" href="#destination_rgb_blend_factor"><b>destination_rgb_blend_factor</b></a></dt>
  <dd>The destination blend factor used by the RGB blend operation. The default
      value is <b>Zero</b>. See <i>BLEND FACTOR</i>.</dd>
  <dt id="source_alpha_blend_factor"><a class="permalink" href="#source_alpha_blend_factor"><b>source_alpha_blend_factor</b></a></dt>
  <dd>The source blend factor used by the alpha blend operation. The default
      value is <b>One</b>. See <i>BLEND FACTOR</i>.</dd>
  <dt id="source_rgb_blend_factor"><a class="permalink" href="#source_rgb_blend_factor"><b>source_rgb_blend_factor</b></a></dt>
  <dd>The source blend factor used by the RGB blend operation. The default value
      is <b>One</b>. See <i>BLEND FACTOR</i>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="depth_attachment_pixel_format"><a class="permalink" href="#depth_attachment_pixel_format"><b>depth_attachment_pixel_format</b></a></dt>
  <dd>The pixel format of the attachment that stores depth data. The default
      value is <b>Invalid</b>. See <i>PIXEL FORMAT</i>.</dd>
  <dt id="stencil_attachment_pixel_format"><a class="permalink" href="#stencil_attachment_pixel_format"><b>stencil_attachment_pixel_format</b></a></dt>
  <dd>The pixel format of the attachment that stores stencil data. The default
      value is <b>Invalid</b>. See <i>PIXEL FORMAT</i>.</dd>
  <dt id="vertex_buffers"><a class="permalink" href="#vertex_buffers"><b>vertex_buffers</b></a></dt>
  <dd>This is an array of objects describing the buffer mutability option for
      the vertex function. Each array index corresponds to the same index in the
      buffer argument table for the vertex function. See <i>PIPELINE BUFFER
      DESCRIPTOR</i>.</dd>
  <dt id="fragment_buffers"><a class="permalink" href="#fragment_buffers"><b>fragment_buffers</b></a></dt>
  <dd>This is an array of objects describing the buffer mutability option for
      the fragment function. Each array index corresponds to the same index in
      the buffer argument table for the fragment function. See <i>PIPELINE
      BUFFER DESCRIPTOR</i>.</dd>
  <dt id="vertex_linked_functions"><a class="permalink" href="#vertex_linked_functions"><b>vertex_linked_functions</b></a></dt>
  <dd>The functions linked in the vertex stage of the render pipeline. See
      <i>LINKED FUNCTIONS</i>.</dd>
  <dt id="fragment_linked_functions"><a class="permalink" href="#fragment_linked_functions"><b>fragment_linked_functions</b></a></dt>
  <dd>The functions linked in the fragment stage of the render pipeline. See
      <i>LINKED FUNCTIONS</i>.</dd>
  <dt id="support_indirect_command_buffers~2"><a class="permalink" href="#support_indirect_command_buffers~2"><b>support_indirect_command_buffers</b></a></dt>
  <dd>A boolean value that indicates if the resulting pipeline state can be
      referenced by commands in an indirect command buffer. The default value is
      <b>false</b>.</dd>
  <dt id="support_adding_vertex_binary_functions"><a class="permalink" href="#support_adding_vertex_binary_functions"><b>support_adding_vertex_binary_functions</b></a></dt>
  <dd>A boolean value that indicates if the resulting pipeline state can be used
      to create new pipelines by adding binary functions to the vertex callable
      functions list. The default value is <b>false</b>.</dd>
  <dt id="support_adding_fragment_binary_functions"><a class="permalink" href="#support_adding_fragment_binary_functions"><b>support_adding_fragment_binary_functions</b></a></dt>
  <dd>A boolean value that indicates if the resulting pipeline state can be used
      to create new pipelines by adding binary functions to the fragment
      callable functions list. The default value is <b>false</b>.</dd>
</dl>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="TILE_RENDER_PIPELINE_DESCRIPTOR"><a class="permalink" href="#TILE_RENDER_PIPELINE_DESCRIPTOR">TILE
  RENDER PIPELINE DESCRIPTOR</a></h2>
<p class="Pp">This is the equivalent structure of
    <b>MTLTileRenderPipelineDescriptor</b> in the Metal API. A Metal tile render
    pipeline descriptor object can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="enable~3"><a class="permalink" href="#enable~3"><b>enable</b></a></dt>
  <dd>A predicate expression that determines if the pipeline should be compiled
      or ignored. The default value is the empty expression. See
      <i>PREDICATES</i>.</dd>
  <dt id="tile_function"><a class="permalink" href="#tile_function"><b>tile_function
    <i>(required)</i></b></a></dt>
  <dd>Reference to a kernel or fragment function. See <i>FUNCTION REFERENCE</i>
      for more details about the different syntaxes to reference a
    function.</dd>
  <dt id="threadgroup_size_matches_tile_size"><a class="permalink" href="#threadgroup_size_matches_tile_size"><b>threadgroup_size_matches_tile_size</b></a></dt>
  <dd>A boolean value that indicates if all threadgroups completely cover tiles.
      The default value is <b>false</b>.</dd>
  <dt id="max_total_threads_per_threadgroup~2"><a class="permalink" href="#max_total_threads_per_threadgroup~2"><b>max_total_threads_per_threadgroup</b></a></dt>
  <dd>The maximum number of threads in a threadgroup when dispatching a command
      using this pipeline. If set to <b>0</b>, the implementation calculates
      this value based on the properties of the device and the tile function.
      The default value is <b>0</b>.</dd>
  <dt id="max_call_stack_depth~2"><a class="permalink" href="#max_call_stack_depth~2"><b>max_call_stack_depth</b></a></dt>
  <dd>The maximum function call depth from the tile function. The default value
      is <b>1</b>.</dd>
  <dt id="raster_sample_count~2"><a class="permalink" href="#raster_sample_count~2"><b>raster_sample_count</b></a></dt>
  <dd>The number of samples in each fragment. The default value is
    <b>1</b>.</dd>
  <dt id="color_attachments~2"><a class="permalink" href="#color_attachments~2"><b>color_attachments</b></a></dt>
  <dd>An array of objects describing the color data. Each object is the
      equivalent structure of
      <b>MTLTileRenderPipelineColorAttachmentDescriptor</b> in the Metal API,
      and can define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="pixel_format~2"><a class="permalink" href="#pixel_format~2"><b>pixel_format</b></a></dt>
  <dd>The pixel format associated with the tile shading render pipeline. The
      default value is <b>Invalid</b>. See <i>PIXEL FORMAT</i>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="tile_buffers"><a class="permalink" href="#tile_buffers"><b>tile_buffers</b></a></dt>
  <dd>This is an array of objects describing the buffer mutability option for
      the tile function. Each array index corresponds to the same index in the
      buffer argument table for the tile function. See <i>PIPELINE BUFFER
      DESCRIPTOR</i>.</dd>
  <dt id="linked_functions~2"><a class="permalink" href="#linked_functions~2"><b>linked_functions</b></a></dt>
  <dd>The functions linked in the tile render pipeline. See <i>LINKED
      FUNCTIONS</i>.</dd>
  <dt id="support_adding_binary_functions~2"><a class="permalink" href="#support_adding_binary_functions~2"><b>support_adding_binary_functions</b></a></dt>
  <dd>A boolean value that indicates if the resulting pipeline state can be used
      to create new pipelines by adding binary functions to its callable
      functions list. The default value is <b>false</b>.</dd>
</dl>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="STAGE_INPUT_OUTPUT_DESCRIPTOR"><a class="permalink" href="#STAGE_INPUT_OUTPUT_DESCRIPTOR">STAGE
  INPUT OUTPUT DESCRIPTOR</a></h2>
<p class="Pp">This is the equivalent structure of
    <b>MTLStageInputOutputDescriptor</b> in the Metal API. A Metal stage/output
    descriptor object can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="attributes~2"><a class="permalink" href="#attributes~2"><b>attributes</b></a></dt>
  <dd>An array of objects describing where and how to fetch data for the
      function. Each object is the equivalent structure of
      <b>MTLAttributeDescriptor</b> in the Metal API, and can define the
      members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="buffer_index"><a class="permalink" href="#buffer_index"><b>buffer_index</b></a></dt>
  <dd>The index in the argument table for the buffer that contains the data for
      the attribute.</dd>
  <dt id="offset"><a class="permalink" href="#offset"><b>offset</b></a></dt>
  <dd>The byte offset of the data from the start of the buffer data.</dd>
  <dt id="format"><a class="permalink" href="#format"><b>format</b></a></dt>
  <dd>The format of the attribute's data. See <i>ATTRIBUTE FORMAT</i>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="layouts"><a class="permalink" href="#layouts"><b>layouts</b></a></dt>
  <dd>An array of objects describing how a function fetches input data for
      attributes from buffers. Each array index corresponds to the same index in
      the buffer argument table for the function. Each object is the equivalent
      structure of <b>MTLBufferLayoutDescriptor</b> in the Metal API, and can
      define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="stride"><a class="permalink" href="#stride"><b>stride</b></a></dt>
  <dd>The distance in bytes between entries in the buffer for the
    attributes.</dd>
  <dt id="step_function"><a class="permalink" href="#step_function"><b>step_function</b></a></dt>
  <dd>Determines which aspect of command execution triggers data fetches. It
      must be one of the following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Constant</b></li>
  <li><b>PerInstance</b></li>
  <li><b>PerPatch</b></li>
  <li><b>PerPatchControlPoint</b></li>
  <li><b>PerVertex</b></li>
  <li><b>ThreadPositionInGridX</b></li>
  <li><b>ThreadPositionInGridY</b></li>
  <li><b>ThreadPositionInGridXIndexed</b></li>
  <li><b>ThreadPositionInGridYIndexed</b></li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="step_rate"><a class="permalink" href="#step_rate"><b>step_rate</b></a></dt>
  <dd>The rate at which data is fetched by the step function.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="index_buffer_index"><a class="permalink" href="#index_buffer_index"><b>index_buffer_index</b></a></dt>
  <dd>The location of the index buffer for a compute function using indexed
      thread addressing.</dd>
  <dt id="index_type"><a class="permalink" href="#index_type"><b>index_type</b></a></dt>
  <dd>The data type of the indices stored in the index buffer. It must be one of
      the following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>UInt16</b></li>
  <li><b>UInt32</b></li>
</ul>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="VERTEX_DESCRIPTOR"><a class="permalink" href="#VERTEX_DESCRIPTOR">VERTEX
  DESCRIPTOR</a></h2>
<p class="Pp">This is the equivalent structure of <b>MTLVertexDescriptor</b> in
    the Metal API. A Metal vertex descriptor object can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="attributes~3"><a class="permalink" href="#attributes~3"><b>attributes</b></a></dt>
  <dd>An array of objects describing where and how to fetch data for the
      function. Each object is the equivalent structure of
      <b>MTLVertexAttributeDescriptor</b> in the Metal API, and can define the
      members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="buffer_index~2"><a class="permalink" href="#buffer_index~2"><b>buffer_index</b></a></dt>
  <dd>The index in the argument table for the buffer that contains the data for
      the attribute.</dd>
  <dt id="offset~2"><a class="permalink" href="#offset~2"><b>offset</b></a></dt>
  <dd>The byte offset of the data from the start of the buffer data.</dd>
  <dt id="format~2"><a class="permalink" href="#format~2"><b>format</b></a></dt>
  <dd>The format of the attribute's data. See <i>ATTRIBUTE FORMAT</i>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="layouts~2"><a class="permalink" href="#layouts~2"><b>layouts</b></a></dt>
  <dd>An array of objects describing how a function fetches input data for
      attributes from buffers. Each array index corresponds to the same index in
      the buffer argument table for the function. Each object is the equivalent
      structure of <b>MTLVertexBufferLayoutDescriptor</b> in the Metal API and
      can define the members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="stride~2"><a class="permalink" href="#stride~2"><b>stride</b></a></dt>
  <dd>The distance in bytes between entries in the buffer for the
    attributes.</dd>
  <dt id="step_function~2"><a class="permalink" href="#step_function~2"><b>step_function</b></a></dt>
  <dd>Determines which aspect of command execution triggers data fetches. It
      must be one of the following string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Constant</b></li>
  <li><b>PerInstance</b></li>
  <li><b>PerPatch</b></li>
  <li><b>PerPatchControlPoint</b></li>
  <li><b>PerVertex</b> (default)</li>
</ul>
</div>
<br/>
<dl class="Bl-tag">
  <dt id="step_rate~2"><a class="permalink" href="#step_rate~2"><b>step_rate</b></a></dt>
  <dd>The rate at which data is fetched by the step function.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="PIPELINE_BUFFER_DESCRIPTOR"><a class="permalink" href="#PIPELINE_BUFFER_DESCRIPTOR">PIPELINE
  BUFFER DESCRIPTOR</a></h2>
<p class="Pp">This is the equivalent structure of
    <b>MTLPipelineBufferDescriptor</b> in the Metal API. A Metal pipeline buffer
    descriptor can define the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="mutability"><a class="permalink" href="#mutability"><b>mutability</b></a></dt>
  <dd>A mutability option that determines if a buffer's contents can be updated
      before related commands use the buffer. It must be one of the following
      string values:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Default</b> (default)</li>
  <li><b>Mutable</b></li>
  <li><b>Immutable</b></li>
</ul>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="LINKED_FUNCTIONS"><a class="permalink" href="#LINKED_FUNCTIONS">LINKED
  FUNCTIONS</a></h2>
<p class="Pp">This is the equivalent structure of <b>MTLLinkedFunctions</b> in
    the Metal API. A Metal linked functions object can have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="functions~3"><a class="permalink" href="#functions~3"><b>functions</b></a></dt>
  <dd>An array of functions. Each element is a reference to a visible or
      intersection function that is linked into the given pipeline stage. See
      <i>FUNCTION REFERENCE</i> for more details about the different syntaxes to
      reference a function.</dd>
  <dt id="private_functions"><a class="permalink" href="#private_functions"><b>private_functions</b></a></dt>
  <dd>An array of functions. Each element is a reference to a visible or
      intersection function that is linked into the given pipeline stage without
      exporting the function publicly. See <i>FUNCTION REFERENCE</i> for more
      details about the different syntaxes to reference a function.</dd>
  <dt id="binary_functions"><a class="permalink" href="#binary_functions"><b>binary_functions</b></a></dt>
  <dd>An array of binary functions. Each element is the name of a binary
      function linked to the given pipeline stage.</dd>
  <dt id="groups"><a class="permalink" href="#groups"><b>groups</b></a></dt>
  <dd>An array of objects describing a group of functions. These describe the
      definition of groups referenced in a Metal program via the
      <i>[[function_groups(...)]]</i> attribute. Each object can define the
      members:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="name~3"><a class="permalink" href="#name~3"><b>name
    <i>(required)</i></b></a></dt>
  <dd></dd>
</dl>
</div>
<br/>
<p class="Pp">The name of the group of functions.</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="functions~4"><a class="permalink" href="#functions~4"><b>functions</b></a></dt>
  <dd></dd>
</dl>
</div>
<br/>
<p class="Pp">An array of functions. Each element is the name of function listed
    in the <i>functions</i> array.</p>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="ATTRIBUTE_FORMAT"><a class="permalink" href="#ATTRIBUTE_FORMAT">ATTRIBUTE
  FORMAT</a></h2>
<p class="Pp">This is the equivalent of <b>MTLVertexFormat</b> and
    <b>MTLAttributeFormat</b> in the Metal API. It must be one of the following
    string values:</p>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Invalid</b></li>
  <li><b>Char</b></li>
  <li><b>Char2</b></li>
  <li><b>Char3</b></li>
  <li><b>Char4</b></li>
  <li><b>UChar</b></li>
  <li><b>UChar2</b></li>
  <li><b>UChar3</b></li>
  <li><b>UChar4</b></li>
  <li><b>UCharNormalized</b></li>
  <li><b>UChar2Normalized</b></li>
  <li><b>UChar3Normalized</b></li>
  <li><b>UChar4Normalized</b></li>
  <li><b>CharNormalized</b></li>
  <li><b>Char2Normalized</b></li>
  <li><b>Char3Normalized</b></li>
  <li><b>Char4Normalized</b></li>
  <li><b>Short</b></li>
  <li><b>Short2</b></li>
  <li><b>Short3</b></li>
  <li><b>Short4</b></li>
  <li><b>UShort</b></li>
  <li><b>UShort2</b></li>
  <li><b>UShort3</b></li>
  <li><b>UShort4</b></li>
  <li><b>ShortNormalized</b></li>
  <li><b>Short2Normalized</b></li>
  <li><b>Short3Normalized</b></li>
  <li><b>Short4Normalized</b></li>
  <li><b>UShortNormalized</b></li>
  <li><b>UShort2Normalized</b></li>
  <li><b>UShort3Normalized</b></li>
  <li><b>UShort4Normalized</b></li>
  <li><b>Int</b></li>
  <li><b>Int2</b></li>
  <li><b>Int3</b></li>
  <li><b>Int4</b></li>
  <li><b>UInt</b></li>
  <li><b>UInt2</b></li>
  <li><b>UInt3</b></li>
  <li><b>UInt4</b></li>
  <li><b>Int1010102Normalized</b></li>
  <li><b>UInt1010102Normalized</b></li>
  <li><b>UChar4Normalized_BGRA</b></li>
  <li><b>Half</b></li>
  <li><b>Half2</b></li>
  <li><b>Half3</b></li>
  <li><b>Half4</b></li>
  <li><b>Float</b></li>
  <li><b>Float2</b></li>
  <li><b>Float3</b></li>
  <li><b>Float4</b></li>
</ul>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="PIXEL_FORMAT"><a class="permalink" href="#PIXEL_FORMAT">PIXEL
  FORMAT</a></h2>
<p class="Pp">This is the equivalent of <b>MTLPixelFormat</b> in the Metal API.
    It must be one of the following string values:</p>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Invalid</b></li>
  <li><b>A8Unorm</b></li>
  <li><b>R8Unorm</b></li>
  <li><b>R8Unorm_sRGB</b></li>
  <li><b>R8Snorm</b></li>
  <li><b>R8Uint</b></li>
  <li><b>R8Sint</b></li>
  <li><b>R16Unorm</b></li>
  <li><b>R16Snorm</b></li>
  <li><b>R16Uint</b></li>
  <li><b>R16Sint</b></li>
  <li><b>R16Float</b></li>
  <li><b>RG8Unorm</b></li>
  <li><b>RG8Unorm_sRGB</b></li>
  <li><b>RG8Snorm</b></li>
  <li><b>RG8Uint</b></li>
  <li><b>RG8Sint</b></li>
  <li><b>B5G6R5Unorm</b></li>
  <li><b>A1BGR5Unorm</b></li>
  <li><b>ABGR4Unorm</b></li>
  <li><b>BGR5A1Unorm</b></li>
  <li><b>R32Uint</b></li>
  <li><b>R32Sint</b></li>
  <li><b>R32Float</b></li>
  <li><b>RG16Unorm</b></li>
  <li><b>RG16Snorm</b></li>
  <li><b>RG16Uint</b></li>
  <li><b>RG16Sint</b></li>
  <li><b>RG16Float</b></li>
  <li><b>RGBA8Unorm</b></li>
  <li><b>RGBA8Unorm_sRGB</b></li>
  <li><b>RGBA8Snorm</b></li>
  <li><b>RGBA8Uint</b></li>
  <li><b>RGBA8Sint</b></li>
  <li><b>BGRA8Unorm</b></li>
  <li><b>BGRA8Unorm_sRGB</b></li>
  <li><b>RGB10A2Unorm</b></li>
  <li><b>RGB10A2Uint</b></li>
  <li><b>RG11B10Float</b></li>
  <li><b>RGB9E5Float</b></li>
  <li><b>BGR10A2Unorm</b></li>
  <li><b>RG32Uint</b></li>
  <li><b>RG32Sint</b></li>
  <li><b>RG32Float</b></li>
  <li><b>RGBA16Unorm</b></li>
  <li><b>RGBA16Snorm</b></li>
  <li><b>RGBA16Uint</b></li>
  <li><b>RGBA16Sint</b></li>
  <li><b>RGBA16Float</b></li>
  <li><b>RGBA32Uint</b></li>
  <li><b>RGBA32Sint</b></li>
  <li><b>RGBA32Float</b></li>
  <li><b>BC1_RGBA</b></li>
  <li><b>BC1_RGBA_sRGB</b></li>
  <li><b>BC2_RGBA</b></li>
  <li><b>BC2_RGBA_sRGB</b></li>
  <li><b>BC3_RGBA</b></li>
  <li><b>BC3_RGBA_sRGB</b></li>
  <li><b>BC4_RUnorm</b></li>
  <li><b>BC4_RSnorm</b></li>
  <li><b>BC5_RGUnorm</b></li>
  <li><b>BC5_RGSnorm</b></li>
  <li><b>BC6H_RGBFloat</b></li>
  <li><b>BC6H_RGBUfloat</b></li>
  <li><b>BC7_RGBAUnorm</b></li>
  <li><b>BC7_RGBAUnorm_sRGB</b></li>
  <li><b>PVRTC_RGB_2BPP</b></li>
  <li><b>PVRTC_RGB_2BPP_sRGB</b></li>
  <li><b>PVRTC_RGB_4BPP</b></li>
  <li><b>PVRTC_RGB_4BPP_sRGB</b></li>
  <li><b>PVRTC_RGBA_2BPP</b></li>
  <li><b>PVRTC_RGBA_2BPP_sRGB</b></li>
  <li><b>PVRTC_RGBA_4BPP</b></li>
  <li><b>PVRTC_RGBA_4BPP_sRGB</b></li>
  <li><b>EAC_R11Unorm</b></li>
  <li><b>EAC_R11Snorm</b></li>
  <li><b>EAC_RG11Unorm</b></li>
  <li><b>EAC_RG11Snorm</b></li>
  <li><b>EAC_RGBA8</b></li>
  <li><b>EAC_RGBA8_sRGB</b></li>
  <li><b>ETC2_RGB8</b></li>
  <li><b>ETC2_RGB8_sRGB</b></li>
  <li><b>ETC2_RGB8A1</b></li>
  <li><b>ETC2_RGB8A1_sRGB</b></li>
  <li><b>ASTC_4x4_sRGB</b></li>
  <li><b>ASTC_5x4_sRGB</b></li>
  <li><b>ASTC_5x5_sRGB</b></li>
  <li><b>ASTC_6x5_sRGB</b></li>
  <li><b>ASTC_6x6_sRGB</b></li>
  <li><b>ASTC_8x5_sRGB</b></li>
  <li><b>ASTC_8x6_sRGB</b></li>
  <li><b>ASTC_8x8_sRGB</b></li>
  <li><b>ASTC_10x5_sRGB</b></li>
  <li><b>ASTC_10x6_sRGB</b></li>
  <li><b>ASTC_10x8_sRGB</b></li>
  <li><b>ASTC_10x10_sRGB</b></li>
  <li><b>ASTC_12x10_sRGB</b></li>
  <li><b>ASTC_12x12_sRGB</b></li>
  <li><b>ASTC_4x4_LDR</b></li>
  <li><b>ASTC_5x4_LDR</b></li>
  <li><b>ASTC_5x5_LDR</b></li>
  <li><b>ASTC_6x5_LDR</b></li>
  <li><b>ASTC_6x6_LDR</b></li>
  <li><b>ASTC_8x5_LDR</b></li>
  <li><b>ASTC_8x6_LDR</b></li>
  <li><b>ASTC_8x8_LDR</b></li>
  <li><b>ASTC_10x5_LDR</b></li>
  <li><b>ASTC_10x6_LDR</b></li>
  <li><b>ASTC_10x8_LDR</b></li>
  <li><b>ASTC_10x10_LDR</b></li>
  <li><b>ASTC_12x10_LDR</b></li>
  <li><b>ASTC_12x12_LDR</b></li>
  <li><b>ASTC_4x4_HDR</b></li>
  <li><b>ASTC_5x4_HDR</b></li>
  <li><b>ASTC_5x5_HDR</b></li>
  <li><b>ASTC_6x5_HDR</b></li>
  <li><b>ASTC_6x6_HDR</b></li>
  <li><b>ASTC_8x5_HDR</b></li>
  <li><b>ASTC_8x6_HDR</b></li>
  <li><b>ASTC_8x8_HDR</b></li>
  <li><b>ASTC_10x5_HDR</b></li>
  <li><b>ASTC_10x6_HDR</b></li>
  <li><b>ASTC_10x8_HDR</b></li>
  <li><b>ASTC_10x10_HDR</b></li>
  <li><b>ASTC_12x10_HDR</b></li>
  <li><b>ASTC_12x12_HDR</b></li>
  <li><b>GBGR422</b></li>
  <li><b>BGRG422</b></li>
  <li><b>Depth16Unorm</b></li>
  <li><b>Depth32Float</b></li>
  <li><b>Stencil8</b></li>
  <li><b>Depth24Unorm_Stencil8</b></li>
  <li><b>Depth32Float_Stencil8</b></li>
  <li><b>X32_Stencil8</b></li>
  <li><b>X24_Stencil8</b></li>
  <li><b>BGRA10_XR</b></li>
  <li><b>BGRA10_XR_sRGB</b></li>
  <li><b>BGR10_XR</b></li>
  <li><b>BGR10_XR_sRGB</b></li>
  <li><b>BGRA10Uint</b></li>
  <li><b>BGRA10Unorm</b></li>
  <li><b>BGRA10Unorm_sRGB</b></li>
  <li><b>BGRA10Unorm_HLG</b></li>
  <li><b>BGRA10Unorm_PQ</b></li>
</ul>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="BLEND_OPERATION"><a class="permalink" href="#BLEND_OPERATION">BLEND
  OPERATION</a></h2>
<p class="Pp">This is the equivalent of <b>MTLBlendOperation</b> in the Metal
    API. It must be one of the following string values:</p>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Add</b></li>
  <li><b>Subtract</b></li>
  <li><b>ReverseSubtract</b></li>
  <li><b>Min</b></li>
  <li><b>Max</b></li>
</ul>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="BLEND_FACTOR"><a class="permalink" href="#BLEND_FACTOR">BLEND
  FACTOR</a></h2>
<p class="Pp">This is the equivalent of <b>MTLBlendFactor</b> in the Metal API.
    It must be one of the following string values:</p>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>Zero</b></li>
  <li><b>One</b></li>
  <li><b>SourceColor</b></li>
  <li><b>OneMinusSourceColor</b></li>
  <li><b>SourceAlpha</b></li>
  <li><b>OneMinusSourceAlpha</b></li>
  <li><b>DestinationColor</b></li>
  <li><b>OneMinusDestinationColor</b></li>
  <li><b>DestinationAlpha</b></li>
  <li><b>OneMinusDestinationAlpha</b></li>
  <li><b>SourceAlphaSaturated</b></li>
  <li><b>BlendColor</b></li>
  <li><b>OneMinusBlendColor</b></li>
  <li><b>BlendAlpha</b></li>
  <li><b>OneMinusBlendAlpha</b></li>
  <li><b>Source1Color</b></li>
  <li><b>OneMinusSource1Color</b></li>
  <li><b>Source1Alpha</b></li>
  <li><b>OneMinusSource1Alpha</b></li>
</ul>
</div>
<br/>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<p class="Pp">The object describing the collection of Metal binary functions can
    have the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="intersection_functions"><a class="permalink" href="#intersection_functions"><b>intersection_functions</b></a></dt>
  <dd>An array of objects describing a Metal binary intersection function. See
      <i>INTERSECTION FUNCTION DESCRIPTOR</i>.</dd>
  <dt id="visible_functions"><a class="permalink" href="#visible_functions"><b>visible_functions</b></a></dt>
  <dd>An array of objects describing a Metal binary visible function. See
      <i>VISIBLE FUNCTION DESCRIPTOR</i>.</dd>
</dl>
</div>
<br/>
<section class="Ss">
<h2 class="Ss" id="INTERSECTION_FUNCTION_DESCRIPTOR"><a class="permalink" href="#INTERSECTION_FUNCTION_DESCRIPTOR">INTERSECTION
  FUNCTION DESCRIPTOR</a></h2>
<p class="Pp">A Metal binary intersection function descriptor object can have
    the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="enable~4"><a class="permalink" href="#enable~4"><b>enable</b></a></dt>
  <dd>A predicate expression that determines if the function should be compiled
      or ignored. The default value is the empty expression. See
      <i>PREDICATES</i>.</dd>
  <dt id="function~2"><a class="permalink" href="#function~2"><b>function
    <i>(required)</i></b></a></dt>
  <dd>Reference to an intersection function. See <i>FUNCTION REFERENCE</i> for
      more details about the different syntaxes to reference a function.</dd>
</dl>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="VISIBLE_FUNCTION_DESCRIPTOR"><a class="permalink" href="#VISIBLE_FUNCTION_DESCRIPTOR">VISIBLE
  FUNCTION DESCRIPTOR</a></h2>
<p class="Pp">A Metal binary visible function descriptor object can have the
    members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="enable~5"><a class="permalink" href="#enable~5"><b>enable</b></a></dt>
  <dd>A predicate expression that determines if the function should be compiled
      or ignored. The default value is the empty expression. See
      <i>PREDICATES</i>.</dd>
  <dt id="function~3"><a class="permalink" href="#function~3"><b>function
    <i>(required)</i></b></a></dt>
  <dd>Reference to a visible function. See <i>FUNCTION REFERENCE</i> for more
      details about the different syntaxes to reference a function.</dd>
</dl>
</div>
<br/>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTION_REFERENCE"><a class="permalink" href="#FUNCTION_REFERENCE">FUNCTION
  REFERENCE</a></h1>
<p class="Pp">Referencing functions in Metal libraries can be done in different
    ways based on the kind of library being referenced.</p>
<section class="Ss">
<h2 class="Ss" id="FUNCTION_NAME"><a class="permalink" href="#FUNCTION_NAME">FUNCTION
  NAME</a></h2>
<p class="Pp">The function name shall be used in the case the desired function
    is part of the input library specified as a command line argument to
    <b>metal-nt</b>.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;my_kernel_function&quot;
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="ALIAS_URI"><a class="permalink" href="#ALIAS_URI">ALIAS
  URI</a></h2>
<p class="Pp">The syntax
    <b>alias:&lt;library-identifier&gt;#&lt;function-name&gt;</b> shall be used
    in the case the desired function is part of a library defined in the
    <b>libraries</b> object of the Metal script.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;libraries&quot;: {
<br/>
    &quot;paths&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;lib1&quot;,
<br/>
        &quot;path&quot;: &quot;path/to/lib1.metallib&quot;
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;alias:lib1#my_kernel_function&quot;
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="FILE_URI"><a class="permalink" href="#FILE_URI">FILE
  URI</a></h2>
<p class="Pp">The syntax
    <b>file:&lt;path-to-library-file&gt;#&lt;function-name&gt;</b> shall be used
    in the case the desired function is part of a library file on disk.</p>
<p class="Pp">Paths can either be absolute or relative. Relative paths are
    always resolved using the library search paths provided with the option
    <i>-L</i> to <b>metal-nt</b>.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;file:path/to/lib1.metallib#my_kernel_function&quot;
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="PREDICATES"><a class="permalink" href="#PREDICATES">PREDICATES</a></h1>
<p class="Pp">A predicate expression is an arbitrary boolean expression
    combining builtin predicates and user defined named predicates with the
    operator <b>&amp;&amp;</b> (logical AND), <b>||</b> (logical OR), and
    <b>!</b> (logical NOT). If a predicate expression is empty it is evaluated
    to <b>true</b>.</p>
<section class="Ss">
<h2 class="Ss" id="BUILTIN_PREDICATES"><a class="permalink" href="#BUILTIN_PREDICATES">BUILTIN
  PREDICATES</a></h2>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="supportsFamily(_family_)"><a class="permalink" href="#supportsFamily(_family_)"><b>supportsFamily(&lt;family&gt;)</b></a></dt>
  <dd>The <b>supportsFamily(&lt;family&gt;)</b> predicate evaluates to
      <b>true</b> if the target architecture specified with the option
      <i>-arch</i> to <b>metal-nt</b> supports the specified family. The
      supported <b>&lt;family&gt;</b> values are:</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>apple1</b></li>
  <li><b>apple2</b></li>
  <li><b>apple3</b></li>
  <li><b>apple4</b></li>
  <li><b>apple5</b></li>
  <li><b>apple6</b></li>
  <li><b>apple7</b></li>
  <li><b>apple8</b></li>
  <li><b>apple9</b></li>
  <li><b>mac2</b></li>
  <li><b>common1</b></li>
  <li><b>common2</b></li>
  <li><b>common3</b></li>
  <li><b>metal3</b></li>
</ul>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="NAMED_PREDICATE"><a class="permalink" href="#NAMED_PREDICATE">NAMED
  PREDICATE</a></h2>
<p class="Pp">It is possible to define named predicates in a Metal pipelines
    script. Each object describing a named predicate can define the members:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="name~4"><a class="permalink" href="#name~4"><b>name
    <i>(required)</i></b></a></dt>
  <dd>The name for the predicate being defined.</dd>
  <dt id="predicate"><a class="permalink" href="#predicate"><b>predicate
    <i>(required)</i></b></a></dt>
  <dd>Predicate expression. It can reference other named predicates previously
      defined.</dd>
</dl>
</div>
<br/>
<p class="Pp">A named predicate can be referenced in an expression with the
    syntax <b>$&lt;predicate-name&gt;()</b>.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;named_predicates&quot;: [
<br/>
    {
<br/>
      &quot;name&quot;: &quot;myPredicate1&quot;,
<br/>
      &quot;predicate&quot;: &quot;supportsFamily(apple6) || supportsFamily(mac2)&quot;
<br/>
    },
<br/>
    {
<br/>
      &quot;name&quot;: &quot;myPredicate2&quot;,
<br/>
      &quot;predicate&quot;: &quot;$myPredicate1() &amp;&amp; !supportsFamily(common1)&quot;
<br/>
    }
<br/>
  ],
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;my_kernel_basic&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;enable&quot;: &quot;$myPredicate1()&quot;,
<br/>
        &quot;compute_function&quot;: &quot;my_kernel_advanced&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;enable&quot;: &quot;$myPredicate2() || supportsFamily(apple8) || supportsFamily(metal3)&quot;,
<br/>
        &quot;compute_function&quot;: &quot;my_kernel_more_advanced&quot;
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<section class="Ss">
<h2 class="Ss" id="Implicit_input_library"><a class="permalink" href="#Implicit_input_library">Implicit
  input library</a></h2>
<p class="Pp">This example shows a Metal pipelines script with two compute
    pipelines and three render pipelines. All the functions are from the input
    library provided as a command line argument to <b>metal-nt</b>.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;my_kernel_1&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;my_kernel_2&quot;
<br/>
      }
<br/>
    ],
<br/>
    &quot;render_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;vertex_function&quot;: &quot;my_vertex&quot;,
<br/>
        &quot;fragment_function&quot;: &quot;my_fragment_1&quot;,
<br/>
        &quot;color_attachments&quot;: [
<br/>
          {
<br/>
            &quot;pixel_format&quot;: &quot;BGRA8Unorm&quot;
<br/>
          }
<br/>
        ]
<br/>
      },
<br/>
      {
<br/>
        &quot;vertex_function&quot;: &quot;my_vertex&quot;,
<br/>
        &quot;fragment_function&quot;: &quot;my_fragment_2&quot;,
<br/>
        &quot;color_attachments&quot;: [
<br/>
          {
<br/>
            &quot;pixel_format&quot;: &quot;BGRA8Unorm&quot;
<br/>
          }
<br/>
        ]
<br/>
      },
<br/>
      {
<br/>
        &quot;vertex_function&quot;: &quot;my_vertex_side_effects&quot;,
<br/>
        &quot;rasterization_enabled&quot;: false
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Specialized_functions"><a class="permalink" href="#Specialized_functions">Specialized
  functions</a></h2>
<p class="Pp">This example shows a Metal pipelines script with two render
    pipelines. The fragment functions used in these render pipelines are
    specialized functions, hence the script contains a description of the
    specialization process. Since the only way to reference the specialized
    function libraries is via the library unique identifier, the <i>ALIAS
    URI</i> syntax is used to reference the specialized functions.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;named_function_constant_values&quot;: [
<br/>
    {
<br/>
      &quot;name&quot;: &quot;my_common_fc_values&quot;,
<br/>
      &quot;constant_values&quot;: [
<br/>
        {
<br/>
          &quot;id_type&quot;: &quot;FunctionConstantIndex&quot;,
<br/>
          &quot;id&quot;: {
<br/>
            &quot;data&quot;: 0
<br/>
          },
<br/>
          &quot;value_type&quot;: &quot;ConstantUInt&quot;,
<br/>
          &quot;value&quot;: {
<br/>
            &quot;data&quot;: 42
<br/>
          }
<br/>
        },
<br/>
        {
<br/>
          &quot;id_type&quot;: &quot;FunctionConstantName&quot;,
<br/>
          &quot;id&quot;: &quot;base_color&quot;,
<br/>
          &quot;value_type&quot;: &quot;ConstantFloat4&quot;,
<br/>
          &quot;value&quot;: {
<br/>
            &quot;data&quot;: [0.5, 0.22, 0.25, 1.0]
<br/>
          }
<br/>
        }
<br/>
      ]
<br/>
    }
<br/>
  ],
<br/>
  &quot;libraries&quot;: {
<br/>
    &quot;specialized_functions&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;fragment_1_lib&quot;,
<br/>
        &quot;function&quot;: &quot;my_fragment&quot;,
<br/>
        &quot;named_constant_values&quot;: &quot;my_common_fc_values&quot;,
<br/>
        &quot;constant_values&quot;: [
<br/>
          {
<br/>
            &quot;id_type&quot;: &quot;FunctionConstantName&quot;,
<br/>
            &quot;id&quot;: &quot;base_color&quot;,
<br/>
            &quot;value_type&quot;: &quot;ConstantFloat4&quot;,
<br/>
            &quot;value&quot;: {
<br/>
              &quot;data&quot;: [0.25, 0.25, 0.5, 1.0]
<br/>
            }
<br/>
          },
<br/>
        ]
<br/>
      },
<br/>
      {
<br/>
        &quot;label&quot;: &quot;fragment_2_lib&quot;,
<br/>
        &quot;function&quot;: &quot;my_fragment&quot;,
<br/>
        &quot;named_constant_values&quot;: &quot;my_common_fc_values&quot;,
<br/>
        &quot;constant_values&quot;: [
<br/>
          {
<br/>
            &quot;id_type&quot;: &quot;FunctionConstantIndex&quot;,
<br/>
            &quot;id&quot;: {
<br/>
              &quot;data&quot;: 0
<br/>
            },
<br/>
            &quot;value_type&quot;: &quot;ConstantUInt&quot;,
<br/>
            &quot;value&quot;: {
<br/>
              &quot;data&quot;: 23
<br/>
            }
<br/>
          }
<br/>
        ]
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;render_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;vertex_function&quot;: &quot;my_vertex&quot;,
<br/>
        &quot;fragment_function&quot;: &quot;alias:fragment_1_lib#my_fragment&quot;,
<br/>
        &quot;color_attachments&quot;: [
<br/>
          {
<br/>
            &quot;pixel_format&quot;: &quot;BGRA8Unorm&quot;
<br/>
          }
<br/>
        ]
<br/>
      },
<br/>
      {
<br/>
        &quot;vertex_function&quot;: &quot;my_vertex&quot;,
<br/>
        &quot;fragment_function&quot;: &quot;alias:fragment_2_lib#my_fragment&quot;,
<br/>
        &quot;color_attachments&quot;: [
<br/>
          {
<br/>
            &quot;pixel_format&quot;: &quot;BGRA8Unorm&quot;
<br/>
          }
<br/>
        ]
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
<p class="Pp">Note that in <i>fragment_1_lib</i> the function constant value for
    the variable <i>base_color</i> provided by <i>my_common_fc_values</i> is
    overridden locally. Similarly in <i>fragment_2_lib</i> the function constant
    value for the variable with index <i>0</i> provided by
    <i>my_common_fc_values</i> is overridden locally.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Explicit_Metal_libraries_on_disk"><a class="permalink" href="#Explicit_Metal_libraries_on_disk">Explicit
  Metal libraries on disk</a></h2>
<p class="Pp">This example shows a Metal pipelines script with three compute
    pipelines where functions are from libraries either defined as input
    libraries on disk in the Metal script (see <b>paths</b>), or directly
    referenced using the <i>FILE URI</i> syntax, or from specialized function
    libraries using the <i>ALIAS URI</i> syntax.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;libraries&quot;: {
<br/>
    &quot;paths&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;lib1&quot;,
<br/>
        &quot;path&quot;: &quot;libraries/lib1.metallib&quot;
<br/>
      }
<br/>
    ],
<br/>
    &quot;specialized_functions&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;kernel_42_lib&quot;,
<br/>
        &quot;function&quot;: &quot;alias:lib1#my_kernel&quot;,
<br/>
        &quot;specialized_name&quot;: &quot;my_specialized_kernel&quot;,
<br/>
        &quot;constant_values&quot;: [
<br/>
          {
<br/>
            &quot;id_type&quot;: &quot;FunctionConstantIndex&quot;,
<br/>
            &quot;id&quot;: {
<br/>
              &quot;data&quot;: 0
<br/>
            },
<br/>
            &quot;value_type&quot;: &quot;ConstantUInt&quot;,
<br/>
            &quot;value&quot;: {
<br/>
              &quot;data&quot;: 42
<br/>
            }
<br/>
          }
<br/>
        ]
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;alias:kernel_42_lib#my_specialized_kernel&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;file:/path/to/custom/lib.metallib#custom_kernel&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;alias:lib1#base_kernel&quot;
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Linked_functions"><a class="permalink" href="#Linked_functions">Linked
  functions</a></h2>
<p class="Pp">This example shows a Metal pipelines script with a compute
    pipeline with a <i>linked_functions</i> object.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;libraries&quot;: {
<br/>
    &quot;paths&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;visible_functions&quot;,
<br/>
        &quot;path&quot;: &quot;libraries/visible_fns.metallib&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;label&quot;: &quot;intersection_functions&quot;,
<br/>
        &quot;path&quot;: &quot;libraries/intersection_fns.metallib&quot;
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;my_kernel&quot;,
<br/>
        &quot;linked_functions&quot;: {
<br/>
          &quot;functions&quot;: [
<br/>
            &quot;my_visible_1&quot;,
<br/>
            &quot;alias:visible_functions#helper_visible_1&quot;,
<br/>
            &quot;alias:visible_functions#helper_visible_2&quot;,
<br/>
            &quot;alias:visible_functions#helper_visible_3&quot;,
<br/>
            &quot;alias:intersection_functions#triangle_intersection_1&quot;,
<br/>
            &quot;alias:intersection_functions#triangle_intersection_2&quot;,
<br/>
            &quot;alias:intersection_functions#triangle_intersection_3&quot;
<br/>
          ],
<br/>
          &quot;binary_functions&quot;: [
<br/>
            &quot;bounding_box_intersection_1&quot;,
<br/>
            &quot;bounding_box_intersection_2&quot;,
<br/>
            &quot;bounding_box_intersection_3&quot;
<br/>
          ],
<br/>
          &quot;groups&quot;: [
<br/>
            {
<br/>
              &quot;name&quot;: &quot;helpers_group_1&quot;,
<br/>
              &quot;functions&quot;: [&quot;helper_visible_1&quot;, &quot;helper_visible_2&quot;]
<br/>
            },
<br/>
            {
<br/>
              &quot;name&quot;: &quot;helpers_group_2&quot;,
<br/>
              &quot;functions&quot;: [&quot;helper_visible_3&quot;]
<br/>
            }
<br/>
          ]
<br/>
        }
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
<p class="Pp">Note that the elements in <i>binary_functions</i> array are simple
    function names, while the elements in the <i>functions</i> array can be any
    form of function reference.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Separately_compiled_functions"><a class="permalink" href="#Separately_compiled_functions">Separately
  compiled functions</a></h2>
<p class="Pp">This example shows a Metal pipelines script with separately
    compiled visible and intersection functions.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;libraries&quot;: {
<br/>
    &quot;paths&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;visible_functions&quot;,
<br/>
        &quot;path&quot;: &quot;libraries/visible_fns.metallib&quot;
<br/>
      },
<br/>
      {
<br/>
        &quot;label&quot;: &quot;intersection_functions&quot;,
<br/>
        &quot;path&quot;: &quot;libraries/intersection_fns.metallib&quot;
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;functions&quot;: {
<br/>
    &quot;visible_functions&quot;: [
<br/>
      {
<br/>
        &quot;function&quot;: &quot;file:/path/to/other.metallib#my_visible_1&quot;,
<br/>
      },
<br/>
      {
<br/>
        &quot;function&quot;: &quot;my_visible_2&quot;,
<br/>
      },
<br/>
      {
<br/>
        &quot;function&quot;: &quot;alias:visible_functions#my_visible_1&quot;,
<br/>
      }
<br/>
    ],
<br/>
    &quot;intersection_functions&quot;: [
<br/>
      {
<br/>
        &quot;function&quot;: &quot;my_intersection_1&quot;,
<br/>
      },
<br/>
      {
<br/>
        &quot;function&quot;: &quot;alias:intersection_functions#my_intersection_2&quot;,
<br/>
      },
<br/>
      {
<br/>
        &quot;function&quot;: &quot;file:/path/to/other.metallib#my_intersection_1&quot;,
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Stitched_libraries"><a class="permalink" href="#Stitched_libraries">Stitched
  libraries</a></h2>
<p class="Pp">This example shows a Metal pipelines script with a compute
    pipeline and separately compiled visible function using a stitched function.
    The only way to reference the stitched libraries is via the library unique
    identifier, the <i>ALIAS URI</i> syntax is used to reference the stitched
    functions.</p>
<div class="Bd-indent">
<div class="Bd-indent">
<p class="Pp"></p>
<pre>{
<br/>
  &quot;libraries&quot;: {
<br/>
    &quot;stitched_libraries&quot;: [
<br/>
      {
<br/>
        &quot;label&quot;: &quot;stitched_functions&quot;,
<br/>
        &quot;functions&quot;: [
<br/>
          &quot;mul&quot;,
<br/>
          &quot;add&quot;
<br/>
        ],
<br/>
        &quot;function_graphs&quot;: [
<br/>
          {
<br/>
            &quot;function_name&quot;: &quot;muladd&quot;,
<br/>
            &quot;nodes&quot;: [
<br/>
              {
<br/>
                &quot;node_type&quot;: &quot;InputNode&quot;,
<br/>
                &quot;node&quot;: {
<br/>
                  &quot;index&quot;: 0
<br/>
                }
<br/>
              },
<br/>
              {
<br/>
                &quot;node_type&quot;: &quot;InputNode&quot;,
<br/>
                &quot;node&quot;: {
<br/>
                  &quot;index&quot;: 1
<br/>
                }
<br/>
              },
<br/>
              {
<br/>
                &quot;node_type&quot;: &quot;FunctionNode&quot;,
<br/>
                &quot;node&quot;: {
<br/>
                  &quot;name&quot;: &quot;mul&quot;,
<br/>
                  &quot;arguments&quot;: [
<br/>
                    {
<br/>
                      &quot;id&quot;: 0
<br/>
                    },
<br/>
                    {
<br/>
                      &quot;id&quot;: 1
<br/>
                    }
<br/>
                  ]
<br/>
                }
<br/>
              },
<br/>
              {
<br/>
                &quot;node_type&quot;: &quot;InputNode&quot;,
<br/>
                &quot;node&quot;: {
<br/>
                  &quot;index&quot;: 2
<br/>
                }
<br/>
              },
<br/>
              {
<br/>
                &quot;node_type&quot;: &quot;FunctionNode&quot;,
<br/>
                &quot;node&quot;: {
<br/>
                  &quot;name&quot;: &quot;add&quot;,
<br/>
                  &quot;arguments&quot;: [
<br/>
                    {
<br/>
                      &quot;id&quot;: 2
<br/>
                    },
<br/>
                    {
<br/>
                      &quot;id&quot;: 3
<br/>
                    }
<br/>
                  ]
<br/>
                }
<br/>
              }
<br/>
            ],
<br/>
            &quot;output_node&quot;: {
<br/>
              &quot;id&quot;: 4
<br/>
            }
<br/>
          }
<br/>
        ]
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;pipelines&quot;: {
<br/>
    &quot;compute_pipelines&quot;: [
<br/>
      {
<br/>
        &quot;compute_function&quot;: &quot;my_kernel&quot;,
<br/>
        &quot;linked_functions&quot;: {
<br/>
          &quot;functions&quot;: [
<br/>
            &quot;alias:stitched_functions#muladd&quot;,
<br/>
          ]
<br/>
        }
<br/>
      }
<br/>
    ]
<br/>
  },
<br/>
  &quot;functions&quot;: {
<br/>
    &quot;visible_functions&quot;: [
<br/>
      {
<br/>
        &quot;function&quot;: &quot;alias:stitched_functions#muladd&quot;,
<br/>
      }
<br/>
    ]
<br/>
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">2014-2024, The Metal Team</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 30, 2024</td>
    <td class="foot-os">32023</td>
  </tr>
</table>
</body>
</html>
