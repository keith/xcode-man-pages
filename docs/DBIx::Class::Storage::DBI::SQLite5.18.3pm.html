<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>DBIx::Class::Storage::DBI::SQLite(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DBIx::Class::Storage::DBI::SQLite(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DBIx::Class::Storage::DBI::SQLite(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
DBIx::Class::Storage::DBI::SQLite - Automatic primary key class for SQLite
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  # In your table classes
  use base 'DBIx::Class::Core';
  __PACKAGE__-&gt;set_primary_key('id');
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This class implements autoincrements for SQLite.
<section class="Ss">
<h2 class="Ss" id="Known_Issues"><a class="permalink" href="#Known_Issues">Known
  Issues</a></h2>
<dl class="Bl-tag">
  <dt>RT79576</dt>
  <dd><span class="Li"></span>
    <pre>
 NOTE - This section applies to you only if ALL of these are true:

  * You are or were using DBD::SQLite with a version lesser than 1.38_01

  * You are or were using DBIx::Class versions between 0.08191 and 0.08209
    (inclusive) or between 0.08240-TRIAL and 0.08242-TRIAL (also inclusive)

  * You use objects with overloaded stringification and are feeding them
    to DBIC CRUD methods directly
    </pre>
    <p class="Pp">An unfortunate chain of events led to DBIx::Class silently
        hitting the problem described in RT#79576
        &lt;https://rt.cpan.org/Public/Bug/Display.html?id=79576&gt;.</p>
    <p class="Pp">In order to trigger the bug condition one needs to supply
        <b>more than one</b> bind value that is an object with overloaded
        stringification (numification is not relevant, only stringification is).
        When this is the case the internal DBIx::Class call to
        <span class="Li">&quot;$sth-&gt;bind_param&quot;</span> would be
        executed in a way that triggers the above-mentioned DBD::SQLite bug. As
        a result all the logs and tracers will contain the expected values,
        however SQLite will receive <b>all</b> these bind positions being set to
        the value of the <b>last</b> supplied stringifiable object.</p>
    <p class="Pp">Even if you upgrade DBIx::Class (which works around the bug
        starting from version 0.08210) you may still have corrupted/incorrect
        data in your database. DBIx::Class will currently detect when this
        condition (more than one stringifiable object in one CRUD call) is
        encountered and will issue a warning pointing to this section. This
        warning will be removed 2 years from now, around April 2015, You can
        disable it after you've audited your data by setting the
        <span class="Li">&quot;DBIC_RT79576_NOWARN&quot;</span> environment
        variable. Note - the warning is emitted only once per callsite per
        process and only when the condition in question is encountered. Thus it
        is very unlikely that your logsystem will be flooded as a result of
        this.</p>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="connect_call_use_foreign_keys"><a class="permalink" href="#connect_call_use_foreign_keys">connect_call_use_foreign_keys</a></h2>
Used as:
<p class="Pp"><span class="Li"></span></p>
<pre>
    on_connect_call =&gt; 'use_foreign_keys'
</pre>
<p class="Pp">In connect_info to turn on foreign key (including cascading)
    support for recent versions of SQLite and DBD::SQLite.</p>
<p class="Pp">Executes:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  PRAGMA foreign_keys = ON
</pre>
<p class="Pp">See &lt;http://www.sqlite.org/foreignkeys.html&gt; for more
    information.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR_AND_CONTRIBUTORS"><a class="permalink" href="#AUTHOR_AND_CONTRIBUTORS">AUTHOR
  AND CONTRIBUTORS</a></h1>
See AUTHOR and CONTRIBUTORS in DBIx::Class
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
You may distribute this code under the same terms as Perl itself.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-29</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
