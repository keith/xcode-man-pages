<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>PERL5100DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL5100DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL5100DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
perl5100delta - what is new for perl 5.10.0
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This document describes the differences between the 5.8.8 release and the 5.10.0
  release.
<p class="Pp">Many of the bug fixes in 5.10.0 were already seen in the 5.8.X
    maintenance releases; they are not duplicated here and are documented in the
    set of man pages named perl58[1-8]?delta.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="The__feature__pragma"><a class="permalink" href="#The__feature__pragma">The
  &quot;feature&quot; pragma</a></h2>
The <span class="Li">&quot;feature&quot;</span> pragma is used to enable new
  syntax that would break Perl's backwards-compatibility with older releases of
  the language. It's a lexical pragma, like
  <span class="Li">&quot;strict&quot;</span> or
  <span class="Li">&quot;warnings&quot;</span>.
<p class="Pp">Currently the following new features are available:
    <span class="Li">&quot;switch&quot;</span> (adds a switch statement),
    <span class="Li">&quot;say&quot;</span> (adds a
    <span class="Li">&quot;say&quot;</span> built-in function), and
    <span class="Li">&quot;state&quot;</span> (adds a
    <span class="Li">&quot;state&quot;</span> keyword for declaring
    &quot;static&quot; variables). Those features are described in their own
    sections of this document.</p>
<p class="Pp">The <span class="Li">&quot;feature&quot;</span> pragma is also
    implicitly loaded when you require a minimal perl version (with the
    <span class="Li">&quot;use VERSION&quot;</span> construct) greater than, or
    equal to, 5.9.5. See feature for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__fB_-E_fP_command-line_switch"><a class="permalink" href="#New__fB_-E_fP_command-line_switch">New
  <b>-E</b> command-line switch</a></h2>
<b>-E</b> is equivalent to <b>-e</b>, but it implicitly enables all optional
  features (like <span class="Li">&quot;use feature
  &quot;:5.10&quot;&quot;</span>).
</section>
<section class="Ss">
<h2 class="Ss" id="Defined-or_operator"><a class="permalink" href="#Defined-or_operator">Defined-or
  operator</a></h2>
A new operator <span class="Li">&quot;//&quot;</span> (defined-or) has been
  implemented. The following expression:
<p class="Pp"><span class="Li"></span></p>
<pre>
    $a // $b
</pre>
<p class="Pp">is merely equivalent to</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   defined $a ? $a : $b
</pre>
<p class="Pp">and the statement</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   $c //= $d;
</pre>
<p class="Pp">can now be used instead of</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   $c = $d unless defined $c;
</pre>
<p class="Pp">The <span class="Li">&quot;//&quot;</span> operator has the same
    precedence and associativity as <span class="Li">&quot;||&quot;</span>.
    Special care has been taken to ensure that this operator Do What You Mean
    while not breaking old code, but some edge cases involving the empty regular
    expression may now parse differently. See perlop for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Switch_and_Smart_Match_operator"><a class="permalink" href="#Switch_and_Smart_Match_operator">Switch
  and Smart Match operator</a></h2>
Perl 5 now has a switch statement. It's available when
  <span class="Li">&quot;use feature</span>
  <span class="Li">'switch'&quot;</span> is in effect. This feature introduces
  three new keywords, <span class="Li">&quot;given&quot;</span>,
  <span class="Li">&quot;when&quot;</span>, and
  <span class="Li">&quot;default&quot;</span>:
<p class="Pp"><span class="Li"></span></p>
<pre>
    given ($foo) {
        when (/^abc/) { $abc = 1; }
        when (/^def/) { $def = 1; }
        when (/^xyz/) { $xyz = 1; }
        default { $nothing = 1; }
    }
</pre>
<p class="Pp">A more complete description of how Perl matches the switch
    variable against the <span class="Li">&quot;when&quot;</span> conditions is
    given in &quot;Switch statements&quot; in perlsyn.</p>
<p class="Pp">This kind of match is called <i>smart match</i>, and it's also
    possible to use it outside of switch statements, via the new
    <span class="Li">&quot;~~&quot;</span> operator. See &quot;Smart matching in
    detail&quot; in perlsyn.</p>
<p class="Pp">This feature was contributed by Robin Houston.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Regular_expressions"><a class="permalink" href="#Regular_expressions">Regular
  expressions</a></h2>
<dl class="Bl-tag">
  <dt>Recursive Patterns</dt>
  <dd>It is now possible to write recursive patterns without using the
      <span class="Li">&quot;(??{})&quot;</span> construct. This new way is more
      efficient, and in many cases easier to read.
    <p class="Pp">Each capturing parenthesis can now be treated as an
        independent pattern that can be entered by using the
        <span class="Li">&quot;(?PARNO)&quot;</span> syntax
        (<span class="Li">&quot;PARNO&quot;</span> standing for
        &quot;parenthesis number&quot;). For example, the following pattern will
        match nested balanced angle brackets:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    /
     ^                      # start of line
     (                      # start capture buffer 1
        &lt;                   #   match an opening angle bracket
        (?:                 #   match one of:
            (?&gt;             #     don't backtrack over the inside of this group
                [^&lt;&gt;]+      #       one or more non angle brackets
            )               #     end non backtracking group
        |                   #     ... or ...
            (?1)            #     recurse to bracket 1 and try it again
        )*                  #   0 or more times.
        &gt;                   #   match a closing angle bracket
     )                      # end capture buffer one
     $                      # end of line
    /x
    </pre>
    <p class="Pp">PCRE users should note that Perl's recursive regex feature
        allows backtracking into a recursed pattern, whereas in PCRE the
        recursion is atomic or &quot;possessive&quot; in nature. As in the
        example above, you can add (?&gt;) to control this selectively. (Yves
        Orton)</p>
  </dd>
  <dt>Named Capture Buffers</dt>
  <dd>It is now possible to name capturing parenthesis in a pattern and refer to
      the captured contents by name. The naming syntax is
      <span class="Li">&quot;(?&lt;NAME&gt;....)&quot;</span>. It's possible to
      backreference to a named buffer with the
      <span class="Li">&quot;\k&lt;NAME&gt;&quot;</span> syntax. In code, the
      new magical hashes <span class="Li">&quot;%+&quot;</span> and
      <span class="Li">&quot;%-&quot;</span> can be used to access the contents
      of the capture buffers.
    <p class="Pp">Thus, to replace all doubled chars with a single copy, one
        could write</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    s/(?&lt;letter&gt;.)\k&lt;letter&gt;/$+{letter}/g
    </pre>
    <p class="Pp">Only buffers with defined contents will be &quot;visible&quot;
        in the <span class="Li">&quot;%+&quot;</span> hash, so it's possible to
        do something like</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    foreach my $name (keys %+) {
        print &quot;content of buffer '$name' is $+{$name}\n&quot;;
    }
    </pre>
    <p class="Pp">The <span class="Li">&quot;%-&quot;</span> hash is a bit more
        complete, since it will contain array refs holding values from all
        capture buffers similarly named, if there should be many of them.</p>
    <p class="Pp"><span class="Li">&quot;%+&quot;</span> and
        <span class="Li">&quot;%-&quot;</span> are implemented as tied hashes
        through the new module
        <span class="Li">&quot;Tie::Hash::NamedCapture&quot;</span>.</p>
    <p class="Pp">Users exposed to the .NET regex engine will find that the perl
        implementation differs in that the numerical ordering of the buffers is
        sequential, and not &quot;unnamed first, then named&quot;. Thus in the
        pattern</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   /(A)(?&lt;B&gt;B)(C)(?&lt;D&gt;D)/
    </pre>
    <p class="Pp"><span class="Li">$1</span> will be 'A',
        <span class="Li">$2</span> will be 'B', <span class="Li">$3</span> will
        be 'C' and <span class="Li">$4</span> will be 'D' and not
        <span class="Li">$1</span> is 'A', <span class="Li">$2</span> is 'C' and
        <span class="Li">$3</span> is 'B' and <span class="Li">$4</span> is 'D'
        that a .NET programmer would expect. This is considered a feature. :-)
        (Yves Orton)</p>
  </dd>
  <dt>Possessive Quantifiers</dt>
  <dd>Perl now supports the &quot;possessive quantifier&quot; syntax of the
      &quot;atomic match&quot; pattern. Basically a possessive quantifier
      matches as much as it can and never gives any back. Thus it can be used to
      control backtracking. The syntax is similar to non-greedy matching, except
      instead of using a '?' as the modifier the '+' is used. Thus
      <span class="Li">&quot;?+&quot;</span>,
      <span class="Li">&quot;*+&quot;</span>,
      <span class="Li">&quot;++&quot;</span>,
      <span class="Li">&quot;{min,max}+&quot;</span> are now legal quantifiers.
      (Yves Orton)</dd>
  <dt>Backtracking control verbs</dt>
  <dd>The regex engine now supports a number of special-purpose backtrack
      control verbs: (*THEN), (*PRUNE), (*MARK), (*SKIP), (*COMMIT), (*FAIL) and
      (*ACCEPT). See perlre for their descriptions. (Yves Orton)</dd>
  <dt>Relative backreferences</dt>
  <dd>A new syntax <span class="Li">&quot;\g{N}&quot;</span> or
      <span class="Li">&quot;\gN&quot;</span> where &quot;N&quot; is a decimal
      integer allows a safer form of back-reference notation as well as allowing
      relative backreferences. This should make it easier to generate and embed
      patterns that contain backreferences. See &quot;Capture buffers&quot; in
      perlre. (Yves Orton)</dd>
  <dt>&quot;\K&quot; escape</dt>
  <dd>The functionality of Jeff Pinyan's module Regexp::Keep has been added to
      the core. In regular expressions you can now use the special escape
      <span class="Li">&quot;\K&quot;</span> as a way to do something like
      floating length positive lookbehind. It is also useful in substitutions
      like:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  s/(foo)bar/$1/g
    </pre>
    <p class="Pp">that can now be converted to</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  s/foo\Kbar//g
    </pre>
    <p class="Pp">which is much more efficient. (Yves Orton)</p>
  </dd>
  <dt>Vertical and horizontal whitespace, and linebreak</dt>
  <dd>Regular expressions now recognize the
      <span class="Li">&quot;\v&quot;</span> and
      <span class="Li">&quot;\h&quot;</span> escapes that match vertical and
      horizontal whitespace, respectively.
      <span class="Li">&quot;\V&quot;</span> and
      <span class="Li">&quot;\H&quot;</span> logically match their complements.
    <p class="Pp"><span class="Li">&quot;\R&quot;</span> matches a generic
        linebreak, that is, vertical whitespace, plus the multi-character
        sequence <span class="Li">&quot;\x0D\x0A&quot;</span>.</p>
  </dd>
  <dt>Optional pre-match and post-match captures with the /p flag</dt>
  <dd>There is a new flag <span class="Li">&quot;/p&quot;</span> for regular
      expressions. Using this makes the engine preserve a copy of the part of
      the matched string before the matching substring to the new special
      variable <span class="Li">&quot;${^PREMATCH}&quot;</span>, the part after
      the matching substring to
      <span class="Li">&quot;${^POSTMATCH}&quot;</span>, and the matched
      substring itself to <span class="Li">&quot;${^MATCH}&quot;</span>.
    <p class="Pp">Perl is still able to store these substrings to the special
        variables <span class="Li">&quot;$`&quot;</span>,
        <span class="Li">&quot;$'&quot;</span>, <span class="Li">$&amp;</span>,
        but using these variables anywhere in the program adds a penalty to all
        regular expression matches, whereas if you use the
        <span class="Li">&quot;/p&quot;</span> flag and the new special
        variables instead, you pay only for the regular expressions where the
        flag is used.</p>
    <p class="Pp">For more detail on the new variables, see perlvar; for the use
        of the regular expression flag, see perlop and perlre.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_say()_"><a class="permalink" href="#_say()_">&quot;say()&quot;</a></h2>
<b>say()</b> is a new built-in, only available when <span class="Li">&quot;use
  feature 'say'&quot;</span> is in effect, that is similar to <b>print()</b>,
  but that implicitly appends a newline to the printed string. See
  &quot;say&quot; in perlfunc. (Robin Houston)
</section>
<section class="Ss">
<h2 class="Ss" id="Lexical_$_"><a class="permalink" href="#Lexical_$_">Lexical
  $_</a></h2>
The default variable <span class="Li">$_</span> can now be lexicalized, by
  declaring it like any other lexical variable, with a simple
<p class="Pp"><span class="Li"></span></p>
<pre>
    my $_;
</pre>
<p class="Pp">The operations that default on <span class="Li">$_</span> will use
    the lexically-scoped version of <span class="Li">$_</span> when it exists,
    instead of the global <span class="Li">$_</span>.</p>
<p class="Pp">In a <span class="Li">&quot;map&quot;</span> or a
    <span class="Li">&quot;grep&quot;</span> block, if
    <span class="Li">$_</span> was previously my'ed, then the
    <span class="Li">$_</span> inside the block is lexical as well (and scoped
    to the block).</p>
<p class="Pp">In a scope where <span class="Li">$_</span> has been lexicalized,
    you can still have access to the global version of
    <span class="Li">$_</span> by using <span class="Li">$::_</span>, or, more
    simply, by overriding the lexical declaration with
    <span class="Li">&quot;our $_&quot;</span>. (Rafael Garcia-Suarez)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_____prototype"><a class="permalink" href="#The_____prototype">The
  &quot;_&quot; prototype</a></h2>
A new prototype character has been added. <span class="Li">&quot;_&quot;</span>
  is equivalent to <span class="Li">&quot;$&quot;</span> but defaults to
  <span class="Li">$_</span> if the corresponding argument isn't supplied (both
  <span class="Li">&quot;$&quot;</span> and
  <span class="Li">&quot;_&quot;</span> denote a scalar). Due to the optional
  nature of the argument, you can only use it at the end of a prototype, or
  before a semicolon.
<p class="Pp">This has a small incompatible consequence: the <b>prototype()</b>
    function has been adjusted to return <span class="Li">&quot;_&quot;</span>
    for some built-ins in appropriate cases (for example,
    <span class="Li">&quot;prototype('CORE::rmdir')&quot;</span>). (Rafael
    Garcia-Suarez)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1UNITCHECK_s0_blocks"><a class="permalink" href="#_s-1UNITCHECK_s0_blocks">UNITCHECK
  blocks</a></h2>
<span class="Li">&quot;UNITCHECK&quot;</span>, a new special code block has been
  introduced, in addition to <span class="Li">&quot;BEGIN&quot;</span>,
  <span class="Li">&quot;CHECK&quot;</span>,
  <span class="Li">&quot;INIT&quot;</span> and
  <span class="Li">&quot;END&quot;</span>.
<p class="Pp"><span class="Li">&quot;CHECK&quot;</span> and
    <span class="Li">&quot;INIT&quot;</span> blocks, while useful for some
    specialized purposes, are always executed at the transition between the
    compilation and the execution of the main program, and thus are useless
    whenever code is loaded at runtime. On the other hand,
    <span class="Li">&quot;UNITCHECK&quot;</span> blocks are executed just after
    the unit which defined them has been compiled. See perlmod for more
    information. (Alex Gough)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Pragma,__mro_"><a class="permalink" href="#New_Pragma,__mro_">New
  Pragma, &quot;mro&quot;</a></h2>
A new pragma, <span class="Li">&quot;mro&quot;</span> (for Method Resolution
  Order) has been added. It permits to switch, on a per-class basis, the
  algorithm that perl uses to find inherited methods in case of a multiple
  inheritance hierarchy. The default MRO hasn't changed (DFS, for Depth First
  Search). Another MRO is available: the C3 algorithm. See mro for more
  information. (Brandon Black)
<p class="Pp">Note that, due to changes in the implementation of class hierarchy
    search, code that used to undef the <span class="Li">*ISA</span> glob will
    most probably break. Anyway, undef'ing <span class="Li">*ISA</span> had the
    side-effect of removing the magic on the <span class="Li">@ISA</span> array
    and should not have been done in the first place. Also, the cache
    <span class="Li">*::ISA::CACHE::</span> no longer exists; to force reset the
    <span class="Li">@ISA</span> cache, you now need to use the
    <span class="Li">&quot;mro&quot;</span> API, or more simply to assign to
    <span class="Li">@ISA</span> (e.g. with <span class="Li">&quot;@ISA =
    @ISA&quot;</span>).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_fBreaddir()_fP_may_return_a__short_filename__on_Windows"><a class="permalink" href="#_fBreaddir()_fP_may_return_a__short_filename__on_Windows"><b>readdir()</b>
  may return a &quot;short filename&quot; on Windows</a></h2>
The <b>readdir()</b> function may return a &quot;short filename&quot; when the
  long filename contains characters outside the ANSI codepage. Similarly
  <b>Cwd::cwd()</b> may return a short directory name, and <b>glob()</b> may
  return short names as well. On the NTFS file system these short names can
  always be represented in the ANSI codepage. This will not be true for all
  other file system drivers; e.g. the FAT filesystem stores short filenames in
  the OEM codepage, so some files on FAT volumes remain unaccessible through the
  ANSI APIs.
<p class="Pp">Similarly, $^X, <span class="Li">@INC</span>, and
    <span class="Li">$ENV</span>{PATH} are preprocessed at startup to make sure
    all paths are valid in the ANSI codepage (if possible).</p>
<p class="Pp">The <b>Win32::GetLongPathName()</b> function now returns the UTF-8
    encoded correct long file name instead of using replacement characters to
    force the name into the ANSI codepage. The new
    <b>Win32::GetANSIPathName()</b> function can be used to turn a long pathname
    into a short one only if the long one cannot be represented in the ANSI
    codepage.</p>
<p class="Pp">Many other functions in the
    <span class="Li">&quot;Win32&quot;</span> module have been improved to
    accept UTF-8 encoded arguments. Please see Win32 for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_fBreadpipe()_fP_is_now_overridable"><a class="permalink" href="#_fBreadpipe()_fP_is_now_overridable"><b>readpipe()</b>
  is now overridable</a></h2>
The built-in function <b>readpipe()</b> is now overridable. Overriding it
  permits also to override its operator counterpart,
  <span class="Li">&quot;qx//&quot;</span> (a.k.a.
  <span class="Li">&quot;``&quot;</span>). Moreover, it now defaults to
  <span class="Li">$_</span> if no argument is provided. (Rafael Garcia-Suarez)
</section>
<section class="Ss">
<h2 class="Ss" id="Default_argument_for__fBreadline()_fP"><a class="permalink" href="#Default_argument_for__fBreadline()_fP">Default
  argument for <b>readline()</b></a></h2>
<b>readline()</b> now defaults to <span class="Li">*ARGV</span> if no argument
  is provided. (Rafael Garcia-Suarez)
</section>
<section class="Ss">
<h2 class="Ss" id="_fBstate()_fP_variables"><a class="permalink" href="#_fBstate()_fP_variables"><b>state()</b>
  variables</a></h2>
A new class of variables has been introduced. State variables are similar to
  <span class="Li">&quot;my&quot;</span> variables, but are declared with the
  <span class="Li">&quot;state&quot;</span> keyword in place of
  <span class="Li">&quot;my&quot;</span>. They're visible only in their lexical
  scope, but their value is persistent: unlike
  <span class="Li">&quot;my&quot;</span> variables, they're not undefined at
  scope entry, but retain their previous value. (Rafael Garcia-Suarez, Nicholas
  Clark)
<p class="Pp">To use state variables, one needs to enable them by using</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use feature 'state';
</pre>
<p class="Pp">or by using the <span class="Li">&quot;-E&quot;</span>
    command-line switch in one-liners. See &quot;Persistent Private
    Variables&quot; in perlsub.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Stacked_filetest_operators"><a class="permalink" href="#Stacked_filetest_operators">Stacked
  filetest operators</a></h2>
As a new form of syntactic sugar, it's now possible to stack up filetest
  operators. You can now write <span class="Li">&quot;-f -w -x
  $file&quot;</span> in a row to mean <span class="Li">&quot;-x $file &amp;&amp;
  -w _ &amp;&amp; -f _&quot;</span>. See &quot;-X&quot; in perlfunc.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1_fBUNIVERSAL::DOES_s0()_fP"><a class="permalink" href="#_s-1_fBUNIVERSAL::DOES_s0()_fP"><b>UNIVERSAL::DOES()</b></a></h2>
The <span class="Li">&quot;UNIVERSAL&quot;</span> class has a new method,
  <span class="Li">&quot;DOES()&quot;</span>. It has been added to solve
  semantic problems with the <span class="Li">&quot;isa()&quot;</span> method.
  <span class="Li">&quot;isa()&quot;</span> checks for inheritance, while
  <span class="Li">&quot;DOES()&quot;</span> has been designed to be overridden
  when module authors use other types of relations between classes (in addition
  to inheritance). (chromatic)
<p class="Pp">See &quot;$obj-&gt;DOES( ROLE )&quot; in UNIVERSAL.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Formats"><a class="permalink" href="#Formats">Formats</a></h2>
Formats were improved in several ways. A new field,
  <span class="Li">&quot;^*&quot;</span>, can be used for variable-width,
  one-line-at-a-time text. Null characters are now handled correctly in picture
  lines. Using <span class="Li">&quot;@#&quot;</span> and
  <span class="Li">&quot;~~&quot;</span> together will now produce a
  compile-time error, as those format fields are incompatible. perlform has been
  improved, and miscellaneous bugs fixed.
</section>
<section class="Ss">
<h2 class="Ss" id="Byte-order_modifiers_for__fBpack()_fP_and__fBunpack()_fP"><a class="permalink" href="#Byte-order_modifiers_for__fBpack()_fP_and__fBunpack()_fP">Byte-order
  modifiers for <b>pack()</b> and <b>unpack()</b></a></h2>
There are two new byte-order modifiers, <span class="Li">&quot;&gt;&quot;</span>
  (big-endian) and <span class="Li">&quot;&lt;&quot;</span> (little-endian),
  that can be appended to most <b>pack()</b> and <b>unpack()</b> template
  characters and groups to force a certain byte-order for that type or group.
  See &quot;pack&quot; in perlfunc and perlpacktut for details.
</section>
<section class="Ss">
<h2 class="Ss" id="_no_VERSION_"><a class="permalink" href="#_no_VERSION_">&quot;no
  VERSION&quot;</a></h2>
You can now use <span class="Li">&quot;no&quot;</span> followed by a version
  number to specify that you want to use a version of perl older than the
  specified one.
</section>
<section class="Ss">
<h2 class="Ss" id="_chdir_,__chmod__and__chown__on_filehandles"><a class="permalink" href="#_chdir_,__chmod__and__chown__on_filehandles">&quot;chdir&quot;,
  &quot;chmod&quot; and &quot;chown&quot; on filehandles</a></h2>
<span class="Li">&quot;chdir&quot;</span>,
  <span class="Li">&quot;chmod&quot;</span> and
  <span class="Li">&quot;chown&quot;</span> can now work on filehandles as well
  as filenames, if the system supports respectively
  <span class="Li">&quot;fchdir&quot;</span>,
  <span class="Li">&quot;fchmod&quot;</span> and
  <span class="Li">&quot;fchown&quot;</span>, thanks to a patch provided by
  Gisle Aas.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1OS_s0_groups"><a class="permalink" href="#_s-1OS_s0_groups">OS
  groups</a></h2>
<span class="Li">$(</span> and <span class="Li">$)</span> now return groups in
  the order where the OS returns them, thanks to Gisle Aas. This wasn't
  previously the case.
</section>
<section class="Ss">
<h2 class="Ss" id="Recursive_sort_subs"><a class="permalink" href="#Recursive_sort_subs">Recursive
  sort subs</a></h2>
You can now use recursive subroutines with <b>sort()</b>, thanks to Robin
  Houston.
</section>
<section class="Ss">
<h2 class="Ss" id="Exceptions_in_constant_folding"><a class="permalink" href="#Exceptions_in_constant_folding">Exceptions
  in constant folding</a></h2>
The constant folding routine is now wrapped in an exception handler, and if
  folding throws an exception (such as attempting to evaluate 0/0), perl now
  retains the current optree, rather than aborting the whole program. Without
  this change, programs would not compile if they had expressions that happened
  to generate exceptions, even though those expressions were in code that could
  never be reached at runtime. (Nicholas Clark, Dave Mitchell)
</section>
<section class="Ss">
<h2 class="Ss" id="Source_filters_in_@INC"><a class="permalink" href="#Source_filters_in_@INC">Source
  filters in @INC</a></h2>
It's possible to enhance the mechanism of subroutine hooks in
  <span class="Li">@INC</span> by adding a source filter on top of the
  filehandle opened and returned by the hook. This feature was planned a long
  time ago, but wasn't quite working until now. See &quot;require&quot; in
  perlfunc for details. (Nicholas Clark)
</section>
<section class="Ss">
<h2 class="Ss" id="New_internal_variables"><a class="permalink" href="#New_internal_variables">New
  internal variables</a></h2>
<dl class="Bl-tag">
  <dt>&quot;${^RE_DEBUG_FLAGS}&quot;</dt>
  <dd>This variable controls what debug flags are in effect for the regular
      expression engine when running under <span class="Li">&quot;use re
      &quot;debug&quot;&quot;</span>. See re for details.</dd>
  <dt>&quot;${^CHILD_ERROR_NATIVE}&quot;</dt>
  <dd>This variable gives the native status returned by the last pipe close,
      backtick command, successful call to <b>wait()</b> or <b>waitpid()</b>, or
      from the <b>system()</b> operator. See perlvar for details. (Contributed
      by Gisle Aas.)</dd>
  <dt>&quot;${^RE_TRIE_MAXBUF}&quot;</dt>
  <dd>See &quot;Trie optimisation of literal string alternations&quot;.</dd>
  <dt>&quot;${^WIN32_SLOPPY_STAT}&quot;</dt>
  <dd>See &quot;Sloppy stat on Windows&quot;.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Miscellaneous"><a class="permalink" href="#Miscellaneous">Miscellaneous</a></h2>
<span class="Li">&quot;unpack()&quot;</span> now defaults to unpacking the
  <span class="Li">$_</span> variable.
<p class="Pp"><span class="Li">&quot;mkdir()&quot;</span> without arguments now
    defaults to <span class="Li">$_</span>.</p>
<p class="Pp">The internal dump output has been improved, so that non-printable
    characters such as newline and backspace are output in
    <span class="Li">&quot;\x&quot;</span> notation, rather than octal.</p>
<p class="Pp">The <b>-C</b> option can no longer be used on the
    <span class="Li">&quot;#!&quot;</span> line. It wasn't working there anyway,
    since the standard streams are already set up at this point in the execution
    of the perl interpreter. You can use <b>binmode()</b> instead to get the
    desired behaviour.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1UCD_5.0.0_s0"><a class="permalink" href="#_s-1UCD_5.0.0_s0">UCD
  5.0.0</a></h2>
The copy of the Unicode Character Database included in Perl 5 has been updated
  to version 5.0.0.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1MAD_s0"><a class="permalink" href="#_s-1MAD_s0">MAD</a></h2>
MAD, which stands for <i>Miscellaneous Attribute Decoration</i>, is a
  still-in-development work leading to a Perl 5 to Perl 6 converter. To enable
  it, it's necessary to pass the argument
  <span class="Li">&quot;-Dmad&quot;</span> to Configure. The obtained perl
  isn't binary compatible with a regular perl 5.10, and has space and speed
  penalties; moreover not all regression tests still pass with it. (Larry Wall,
  Nicholas Clark)
</section>
<section class="Ss">
<h2 class="Ss" id="_fBkill()_fP_on_Windows"><a class="permalink" href="#_fBkill()_fP_on_Windows"><b>kill()</b>
  on Windows</a></h2>
On Windows platforms, <span class="Li">&quot;kill(-9, $pid)&quot;</span> now
  kills a process tree. (On Unix, this delivers the signal to all processes in
  the same process group.)
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Packing_and__s-1UTF_-8_s0_strings"><a class="permalink" href="#Packing_and__s-1UTF_-8_s0_strings">Packing
  and UTF-8 strings</a></h2>
The semantics of <b>pack()</b> and <b>unpack()</b> regarding UTF-8-encoded data
  has been changed. Processing is now by default character per character instead
  of byte per byte on the underlying encoding. Notably, code that used things
  like <span class="Li">&quot;pack(&quot;a*&quot;, $string)&quot;</span> to see
  through the encoding of string will now simply get back the original
  <span class="Li">$string</span>. Packed strings can also get upgraded during
  processing when you store upgraded characters. You can get the old behaviour
  by using <span class="Li">&quot;use bytes&quot;</span>.
<p class="Pp">To be consistent with <b>pack()</b>, the
    <span class="Li">&quot;C0&quot;</span> in <b>unpack()</b> templates
    indicates that the data is to be processed in character mode, i.e. character
    by character; on the contrary, <span class="Li">&quot;U0&quot;</span> in
    <b>unpack()</b> indicates UTF-8 mode, where the packed string is processed
    in its UTF-8-encoded Unicode form on a byte by byte basis. This is reversed
    with regard to perl 5.8.X, but now consistent between <b>pack()</b> and
    <b>unpack()</b>.</p>
<p class="Pp">Moreover, <span class="Li">&quot;C0&quot;</span> and
    <span class="Li">&quot;U0&quot;</span> can also be used in <b>pack()</b>
    templates to specify respectively character and byte modes.</p>
<p class="Pp"><span class="Li">&quot;C0&quot;</span> and
    <span class="Li">&quot;U0&quot;</span> in the middle of a pack or unpack
    format now switch to the specified encoding mode, honoring parens grouping.
    Previously, parens were ignored.</p>
<p class="Pp">Also, there is a new <b>pack()</b> character format,
    <span class="Li">&quot;W&quot;</span>, which is intended to replace the old
    <span class="Li">&quot;C&quot;</span>. <span class="Li">&quot;C&quot;</span>
    is kept for unsigned chars coded as bytes in the strings internal
    representation. <span class="Li">&quot;W&quot;</span> represents unsigned
    (logical) character values, which can be greater than 255. It is therefore
    more robust when dealing with potentially UTF-8-encoded data (as
    <span class="Li">&quot;C&quot;</span> will wrap values outside the range
    0..255, and not respect the string encoding).</p>
<p class="Pp">In practice, that means that pack formats are now
    encoding-neutral, except <span class="Li">&quot;C&quot;</span>.</p>
<p class="Pp">For consistency, <span class="Li">&quot;A&quot;</span> in
    <b>unpack()</b> format now trims all Unicode whitespace from the end of the
    string. Before perl 5.9.2, it used to strip only the classical ASCII space
    characters.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Byte/character_count_feature_in__fBunpack()_fP"><a class="permalink" href="#Byte/character_count_feature_in__fBunpack()_fP">Byte/character
  count feature in <b>unpack()</b></a></h2>
A new <b>unpack()</b> template character, <span class="Li">&quot;.&quot;</span>,
  returns the number of bytes or characters (depending on the selected encoding
  mode, see above) read so far.
</section>
<section class="Ss">
<h2 class="Ss" id="The_$*_and_$__variables_have_been_removed"><a class="permalink" href="#The_$*_and_$__variables_have_been_removed">The
  $* and $# variables have been removed</a></h2>
<span class="Li">$*</span>, which was deprecated in favor of the
  <span class="Li">&quot;/s&quot;</span> and
  <span class="Li">&quot;/m&quot;</span> regexp modifiers, has been removed.
<p class="Pp">The deprecated <span class="Li">$#</span> variable (output format
    for numbers) has been removed.</p>
<p class="Pp">Two new severe warnings, <span class="Li">&quot;$#/$* is no longer
    supported&quot;</span>, have been added.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_fBsubstr()_fP_lvalues_are_no_longer_fixed-length"><a class="permalink" href="#_fBsubstr()_fP_lvalues_are_no_longer_fixed-length"><b>substr()</b>
  lvalues are no longer fixed-length</a></h2>
The lvalues returned by the three argument form of <b>substr()</b> used to be a
  &quot;fixed length window&quot; on the original string. In some cases this
  could cause surprising action at distance or other undefined behaviour. Now
  the length of the window adjusts itself to the length of the string assigned
  to it.
</section>
<section class="Ss">
<h2 class="Ss" id="Parsing_of___-f___"><a class="permalink" href="#Parsing_of___-f___">Parsing
  of &quot;-f _&quot;</a></h2>
The identifier <span class="Li">&quot;_&quot;</span> is now forced to be a
  bareword after a filetest operator. This solves a number of misparsing issues
  when a global <span class="Li">&quot;_&quot;</span> subroutine is defined.
</section>
<section class="Ss">
<h2 class="Ss" id="_:unique_"><a class="permalink" href="#_:unique_">&quot;:unique&quot;</a></h2>
The <span class="Li">&quot;:unique&quot;</span> attribute has been made a no-op,
  since its current implementation was fundamentally flawed and not threadsafe.
</section>
<section class="Ss">
<h2 class="Ss" id="Effect_of_pragmas_in_eval"><a class="permalink" href="#Effect_of_pragmas_in_eval">Effect
  of pragmas in eval</a></h2>
The compile-time value of the <span class="Li">&quot;%^H&quot;</span> hint
  variable can now propagate into eval(&quot;&quot;)uated code. This makes it
  more useful to implement lexical pragmas.
<p class="Pp">As a side-effect of this, the overloaded-ness of constants now
    propagates into eval(&quot;&quot;).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="chdir__s-1FOO_s0"><a class="permalink" href="#chdir__s-1FOO_s0">chdir
  FOO</a></h2>
A bareword argument to <b>chdir()</b> is now recognized as a file handle.
  Earlier releases interpreted the bareword as a directory name. (Gisle Aas)
</section>
<section class="Ss">
<h2 class="Ss" id="Handling_of_.pmc_files"><a class="permalink" href="#Handling_of_.pmc_files">Handling
  of .pmc files</a></h2>
An old feature of perl was that before
  <span class="Li">&quot;require&quot;</span> or
  <span class="Li">&quot;use&quot;</span> look for a file with a <i>.pm</i>
  extension, they will first look for a similar filename with a <i>.pmc</i>
  extension. If this file is found, it will be loaded in place of any
  potentially existing file ending in a <i>.pm</i> extension.
<p class="Pp">Previously, <i>.pmc</i> files were loaded only if more recent than
    the matching <i>.pm</i> file. Starting with 5.9.4, they'll be always loaded
    if they exist.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$_V_is_now_a__version__object_instead_of_a_v_-string"><a class="permalink" href="#$_V_is_now_a__version__object_instead_of_a_v_-string">$^V
  is now a &quot;version&quot; object instead of a v-string</a></h2>
$^V can still be used with the <span class="Li">%vd</span> format in printf, but
  any character-level operations will now access the string representation of
  the <span class="Li">&quot;version&quot;</span> object and not the ordinals of
  a v-string. Expressions like <span class="Li">&quot;substr($^V, 0,
  2)&quot;</span> or <span class="Li">&quot;split //, $^V&quot;</span> no longer
  work and must be rewritten.
</section>
<section class="Ss">
<h2 class="Ss" id="@_-_and_@+_in_patterns"><a class="permalink" href="#@_-_and_@+_in_patterns">@-
  and @+ in patterns</a></h2>
The special arrays <span class="Li">&quot;@-&quot;</span> and
  <span class="Li">&quot;@+&quot;</span> are no longer interpolated in regular
  expressions. (Sadahiro Tomoyuki)
</section>
<section class="Ss">
<h2 class="Ss" id="$AUTOLOAD_can_now_be_tainted"><a class="permalink" href="#$AUTOLOAD_can_now_be_tainted">$AUTOLOAD
  can now be tainted</a></h2>
If you call a subroutine by a tainted name, and if it defers to an AUTOLOAD
  function, then <span class="Li">$AUTOLOAD</span> will be (correctly) tainted.
  (Rick Delaney)
</section>
<section class="Ss">
<h2 class="Ss" id="Tainting_and_printf"><a class="permalink" href="#Tainting_and_printf">Tainting
  and printf</a></h2>
When perl is run under taint mode, <span class="Li">&quot;printf()&quot;</span>
  and <span class="Li">&quot;sprintf()&quot;</span> will now reject any tainted
  format argument. (Rafael Garcia-Suarez)
</section>
<section class="Ss">
<h2 class="Ss" id="undef_and_signal_handlers"><a class="permalink" href="#undef_and_signal_handlers">undef
  and signal handlers</a></h2>
Undefining or deleting a signal handler via <span class="Li">&quot;undef
  $SIG{FOO}&quot;</span> is now equivalent to setting it to
  <span class="Li">'DEFAULT'</span>. (Rafael Garcia-Suarez)
</section>
<section class="Ss">
<h2 class="Ss" id="strictures_and_dereferencing_in__fBdefined()_fP"><a class="permalink" href="#strictures_and_dereferencing_in__fBdefined()_fP">strictures
  and dereferencing in <b>defined()</b></a></h2>
<span class="Li">&quot;use strict 'refs'&quot;</span> was ignoring taking a hard
  reference in an argument to <b>defined()</b>, as in :
<p class="Pp"><span class="Li"></span></p>
<pre>
    use strict 'refs';
    my $x = 'foo';
    if (defined $$x) {...}
</pre>
<p class="Pp">This now correctly produces the run-time error
    <span class="Li">&quot;Can't use string as a</span> <span class="Li">SCALAR
    ref while &quot;strict refs&quot; in use&quot;</span>.</p>
<p class="Pp"><span class="Li">&quot;defined @$foo&quot;</span> and
    <span class="Li">&quot;defined %$bar&quot;</span> are now also subject to
    <span class="Li">&quot;strict</span> <span class="Li">'refs'&quot;</span>
    (that is, <span class="Li">$foo</span> and <span class="Li">$bar</span>
    shall be proper references there.)
    (<span class="Li">&quot;defined(@foo)&quot;</span> and
    <span class="Li">&quot;defined(%bar)&quot;</span> are discouraged constructs
    anyway.) (Nicholas Clark)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_(?p__)__has_been_removed"><a class="permalink" href="#_(?p__)__has_been_removed">&quot;(?p{})&quot;
  has been removed</a></h2>
The regular expression construct <span class="Li">&quot;(?p{})&quot;</span>,
  which was deprecated in perl 5.8, has been removed. Use
  <span class="Li">&quot;(??{})&quot;</span> instead. (Rafael Garcia-Suarez)
</section>
<section class="Ss">
<h2 class="Ss" id="Pseudo-hashes_have_been_removed"><a class="permalink" href="#Pseudo-hashes_have_been_removed">Pseudo-hashes
  have been removed</a></h2>
Support for pseudo-hashes has been removed from Perl 5.9. (The
  <span class="Li">&quot;fields&quot;</span> pragma remains here, but uses an
  alternate implementation.)
</section>
<section class="Ss">
<h2 class="Ss" id="Removal_of_the_bytecode_compiler_and_of_perlcc"><a class="permalink" href="#Removal_of_the_bytecode_compiler_and_of_perlcc">Removal
  of the bytecode compiler and of perlcc</a></h2>
<span class="Li">&quot;perlcc&quot;</span>, the byteloader and the supporting
  modules (B::C, B::CC, B::Bytecode, etc.) are no longer distributed with the
  perl sources. Those experimental tools have never worked reliably, and, due to
  the lack of volunteers to keep them in line with the perl interpreter
  developments, it was decided to remove them instead of shipping a broken
  version of those. The last version of those modules can be found with perl
  5.9.4.
<p class="Pp">However the B compiler framework stays supported in the perl core,
    as with the more useful modules it has permitted (among others, B::Deparse
    and B::Concise).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Removal_of_the__s-1JPL_s0"><a class="permalink" href="#Removal_of_the__s-1JPL_s0">Removal
  of the JPL</a></h2>
The JPL (Java-Perl Lingo) has been removed from the perl sources tarball.
</section>
<section class="Ss">
<h2 class="Ss" id="Recursive_inheritance_detected_earlier"><a class="permalink" href="#Recursive_inheritance_detected_earlier">Recursive
  inheritance detected earlier</a></h2>
Perl will now immediately throw an exception if you modify any package's
  <span class="Li">@ISA</span> in such a way that it would cause recursive
  inheritance.
<p class="Pp">Previously, the exception would not occur until Perl attempted to
    make use of the recursive inheritance while resolving a method or doing a
    <span class="Li">&quot;$foo-&gt;isa($bar)&quot;</span> lookup.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="warnings::enabled_and_warnings::warnif_changed_to_favor_users_of_modules"><a class="permalink" href="#warnings::enabled_and_warnings::warnif_changed_to_favor_users_of_modules">warnings::enabled
  and warnings::warnif changed to favor users of modules</a></h2>
The behaviour in 5.10.x favors the person using the module; The behaviour in
  5.8.x favors the module writer;
<p class="Pp">Assume the following code:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  main calls Foo::Bar::baz()
  Foo::Bar inherits from Foo::Base
  Foo::Bar::baz() calls Foo::Base::_bazbaz()
  Foo::Base::_bazbaz() calls: warnings::warnif('substr', 'some warning 
message');
</pre>
<p class="Pp">On 5.8.x, the code warns when Foo::Bar contains
    <span class="Li">&quot;use warnings;&quot;</span> It does not matter if
    Foo::Base or main have warnings enabled to disable the warning one has to
    modify Foo::Bar.</p>
<p class="Pp">On 5.10.0 and newer, the code warns when main contains
    <span class="Li">&quot;use warnings;&quot;</span> It does not matter if
    Foo::Base or Foo::Bar have warnings enabled to disable the warning one has
    to modify main.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="Upgrading_individual_core_modules"><a class="permalink" href="#Upgrading_individual_core_modules">Upgrading
  individual core modules</a></h2>
Even more core modules are now also available separately through the CPAN. If
  you wish to update one of these modules, you don't need to wait for a new perl
  release. From within the cpan shell, running the 'r' command will report on
  modules with upgrades available. See <span class="Li">&quot;perldoc
  CPAN&quot;</span> for more information.
</section>
<section class="Ss">
<h2 class="Ss" id="Pragmata_Changes"><a class="permalink" href="#Pragmata_Changes">Pragmata
  Changes</a></h2>
<dl class="Bl-tag">
  <dt>&quot;feature&quot;</dt>
  <dd>The new pragma <span class="Li">&quot;feature&quot;</span> is used to
      enable new features that might break old code. See &quot;The
      <span class="Li">&quot;feature&quot;</span> pragma&quot; above.</dd>
  <dt>&quot;mro&quot;</dt>
  <dd>This new pragma enables to change the algorithm used to resolve inherited
      methods. See &quot;New Pragma,
      <span class="Li">&quot;mro&quot;</span>&quot; above.</dd>
  <dt>Scoping of the &quot;sort&quot; pragma</dt>
  <dd>The <span class="Li">&quot;sort&quot;</span> pragma is now lexically
      scoped. Its effect used to be global.</dd>
  <dt>Scoping of &quot;bignum&quot;, &quot;bigint&quot;, &quot;bigrat&quot;</dt>
  <dd>The three numeric pragmas <span class="Li">&quot;bignum&quot;</span>,
      <span class="Li">&quot;bigint&quot;</span> and
      <span class="Li">&quot;bigrat&quot;</span> are now lexically scoped.
      (Tels)</dd>
  <dt>&quot;base&quot;</dt>
  <dd>The <span class="Li">&quot;base&quot;</span> pragma now warns if a class
      tries to inherit from itself. (Curtis &quot;Ovid&quot; Poe)</dd>
  <dt>&quot;strict&quot; and &quot;warnings&quot;</dt>
  <dd><span class="Li">&quot;strict&quot;</span> and
      <span class="Li">&quot;warnings&quot;</span> will now complain loudly if
      they are loaded via incorrect casing (as in <span class="Li">&quot;use
      Strict;&quot;</span>). (Johan Vromans)</dd>
  <dt>&quot;version&quot;</dt>
  <dd>The <span class="Li">&quot;version&quot;</span> module provides support
      for version objects.</dd>
  <dt>&quot;warnings&quot;</dt>
  <dd>The <span class="Li">&quot;warnings&quot;</span> pragma doesn't load
      <span class="Li">&quot;Carp&quot;</span> anymore. That means that code
      that used <span class="Li">&quot;Carp&quot;</span> routines without having
      loaded it at compile time might need to be adjusted; typically, the
      following (faulty) code won't work anymore, and will require parentheses
      to be added after the function name:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    use warnings;
    require Carp;
    Carp::confess 'argh';
    </pre>
  </dd>
  <dt>&quot;less&quot;</dt>
  <dd><span class="Li">&quot;less&quot;</span> now does something useful (or at
      least it tries to). In fact, it has been turned into a lexical pragma. So,
      in your modules, you can now test whether your users have requested to use
      less CPU, or less memory, less magic, or maybe even less fat. See less for
      more. (Joshua ben Jore)</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_modules"><a class="permalink" href="#New_modules">New
  modules</a></h2>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;encoding::warnings&quot;</span>, by Audrey Tang, is
      a module to emit warnings whenever an ASCII character string containing
      high-bit bytes is implicitly converted into UTF-8. It's a lexical pragma
      since Perl 5.9.4; on older perls, its effect is global.</li>
  <li><span class="Li">&quot;Module::CoreList&quot;</span>, by Richard Clamp, is
      a small handy module that tells you what versions of core modules ship
      with any versions of Perl 5. It comes with a command-line frontend,
      <span class="Li">&quot;corelist&quot;</span>.</li>
  <li><span class="Li">&quot;Math::BigInt::FastCalc&quot;</span> is an
      XS-enabled, and thus faster, version of
      <span class="Li">&quot;Math::BigInt::Calc&quot;</span>.</li>
  <li><span class="Li">&quot;Compress::Zlib&quot;</span> is an interface to the
      zlib compression library. It comes with a bundled version of zlib, so
      having a working zlib is not a prerequisite to install it. It's used by
      <span class="Li">&quot;Archive::Tar&quot;</span> (see below).</li>
  <li><span class="Li">&quot;IO::Zlib&quot;</span> is an
      <span class="Li">&quot;IO::&quot;</span>-style interface to
      <span class="Li">&quot;Compress::Zlib&quot;</span>.</li>
  <li><span class="Li">&quot;Archive::Tar&quot;</span> is a module to manipulate
      <span class="Li">&quot;tar&quot;</span> archives.</li>
  <li><span class="Li">&quot;Digest::SHA&quot;</span> is a module used to
      calculate many types of SHA digests, has been included for SHA support in
      the CPAN module.</li>
  <li><span class="Li">&quot;ExtUtils::CBuilder&quot;</span> and
      <span class="Li">&quot;ExtUtils::ParseXS&quot;</span> have been
    added.</li>
  <li><span class="Li">&quot;Hash::Util::FieldHash&quot;</span>, by Anno Siegel,
      has been added. This module provides support for <i>field hashes</i>:
      hashes that maintain an association of a reference with a value, in a
      thread-safe garbage-collected way. Such hashes are useful to implement
      inside-out objects.</li>
  <li><span class="Li">&quot;Module::Build&quot;</span>, by Ken Williams, has
      been added. It's an alternative to
      <span class="Li">&quot;ExtUtils::MakeMaker&quot;</span> to build and
      install perl modules.</li>
  <li><span class="Li">&quot;Module::Load&quot;</span>, by Jos Boumans, has been
      added. It provides a single interface to load Perl modules and <i>.pl</i>
      files.</li>
  <li><span class="Li">&quot;Module::Loaded&quot;</span>, by Jos Boumans, has
      been added. It's used to mark modules as loaded or unloaded.</li>
  <li><span class="Li">&quot;Package::Constants&quot;</span>, by Jos Boumans,
      has been added. It's a simple helper to list all constants declared in a
      given package.</li>
  <li><span class="Li">&quot;Win32API::File&quot;</span>, by Tye McQueen, has
      been added (for Windows builds). This module provides low-level access to
      Win32 system API calls for files/dirs.</li>
  <li><span class="Li">&quot;Locale::Maketext::Simple&quot;</span>, needed by
      CPANPLUS, is a simple wrapper around
      <span class="Li">&quot;Locale::Maketext::Lexicon&quot;</span>. Note that
      <span class="Li">&quot;Locale::Maketext::Lexicon&quot;</span> isn't
      included in the perl core; the behaviour of
      <span class="Li">&quot;Locale::Maketext::Simple&quot;</span> gracefully
      degrades when the later isn't present.</li>
  <li><span class="Li">&quot;Params::Check&quot;</span> implements a generic
      input parsing/checking mechanism. It is used by CPANPLUS.</li>
  <li><span class="Li">&quot;Term::UI&quot;</span> simplifies the task to ask
      questions at a terminal prompt.</li>
  <li><span class="Li">&quot;Object::Accessor&quot;</span> provides an interface
      to create per-object accessors.</li>
  <li><span class="Li">&quot;Module::Pluggable&quot;</span> is a simple
      framework to create modules that accept pluggable sub-modules.</li>
  <li><span class="Li">&quot;Module::Load::Conditional&quot;</span> provides
      simple ways to query and possibly load installed modules.</li>
  <li><span class="Li">&quot;Time::Piece&quot;</span> provides an object
      oriented interface to time functions, overriding the built-ins
      <b>localtime()</b> and <b>gmtime()</b>.</li>
  <li><span class="Li">&quot;IPC::Cmd&quot;</span> helps to find and run
      external commands, possibly interactively.</li>
  <li><span class="Li">&quot;File::Fetch&quot;</span> provide a simple generic
      file fetching mechanism.</li>
  <li><span class="Li">&quot;Log::Message&quot;</span> and
      <span class="Li">&quot;Log::Message::Simple&quot;</span> are used by the
      log facility of <span class="Li">&quot;CPANPLUS&quot;</span>.</li>
  <li><span class="Li">&quot;Archive::Extract&quot;</span> is a generic archive
      extraction mechanism for <i>.tar</i> (plain, gzipped or bzipped) or
      <i>.zip</i> files.</li>
  <li><span class="Li">&quot;CPANPLUS&quot;</span> provides an API and a
      command-line tool to access the CPAN mirrors.</li>
  <li><span class="Li">&quot;Pod::Escapes&quot;</span> provides utilities that
      are useful in decoding Pod E&lt;...&gt; sequences.</li>
  <li><span class="Li">&quot;Pod::Simple&quot;</span> is now the backend for
      several of the Pod-related modules included with Perl.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Selected_Changes_to_Core_Modules"><a class="permalink" href="#Selected_Changes_to_Core_Modules">Selected
  Changes to Core Modules</a></h2>
<dl class="Bl-tag">
  <dt>&quot;Attribute::Handlers&quot;</dt>
  <dd><span class="Li">&quot;Attribute::Handlers&quot;</span> can now report the
      caller's file and line number. (David Feldman)
    <p class="Pp">All interpreted attributes are now passed as array references.
        (Damian Conway)</p>
  </dd>
  <dt>&quot;B::Lint&quot;</dt>
  <dd><span class="Li">&quot;B::Lint&quot;</span> is now based on
      <span class="Li">&quot;Module::Pluggable&quot;</span>, and so can be
      extended with plugins. (Joshua ben Jore)</dd>
  <dt>&quot;B&quot;</dt>
  <dd>It's now possible to access the lexical pragma hints
      (<span class="Li">&quot;%^H&quot;</span>) by using the method
      <b>B::COP::hints_hash()</b>. It returns a
      <span class="Li">&quot;B::RHE&quot;</span> object, which in turn can be
      used to get a hash reference via the method <b>B::RHE::HASH()</b>. (Joshua
      ben Jore)</dd>
  <dt>&quot;Thread&quot;</dt>
  <dd>As the old 5005thread threading model has been removed, in favor of the
      ithreads scheme, the <span class="Li">&quot;Thread&quot;</span> module is
      now a compatibility wrapper, to be used in old code only. It has been
      removed from the default list of dynamic extensions.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<dl class="Bl-tag">
  <dt>perl -d</dt>
  <dd>The Perl debugger can now save all debugger commands for sourcing later;
      notably, it can now emulate stepping backwards, by restarting and
      rerunning all bar the last command from a saved command history.
    <p class="Pp">It can also display the parent inheritance tree of a given
        class, with the <span class="Li">&quot;i&quot;</span> command.</p>
  </dd>
  <dt>ptar</dt>
  <dd><span class="Li">&quot;ptar&quot;</span> is a pure perl implementation of
      <span class="Li">&quot;tar&quot;</span> that comes with
      <span class="Li">&quot;Archive::Tar&quot;</span>.</dd>
  <dt>ptardiff</dt>
  <dd><span class="Li">&quot;ptardiff&quot;</span> is a small utility used to
      generate a diff between the contents of a tar archive and a directory
      tree. Like <span class="Li">&quot;ptar&quot;</span>, it comes with
      <span class="Li">&quot;Archive::Tar&quot;</span>.</dd>
  <dt>shasum</dt>
  <dd><span class="Li">&quot;shasum&quot;</span> is a command-line utility, used
      to print or to check SHA digests. It comes with the new
      <span class="Li">&quot;Digest::SHA&quot;</span> module.</dd>
  <dt>corelist</dt>
  <dd>The <span class="Li">&quot;corelist&quot;</span> utility is now installed
      with perl (see &quot;New modules&quot; above).</dd>
  <dt>h2ph and h2xs</dt>
  <dd><span class="Li">&quot;h2ph&quot;</span> and
      <span class="Li">&quot;h2xs&quot;</span> have been made more robust with
      regard to &quot;modern&quot; C code.
    <p class="Pp"><span class="Li">&quot;h2xs&quot;</span> implements a new
        option <span class="Li">&quot;--use-xsloader&quot;</span> to force use
        of <span class="Li">&quot;XSLoader&quot;</span> even in backwards
        compatible modules.</p>
    <p class="Pp">The handling of authors' names that had apostrophes has been
        fixed.</p>
    <p class="Pp">Any enums with negative values are now skipped.</p>
  </dd>
  <dt>perlivp</dt>
  <dd><span class="Li">&quot;perlivp&quot;</span> no longer checks for
      <i>*.ph</i> files by default. Use the new
      <span class="Li">&quot;-a&quot;</span> option to run <i>all</i>
    tests.</dd>
  <dt>find2perl</dt>
  <dd><span class="Li">&quot;find2perl&quot;</span> now assumes
      <span class="Li">&quot;-print&quot;</span> as a default action.
      Previously, it needed to be specified explicitly.
    <p class="Pp">Several bugs have been fixed in
        <span class="Li">&quot;find2perl&quot;</span>, regarding
        <span class="Li">&quot;-exec&quot;</span> and
        <span class="Li">&quot;-eval&quot;</span>. Also the options
        <span class="Li">&quot;-path&quot;</span>,
        <span class="Li">&quot;-ipath&quot;</span> and
        <span class="Li">&quot;-iname&quot;</span> have been added.</p>
  </dd>
  <dt>config_data</dt>
  <dd><span class="Li">&quot;config_data&quot;</span> is a new utility that
      comes with <span class="Li">&quot;Module::Build&quot;</span>. It provides
      a command-line interface to the configuration of Perl modules that use
      Module::Build's framework of configurability (that is,
      <span class="Li">*::ConfigData</span> modules that contain local
      configuration information for their parent modules.)</dd>
  <dt>cpanp</dt>
  <dd><span class="Li">&quot;cpanp&quot;</span>, the CPANPLUS shell, has been
      added. (<span class="Li">&quot;cpanp-run-perl&quot;</span>, a helper for
      CPANPLUS operation, has been added too, but isn't intended for direct
      use).</dd>
  <dt>cpan2dist</dt>
  <dd><span class="Li">&quot;cpan2dist&quot;</span> is a new utility that comes
      with CPANPLUS. It's a tool to create distributions (or packages) from CPAN
      modules.</dd>
  <dt>pod2html</dt>
  <dd>The output of <span class="Li">&quot;pod2html&quot;</span> has been
      enhanced to be more customizable via CSS. Some formatting problems were
      also corrected. (Jari Aalto)</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="New_Documentation"><a class="permalink" href="#New_Documentation">New
  Documentation</a></h1>
The perlpragma manpage documents how to write one's own lexical pragmas in pure
  Perl (something that is possible starting with 5.9.4).
<p class="Pp">The new perlglossary manpage is a glossary of terms used in the
    Perl documentation, technical and otherwise, kindly provided by O'Reilly
    Media, Inc.</p>
<p class="Pp">The perlreguts manpage, courtesy of Yves Orton, describes
    internals of the Perl regular expression engine.</p>
<p class="Pp">The perlreapi manpage describes the interface to the perl
    interpreter used to write pluggable regular expression engines (by AEvar
    Arnfjoerd` Bjarmason).</p>
<p class="Pp">The perlunitut manpage is a tutorial for programming with Unicode
    and string encodings in Perl, courtesy of Juerd Waalboer.</p>
<p class="Pp">A new manual page, perlunifaq (the Perl Unicode FAQ), has been
    added (Juerd Waalboer).</p>
<p class="Pp">The perlcommunity manpage gives a description of the Perl
    community on the Internet and in real life. (Edgar &quot;Trizor&quot;
    Bering)</p>
<p class="Pp">The CORE manual page documents the
    <span class="Li">&quot;CORE::&quot;</span> namespace. (Tels)</p>
<p class="Pp">The long-existing feature of
    <span class="Li">&quot;/(?{...})/&quot;</span> regexps setting
    <span class="Li">$_</span> and <b>pos()</b> is now documented.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_Enhancements"><a class="permalink" href="#Performance_Enhancements">Performance
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="In-place_sorting"><a class="permalink" href="#In-place_sorting">In-place
  sorting</a></h2>
Sorting arrays in place (<span class="Li">&quot;@a = sort @a&quot;</span>) is
  now optimized to avoid making a temporary copy of the array.
<p class="Pp">Likewise, <span class="Li">&quot;reverse sort ...&quot;</span> is
    now optimized to sort in reverse, avoiding the generation of a temporary
    intermediate list.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Lexical_array_access"><a class="permalink" href="#Lexical_array_access">Lexical
  array access</a></h2>
Access to elements of lexical arrays via a numeric constant between 0 and 255 is
  now faster. (This used to be only the case for global arrays.)
</section>
<section class="Ss">
<h2 class="Ss" id="XS-assisted__s-1SWASHGET_s0"><a class="permalink" href="#XS-assisted__s-1SWASHGET_s0">XS-assisted
  SWASHGET</a></h2>
Some pure-perl code that perl was using to retrieve Unicode properties and
  transliteration mappings has been reimplemented in XS.
</section>
<section class="Ss">
<h2 class="Ss" id="Constant_subroutines"><a class="permalink" href="#Constant_subroutines">Constant
  subroutines</a></h2>
The interpreter internals now support a far more memory efficient form of
  inlineable constants. Storing a reference to a constant value in a symbol
  table is equivalent to a full typeglob referencing a constant subroutine, but
  using about 400 bytes less memory. This proxy constant subroutine is
  automatically upgraded to a real typeglob with subroutine if necessary. The
  approach taken is analogous to the existing space optimisation for subroutine
  stub declarations, which are stored as plain scalars in place of the full
  typeglob.
<p class="Pp">Several of the core modules have been converted to use this
    feature for their system dependent constants - as a result
    <span class="Li">&quot;use POSIX;&quot;</span> now takes about 200K less
    memory.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_PERL_DONT_CREATE_GVSV_"><a class="permalink" href="#_PERL_DONT_CREATE_GVSV_">&quot;PERL_DONT_CREATE_GVSV&quot;</a></h2>
The new compilation flag
  <span class="Li">&quot;PERL_DONT_CREATE_GVSV&quot;</span>, introduced as an
  option in perl 5.8.8, is turned on by default in perl 5.9.3. It prevents perl
  from creating an empty scalar with every new typeglob. See perl589delta for
  details.
</section>
<section class="Ss">
<h2 class="Ss" id="Weak_references_are_cheaper"><a class="permalink" href="#Weak_references_are_cheaper">Weak
  references are cheaper</a></h2>
Weak reference creation is now <i>O(1)</i> rather than <i>O(n)</i>, courtesy of
  Nicholas Clark. Weak reference deletion remains <i>O(n)</i>, but if deletion
  only happens at program exit, it may be skipped completely.
</section>
<section class="Ss">
<h2 class="Ss" id="_fBsort()_fP_enhancements"><a class="permalink" href="#_fBsort()_fP_enhancements"><b>sort()</b>
  enhancements</a></h2>
Salvador Fandin~o provided improvements to reduce the memory usage of
  <span class="Li">&quot;sort&quot;</span> and to speed up some cases.
</section>
<section class="Ss">
<h2 class="Ss" id="Memory_optimisations"><a class="permalink" href="#Memory_optimisations">Memory
  optimisations</a></h2>
Several internal data structures (typeglobs, GVs, CVs, formats) have been
  restructured to use less memory. (Nicholas Clark)
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1UTF_-8_s0_cache_optimisation"><a class="permalink" href="#_s-1UTF_-8_s0_cache_optimisation">UTF-8
  cache optimisation</a></h2>
The UTF-8 caching code is now more efficient, and used more often. (Nicholas
  Clark)
</section>
<section class="Ss">
<h2 class="Ss" id="Sloppy_stat_on_Windows"><a class="permalink" href="#Sloppy_stat_on_Windows">Sloppy
  stat on Windows</a></h2>
On Windows, perl's <b>stat()</b> function normally opens the file to determine
  the link count and update attributes that may have been changed through hard
  links. Setting ${^WIN32_SLOPPY_STAT} to a true value speeds up <b>stat()</b>
  by not performing this operation. (Jan Dubois)
</section>
<section class="Ss">
<h2 class="Ss" id="Regular_expressions_optimisations"><a class="permalink" href="#Regular_expressions_optimisations">Regular
  expressions optimisations</a></h2>
<dl class="Bl-tag">
  <dt>Engine de-recursivised</dt>
  <dd>The regular expression engine is no longer recursive, meaning that
      patterns that used to overflow the stack will either die with useful
      explanations, or run to completion, which, since they were able to blow
      the stack before, will likely take a very long time to happen. If you were
      experiencing the occasional stack overflow (or segfault) and upgrade to
      discover that now perl apparently hangs instead, look for a degenerate
      regex. (Dave Mitchell)</dd>
  <dt>Single char char-classes treated as literals</dt>
  <dd>Classes of a single character are now treated the same as if the character
      had been used as a literal, meaning that code that uses char-classes as an
      escaping mechanism will see a speedup. (Yves Orton)</dd>
  <dt>Trie optimisation of literal string alternations</dt>
  <dd>Alternations, where possible, are optimised into more efficient matching
      structures. String literal alternations are merged into a trie and are
      matched simultaneously. This means that instead of O(N) time for matching
      N alternations at a given point, the new code performs in O(1) time. A new
      special variable, ${^RE_TRIE_MAXBUF}, has been added to fine-tune this
      optimization. (Yves Orton)
    <p class="Pp"><b>Note:</b> Much code exists that works around perl's
        historic poor performance on alternations. Often the tricks used to do
        so will disable the new optimisations. Hopefully the utility modules
        used for this purpose will be educated about these new
      optimisations.</p>
  </dd>
  <dt>Aho-Corasick start-point optimisation</dt>
  <dd>When a pattern starts with a trie-able alternation and there aren't better
      optimisations available, the regex engine will use Aho-Corasick matching
      to find the start point. (Yves Orton)</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Installation_and_Configuration_Improvements"><a class="permalink" href="#Installation_and_Configuration_Improvements">Installation
  and Configuration Improvements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Configuration_improvements"><a class="permalink" href="#Configuration_improvements">Configuration
  improvements</a></h2>
<dl class="Bl-tag">
  <dt>&quot;-Dusesitecustomize&quot;</dt>
  <dd>Run-time customization of <span class="Li">@INC</span> can be enabled by
      passing the <span class="Li">&quot;-Dusesitecustomize&quot;</span> flag to
      Configure. When enabled, this will make perl run
      <i></i><i>$sitelibexp</i><i>/sitecustomize.pl</i> before anything else.
      This script can then be set up to add additional entries to
      <span class="Li">@INC</span>.</dd>
  <dt>Relocatable installations</dt>
  <dd>There is now Configure support for creating a relocatable perl tree. If
      you Configure with
      <span class="Li">&quot;-Duserelocatableinc&quot;</span>, then the paths in
      <span class="Li">@INC</span> (and everything else in
      <span class="Li">%Config</span>) can be optionally located via the path of
      the perl executable.
    <p class="Pp">That means that, if the string
        <span class="Li">&quot;.../&quot;</span> is found at the start of any
        path, it's substituted with the directory of $^X. So, the relocation can
        be configured on a per-directory basis, although the default with
        <span class="Li">&quot;-Duserelocatableinc&quot;</span> is that
        everything is relocated. The initial install is done to the original
        configured prefix.</p>
  </dd>
  <dt><b>strlcat()</b> and <b>strlcpy()</b></dt>
  <dd>The configuration process now detects whether <b>strlcat()</b> and
      <b>strlcpy()</b> are available. When they are not available, perl's own
      version is used (from Russ Allbery's public domain implementation).
      Various places in the perl interpreter now use them. (Steve Peters)</dd>
  <dt>&quot;d_pseudofork&quot; and &quot;d_printf_format_null&quot;</dt>
  <dd>A new configuration variable, available as
      <span class="Li">$Config{d_pseudofork}</span> in the Config module, has
      been added, to distinguish real <b>fork()</b> support from fake pseudofork
      used on Windows platforms.
    <p class="Pp">A new configuration variable,
        <span class="Li">&quot;d_printf_format_null&quot;</span>, has been
        added, to see if printf-like formats are allowed to be NULL.</p>
  </dd>
  <dt>Configure help</dt>
  <dd><span class="Li">&quot;Configure -h&quot;</span> has been extended with
      the most commonly used options.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Compilation_improvements"><a class="permalink" href="#Compilation_improvements">Compilation
  improvements</a></h2>
<dl class="Bl-tag">
  <dt>Parallel build</dt>
  <dd>Parallel makes should work properly now, although there may still be
      problems if <span class="Li">&quot;make test&quot;</span> is instructed to
      run in parallel.</dd>
  <dt>Borland's compilers support</dt>
  <dd>Building with Borland's compilers on Win32 should work more smoothly. In
      particular Steve Hay has worked to side step many warnings emitted by
      their compilers and at least one C compiler internal error.</dd>
  <dt>Static build on Windows</dt>
  <dd>Perl extensions on Windows now can be statically built into the Perl DLL.
    <p class="Pp">Also, it's now possible to build a
        <span class="Li">&quot;perl-static.exe&quot;</span> that doesn't depend
        on the Perl DLL on Win32. See the Win32 makefiles for details. (Vadim
        Konovalov)</p>
  </dd>
  <dt>ppport.h files</dt>
  <dd>All <i>ppport.h</i> files in the XS modules bundled with perl are now
      autogenerated at build time. (Marcus Holland-Moritz)</dd>
  <dt>C++ compatibility</dt>
  <dd>Efforts have been made to make perl and the core XS modules compilable
      with various C++ compilers (although the situation is not perfect with
      some of the compilers on some of the platforms tested.)</dd>
  <dt>Support for Microsoft 64-bit compiler</dt>
  <dd>Support for building perl with Microsoft's 64-bit compiler has been
      improved. (ActiveState)</dd>
  <dt>Visual C++</dt>
  <dd>Perl can now be compiled with Microsoft Visual C++ 2005 (and 2008 Beta
    2).</dd>
  <dt>Win32 builds</dt>
  <dd>All win32 builds (MS-Win, WinCE) have been merged and cleaned up.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Installation_improvements"><a class="permalink" href="#Installation_improvements">Installation
  improvements</a></h2>
<dl class="Bl-tag">
  <dt>Module auxiliary files</dt>
  <dd>README files and changelogs for CPAN modules bundled with perl are no
      longer installed.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Or_Improved_Platforms"><a class="permalink" href="#New_Or_Improved_Platforms">New
  Or Improved Platforms</a></h2>
Perl has been reported to work on Symbian OS. See perlsymbian for more
  information.
<p class="Pp">Many improvements have been made towards making Perl work
    correctly on z/OS.</p>
<p class="Pp">Perl has been reported to work on DragonFlyBSD and
  MidnightBSD.</p>
<p class="Pp">Perl has also been reported to work on NexentaOS (
    http://www.gnusolaris.org/ ).</p>
<p class="Pp">The VMS port has been improved. See perlvms.</p>
<p class="Pp">Support for Cray XT4 Catamount/Qk has been added. See
    <i>hints/catamount.sh</i> in the source code distribution for more
    information.</p>
<p class="Pp">Vendor patches have been merged for RedHat and Gentoo.</p>
<p class="Pp"><b>DynaLoader::dl_unload_file()</b> now works on Windows.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<dl class="Bl-tag">
  <dt>strictures in regexp-eval blocks</dt>
  <dd><span class="Li">&quot;strict&quot;</span> wasn't in effect in regexp-eval
      blocks (<span class="Li">&quot;/(?{...})/&quot;</span>).</dd>
  <dt>Calling <b>CORE::require()</b></dt>
  <dd><b>CORE::require()</b> and <b>CORE::do()</b> were always parsed as
      <b>require()</b> and <b>do()</b> when they were overridden. This is now
      fixed.</dd>
  <dt>Subscripts of slices</dt>
  <dd>You can now use a non-arrowed form for chained subscripts after a list
      slice, like in:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    ({foo =&gt; &quot;bar&quot;})[0]{foo}
    </pre>
    <p class="Pp">This used to be a syntax error; a
        <span class="Li">&quot;-&gt;&quot;</span> was required.</p>
  </dd>
  <dt>&quot;no warnings 'category'&quot; works correctly with -w</dt>
  <dd>Previously when running with warnings enabled globally via
      <span class="Li">&quot;-w&quot;</span>, selective disabling of specific
      warning categories would actually turn off all warnings. This is now
      fixed; now <span class="Li">&quot;no warnings 'io';&quot;</span> will only
      turn off warnings in the <span class="Li">&quot;io&quot;</span> class.
      Previously it would erroneously turn off all warnings.</dd>
  <dt>threads improvements</dt>
  <dd>Several memory leaks in ithreads were closed. Also, ithreads were made
      less memory-intensive.
    <p class="Pp"><span class="Li">&quot;threads&quot;</span> is now a dual-life
        module, also available on CPAN. It has been expanded in many ways. A
        <b>kill()</b> method is available for thread signalling. One can get
        thread status, or the list of running or joinable threads.</p>
    <p class="Pp">A new <span class="Li">&quot;threads-&gt;exit()&quot;</span>
        method is used to exit from the application (this is the default for the
        main thread) or from the current thread only (this is the default for
        all other threads). On the other hand, the <b>exit()</b> built-in now
        always causes the whole application to terminate. (Jerry D. Hedden)</p>
  </dd>
  <dt><b>chr()</b> and negative values</dt>
  <dd><b>chr()</b> on a negative value now gives
      <span class="Li">&quot;\x{FFFD}&quot;</span>, the Unicode replacement
      character, unless when the <span class="Li">&quot;bytes&quot;</span>
      pragma is in effect, where the low eight bits of the value are used.</dd>
  <dt>PERL5SHELL and tainting</dt>
  <dd>On Windows, the PERL5SHELL environment variable is now checked for
      taintedness. (Rafael Garcia-Suarez)</dd>
  <dt>Using *FILE{IO}</dt>
  <dd><span class="Li">&quot;stat()&quot;</span> and
      <span class="Li">&quot;-X&quot;</span> filetests now treat *FILE{IO}
      filehandles like *FILE filehandles. (Steve Peters)</dd>
  <dt>Overloading and reblessing</dt>
  <dd>Overloading now works when references are reblessed into another class.
      Internally, this has been implemented by moving the flag for
      &quot;overloading&quot; from the reference to the referent, which
      logically is where it should always have been. (Nicholas Clark)</dd>
  <dt>Overloading and UTF-8</dt>
  <dd>A few bugs related to UTF-8 handling with objects that have
      stringification overloaded have been fixed. (Nicholas Clark)</dd>
  <dt>eval memory leaks fixed</dt>
  <dd>Traditionally, <span class="Li">&quot;eval 'syntax error'&quot;</span> has
      leaked badly. Many (but not all) of these leaks have now been eliminated
      or reduced. (Dave Mitchell)</dd>
  <dt>Random device on Windows</dt>
  <dd>In previous versions, perl would read the file <i>/dev/urandom</i> if it
      existed when seeding its random number generator. That file is unlikely to
      exist on Windows, and if it did would probably not contain appropriate
      data, so perl no longer tries to read it on Windows. (Alex Davies)</dd>
  <dt>PERLIO_DEBUG</dt>
  <dd>The <span class="Li">&quot;PERLIO_DEBUG&quot;</span> environment variable
      no longer has any effect for setuid scripts and for scripts run with
      <b>-T</b>.
    <p class="Pp">Moreover, with a thread-enabled perl, using
        <span class="Li">&quot;PERLIO_DEBUG&quot;</span> could lead to an
        internal buffer overflow. This has been fixed.</p>
  </dd>
  <dt>PerlIO::scalar and read-only scalars</dt>
  <dd>PerlIO::scalar will now prevent writing to read-only scalars. Moreover,
      <b>seek()</b> is now supported with PerlIO::scalar-based filehandles, the
      underlying string being zero-filled as needed. (Rafael, Jarkko
    Hietaniemi)</dd>
  <dt><b>study()</b> and UTF-8</dt>
  <dd><b>study()</b> never worked for UTF-8 strings, but could lead to false
      results. It's now a no-op on UTF-8 data. (Yves Orton)</dd>
  <dt>Critical signals</dt>
  <dd>The signals SIGILL, SIGBUS and SIGSEGV are now always delivered in an
      &quot;unsafe&quot; manner (contrary to other signals, that are deferred
      until the perl interpreter reaches a reasonably stable state; see
      &quot;Deferred Signals (Safe Signals)&quot; in perlipc). (Rafael)</dd>
  <dt>@INC-hook fix</dt>
  <dd>When a module or a file is loaded through an
      <span class="Li">@INC</span>-hook, and when this hook has set a filename
      entry in <span class="Li">%INC</span>, __FILE__ is now set for this module
      accordingly to the contents of that <span class="Li">%INC</span> entry.
      (Rafael)</dd>
  <dt>&quot;-t&quot; switch fix</dt>
  <dd>The <span class="Li">&quot;-w&quot;</span> and
      <span class="Li">&quot;-t&quot;</span> switches can now be used together
      without messing up which categories of warnings are activated.
    (Rafael)</dd>
  <dt>Duping UTF-8 filehandles</dt>
  <dd>Duping a filehandle which has the
      <span class="Li">&quot;:utf8&quot;</span> PerlIO layer set will now
      properly carry that layer on the duped filehandle. (Rafael)</dd>
  <dt>Localisation of hash elements</dt>
  <dd>Localizing a hash element whose key was given as a variable didn't work
      correctly if the variable was changed while the <b>local()</b> was in
      effect (as in <span class="Li">&quot;local $h{$x}; ++$x&quot;</span>). (Bo
      Lindbergh)</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="New_or_Changed_Diagnostics"><a class="permalink" href="#New_or_Changed_Diagnostics">New
  or Changed Diagnostics</a></h1>
<dl class="Bl-tag">
  <dt>Use of uninitialized value</dt>
  <dd>Perl will now try to tell you the name of the variable (if any) that was
      undefined.</dd>
  <dt>Deprecated use of <b>my()</b> in false conditional</dt>
  <dd>A new deprecation warning, <i>Deprecated use of </i><b><i>my()</i></b><i>
      in false conditional</i>, has been added, to warn against the use of the
      dubious and deprecated construct
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my $x if 0;
    </pre>
    <p class="Pp">See perldiag. Use <span class="Li">&quot;state&quot;</span>
        variables instead.</p>
  </dd>
  <dt>!=~ should be !~</dt>
  <dd>A new warning, <span class="Li">&quot;!=~ should be !~&quot;</span>, is
      emitted to prevent this misspelling of the non-matching operator.</dd>
  <dt>Newline in left-justified string</dt>
  <dd>The warning <i>Newline in left-justified string</i> has been removed.</dd>
  <dt>Too late for &quot;-T&quot; option</dt>
  <dd>The error <i>Too late for &quot;-T&quot; option</i> has been reformulated
      to be more descriptive.</dd>
  <dt>&quot;%s&quot; variable %s masks earlier declaration</dt>
  <dd>This warning is now emitted in more consistent cases; in short, when one
      of the declarations involved is a <span class="Li">&quot;my&quot;</span>
      variable:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my $x;   my $x;     # warns
    my $x;  our $x;     # warns
    our $x;  my $x;     # warns
    </pre>
    <p class="Pp">On the other hand, the following:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    our $x; our $x;
    </pre>
    <p class="Pp">now gives a <span class="Li">&quot;&quot;our&quot; variable %s
        redeclared&quot;</span> warning.</p>
  </dd>
  <dt><b>readdir()</b>/<b>closedir()</b>/etc. attempted on invalid
    dirhandle</dt>
  <dd>These new warnings are now emitted when a dirhandle is used but is either
      closed or not really a dirhandle.</dd>
  <dt>Opening dirhandle/filehandle %s also as a file/directory</dt>
  <dd>Two deprecation warnings have been added: (Rafael)
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    Opening dirhandle %s also as a file
    Opening filehandle %s also as a directory
    </pre>
  </dd>
  <dt>Use of -P is deprecated</dt>
  <dd>Perl's command-line switch <span class="Li">&quot;-P&quot;</span> is now
      deprecated.</dd>
  <dt>v-string in use/require is non-portable</dt>
  <dd>Perl will warn you against potential backwards compatibility problems with
      the <span class="Li">&quot;use VERSION&quot;</span> syntax.</dd>
  <dt>perl -V</dt>
  <dd><span class="Li">&quot;perl -V&quot;</span> has several improvements,
      making it more useable from shell scripts to get the value of
      configuration variables. See perlrun for details.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Changed_Internals"><a class="permalink" href="#Changed_Internals">Changed
  Internals</a></h1>
In general, the source code of perl has been refactored, tidied up, and
  optimized in many places. Also, memory management and allocation has been
  improved in several points.
<p class="Pp">When compiling the perl core with gcc, as many gcc warning flags
    are turned on as is possible on the platform. (This quest for cleanliness
    doesn't extend to XS code because we cannot guarantee the tidiness of code
    we didn't write.) Similar strictness flags have been added or tightened for
    various other C compilers.</p>
<section class="Ss">
<h2 class="Ss" id="Reordering_of_SVt_*_constants"><a class="permalink" href="#Reordering_of_SVt_*_constants">Reordering
  of SVt_* constants</a></h2>
The relative ordering of constants that define the various types of
  <span class="Li">&quot;SV&quot;</span> have changed; in particular,
  <span class="Li">&quot;SVt_PVGV&quot;</span> has been moved before
  <span class="Li">&quot;SVt_PVLV&quot;</span>,
  <span class="Li">&quot;SVt_PVAV&quot;</span>,
  <span class="Li">&quot;SVt_PVHV&quot;</span> and
  <span class="Li">&quot;SVt_PVCV&quot;</span>. This is unlikely to make any
  difference unless you have code that explicitly makes assumptions about that
  ordering. (The inheritance hierarchy of
  <span class="Li">&quot;B::*&quot;</span> objects has been changed to reflect
  this.)
</section>
<section class="Ss">
<h2 class="Ss" id="Elimination_of_SVt_PVBM"><a class="permalink" href="#Elimination_of_SVt_PVBM">Elimination
  of SVt_PVBM</a></h2>
Related to this, the internal type <span class="Li">&quot;SVt_PVBM&quot;</span>
  has been removed. This dedicated type of
  <span class="Li">&quot;SV&quot;</span> was used by the
  <span class="Li">&quot;index&quot;</span> operator and parts of the regexp
  engine to facilitate fast Boyer-Moore matches. Its use internally has been
  replaced by <span class="Li">&quot;SV&quot;</span>s of type
  <span class="Li">&quot;SVt_PVGV&quot;</span>.
</section>
<section class="Ss">
<h2 class="Ss" id="New_type_SVt_BIND"><a class="permalink" href="#New_type_SVt_BIND">New
  type SVt_BIND</a></h2>
A new type <span class="Li">&quot;SVt_BIND&quot;</span> has been added, in
  readiness for the project to implement Perl 6 on 5. There deliberately is no
  implementation yet, and they cannot yet be created or destroyed.
</section>
<section class="Ss">
<h2 class="Ss" id="Removal_of__s-1CPP_s0_symbols"><a class="permalink" href="#Removal_of__s-1CPP_s0_symbols">Removal
  of CPP symbols</a></h2>
The C preprocessor symbols
  <span class="Li">&quot;PERL_PM_APIVERSION&quot;</span> and
  <span class="Li">&quot;PERL_XS_APIVERSION&quot;</span>, which were supposed to
  give the version number of the oldest perl binary-compatible (resp.
  source-compatible) with the present one, were not used, and sometimes had
  misleading values. They have been removed.
</section>
<section class="Ss">
<h2 class="Ss" id="Less_space_is_used_by_ops"><a class="permalink" href="#Less_space_is_used_by_ops">Less
  space is used by ops</a></h2>
The <span class="Li">&quot;BASEOP&quot;</span> structure now uses less space.
  The <span class="Li">&quot;op_seq&quot;</span> field has been removed and
  replaced by a single bit bit-field <span class="Li">&quot;op_opt&quot;</span>.
  <span class="Li">&quot;op_type&quot;</span> is now 9 bits long. (Consequently,
  the <span class="Li">&quot;B::OP&quot;</span> class doesn't provide an
  <span class="Li">&quot;seq&quot;</span> method anymore.)
</section>
<section class="Ss">
<h2 class="Ss" id="New_parser"><a class="permalink" href="#New_parser">New
  parser</a></h2>
perl's parser is now generated by bison (it used to be generated by byacc.) As a
  result, it seems to be a bit more robust.
<p class="Pp">Also, Dave Mitchell improved the lexer debugging output under
    <span class="Li">&quot;-DT&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Use_of__const_"><a class="permalink" href="#Use_of__const_">Use
  of &quot;const&quot;</a></h2>
Andy Lester supplied many improvements to determine which function parameters
  and local variables could actually be declared
  <span class="Li">&quot;const&quot;</span> to the C compiler. Steve Peters
  provided new <span class="Li">*_set</span> macros and reworked the core to use
  these rather than assigning to macros in LVALUE context.
</section>
<section class="Ss">
<h2 class="Ss" id="Mathoms"><a class="permalink" href="#Mathoms">Mathoms</a></h2>
A new file, <i>mathoms.c</i>, has been added. It contains functions that are no
  longer used in the perl core, but that remain available for binary or source
  compatibility reasons. However, those functions will not be compiled in if you
  add <span class="Li">&quot;-DNO_MATHOMS&quot;</span> in the compiler flags.
</section>
<section class="Ss">
<h2 class="Ss" id="_AvFLAGS__has_been_removed"><a class="permalink" href="#_AvFLAGS__has_been_removed">&quot;AvFLAGS&quot;
  has been removed</a></h2>
The <span class="Li">&quot;AvFLAGS&quot;</span> macro has been removed.
</section>
<section class="Ss">
<h2 class="Ss" id="_av_*__changes"><a class="permalink" href="#_av_*__changes">&quot;av_*&quot;
  changes</a></h2>
The <span class="Li">&quot;av_*()&quot;</span> functions, used to manipulate
  arrays, no longer accept null <span class="Li">&quot;AV*&quot;</span>
  parameters.
</section>
<section class="Ss">
<h2 class="Ss" id="$_H_and___H"><a class="permalink" href="#$_H_and___H">$^H and
  %^H</a></h2>
The implementation of the special variables $^H and %^H has changed, to allow
  implementing lexical pragmas in pure Perl.
</section>
<section class="Ss">
<h2 class="Ss" id="B::_modules_inheritance_changed"><a class="permalink" href="#B::_modules_inheritance_changed">B::
  modules inheritance changed</a></h2>
The inheritance hierarchy of <span class="Li">&quot;B::&quot;</span> modules has
  changed; <span class="Li">&quot;B::NV&quot;</span> now inherits from
  <span class="Li">&quot;B::SV&quot;</span> (it used to inherit from
  <span class="Li">&quot;B::IV&quot;</span>).
</section>
<section class="Ss">
<h2 class="Ss" id="Anonymous_hash_and_array_constructors"><a class="permalink" href="#Anonymous_hash_and_array_constructors">Anonymous
  hash and array constructors</a></h2>
The anonymous hash and array constructors now take 1 op in the optree instead of
  3, now that pp_anonhash and pp_anonlist return a reference to a hash/array
  when the op is flagged with OPf_SPECIAL. (Nicholas Clark)
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
There's still a remaining problem in the implementation of the lexical
  <span class="Li">$_</span>: it doesn't work inside
  <span class="Li">&quot;/(?{...})/&quot;</span> blocks. (See the TODO test in
  <i>t/op/mydef.t</i>.)
<p class="Pp">Stacked filetest operators won't work when the
    <span class="Li">&quot;filetest&quot;</span> pragma is in effect, because
    they rely on the <b>stat()</b> buffer <span class="Li">&quot;_&quot;</span>
    being populated, and filetest bypasses <b>stat()</b>.</p>
<section class="Ss">
<h2 class="Ss" id="_s-1UTF_-8_s0_problems"><a class="permalink" href="#_s-1UTF_-8_s0_problems">UTF-8
  problems</a></h2>
The handling of Unicode still is unclean in several places, where it's dependent
  on whether a string is internally flagged as UTF-8. This will be made more
  consistent in perl 5.12, but that won't be possible without a certain amount
  of backwards incompatibility.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Specific_Problems"><a class="permalink" href="#Platform_Specific_Problems">Platform
  Specific Problems</a></h1>
When compiled with g++ and thread support on Linux, it's reported that the
  <span class="Li">$!</span> stops working correctly. This is related to the
  fact that the glibc provides two <b>strerror_r</b>(3) implementation, and perl
  selects the wrong one.
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
If you find what you think is a bug, you might check the articles recently
  posted to the comp.lang.perl.misc newsgroup and the perl bug database at
  http://rt.perl.org/rt3/ . There may also be information at
  http://www.perl.org/ , the Perl Home Page.
<p class="Pp">If you believe you have an unreported bug, please run the
    <b>perlbug</b> program included with your release. Be sure to trim your bug
    down to a tiny but sufficient test case. Your bug report, along with the
    output of <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The <i>Changes</i> file and the perl590delta to perl595delta man pages for
  exhaustive details on what changed.
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-11-01</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
