<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Inline(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Inline(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Inline(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Inline - Write Perl Subroutines in Other Programming Languages</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">This document describes Inline version <b>0.86</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use Inline C;
    print &quot;9 + 16 = &quot;, add(9, 16), &quot;\n&quot;;
    print &quot;9 - 16 = &quot;, subtract(9, 16), &quot;\n&quot;;
    __END__
    __C__
    int add(int x, int y) {
      return x + y;
    }
    int subtract(int x, int y) {
      return x - y;
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The Inline module allows you to put source code from other
    programming languages directly &quot;inline&quot; in a Perl script or
    module. The code is automatically compiled as needed, and then loaded for
    immediate access from Perl.</p>
<p class="Pp">Inline saves you from the hassle of having to write and compile
    your own glue code using facilities like XS or SWIG. Simply type the code
    where you want it and run your Perl as normal. All the hairy details are
    handled for you. The compilation and installation of your code chunks all
    happen transparently; all you will notice is the delay of compilation on the
    first run.</p>
<p class="Pp">The Inline code only gets compiled the first time you run it (or
    whenever it is modified) so you only take the performance hit once. Code
    that is Inlined into distributed modules (like on the CPAN) will get
    compiled when the module is installed, so the end user will never notice the
    compilation time.</p>
<p class="Pp">Best of all, it works the same on both Unix and Microsoft Windows.
    See Inline- Support for support information.</p>
<section class="Ss">
<h2 class="Ss" id="Why_Inline?"><a class="permalink" href="#Why_Inline?">Why
  Inline?</a></h2>
<p class="Pp">Do you want to know &quot;Why would I use other languages in
    Perl?&quot; or &quot;Why should I use Inline to do it?&quot;? I'll try to
    answer both.</p>
<dl class="Bl-tag">
  <dt id="Why"><a class="permalink" href="#Why">Why would I use other languages
    in Perl?</a></dt>
  <dd>The most obvious reason is performance. For an interpreted language, Perl
      is very fast. Many people will say &quot;Anything Perl can do, C can do
      faster&quot;. (They never mention the development time :-) Anyway, you may
      be able to remove a bottleneck in your Perl code by using another
      language, without having to write the entire program in that language.
      This keeps your overall development time down, because you're using Perl
      for all of the non-critical code.
    <p class="Pp">Another reason is to access functionality from existing API-s
        that use the language. Some of this code may only be available in binary
        form. But by creating small subroutines in the native language, you can
        &quot;glue&quot; existing libraries to your Perl. As a user of the CPAN,
        you know that code reuse is a good thing. So why throw away those
        Fortran libraries just yet?</p>
    <p class="Pp">If you are using Inline with the C language, then you can
        access the full internals of Perl itself. This opens up the floodgates
        to both extreme power and peril.</p>
    <p class="Pp">Maybe the best reason is &quot;Because you want to!&quot;.
        Diversity keeps the world interesting. TMTOWTDI!</p>
  </dd>
  <dt id="Why~2"><a class="permalink" href="#Why~2">Why should I use Inline to
    do it?</a></dt>
  <dd>There are already two major facilities for extending Perl with C. They are
      XS and SWIG. Both are similar in their capabilities, at least as far as
      Perl is concerned. And both of them are quite difficult to learn compared
      to Inline.
    <p class="Pp">There is a big fat learning curve involved with setting up and
        using the XS environment. You need to get quite intimate with the
        following docs:</p>
  </dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>perlxs</li>
  <li>perlxstut</li>
  <li>perlapi</li>
  <li>perlguts</li>
  <li>perlmod</li>
  <li>h2xs</li>
  <li>xsubpp</li>
  <li>ExtUtils::MakeMaker</li>
</ul>
</div>
<div class="Bd-indent">
<p class="Pp">With Inline you can be up and running in minutes. There is a C
    Cookbook with lots of short but complete programs that you can extend to
    your real-life problems. No need to learn about the complicated build
    process going on in the background. You don't even need to compile the code
    yourself. Inline takes care of every last detail except writing the C
  code.</p>
<p class="Pp">Perl programmers cannot be bothered with silly things like
    compiling. &quot;Tweak, Run, Tweak, Run&quot; is our way of life. Inline
    does all the dirty work for you.</p>
<p class="Pp">Another advantage of Inline is that you can use it directly in a
    script. You can even use it in a Perl one-liner. With XS and SWIG, you
    always set up an entirely separate module. Even if you only have one or two
    functions. Inline makes easy things easy, and hard things possible. Just
    like Perl.</p>
<p class="Pp">Finally, Inline supports several programming languages (not just C
    and C++). As of this writing, Inline has support for C, C++, Java, Python,
    Ruby, Tcl, Assembler, Basic, Guile, Befunge, Octave, Awk, BC, TT (Template
    Toolkit), WebChat and even PERL. New Inline Language Support Modules (ILSMs)
    are regularly being added. See Inline-API for details on how to create your
    own ILSM.</p>
</div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="USING_THE_INLINE.PM_MODULE"><a class="permalink" href="#USING_THE_INLINE.PM_MODULE">USING
  THE INLINE.PM MODULE</a></h1>
<p class="Pp">Inline is a little bit different than most of the Perl modules
    that you are used to. It doesn't import any functions into your namespace
    and it doesn't have any object oriented methods. Its entire interface (with
    two minor exceptions) is specified through the <span class="Li">'use Inline
    ...'</span> command.</p>
<p class="Pp">This section will explain all of the different ways to
    <span class="Li">&quot;use Inline&quot;</span>. If you want to begin using C
    with Inline immediately, see Inline::C-Cookbook.</p>
<section class="Ss">
<h2 class="Ss" id="The_Basics"><a class="permalink" href="#The_Basics">The
  Basics</a></h2>
<p class="Pp">The most basic form for using Inline is:</p>
<p class="Pp"></p>
<pre>    use Inline X =&gt; &quot;X source code&quot;;
</pre>
<p class="Pp">where 'X' is one of the supported Inline programming languages.
    The second parameter identifies the source code that you want to bind to
    Perl. The source code can be specified using any of the following
  syntaxes:</p>
<dl class="Bl-tag">
  <dt id="The"><a class="permalink" href="#The">The DATA Keyword.</a></dt>
  <dd>
    <pre>    use Inline Java =&gt; 'DATA';
    # Perl code goes here ...
    __DATA__
    __Java__
    /* Java code goes here ... */
    </pre>
    <p class="Pp">The easiest and most visually clean way to specify your source
        code in an Inline Perl program is to use the special
        <span class="Li">&quot;DATA&quot;</span> keyword. This tells Inline to
        look for a special marker in your
        <span class="Li">&quot;DATA&quot;</span> filehandle's input stream. In
        this example the special marker is
        <span class="Li">&quot;__Java__&quot;</span>, which is the programming
        language surrounded by double underscores.</p>
    <p class="Pp">In case you've forgotten, the
        <span class="Li">&quot;DATA&quot;</span> pseudo file is comprised of all
        the text after the <span class="Li">&quot;__END__&quot;</span> or
        <span class="Li">&quot;__DATA__&quot;</span> section of your program. If
        you're working outside the <span class="Li">&quot;main&quot;</span>
        package, you'd best use the <span class="Li">&quot;__DATA__&quot;</span>
        marker or else Inline will not find your code.</p>
    <p class="Pp">Using this scheme keeps your Perl code at the top, and all the
        ugly Java stuff down below where it belongs. This is visually clean and
        makes for more maintainable code. An excellent side benefit is that you
        don't have to escape any characters like you might in a Perl string. The
        source code is verbatim. For these reasons, I prefer this method the
        most.</p>
    <p class="Pp">The only problem with this style is that since Perl can't read
        the <span class="Li">&quot;DATA&quot;</span> filehandle until runtime,
        it obviously can't bind your functions until runtime. The net effect of
        this is that you can't use your Inline functions as barewords (without
        predeclaring them) because Perl has no idea they exist during compile
        time.</p>
  </dd>
  <dt id="The~2"><a class="permalink" href="#The~2">The FILE and BELOW
    keywords.</a></dt>
  <dd>
    <pre>    use Inline::Files;
    use Inline Java =&gt; 'file';
    # Perl code goes here ...
    __JAVA__
    /* Java code goes here ... */
    </pre>
    <p class="Pp">This is the newest method of specifying your source code. It
        makes use of the Perl module
        <span class="Li">&quot;Inline::Files&quot;</span> written by Damian
        Conway. The basic style and meaning are the same as for the
        <span class="Li">&quot;DATA&quot;</span> keyword, but there are a few
        syntactic and semantic twists.</p>
    <p class="Pp">First, you must say 'use Inline::Files' before you 'use
        Inline' code that needs those files. The special
        '<span class="Li">&quot;DATA&quot;</span>' keyword is replaced by either
        '<span class="Li">&quot;file&quot;</span>' or
        '<span class="Li">&quot;below&quot;</span>'. This allows for the bad pun
        idiom of:</p>
    <p class="Pp"></p>
    <pre>    use Inline C =&gt; 'below';
    </pre>
    <p class="Pp">You can omit the <span class="Li">&quot;__DATA__&quot;</span>
        tag now. Inline::Files is a source filter that will remove these
        sections from your program before Perl compiles it. They are then
        available for Inline to make use of. And since this can all be done at
        compile time, you don't have to worry about the caveats of the 'DATA'
        keyword.</p>
    <p class="Pp">This module has a couple small gotchas. Since Inline::Files
        only recognizes file markers with capital letters, you must specify the
        capital form of your language name. Also, there is a startup time
        penalty for using a source code filter.</p>
    <p class="Pp">At this point Inline::Files is alpha software and use of it is
        experimental. Inline's integration of this module is also fledgling at
        the time being. One of things I plan to do with Inline::Files is to get
        line number info so when an extension doesn't compile, the error
        messages will point to the correct source file and line number.</p>
    <p class="Pp">My best advice is to use Inline::Files for testing (especially
        as support for it improves), but use DATA for production and
        distributed/CPAN code.</p>
  </dd>
  <dt id="Strings"><a class="permalink" href="#Strings">Strings</a></dt>
  <dd>
    <pre>    use Inline Java =&gt; &lt;&lt;'END';
    /* Java code goes here ... */
    END
    # Perl code goes here ...
    </pre>
    <p class="Pp">You also just specify the source code as a single string. A
        handy way to write the string is to use Perl's &quot;here document&quot;
        style of quoting. This is ok for small functions but can get unwieldy in
        the large. On the other hand, the string variant probably has the least
        startup penalty and all functions are bound at compile time.</p>
    <p class="Pp">If you wish to put the string into a scalar variable, please
        be aware that the <span class="Li">&quot;use&quot;</span> statement is a
        compile time directive. As such, all the variables it uses must also be
        set at compile time, <span class="Li">&quot;before&quot;</span> the 'use
        Inline' statement. Here is one way to do it:</p>
    <p class="Pp"></p>
    <pre>    my $code;
    BEGIN {
        $code = &lt;&lt;END;
    /* Java code goes here ... */
    END
    }
    use Inline Java =&gt; $code;
    # Perl code goes here ...
    </pre>
  </dd>
  <dt id="The~3"><a class="permalink" href="#The~3">The <b>bind()</b>
    Function</a></dt>
  <dd>An alternative to using the BEGIN block method is to specify the source
      code at run time using the 'Inline-&gt;<b>bind()</b>' method. (This is one
      of the interface exceptions mentioned above) The
      <span class="Li">&quot;bind()&quot;</span> method takes the same arguments
      as <span class="Li">'use Inline ...'</span>.
    <p class="Pp"></p>
    <pre>    my $code = &lt;&lt;END;
    /* Java code goes here ... */
    END
    Inline-&gt;bind(Java =&gt; $code);
    </pre>
    <p class="Pp">You can think of <span class="Li">&quot;bind()&quot;</span> as
        a way to <span class="Li">&quot;eval()&quot;</span> code in other
        programming languages.</p>
    <p class="Pp">Although <b>bind()</b> is a powerful feature, it is not
        recommended for use in Inline based modules. In fact, it won't work at
        all for installable modules. See instructions below for creating modules
        with Inline.</p>
  </dd>
  <dt id="Other"><a class="permalink" href="#Other">Other Methods</a></dt>
  <dd>The source code for Inline can also be specified as an external filename,
      a reference to a subroutine that returns source code, or a reference to an
      array that contains lines of source code. (Note that if the external
      source file is in the current directory it must be specified with a
      leading '.<i>' - ie</i> <i>'.</i>file.ext' instead of simply 'file.ext'.)
      These methods are less frequently used but may be useful in some
      situations.
    <p class="Pp">For instance, to load your C++ code from a file named the same
        as your perl module with a swapped file extension, you can use:</p>
    <p class="Pp"></p>
    <pre>    use Inline CPP =&gt; (__FILE__ =~ s/\.pm$/.cpp/r);
    </pre>
  </dd>
  <dt id="Shorthand"><a class="permalink" href="#Shorthand">Shorthand</a></dt>
  <dd>If you are using the 'DATA' or 'file' methods described above <b>and</b>
      there are no extra parameters, you can omit the keyword altogether. For
      example:
    <p class="Pp"></p>
    <pre>    use Inline 'Java';
    # Perl code goes here ...
    __DATA__
    __Java__
    /* Java code goes here ... */
    </pre>
    <p class="Pp">or</p>
    <p class="Pp"></p>
    <pre>    use Inline::Files;
    use Inline 'Java';
    # Perl code goes here ...
    __JAVA__
    /* Java code goes here ... */
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="More_about_the_"><a class="permalink" href="#More_about_the_">More
  about the DATA Section</a></h2>
<p class="Pp">If you are writing a module, you can also use the DATA section for
    POD and AutoLoader subroutines. Just be sure to put them before the first
    Inline marker. If you install the helper module
    <span class="Li">&quot;Inline::Filters&quot;</span>, you can even use POD
    inside your Inline code. You just have to specify a filter to strip it
  out.</p>
<p class="Pp">You can also specify multiple Inline sections, possibly in
    different programming languages. Here is another example:</p>
<p class="Pp"></p>
<pre>    # The module Foo.pm
    package Foo;
    use AutoLoader;
    use Inline C;
    use Inline C =&gt; DATA =&gt; filters =&gt; 'Strip_POD';
    use Inline Python;
    1;
    __DATA__
    sub marine {
        # This is an autoloaded subroutine
    }
    =head1 External subroutines
    =cut
    __C__
    /* First C section */
    __C__
    /* Second C section */
    =head1 My C Function
    Some POD doc.
    =cut
    __Python__
    &quot;&quot;&quot;A Python Section&quot;&quot;&quot;
</pre>
<p class="Pp">An important thing to remember is that you need to have one
    <span class="Li">&quot;use Inline Foo</span> <span class="Li">=&gt;
    'DATA'&quot;</span> for each <span class="Li">&quot;__Foo__&quot;</span>
    marker, and they must be in the same order. This allows you to apply
    different configuration options to each section.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Configuration_Options"><a class="permalink" href="#Configuration_Options">Configuration
  Options</a></h2>
<p class="Pp">Inline tries to do the right thing as often as possible. But
    sometimes you may need to override the default actions. This is easy to do.
    Simply list the Inline configuration options after the regular Inline
    parameters. All configuration options are specified as (key, value)
  pairs.</p>
<p class="Pp"></p>
<pre>    use Inline (C =&gt; 'DATA',
                directory =&gt; './inline_dir',
                libs =&gt; '-lfoo',
                inc =&gt; '-I/foo/include',
                prefix =&gt; 'XXX_',
                warnings =&gt; 0,
               );
</pre>
<p class="Pp">You can also specify the configuration options on a separate
    Inline call like this:</p>
<p class="Pp"></p>
<pre>    use Inline (C =&gt; Config =&gt;
                directory =&gt; './inline_dir',
                libs =&gt; '-lfoo',
                inc =&gt; '-I/foo/include',
                prefix =&gt; 'XXX_',
                warnings =&gt; 0,
               );
    use Inline C =&gt; &lt;&lt;'END_OF_C_CODE';
</pre>
<p class="Pp">The special keyword <span class="Li">'Config'</span> tells Inline
    that this is a configuration-only call. No source code will be compiled or
    bound to Perl.</p>
<p class="Pp">If you want to specify global configuration options that don't
    apply to a particular language, just leave the language out of the call.
    Like this:</p>
<p class="Pp"></p>
<pre>    use Inline Config =&gt; warnings =&gt; 0;
</pre>
<p class="Pp">The Config options are inherited and additive. You can use as many
    Config calls as you want. And you can apply different options to different
    code sections. When a source code section is passed in, Inline will apply
    whichever options have been specified up to that point. Here is a complex
    configuration example:</p>
<p class="Pp"></p>
<pre>    use Inline (Config =&gt;
                directory =&gt; './inline_dir',
               );
    use Inline (C =&gt; Config =&gt;
                libs =&gt; '-lglobal',
               );
    use Inline (C =&gt; 'DATA',         # First C Section
                libs =&gt; ['-llocal1', '-llocal2'],
               );
    use Inline (Config =&gt;
                warnings =&gt; 0,
               );
    use Inline (Python =&gt; 'DATA',    # First Python Section
                libs =&gt; '-lmypython1',
               );
    use Inline (C =&gt; 'DATA',         # Second C Section
                libs =&gt; [undef, '-llocal3'],
               );
</pre>
<p class="Pp">The first <span class="Li">&quot;Config&quot;</span> applies to
    all subsequent calls. The second <span class="Li">&quot;Config&quot;</span>
    applies to all subsequent <span class="Li">&quot;C&quot;</span> sections
    (but not <span class="Li">&quot;Python&quot;</span> sections). In the first
    <span class="Li">&quot;C&quot;</span> section, the external libraries
    <span class="Li">&quot;global&quot;</span>,
    <span class="Li">&quot;local1&quot;</span> and
    <span class="Li">&quot;local2&quot;</span> are used. (Most options allow
    either string or array ref forms, and do the right thing.) The
    <span class="Li">&quot;Python&quot;</span> section does not use the
    <span class="Li">&quot;global&quot;</span> library, but does use the same
    <span class="Li">&quot;DIRECTORY&quot;</span>, and has warnings turned off.
    The second <span class="Li">&quot;C&quot;</span> section only uses the
    <span class="Li">&quot;local3&quot;</span> library. That's because a value
    of <span class="Li">&quot;undef&quot;</span> resets the additive
  behavior.</p>
<p class="Pp">The <span class="Li">&quot;directory&quot;</span> and
    <span class="Li">&quot;warnings&quot;</span> options are generic Inline
    options. All other options are language specific. To find out what the
    <span class="Li">&quot;C&quot;</span> options do, see
    <span class="Li">&quot;Inline::C&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="On_and_Off"><a class="permalink" href="#On_and_Off">On and
  Off</a></h2>
<p class="Pp">If a particular config option has value options of 1 and 0, you
    can use the 'enable' and 'disable' modifiers. In other words, this:</p>
<p class="Pp"></p>
<pre>    use Inline Config =&gt;
               force_build =&gt; 1,
               clean_after_build =&gt; 0;
</pre>
<p class="Pp">could be reworded as:</p>
<p class="Pp"></p>
<pre>    use Inline Config =&gt;
               enable =&gt; force_build =&gt;
               disable =&gt; clean_after_build;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Playing_'with'_Others"><a class="permalink" href="#Playing_'with'_Others">Playing
  'with' Others</a></h2>
<p class="Pp">Inline has a special configuration syntax that tells it to get
    more configuration options from other Perl modules. Here is an example:</p>
<p class="Pp"></p>
<pre>    use Inline with =&gt; 'Event';
</pre>
<p class="Pp">This tells Inline to load the module
    <span class="Li">&quot;Event.pm&quot;</span> and ask it for configuration
    information. Since <span class="Li">&quot;Event&quot;</span> has a C API of
    its own, it can pass Inline all of the information it needs to be able to
    use <span class="Li">&quot;Event&quot;</span> C callbacks seamlessly.</p>
<p class="Pp">That means that you don't need to specify the typemaps, shared
    libraries, include files and other information required to get this to
  work.</p>
<p class="Pp">You can specify a single module or a list of them. Like:</p>
<p class="Pp"></p>
<pre>    use Inline with =&gt; qw(Event Foo Bar);
</pre>
<p class="Pp">Currently, modules that works <i>with</i> Inline include
    <span class="Li">&quot;Event&quot;</span>,
    <span class="Li">&quot;PDL&quot;</span>, and those that use
    <span class="Li">&quot;Alien::Build&quot;</span>.</p>
<p class="Pp">In order to make <b>your</b> module work <i>with</i> Inline in
    this way, your module needs to provide a class method called
    <span class="Li">&quot;Inline&quot;</span> that takes an Inline language as
    a parameter (e.g. &quot;C&quot;), and returns a reference to a hash with
    configuration information that is acceptable to the relevant ILSM. For C,
    see C Configuration Options. E.g.:</p>
<p class="Pp"></p>
<pre>    my $confighashref = Event-&gt;Inline('C'); # only supports C in 1.21
    # hashref contains keys INC, TYPEMAPS, MYEXTLIB, AUTO_INCLUDE, BOOT
</pre>
<p class="Pp">If your module uses ExtUtils::Depends version 0.400 or higher,
    your module only needs this:</p>
<p class="Pp"></p>
<pre>    package Module;
    use autouse Module::Install::Files =&gt; qw(Inline);
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Inline_Shortcuts"><a class="permalink" href="#Inline_Shortcuts">Inline
  Shortcuts</a></h2>
<p class="Pp">Inline lets you set many configuration options from the command
    line. These options are called 'shortcuts'. They can be very handy,
    especially when you only want to set the options temporarily, for say,
    debugging.</p>
<p class="Pp">For instance, to get some general information about your Inline
    code in the script <span class="Li">&quot;Foo.pl&quot;</span>, use the
    command:</p>
<p class="Pp"></p>
<pre>    perl -MInline=info Foo.pl
</pre>
<p class="Pp">If you want to force your code to compile, even if its already
    done, use:</p>
<p class="Pp"></p>
<pre>    perl -MInline=force Foo.pl
</pre>
<p class="Pp">If you want to do both, use:</p>
<p class="Pp"></p>
<pre>    perl -MInline=info -MInline=force Foo.pl
</pre>
<p class="Pp">or better yet:</p>
<p class="Pp"></p>
<pre>    perl -MInline=info,force Foo.pl
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="The_Inline_'directory'"><a class="permalink" href="#The_Inline_'directory'">The
  Inline 'directory'</a></h2>
<p class="Pp">Inline needs a place to build your code and to install the results
    of the build. It uses a single directory named
    <span class="Li">'.Inline/'</span> under normal circumstances. If you create
    this directory in your home directory, the current directory or in the
    directory where your program resides, Inline will find and use it. You can
    also specify it in the environment variable
    <span class="Li">&quot;PERL_INLINE_DIRECTORY&quot;</span> or directly in
    your program, by using the <span class="Li">&quot;directory&quot;</span>
    keyword option. If Inline cannot find the directory in any of these places
    it will create a <span class="Li">'_Inline/'</span> directory in either your
    current directory or the directory where your script resides.</p>
<p class="Pp">One of the key factors to using Inline successfully, is
    understanding this directory. When developing code it is usually best to
    create this directory (or let Inline do it) in your current directory.
    Remember that there is nothing sacred about this directory except that it
    holds your compiled code. Feel free to delete it at any time. Inline will
    simply start from scratch and recompile your code on the next run. If you
    have several programs that you want to force to recompile, just delete your
    <span class="Li">'.Inline/'</span> directory.</p>
<p class="Pp">It is probably best to have a separate
    <span class="Li">'.Inline/'</span> directory for each project that you are
    working on. You may want to keep stable code in the &lt;.Inline/&gt; in your
    home directory. On multi-user systems, each user should have their own
    <span class="Li">'.Inline/'</span> directories. It could be a security risk
    to put the directory in a shared place like
    <span class="Li">&quot;/tmp/&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Debugging_Inline_Errors"><a class="permalink" href="#Debugging_Inline_Errors">Debugging
  Inline Errors</a></h2>
<p class="Pp">All programmers make mistakes. When you make a mistake with
    Inline, like writing bad C code, you'll get a big error report on your
    screen. This report tells you where to look to do the debugging. Some
    languages may also dump out the error messages generated from the build.</p>
<p class="Pp">When Inline needs to build something it creates a subdirectory
    under your <span class="Li">&quot;DIRECTORY/build/&quot;</span> directory.
    This is where it writes all the components it needs to build your extension.
    Things like XS files, Makefiles and output log files.</p>
<p class="Pp">If everything goes OK, Inline will delete this subdirectory. If
    there is an error, Inline will leave the directory intact and print its
    location. The idea is that you are supposed to go into that directory and
    figure out what happened.</p>
<p class="Pp">Read the doc for your particular Inline Language Support Module
    for more information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_'config'_Registry_File"><a class="permalink" href="#The_'config'_Registry_File">The
  'config' Registry File</a></h2>
<p class="Pp">Inline keeps a cached file of all of the Inline Language Support
    Module's meta data in a file called
    <span class="Li">&quot;config&quot;</span>. This file can be found in your
    <span class="Li">&quot;directory&quot;</span> directory. If the file does
    not exist, Inline creates a new one. It will search your system for any
    module beginning with <span class="Li">&quot;Inline::&quot;</span>. It will
    then call that module's <span class="Li">&quot;register()&quot;</span>
    method to get useful information for future invocations.</p>
<p class="Pp">Whenever you add a new ILSM, you should delete this file so that
    Inline will auto-discover your newly installed language module. (This should
    no longer be necessary as of Inline-0.49.)</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="CONFIGURATION_OPTIONS"><a class="permalink" href="#CONFIGURATION_OPTIONS">CONFIGURATION
  OPTIONS</a></h1>
<p class="Pp">This section lists all of the generic Inline configuration
    options. For language specific configuration, see the doc for that
  language.</p>
<dl class="Bl-tag">
  <dt>&quot;directory&quot;</dt>
  <dd>The <span class="Li">&quot;directory&quot;</span> config option is the
      directory that Inline uses to both build and install an extension.
    <p class="Pp">Normally Inline will search in a bunch of known places for a
        directory called <span class="Li">'.Inline/'</span>. Failing that, it
        will create a directory called <span class="Li">'_Inline/'</span></p>
    <p class="Pp">If you want to specify your own directory, use this
        configuration option.</p>
    <p class="Pp">Note that you must create the
        <span class="Li">&quot;directory&quot;</span> directory yourself. Inline
        will not do it for you.</p>
  </dd>
  <dt>&quot;name&quot;</dt>
  <dd>You can use this option to set the name of your Inline extension object
      module. For example:
    <p class="Pp"></p>
    <pre>    use Inline C =&gt; 'DATA',
               name =&gt; 'Foo::Bar';
    </pre>
    <p class="Pp">would cause your C code to be compiled in to the object:</p>
    <p class="Pp"></p>
    <pre>    lib/auto/Foo/Bar/Bar.so
    lib/auto/Foo/Bar/Bar.inl
    </pre>
    <p class="Pp">(The .inl component contains dependency information to make
        sure the source code is in sync with the executable)</p>
    <p class="Pp">If you don't use <span class="Li">&quot;name&quot;</span>,
        Inline will pick a name for you based on your program name or package
        name. In this case, Inline will also enable the
        <span class="Li">&quot;autoname&quot;</span> option which mangles in a
        small piece of the MD5 fingerprint into your object name, to make it
        unique.</p>
  </dd>
  <dt>&quot;autoname&quot;</dt>
  <dd>This option is enabled whenever the
      <span class="Li">&quot;name&quot;</span> parameter is not specified. To
      disable it say:
    <p class="Pp"></p>
    <pre>    use Inline C =&gt; 'DATA',
               disable =&gt; 'autoname';
    </pre>
    <p class="Pp"><span class="Li">&quot;autoname&quot;</span> mangles in enough
        of the MD5 fingerprint to make your module name unique. Objects created
        with <span class="Li">&quot;autoname&quot;</span> will never get
        replaced. That also means they will never get cleaned up
      automatically.</p>
    <p class="Pp"><span class="Li">&quot;autoname&quot;</span> is very useful
        for small throw away scripts. For more serious things, always use the
        <span class="Li">&quot;name&quot;</span> option.</p>
  </dd>
  <dt>&quot;version&quot;</dt>
  <dd>Specifies the version number of the Inline extension object. It is used
      <b>only</b> for modules, and it must match the global variable
      <span class="Li">$VERSION</span>. Additionally, this option should used if
      (and only if) a module is being set up to be installed permanently into
      the Perl sitelib tree using Inline::MakeMaker (NOT used by
      Inline::Module). Inline will croak if you use it otherwise.
    <p class="Pp">The presence of the
        <span class="Li">&quot;version&quot;</span> parameter is the official
        way to let Inline know that your code is an installable/installed
        module. Inline will never generate an object in the temporary cache
        (<span class="Li">&quot;_Inline/&quot;</span> directory) if
        <span class="Li">&quot;version&quot;</span> is set. It will also never
        try to recompile a module that was installed into someone's Perl site
        tree.</p>
    <p class="Pp">So the basic rule is develop without
        <span class="Li">&quot;version&quot;</span>, and deliver with
        <span class="Li">&quot;version&quot;</span>.</p>
  </dd>
  <dt>&quot;with&quot;</dt>
  <dd><span class="Li">&quot;with&quot;</span> can also be used as a
      configuration option instead of using the special 'with' syntax. Do this
      if you want to use different sections of Inline code <i>with</i> different
      modules. (Probably a very rare usage)
    <p class="Pp"></p>
    <pre>    use Event;
    use Inline C =&gt; DATA =&gt; with =&gt; 'Event';
    </pre>
    <p class="Pp">Modules specified using the config form of
        <span class="Li">&quot;with&quot;</span> will <b>not</b> be
        automatically required. You must <span class="Li">&quot;use&quot;</span>
        them yourself.</p>
  </dd>
  <dt>&quot;using&quot;</dt>
  <dd>You can override modules that get used by ILSMs with the
      <span class="Li">&quot;using&quot;</span> option. This is typically used
      to override the default parser for Inline::C, but might be used by any
      ILSM for any purpose.
    <p class="Pp"></p>
    <pre>    use Inline config =&gt; using =&gt; '::Parser::RecDescent';
    use Inline C =&gt; '...';
    </pre>
    <p class="Pp">This would tell Inline::C to use
        Inline::C::Parser::RecDescent.</p>
  </dd>
  <dt>&quot;global_load&quot;</dt>
  <dd>This option is for compiled languages only. It tells Inline to tell
      DynaLoader to load an object file in such a way that its symbols can be
      dynamically resolved by other object files. May not work on all platforms.
      See the <span class="Li">&quot;global&quot;</span> shortcut below.</dd>
  <dt>&quot;untaint&quot;</dt>
  <dd>You can use this option whenever you use Perl's
      <span class="Li">&quot;-T&quot;</span> switch, for taint checking. This
      option tells Inline to blindly untaint all tainted variables. (This is
      generally considered to be an appallingly insecure thing to do, and not to
      be recommended - but the option is there for you to use if you want.
      Please consider using something other than Inline for scripts that need
      taint checking.) It also turns on
      <span class="Li">&quot;safemode&quot;</span> by default. See the
      <span class="Li">&quot;untaint&quot;</span> shortcut below. You will see
      warnings about blindly untainting fields in both
      <span class="Li">%ENV</span> and Inline objects. If you want to silence
      these warnings, set the Config option
      <span class="Li">&quot;no_untaint_warn&quot;</span> =&gt; 1. There can be
      some problems untainting Inline scripts where older versions of Cwd, such
      as those that shipped with early versions of perl-5.8 (and earlier), are
      installed. Updating Cwd will probably solve these problems.</dd>
  <dt id="safemode"><a class="permalink" href="#safemode">safemode</a></dt>
  <dd>Perform extra safety checking, in an attempt to thwart malicious code.
      This option cannot guarantee security, but it does turn on all the
      currently implemented checks. (Currently, the only &quot;currently
      implemented check&quot; is to ensure that the
      <span class="Li">&quot;directory&quot;</span> option has also been used.)
    <p class="Pp">There is a slight startup penalty by using
        <span class="Li">&quot;safemode&quot;</span>. Also, using
        <span class="Li">&quot;untaint&quot;</span> automatically turns this
        option on. If you need your code to start faster under
        <span class="Li">&quot;-T&quot;</span> (taint) checking, you'll need to
        turn this option off manually. Only do this if you are not worried about
        security risks. See the <span class="Li">&quot;unsafe&quot;</span>
        shortcut below.</p>
  </dd>
  <dt>&quot;force_build&quot;</dt>
  <dd>Makes Inline build (compile) the source code every time the program is
      run. The default is 0. See the <span class="Li">&quot;force&quot;</span>
      shortcut below.</dd>
  <dt>&quot;build_noisy&quot;</dt>
  <dd>Tells ILSMs that they should dump build messages to the terminal rather
      than be silent about all the build details.</dd>
  <dt>&quot;build_timers&quot;</dt>
  <dd>Tells ILSMs to print timing information about how long each build phase
      took. Usually requires
    <span class="Li">&quot;Time::HiRes&quot;</span>.</dd>
  <dt>&quot;clean_after_build&quot;</dt>
  <dd>Tells Inline to clean up the current build area if the build was
      successful. Sometimes you want to
      <span class="Li">&quot;disable&quot;</span> this for debugging. Default is
      1. See the <span class="Li">&quot;noclean&quot;</span> shortcut
    below.</dd>
  <dt>&quot;clean_build_area&quot;</dt>
  <dd>Tells Inline to clean up the old build areas within the entire Inline
      <span class="Li">&quot;directory&quot;</span>. Default is 0. See the
      <span class="Li">&quot;clean&quot;</span> shortcut below.</dd>
  <dt>&quot;print_info&quot;</dt>
  <dd>Tells Inline to print various information about the source code. Default
      is 0. See the <span class="Li">&quot;info&quot;</span> shortcut
    below.</dd>
  <dt>&quot;print_version&quot;</dt>
  <dd>Tells Inline to print version info about itself. Default is 0. See the
      <span class="Li">&quot;version&quot;</span> shortcut below.</dd>
  <dt>&quot;reportbug&quot;</dt>
  <dd>Puts Inline into 'reportbug' mode, which is what you want if you desire to
      report a bug.</dd>
  <dt>&quot;rewrite_config_file&quot;</dt>
  <dd>Default is 0, but setting <span class="Li">&quot;rewrite_config_file =&gt;
      1&quot;</span> will mean that the existing configuration file in the
      Inline <span class="Li">&quot;directory&quot;</span> will be overwritten.
      (This is useful if the existing config file is not up to date as regards
      supported languages.)</dd>
  <dt>&quot;warnings&quot;</dt>
  <dd>This option tells Inline whether to print certain warnings. Default is
    1.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="INLINE_CONFIGURATION_SHORTCUTS"><a class="permalink" href="#INLINE_CONFIGURATION_SHORTCUTS">INLINE
  CONFIGURATION SHORTCUTS</a></h1>
<p class="Pp">This is a list of all the shortcut configuration options currently
    available for Inline. Specify them from the command line when running Inline
    scripts.</p>
<p class="Pp"></p>
<pre>    perl -MInline=noclean inline_script.pl
</pre>
<p class="Pp">or</p>
<p class="Pp"></p>
<pre>    perl -MInline=info,force,noclean inline_script.pl
</pre>
<p class="Pp">You can specify multiple shortcuts separated by commas. They are
    not case sensitive. You can also specify shortcuts inside the Inline program
    like this:</p>
<p class="Pp"></p>
<pre>    use Inline 'info', 'force', 'noclean';
</pre>
<p class="Pp">NOTE: If a <span class="Li">'use Inline'</span> statement is used
    to set shortcuts, it can not be
  <br/>
   used for additional purposes.</p>
<dl class="Bl-tag">
  <dt>&quot;clean&quot;</dt>
  <dd>Tells Inline to remove any build directories that may be lying around in
      your build area. Normally these directories get removed immediately after
      a successful build. Exceptions are when the build fails, or when you use
      the <span class="Li">&quot;noclean&quot;</span> or
      <span class="Li">&quot;reportbug&quot;</span> options.</dd>
  <dt>&quot;force&quot;</dt>
  <dd>Forces the code to be recompiled, even if everything is up to date.</dd>
  <dt>&quot;global&quot;</dt>
  <dd>Turns on the <span class="Li">&quot;global_load&quot;</span> option.</dd>
  <dt>&quot;info&quot;</dt>
  <dd>This is a very useful option when you want to know what's going on under
      the hood. It tells Inline to print helpful information to
      <span class="Li">&quot;STDERR&quot;</span>. Among the things that get
      printed is a list of which Inline functions were successfully bound to
      Perl.</dd>
  <dt>&quot;noclean&quot;</dt>
  <dd>Tells Inline to leave the build files after compiling.</dd>
  <dt>&quot;noisy&quot;</dt>
  <dd>Use the <span class="Li">&quot;build_noisy&quot;</span> option to print
      messages during a build.</dd>
  <dt>&quot;reportbug&quot;</dt>
  <dd>Puts Inline into <span class="Li">&quot;reportbug&quot;</span> mode, which
      does special processing when you want to report a bug.
      <span class="Li">&quot;reportbug&quot;</span> also automatically forces a
      build, and doesn't clean up afterwards. This is so that you can tar and
      mail the build directory to me.
      <span class="Li">&quot;reportbug&quot;</span> will print exact
      instructions on what to do. Please read and follow them carefully.
    <p class="Pp">NOTE: <span class="Li">&quot;reportbug&quot;</span> informs
        you to use the tar command. If your system does not
      <br/>
       have tar, please use the equivalent
        <span class="Li">&quot;zip&quot;</span> command.</p>
  </dd>
  <dt>&quot;safe&quot;</dt>
  <dd>Turns <span class="Li">&quot;safemode&quot;</span> on.
      <span class="Li">&quot;untaint&quot;</span> will turn this on
      automatically. While this mode performs extra security checking, it does
      not guarantee safety.</dd>
  <dt>&quot;site_install&quot;</dt>
  <dd>This parameter used to be used for creating installable Inline modules. It
      has been removed from Inline altogether and replaced with a much simpler
      and more powerful mechanism,
      <span class="Li">&quot;Inline::MakeMaker&quot;</span>. See the section
      below on how to create modules with Inline.</dd>
  <dt>&quot;_testing&quot;</dt>
  <dd>Used internally by C<i>t</i>09parser.t and C<i>t</i>10callback.t(in the
      Inline::C test suite). Setting this option with Inline::C will mean that
      files named <span class="Li">&quot;parser_id&quot;</span> and
      <span class="Li">&quot;void_test&quot;</span> are created in the
      <span class="Li">&quot;./Inline_test&quot;</span> directory, creating that
      directory if it doesn't already exist. The files (but not the
      <span class="Li">&quot;./Inline_test directory&quot;</span>) are cleaned
      up by calling
      <span class="Li">&quot;Inline::C::_testing_cleanup()&quot;</span>. Also
      used by <span class="Li">&quot;t/06rewrite_config.t&quot;</span> to
      trigger a warning.</dd>
  <dt>&quot;timers&quot;</dt>
  <dd>Turn on <span class="Li">&quot;build_timers&quot;</span> to get extra
      diagnostic info about builds.</dd>
  <dt>&quot;unsafe&quot;</dt>
  <dd>Turns <span class="Li">&quot;safemode&quot;</span> off. Use this in
      combination with <span class="Li">&quot;untaint&quot;</span> for slightly
      faster startup time under <span class="Li">&quot;-T&quot;</span>. Only use
      this if you are sure the environment is safe.</dd>
  <dt>&quot;untaint&quot;</dt>
  <dd>Turn the <span class="Li">&quot;untaint&quot;</span> option on. Used with
      <span class="Li">&quot;-T&quot;</span> switch. In terms of secure
      practices, this is definitely <b>not</b> a recommended way of dealing with
      taint checking, but it's the <b>only</b> option currently available with
      Inline. Use it at your own risk.</dd>
  <dt>&quot;version&quot;</dt>
  <dd>Tells Inline to report its release version.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="WRITING_MODULES_WITH_INLINE"><a class="permalink" href="#WRITING_MODULES_WITH_INLINE">WRITING
  MODULES WITH INLINE</a></h1>
<p class="Pp">The current preferred way to author CPAN modules with Inline is to
    use Inline::Module (distributed separately). Inline ships with
    Inline::MakeMaker, which helps you set up a Makefile.PL that invokes Inline
    at install time to compile all the code before it gets installed, but the
    resulting module still depends on Inline and the language support module
    like Inline::C. In order to avoid this dependency, what you really want to
    do is convert your distribution to plain XS before uploading it to CPAN.
    Inline::Module fills that role, and also integrates well with more modern
    authoring tools.</p>
<p class="Pp">See Inline::Module for details on that approach, or continue
    reading below for the older Inline::MakeMaker technique.</p>
<p class="Pp">Let's say that you wanted to write a module called
    <span class="Li">&quot;Math::Simple&quot;</span>. Start by using the
    following command:</p>
<p class="Pp"></p>
<pre>    h2xs -PAXn Math::Simple
</pre>
<p class="Pp">This will generate a bunch of files that form a skeleton of what
    you need for a distributable module. (Read the h2xs manpage to find out what
    the options do) Next, modify the
    <span class="Li">&quot;Simple.pm&quot;</span> file to look like this:</p>
<p class="Pp"></p>
<pre>    package Math::Simple;
    $VERSION = '1.23';
    use base 'Exporter';
    @EXPORT_OK = qw(add subtract);
    use strict;
    use Inline C =&gt; 'DATA',
               version =&gt; '1.23',
               name =&gt; 'Math::Simple';
    # The following Inline-&gt;init() call is optional - see below for more info.
    #Inline-&gt;init();
    1;
    __DATA__
    =pod
    =cut
    __C__
    int add(int x, int y) {
      return x + y;
    }
    int subtract(int x, int y) {
      return x - y;
    }
</pre>
<p class="Pp">The important things to note here are that you <b>must</b> specify
    a <span class="Li">&quot;name&quot;</span> and
    <span class="Li">&quot;version&quot;</span> parameter. The
    <span class="Li">&quot;name&quot;</span> must match your module's package
    name. The <span class="Li">&quot;version&quot;</span> parameter must match
    your module's <span class="Li">$VERSION</span> variable and they must be
    considered valid by <span class="Li">&quot;version::parse&quot;</span>.</p>
<p class="Pp">NOTE: These are Inline's sanity checks to make sure you know what
    you're doing
  <br/>
   before uploading your code to CPAN. They insure that once the module has
  <br/>
   been installed on someone's system, the module would not get
  <br/>
   automatically recompiled for any reason. This makes Inline based modules
  <br/>
   work in exactly the same manner as XS based ones.</p>
<p class="Pp">Finally, you need to modify the Makefile.PL. Simply change:</p>
<p class="Pp"></p>
<pre>    use ExtUtils::MakeMaker;
</pre>
<p class="Pp">to</p>
<p class="Pp"></p>
<pre>    use Inline::MakeMaker;
</pre>
<p class="Pp">And, in order that the module build work correctly in the cpan
    shell, add the following directive to the Makefile.PL's
    <b>WriteMakefile()</b>:</p>
<p class="Pp"></p>
<pre>    CONFIGURE_REQUIRES  =&gt;  {
        'Inline::MakeMaker'     =&gt; 0.45,
        'ExtUtils::MakeMaker'   =&gt; 6.52,
    },
</pre>
<p class="Pp">This <span class="Li">&quot;CONFIGURE_REQUIRES&quot;</span>
    directive ensures that the cpan shell will install Inline on the user's
    machine (if it's not already present) before building your Inline-based
    module. Specifying of &quot;ExtUtils::MakeMaker =&gt; 6.52,&quot; is
    optional, and can be omitted if you like. It ensures only that some harmless
    warnings relating to the
    <span class="Li">&quot;CONFIGURE_REQUIRES&quot;</span> directive won't be
    emitted during the building of the module. It also means, of course, that
    ExtUtils::Makemaker will first be updated on the user's machine unless the
    user already has version 6.52 or later.</p>
<p class="Pp">If the &quot;Inline-&gt;<b>init()</b>;&quot; is not done then,
    having installed Math::Simple, a warning that &quot;One or more DATA
    sections were not processed by Inline&quot; will appear when (and only when)
    Math::Simple is loaded by a &quot;require call. It's a harmless warning -
    and if you're prepared to live with it, then there's no need to make the
    &quot;Inline-&gt;<b>init()</b>;&quot; call.</p>
<p class="Pp">When the person installing
    <span class="Li">&quot;Math::Simple&quot;</span> does a
    &quot;<span class="Li">&quot;make&quot;</span>&quot;, the generated Makefile
    will invoke Inline in such a way that the C code will be compiled and the
    executable code will be placed into the
    <span class="Li">&quot;./blib&quot;</span> directory. Then when a
    &quot;<span class="Li">&quot;make install&quot;</span>&quot; is done, the
    module will be copied into the appropriate Perl sitelib directory (which is
    where an installed module should go).</p>
<p class="Pp">Now all you need to do is:</p>
<p class="Pp"></p>
<pre>    perl Makefile.PL
    make dist
</pre>
<p class="Pp">That will generate the file
    <span class="Li">&quot;Math-Simple-0.20.tar.gz&quot;</span> which is a
    distributable package. (It will also generate some harmless warnings in
    relation to <span class="Li">&quot;CONFIGURE_REQUIRES&quot;</span> unless
    the version of your ExtUtils::MakeMaker is 6.52 or later.) That's all there
    is to it.</p>
<p class="Pp"><b>IMPORTANT NOTE</b>: Although the above steps will produce a
    workable module, you still have a few more responsibilities as a budding new
    CPAN author. You need to write lots of documentation and write lots of
    tests. Take a look at some of the better CPAN modules for ideas on creating
    a killer test harness. Actually, don't listen to me, go read these:</p>
<ul class="Bl-bullet">
  <li>perldoc perlnewmod</li>
  <li>&lt;http://www.cpan.org/modules/04pause.html&gt;</li>
  <li>&lt;http://www.cpan.org/modules/00modlist.long.html&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="HOW_INLINE_WORKS"><a class="permalink" href="#HOW_INLINE_WORKS">HOW
  INLINE WORKS</a></h1>
<p class="Pp">In reality, Inline just automates everything you would need to do
    if you were going to do it by hand (using XS, etc).</p>
<p class="Pp">Inline performs the following steps:</p>
<ul class="Bl-bullet">
  <li>Receive the Source Code
    <p class="Pp">Inline gets the source code from your script or module with a
        statements like the following:</p>
    <p class="Pp"></p>
    <pre>    use Inline C =&gt; &quot;Source-Code&quot;;
    </pre>
    <p class="Pp">or</p>
    <p class="Pp"></p>
    <pre>    use Inline;
    bind Inline C =&gt; &quot;Source-Code&quot;;
    </pre>
    <p class="Pp">where <span class="Li">&quot;C&quot;</span> is the programming
        language of the source code, and <span class="Li">&quot;Source-</span>
        <span class="Li">Code&quot;</span> is a string, a file name, an array
        reference, or the special <span class="Li">'DATA'</span> keyword.</p>
    <p class="Pp">Since Inline is coded in a
        &quot;<span class="Li">&quot;use&quot;</span>&quot; statement,
        everything is done during Perl's compile time. If anything needs to be
        done that will affect the <span class="Li">&quot;Source-</span>
        <span class="Li">Code&quot;</span>, it needs to be done in a
        <span class="Li">&quot;BEGIN&quot;</span> block that is <i>before</i>
        the &quot;<span class="Li">&quot;use</span> <span class="Li">Inline
        ...&quot;</span>&quot; statement. If you really need to specify code to
        Inline at runtime, you can use the
        <span class="Li">&quot;bind()&quot;</span> method.</p>
    <p class="Pp">Source code that is stowed in the
        <span class="Li">'DATA'</span> section of your code, is read in by an
        <span class="Li">&quot;INIT&quot;</span> subroutine in Inline. That's
        because the <span class="Li">&quot;DATA&quot;</span> filehandle is not
        available at compile time.</p>
  </li>
  <li>Check if the Source Code has been Built
    <p class="Pp">Inline only needs to build the source code if it has not yet
        been built. It accomplishes this seemingly magical task in an extremely
        simple and straightforward manner. It runs the source text through the
        <span class="Li">&quot;Digest::MD5&quot;</span> module to produce a
        128-bit &quot;fingerprint&quot; which is virtually unique. The
        fingerprint along with a bunch of other contingency information is
        stored in a <span class="Li">&quot;.inl&quot;</span> file that sits next
        to your executable object. For instance, the
        <span class="Li">&quot;C&quot;</span> code from a script called
        <span class="Li">&quot;example.pl&quot;</span> might create these
      files:</p>
    <p class="Pp"></p>
    <pre>    example_pl_3a9a.so
    example_pl_3a9a.inl
    </pre>
    <p class="Pp">If all the contingency information matches the values stored
        in the <span class="Li">&quot;.inl&quot;</span> file, then proceed to
        step 8. (No compilation is necessary)</p>
  </li>
  <li>Find a Place to Build and Install
    <p class="Pp">At this point Inline knows it needs to build the source code.
        The first thing to figure out is where to create the great big mess
        associated with compilation, and where to put the object when it's
      done.</p>
    <p class="Pp">By default Inline will try to build and install under the
        first place that meets one of the following conditions:</p>
  </li>
</ul>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>The DIRECTORY= config option; if specified</dd>
  <dt>2.</dt>
  <dd>The <span class="Li">&quot;PERL_INLINE_DIRECTORY&quot;</span> environment
      variable; if set</dd>
  <dt>3.</dt>
  <dd><span class="Li">&quot;.Inline/&quot;</span> (in current directory); if
      exists and <span class="Li">&quot;$PWD != $HOME&quot;</span></dd>
  <dt>4.</dt>
  <dd>bin<i>.Inline</i> (in directory of your script); if exists</dd>
  <dt>5.</dt>
  <dd><span class="Li">&quot;~/.Inline/&quot;</span> - if exists</dd>
  <dt>6.</dt>
  <dd><span class="Li">&quot;./_Inline/&quot;</span> - if exists</dd>
  <dt>7.</dt>
  <dd><span class="Li">&quot;bin/_Inline&quot;</span> - if exists</dd>
  <dt>8.</dt>
  <dd>Create <span class="Li">&quot;./_Inline/&quot;</span> - if possible</dd>
  <dt>9.</dt>
  <dd>Create <span class="Li">&quot;bin/_Inline/&quot;</span> - if possible</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">Failing that, Inline will croak. This is rare and easily remedied
    by just making a directory that Inline will use.</p>
<p class="Pp">If the <span class="Li">&quot;PERL_INSTALL_ROOT&quot;</span>
    Environment Variable has been set, you will need to make special provision
    for that if the 'make install' phase of your Inline scripts are to
  succeed.</p>
<p class="Pp">If the module option is being compiled for permanent installation,
    then Inline will only use <span class="Li">&quot;./_Inline/&quot;</span> to
    build in, and the <span class="Li">$Config{installsitearch}</span> directory
    to install the executable in. This action is caused by Inline::MakeMaker,
    and is intended to be used in modules that are to be distributed on the
    CPAN, so that they get installed in the proper place.</p>
</div>
<ul class="Bl-bullet">
  <li>Parse the Source for Semantic Cues
    <p class="Pp">Inline::C uses the module
        <span class="Li">&quot;Parse::RecDescent&quot;</span> to parse through
        your chunks of C source code and look for things that it can create
        run-time bindings to. In <span class="Li">&quot;C&quot;</span> it looks
        for all of the function definitions and breaks them down into names and
        data types. These elements are used to correctly bind the
        <span class="Li">&quot;C&quot;</span> function to a
        <span class="Li">&quot;Perl&quot;</span> subroutine. Other Inline
        languages like Python and Java actually use the
        <span class="Li">&quot;python&quot;</span> and
        <span class="Li">&quot;javac&quot;</span> modules to parse the Inline
        code.</p>
  </li>
  <li>Create the Build Environment
    <p class="Pp">Now Inline can take all of the gathered information and create
        an environment to build your source code into an executable. Without
        going into all the details, it just creates the appropriate directories,
        creates the appropriate source files including an XS file (for C) and a
        <span class="Li">&quot;Makefile.PL&quot;</span>.</p>
  </li>
  <li>Build the Code and Install the Executable
    <p class="Pp">The planets are in alignment. Now for the easy part. Inline
        just does what you would do to install a module. &quot;`perl Makefile.PL
        &amp;&amp; make &amp;&amp; make test &amp;&amp; make install&gt;&quot;.
        If something goes awry, Inline will croak with a message indicating
        where to look for more info.</p>
  </li>
  <li>Tidy Up
    <p class="Pp">By default, Inline will remove all of the mess created by the
        build process, assuming that everything worked. If the build fails,
        Inline will leave everything intact, so that you can debug your errors.
        Setting the <span class="Li">&quot;noclean&quot;</span> shortcut option
        will also stop Inline from cleaning up.</p>
  </li>
  <li>DynaLoad the Executable
    <p class="Pp">For C (and C++), Inline uses the
        <span class="Li">&quot;DynaLoader::bootstrap&quot;</span> method to pull
        your external module into <span class="Li">&quot;Perl&quot;</span>
        space. Now you can call all of your external functions like Perl
        subroutines.</p>
    <p class="Pp">Other languages like Python and Java, provide their own
        loaders.</p>
  </li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">For information about using Inline with C see Inline::C.</p>
<p class="Pp">For sample programs using Inline with C see
  Inline::C-Cookbook.</p>
<p class="Pp">For &quot;Formerly Answered Questions&quot; about Inline, see
    Inline-FAQ.</p>
<p class="Pp">For information on supported languages and platforms see
    Inline-Support.</p>
<p class="Pp">For information on writing your own Inline Language Support
    Module, see Inline-API.</p>
<p class="Pp">Inline's mailing list is inline@perl.org</p>
<p class="Pp">To subscribe, send email to inline-subscribe@perl.org</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS_AND_DEFICIENCIES"><a class="permalink" href="#BUGS_AND_DEFICIENCIES">BUGS
  AND DEFICIENCIES</a></h1>
<p class="Pp">When reporting a bug, please do the following:</p>
<ul class="Bl-bullet">
  <li>Put &quot;use Inline 'reportbug';&quot; at the top of your code, or use
      the command line option &quot;perl -MInline=reportbug ...&quot;.</li>
  <li>Run your code.</li>
  <li>Follow the printed directions.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Ingy d&#x00F6;t Net &lt;ingy@cpan.org&gt;</p>
<p class="Pp">Sisyphus &lt;sisyphus@cpan.org&gt; fixed some bugs and is current
    co-maintainer.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<ul class="Bl-bullet">
  <li>Copyright 2000-2019. Ingy d&#x00F6;t Net.</li>
  <li>Copyright 2008, 2010-2014. Sisyphus.</li>
</ul>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See &lt;http://www.perl.com/perl/misc/Artistic.html&gt;</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-01-09</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
