<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   TclX.n
  
   Extended command set and environment for Tcl.
  ----------------------------------------------------------------------------
   Copyright 1992-1999 Karl Lehenbauer and Mark Diekhans.
   Copyright 2004 ActiveState Corporation.
  
   Permission to use, copy, modify, and distribute this software and its
   documentation for any purpose and without fee is hereby granted, provided
   that the above copyright notice appear in all copies.  Karl Lehenbauer and
   Mark Diekhans make no representations about the suitability of this
   software for any purpose.  It is provided "as is" without express or
   implied warranty.
  ----------------------------------------------------------------------------
   $Id: TclX.n,v 8.23 2004/11/22 21:58:20 hobbs Exp $
  ----------------------------------------------------------------------------
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>TclX(TCL)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TclX(TCL)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">TclX(TCL)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">TclX - Extended Tcl: Extended command set for Tcl</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>package require Tclx</b></p>
</section>
<section class="Sh">
<h1 class="Sh" id="INTRODUCTION"><a class="permalink" href="#INTRODUCTION">INTRODUCTION</a></h1>
<p class="Pp">This man page contains the documentation for all of the extensions
    that are added to Tcl by Extended Tcl (TclX). TclX extends Tcl's
    capabilities by adding new commands to it, without changing the syntax of
    standard Tcl. Extended Tcl is a superset of standard Tcl and is built
    alongside the standard Tcl sources.</p>
<p class="Pp">Extended Tcl was created by Karl Lehenbauer and Mark Diekhans and
    is freely redistributable for any use without license or fee.</p>
<p class="Pp">Available since 1989, Extended Tcl, also known as TclX, not only
    adds capabilities to Tcl, but has also been the source of many of the
    capabilities of the baseline Tcl release, including arrays, files, sockets,
    file events, and date and time handling, among others.</p>
<p class="Pp">Extended Tcl introduces a set of new commands and a
    user-extensible library of useful Tcl procedures, any of which can be
    automatically loaded on the first attempt to execute it.</p>
<p class="Pp">The command descriptions are separated into several sections:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&#x2022; General Commands</dt>
  <dd></dd>
  <dt>&#x2022; Debugging and Development Commands</dt>
  <dd></dd>
  <dt>&#x2022; Unix Access Commands</dt>
  <dd></dd>
  <dt>&#x2022; File Commands</dt>
  <dd></dd>
  <dt>&#x2022; Network Programming Support</dt>
  <dd></dd>
  <dt>&#x2022; File Scanning Commands</dt>
  <dd></dd>
  <dt>&#x2022; Math Commands</dt>
  <dd></dd>
  <dt>&#x2022; List Manipulation Commands</dt>
  <dd></dd>
  <dt>&#x2022; Keyed Lists</dt>
  <dd></dd>
  <dt>&#x2022; String and Character Manipulation Commands</dt>
  <dd></dd>
  <dt>&#x2022; XPG/3 Message Catalog Commands</dt>
  <dd></dd>
  <dt>&#x2022; Help Facility</dt>
  <dd></dd>
  <dt>&#x2022; Tcl Loadable Libraries and Packages</dt>
  <dd></dd>
</dl>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="GENERAL_COMMANDS"><a class="permalink" href="#GENERAL_COMMANDS">GENERAL
  COMMANDS</a></h1>
<p class="Pp">A set of general, useful Tcl commands, includes a command to begin
    an interactive session with Tcl, a facility for tracing execution, and a
    looping command.</p>
<dl class="Bl-tag">
  <dt id="dirs"><a class="permalink" href="#dirs"><b>dirs</b></a></dt>
  <dd>This procedure lists the directories in the directory stack.</dd>
  <dt id="commandloop"><a class="permalink" href="#commandloop"><b>commandloop
    </b>?<b>-async</b>? ?<b>-interactive </b><b>on | off | tty</b>? ?<b>-prompt1
    </b><i>cmd</i>? ?<b>-prompt2 </b><i>cmd</i>? ?<b>-endcommand
    </b><i>cmd</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Create an interactive command loop reading commands from stdin and writing
      results to stdout. Command loops are maybe either be blocking or event
      oriented. This command is useful for Tcl scripts that do not normally
      converse interactively with a user through a Tcl command interpreter, but
      which sometimes want to enter this mode, perhaps for debugging or user
      configuration. The command loop terminates on EOF.</dd>
  <dt></dt>
  <dd>The following options are available:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="async"><a class="permalink" href="#async"><b>-async</b></a></dt>
  <dd>A command handler will be associated with stdin. When input is available
      on stdin, it will be read and accumulated until a full command is
      available. That command will then be evaluated. An event loop must be
      entered for input to be read and processed.</dd>
  <dt id="interactive"><a class="permalink" href="#interactive"><b>-interactive
    on | off | tty</b></a></dt>
  <dd>Enable or disable interactive command mode. In interactive mode, commands
      are prompted for and the results of comments are printed. The value maybe
      any boolean value or <b>tty</b>. If <b>tty</b> is used, interactive mode
      is enabled if stdin is associated with a terminal or terminal emulator.
      The default is <b>tty</b>.</dd>
  <dt id="prompt1"><a class="permalink" href="#prompt1"><b>-prompt1
    </b><i>cmd</i></a></dt>
  <dd>If specified, <i>cmd</i> is used is evaluate and its result used for the
      main command prompt. If not specified, the command in <b>tcl_prompt1</b>
      is evaluated to output the prompt. Note the difference in behavior,
      <i>cmd</i> results is used, while <b>tcl_prompt1</b> outputs. This is to
      allow for future expansion to command loops that write to other than
      stdout.</dd>
  <dt id="prompt2"><a class="permalink" href="#prompt2"><b>-prompt2
    </b><i>cmd</i></a></dt>
  <dd>If specified, <i>cmd</i> is used is evaluate and its result used for the
      secondary (continuation) command prompt. If not specified, the command in
      <b>tcl_prompt2</b> is evaluated to output the prompt.</dd>
  <dt id="endcommand"><a class="permalink" href="#endcommand"><b>-endcommand
    </b><i>cmd</i></a></dt>
  <dd>If specified, <i>cmd</i> is evaluated when the command loop
    terminates.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>In interactive mode, the results of set commands with two arguments are
      not printed.</dd>
  <dt></dt>
  <dd>If <b>SIGINT</b> is configured to generate a Tcl error, it can be used to
      delete the current command being type without aborting the program in
      progress.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="echo"><a class="permalink" href="#echo"><b>echo </b>?<i>str
    ...</i>?</a></dt>
  <dd>Writes zero or more strings to standard output, followed by a
    newline.</dd>
  <dt id="infox"><a class="permalink" href="#infox"><b>infox</b>
    <i>option</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Return information about Extended Tcl, or the current application. The
      following <b>infox</b> command options are available:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="version"><a class="permalink" href="#version"><b>version</b></a></dt>
  <dd>Return the version number of Extended Tcl. The version number for Extended
      Tcl is generated by combining the base version of the standard Tcl code
      with another number indicating the version of Extended Tcl being
    used.</dd>
  <dt id="patchlevel"><a class="permalink" href="#patchlevel"><b>patchlevel</b></a></dt>
  <dd>Return the patchlevel for Extended Tcl.</dd>
  <dt id="have_fchown"><a class="permalink" href="#have_fchown"><b>have_fchown</b></a></dt>
  <dd>Return <b>1</b> if the <b>fchown</b> system call is available. This
      supports the <b>-fileid</b> option on the <b>chown</b> and <b>chgrp</b>
      commands.</dd>
  <dt id="have_fchmod"><a class="permalink" href="#have_fchmod"><b>have_fchmod</b></a></dt>
  <dd>Return <b>1</b> if the <b>fchmod</b> system call is available. This
      supports the <b>-fileid</b> option on the <b>chmod</b> command.</dd>
  <dt id="have_flock"><a class="permalink" href="#have_flock"><b>have_flock</b></a></dt>
  <dd>Return <b>1</b> if the <b>flock</b> command defined, <b>0</b> if it is not
      available.</dd>
  <dt id="have_fsync"><a class="permalink" href="#have_fsync"><b>have_fsync</b></a></dt>
  <dd>Return <b>1</b> if the <b>fsync</b> system call is available and the
      <b>sync</b> command will sync individual files. <b>0</b> if it is not
      available and the <b>sync</b> command will always sync all file
    buffers.</dd>
  <dt id="have_ftruncate"><a class="permalink" href="#have_ftruncate"><b>have_ftruncate</b></a></dt>
  <dd>Return <b>1</b> if the <b>ftruncate</b> or <b>chsize</b> system call is
      available. If it is, the <b>ftruncate</b> command <b>-fileid</b> option
      maybe used.</dd>
  <dt id="have_msgcats"><a class="permalink" href="#have_msgcats"><b>have_msgcats</b></a></dt>
  <dd>Return <b>1</b> if XPG message catalogs are available, <b>0</b> if they
      are not. The <b>catgets</b> is designed to continue to function without
      message catalogs, always returning the default string.</dd>
  <dt id="have_posix_signals"><a class="permalink" href="#have_posix_signals"><b>have_posix_signals</b></a></dt>
  <dd>Return <b>1</b> if Posix signals are available (<b>block</b> and
      <b>unblock</b> options available for the signal command). <b>0</b> is
      returned if Posix signals are not available.</dd>
  <dt id="have_signal_restart"><a class="permalink" href="#have_signal_restart"><b>have_signal_restart</b></a></dt>
  <dd>Return <b>1</b> if restartable signals are available (<b>-restart</b>
      option available for the signal command). <b>0</b> is returned if
      restartable signals are not available.</dd>
  <dt id="have_truncate"><a class="permalink" href="#have_truncate"><b>have_truncate</b></a></dt>
  <dd>Return <b>1</b> if the <b>truncate</b> system call is available. If it is,
      the <b>ftruncate</b> command may truncate by file path.</dd>
  <dt id="have_waitpid"><a class="permalink" href="#have_waitpid"><b>have_waitpid</b></a></dt>
  <dd>Return <b>1</b> if the <b>waitpid</b> system call is available and the
      <b>wait</b> command has full functionality. <b>0</b> if the <b>wait</b>
      command has limited functionality.</dd>
  <dt id="appname"><a class="permalink" href="#appname"><b>appname</b></a></dt>
  <dd>Return the symbolic application name of the current application linked
      with the Extended Tcl library. The C variable <b>tclAppName</b> must be
      set by the application to return an application specific value for this
      variable.</dd>
  <dt id="applongname"><a class="permalink" href="#applongname"><b>applongname</b></a></dt>
  <dd>Return a natural language name for the current application. The C variable
      <b>tclLongAppName</b> must be set by the application to return an
      application specific value for this variable.</dd>
  <dt id="appversion"><a class="permalink" href="#appversion"><b>appversion</b></a></dt>
  <dd>Return the version number for the current application. The C variable
      <b>tclAppVersion</b> must be set by the application to return an
      application-specific value for this variable.</dd>
  <dt id="apppatchlevel"><a class="permalink" href="#apppatchlevel"><b>apppatchlevel</b></a></dt>
  <dd>Return the patchlevel for the current application. The C variable
      <b>tclAppPatchlevel</b> must be set by the application to return an
      application-specific value for this variable.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="for_array_keys"><a class="permalink" href="#for_array_keys"><b>for_array_keys</b>
    <i>var array_name code</i></a></dt>
  <dd>This procedure performs a foreach-style loop for each key in the named
      array. The <b>break</b> and <b>continue</b> statements work as with
      <b>foreach</b>.</dd>
  <dt id="for_recursive_glob"><a class="permalink" href="#for_recursive_glob"><b>for_recursive_glob</b>
    <i>var dirlist globlist code</i></a></dt>
  <dd>This procedure performs a foreach-style loop over recursively matched
      files. All directories in <i>dirlist</i> are recursively searched
      (breadth-first), comparing each file found against the file glob patterns
      in <b>globlist</b>. For each matched file, the variable <i>var</i> is set
      to the file path and <i>code</i> is evaluated. Symbolic links are not
      followed.</dd>
  <dt id="loop"><a class="permalink" href="#loop"><b>loop</b> <i>var first limit
    ?increment? body</i></a></dt>
  <dd><b>Loop</b> is a looping command, similar in behavior to the Tcl
      <b>for</b> statement, except that the <b>loop</b> statement achieves
      substantially higher performance and is easier to code when the beginning
      and ending values of a loop are known, and the loop variable is to be
      incremented by a known, fixed amount every time through the loop.
    <p class="Pp">
      <br/>
       The <i>var</i> argument is the name of a Tcl variable that will contain
        the loop index. The loop index is set to the value specified by
        <i>first</i>. The Tcl interpreter is invoked upon <i>body</i> zero or
        more times, where <i>var</i> is incremented by <i>increment</i> every
        time through the loop, or by one if <i>increment</i> is not specified.
        <i>Increment</i> can be negative in which case the loop will count
        downwards.</p>
    <p class="Pp">When <i>var</i> reaches <i>limit</i>, the loop terminates
        without a subsequent execution of <i>body</i>. For instance, if the
        original <b>loop</b> parameters would cause <b>loop</b> to terminate,
        say <i>first</i> was one, <i>limit</i> was zero and <i>increment</i> was
        not specified or was non-negative, <i>body</i> is not executed at all
        and <b>loop</b> returns.</p>
    <p class="Pp">The <i>first</i>, <i>limit</i> and <i>increment</i> are
        integer expressions. They are only evaluated once at the beginning of
        the loop.</p>
    <p class="Pp">If a <b>continue</b> command is invoked within <i>body</i>
        then any remaining commands in the current execution of <i>body</i> are
        skipped, as in the <b>for</b> command. If a <b>break</b> command is
        invoked within <i>body</i> then the <b>loop</b> command will return
        immediately. <b>Loop</b> returns an empty string.</p>
  </dd>
  <dt id="popd"><a class="permalink" href="#popd"><b>popd</b></a></dt>
  <dd>This procedure pops the top directory entry from the directory stack and
      make it the current directory.</dd>
  <dt id="pushd"><a class="permalink" href="#pushd"><b>pushd</b>
    ?<i>dir</i>?</a></dt>
  <dd>This procedure pushes the current directory onto the directory stack and
      <b>cd</b> to the specified directory. If the directory is not specified,
      then the current directory is pushed, but remains unchanged.</dd>
  <dt id="recursive_glob"><a class="permalink" href="#recursive_glob"><b>recursive_glob</b>
    <i>dirlist globlist</i></a></dt>
  <dd>This procedure returns a list of recursively matches files. All
      directories in <i>dirlist</i> are recursively searched (breadth-first),
      comparing each file found against the file glob patterns in
      <b>globlist</b>. Symbolic links are not followed.</dd>
  <dt id="showproc"><a class="permalink" href="#showproc"><b>showproc
    </b>?<i>procname ...?</i></a></dt>
  <dd>This procedure lists the definition of the named procedures. Loading them
      if it is not already loaded. If no procedure names are supplied, the
      definitions of all currently loaded procedures are returned.</dd>
  <dt id="try_eval"><a class="permalink" href="#try_eval"><b>try_eval</b>
    <i>code</i> <i>catch</i> ?<i>finally</i>?</a></dt>
  <dd>The <b>try_eval</b> command evaluates <i>code</i> in the current
    context.</dd>
</dl>
<p class="Pp">If an error occurs during the evaluation and <i>catch</i> is not
    empty, then <i>catch</i> is evaluated to handler the error. The result of
    the command, containing the error message, will be stored in a global
    variable <b>errorResult</b>. The global variables <b>errorResult</b>,
    <b>errorInfo</b> and <b>errorCode</b> will be imported into the current
    scope, there is no need to execute a <b>global</b> command. The result of
    the <i>catch</i> command becomes the result of the <b>try_eval</b> command.
    If the error that caused the <i>catch</i> to be evaluate is to be continued,
    the following command should be used:
  <br/>
</p>
<pre>	<b>error $errorResult $errorCode $errorInfo</b></pre>
<br/>
<p class="Pp">If the <i>finally</i> argument is supplied and not empty, it is
    evaluated after the evaluation of the <i>code</i> and the <i>catch</i>
    commands. If an error occurs during the evaluation of the <i>finally</i>
    command, it becomes the result of the <b>try_eval</b> command. Otherwise,
    the result of either <i>code</i> or <i>catch</i> is preserved, as described
    above.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEBUGGING_AND_DEVELOPMENT_COMMANDS"><a class="permalink" href="#DEBUGGING_AND_DEVELOPMENT_COMMANDS">DEBUGGING
  AND DEVELOPMENT COMMANDS</a></h1>
<p class="Pp">This section contains information on commands and procedures that
    are useful for developing and debugging Tcl scripts.</p>
<p class="Pp"></p>
<dl class="Bl-tag">
  <dt id="cmdtrace"><a class="permalink" href="#cmdtrace"><b>cmdtrace</b>
    <i>level</i> | <b>on</b> ?<b>noeval</b>? ?<b>notruncate</b>? ?<i>procs</i>?
    ?<i>fileid</i>? ?<b>command</b><i> cmd</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Print a trace statement for all commands executed at depth of <i>level</i>
      or below (1 is the top level). If <b>on</b> is specified, all commands at
      any level are traced. The following options are available:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="noeval"><a class="permalink" href="#noeval"><b>noeval</b></a></dt>
  <dd>Causes arguments to be printed unevaluated. If <b>noeval</b> is specified,
      the arguments are printed before evaluation. Otherwise, they are printed
      afterwards.
    <p class="Pp">If the command line is longer than 60 characters, it is
        truncated to 60 and a &quot;...&quot; is postpended to indicate that
        there was more output than was displayed. If an evaluated argument
        contains a space, the entire argument will be enclosed inside of braces
        (`{}') to allow the reader to visually separate the arguments from each
        other.</p>
  </dd>
  <dt id="notruncate"><a class="permalink" href="#notruncate"><b>notruncate</b></a></dt>
  <dd>Disables the truncation of commands and evaluated arguments.</dd>
  <dt id="procs"><a class="permalink" href="#procs"><b>procs</b></a></dt>
  <dd>Enables the tracing of procedure calls only. Commands that aren't
      procedure calls (i.e. calls to commands that are written in C, C++ or some
      object-compatible language) are not traced if the <b>procs</b> option is
      specified. This option is particularly useful for greatly reducing the
      output of <b>cmdtrace</b> while debugging.</dd>
  <dt id="fileid"><a class="permalink" href="#fileid"><b>fileid</b></a></dt>
  <dd>This is a file id as returned by the <b>open</b> command. If specified,
      then the trace output will be written to the file rather than stdout. A
      stdio buffer flush is done after every line is written so that the trace
      may be monitored externally or provide useful information for debugging
      problems that cause core dumps.</dd>
  <dt id="command"><a class="permalink" href="#command"><b>command</b>
    <i>cmd</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Call the specified command <i>cmd</i> on when each command is executed
      instead of tracing to a file. See the description of the functionally
      below. This option may not be specified with a <b>fileid</b>.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The most common use of this command is to enable tracing to a file during
      the development. If a failure occurs, a trace is then available when
      needed. Command tracing will slow down the execution of code, so it should
      be removed when code is debugged. The following command will enable
      tracing to a file for the remainder of the program:</dd>
  <dt></dt>
  <dd>
    <pre>
<span class="Li">	cmdtrace on [open cmd.log w]</span>
    </pre>
  </dd>
  <dt></dt>
  <dd>The <b>command</b> option causes a user specified trace command to be
      called for each command executed. The command will have the following
      arguments appended to it before evaluation:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="command~2"><a class="permalink" href="#command~2"><i>command</i></a></dt>
  <dd>A string containing the text of the command, before any argument
      substitution.</dd>
  <dt id="argv"><a class="permalink" href="#argv"><i>argv</i></a></dt>
  <dd>A list of the final argument information that will be passed to the
      command after command, variable, and backslash substitution.</dd>
  <dt id="evalLevel"><a class="permalink" href="#evalLevel"><i>evalLevel</i></a></dt>
  <dd>The <b>Tcl_Eval</b> call level.</dd>
  <dt id="procLevel"><a class="permalink" href="#procLevel"><i>procLevel</i></a></dt>
  <dd>The procedure call level.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The command should be constructed in such a manner that it will work if
      additional arguments are added in the future. It is suggested that the
      command be a <b>proc</b> with the final argument being <b>args</b>.</dd>
  <dt></dt>
  <dd>Tracing will be turned off while the command is being executed. The values
      of the <b>errorInfo</b> and <b>errorCode</b> variables will be saved and
      restored on return from the command. It is the command's responsibility to
      preserve all other state.</dd>
  <dt></dt>
  <dd>If an error occurs during the execution of <b>command</b>, an error
      message is dumped to stderr and the tracing is disabled. The underlying
      mechanism that this functionality is built on does not support returning
      an error to the interpreter.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="cmdtrace~2"><a class="permalink" href="#cmdtrace~2"><b>cmdtrace
    off</b></a></dt>
  <dd>Turn off all tracing.</dd>
  <dt id="cmdtrace~3"><a class="permalink" href="#cmdtrace~3"><b>cmdtrace
    depth</b></a></dt>
  <dd>Returns the current maximum trace level, or zero if trace is
    disabled.</dd>
  <dt id="edprocs"><a class="permalink" href="#edprocs"><b>edprocs
    </b>?<i>proc</i>...?</a></dt>
  <dd>This procedure writes the named procedures, or all currently defined
      procedures, to a temporary file, then calls an editor on it (as specified
      by the <b>EDITOR</b> environment variable, or <b>vi</b> if none is
      specified), then sources the file back in if it was changed.</dd>
  <dt id="profile"><a class="permalink" href="#profile"><b>profile</b>
    ?<i>-commands</i>? ?<i>-eval</i>? <b>on</b></a></dt>
  <dd></dd>
  <dt id="profile~2"><a class="permalink" href="#profile~2"><b>profile off</b>
    <i>arrayVar</i></a></dt>
  <dd>This command is used to collect a performance profile of a Tcl script. It
      collects data at the Tcl procedure level. The number of calls to a
      procedure, and the amount of real and CPU time is collected. Time is also
      collected for the global context. The procedure data is collected by
      bucketing it based on the procedure call stack, this allows determination
      of how much time is spent in a particular procedure in each of it's
      calling contexts.
    <p class="Pp">The <b>on</b> option enables profile data collection. If the
        <b>-commands</b> option is specified, data on all commands within a
        procedure is collected as well a procedures. Multiple occurrences of a
        command within a procedure are not distinguished, but this data may
        still be useful for analysis.</p>
    <p class="Pp">The <b>off</b> option turns off profiling and moves the data
        collected to the array <i>arrayVar</i>. The array is address by a list
        containing the procedure call stack. Element zero is the top of the
        stack, the procedure that the data is for. The data in each entry is a
        list consisting of the procedure call count and the real time and CPU
        time in milliseconds spent in the procedure (but not any procedures it
        calls). The list is in the form {<i>count real cpu</i>}.</p>
    <p class="Pp">Normally, the variable scope stack is used in reporting where
        time is spent. Thus upleveled code is reported in the context that it
        was executed in, not the context that the uplevel was called in. If the
        <b>-eval</b> option is specified, the procedure evaluation (call) stack
        is used instead of the procedure scope stack. Upleveled code is reported
        in the context of the procedure that did the uplevel.</p>
    <p class="Pp">A Tcl procedure <b>profrep</b> is supplied for reducing the
        data and producing a report.</p>
    <p class="Pp">On <b>Windows</b>, profile command only reports elapsed real
        time, CPU time is not available and is reported as zero.</p>
  </dd>
  <dt id="profrep"><a class="permalink" href="#profrep"><b>profrep</b>
    <i>profDataVar sortKey</i> ?<i>outFile</i>? ?<i>userTitle</i>?</a></dt>
  <dd>This procedure generates a report from data collect from the profile
      command. <b>ProfDataVar</b> is the name of the array containing the data
      returned by the <b>profile</b> command. <b>SortKey</b> indicates which
      data value to sort by. It should be one of &quot;<b>calls</b>&quot;,
      &quot;<b>cpu</b>&quot; or &quot;<b>real</b>&quot;. <b>OutFile</b> is the
      name of file to write the report to. If omitted, stdout is assumed.
      <b>UserTitle</b> is an optional title line to add to output.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Listed with indentation below each procedure or command is the procedure
      call stack. The first indented line being the procedure that invoked the
      reported procedure or command. The next line is the procedure that invoked
      the procedure above it, and so on. If no indented procedures are shown,
      the procedure or command was called from the global context. Time actually
      spent in the global context is listed on a line labeled
      <b>&lt;global&gt;</b>. Upleveled code is reported in the context that it
      was executed in, not the context that the uplevel was called in.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="saveprocs"><a class="permalink" href="#saveprocs"><b>saveprocs</b>
    <i>fileName</i> ?<i>proc</i>...?</a></dt>
  <dd>This procedure saves the definition of the named procedure, or all
      currently defined procedures if none is specified, to the named file.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="UNIX_ACCESS_COMMANDS"><a class="permalink" href="#UNIX_ACCESS_COMMANDS">UNIX
  ACCESS COMMANDS</a></h1>
<p class="Pp">These commands provide access to many basic Unix facilities,
    including process handling, date and time processing, signal handling and
    the executing commands via the shell.</p>
<dl class="Bl-tag">
  <dt id="alarm"><a class="permalink" href="#alarm"><b>alarm</b>
    <i>seconds</i></a></dt>
  <dd>Instructs the system to send a SIGALRM signal in the specified number of
      seconds. This is a floating point number, so fractions of a section may be
      specified. If <i>seconds</i> is 0.0, any previous alarm request is
      canceled. Only one alarm at a time may be active; the command returns the
      number of seconds left in the previous alarm. On systems without the
      <b>setitimer</b> system call, <i>seconds</i> is rounded up to an integer
      number of seconds.
    <p class="Pp">The <b>alarm</b> command is not available on
      <b>Windows</b>.</p>
  </dd>
  <dt id="execl"><a class="permalink" href="#execl"><b>execl </b>?<b>-argv0</b>
    argv0? <i>prog</i> ?<i>arglist</i>?</a></dt>
  <dd>Do an execl, replacing the current program (either Extended Tcl or an
      application with Extended Tcl embedded into it) with <i>prog</i> and
      passing the arguments in the list <i>arglist</i>.
    <p class="Pp">The <b>-argv0</b> options specifies that <i>argv0</i> is to be
        passed to the program as argv [0] rather than <i>prog</i>.</p>
    <p class="Pp">Note: If you are using <b>execl</b> in a Tk application and it
        fails, you may not do anything that accesses the X server or you will
        receive a <b>BadWindow</b> error from the X server. This includes
        executing the Tk version of the <b>exit</b> command. We suggest using
        the following command to abort Tk applications after an <b>execl</b>
        failure:</p>
    <p class="Pp"></p>
    <pre>
<br/>
<span class="Li">    kill [id process]</span>
    </pre>
    <p class="Pp">On <b>Windows</b>, where the <b>fork</b> command is not
        available, <b>execl</b> starts a new process and returns the process
      id.</p>
  </dd>
  <dt id="chroot"><a class="permalink" href="#chroot"><b>chroot</b>
    <i>dirname</i></a></dt>
  <dd>Change root directory to <i>dirname</i>, by invoking the POSIX
      <b>chroot(2)</b> system call. This command only succeeds if running as
      root.</dd>
  <dt id="fork"><a class="permalink" href="#fork"><b>fork</b></a></dt>
  <dd>Fork the current Tcl process. Fork returns zero to the child process and
      the process number of the child to the parent process. If the fork fails,
      a Tcl error is generated.
    <p class="Pp">If an <b>execl</b> is not going to be performed before the
        child process does output, or if a <b>close</b> and <b>dup</b> sequence
        is going to be performed on <b>stdout</b> or <b>stderr</b>, then a
        <b>flush</b> should be issued against <b>stdout</b>, <b>stderr</b> and
        any other open output file before doing the <b>fork</b>. Otherwise
        characters from the parent process pending in the buffers will be output
        by both the parent and child processes.</p>
    <p class="Pp">Note: If you are <b>fork</b>ing in a Tk based application you
        must <b>execl</b> before doing any window operations in the child or you
        will receive a <b>BadWindow</b> error from the X server.</p>
    <p class="Pp">The <b>fork</b> command is not available on
      <b>Windows</b>.</p>
  </dd>
  <dt id="id"><a class="permalink" href="#id"><b>id options</b></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>This command provides a means of getting, setting and converting user,
      group and process ids. The <b>id</b> command has the following
    options:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="id~2"><a class="permalink" href="#id~2"><b>id user
    </b>?<i>name</i>?</a></dt>
  <dd></dd>
  <dt id="id~3"><a class="permalink" href="#id~3"><b>id userid
    </b>?<i>uid</i>?</a></dt>
  <dd>Set the real and effective user ID to <i>name</i> or <i>uid</i>, if the
      name (or uid) is valid and permissions allow it. If the name (or uid) is
      not specified, the current name (or uid) is returned.</dd>
  <dt id="id~4"><a class="permalink" href="#id~4"><b>id convert userid</b>
    <i>uid</i></a></dt>
  <dd></dd>
  <dt id="id~5"><a class="permalink" href="#id~5"><b>id convert user</b>
    <i>name</i></a></dt>
  <dd>Convert a user ID number to a user name, or vice versa.</dd>
  <dt id="id~6"><a class="permalink" href="#id~6"><b>id group
    </b>?<i>name</i>?</a></dt>
  <dd></dd>
  <dt id="id~7"><a class="permalink" href="#id~7"><b>id groupid
    </b>?<i>gid</i>?</a></dt>
  <dd>Set the real and effective group ID to <i>name</i> or <i>gid</i>, if the
      name (or gid) is valid and permissions allow it. If the group name (or
      gid) is not specified, the current group name (or gid) is returned.</dd>
  <dt id="id~8"><a class="permalink" href="#id~8"><b>id groups</b></a></dt>
  <dd></dd>
  <dt id="id~9"><a class="permalink" href="#id~9"><b>id groupids</b></a></dt>
  <dd>Return the current group access list of the process. The option
      <b>groups</b> returns group names and <b>groupids</b> returns id
    numbers.</dd>
  <dt id="id~10"><a class="permalink" href="#id~10"><b>id convert groupid</b>
    <i>gid</i></a></dt>
  <dd></dd>
  <dt id="id~11"><a class="permalink" href="#id~11"><b>id convert group</b>
    <i>name</i></a></dt>
  <dd>Convert a group ID number to a group name, or vice versa.</dd>
  <dt id="id~12"><a class="permalink" href="#id~12"><b>id effective
    user</b></a></dt>
  <dd></dd>
  <dt id="id~13"><a class="permalink" href="#id~13"><b>id effective
    userid</b></a></dt>
  <dd>Return the effective user name, or effective user ID number,
    respectively.</dd>
  <dt id="id~14"><a class="permalink" href="#id~14"><b>id effective
    group</b></a></dt>
  <dd></dd>
  <dt id="id~15"><a class="permalink" href="#id~15"><b>id effective
    groupid</b></a></dt>
  <dd>Return the effective group name, or effective group ID number,
      respectively.</dd>
  <dt id="id~16"><a class="permalink" href="#id~16"><b>id effective
    groupids</b></a></dt>
  <dd>Return all of the groupids the user is a member of.</dd>
  <dt id="id~17"><a class="permalink" href="#id~17"><b>id host</b></a></dt>
  <dd>Return the hostname of the system the program is running on.</dd>
  <dt id="id~18"><a class="permalink" href="#id~18"><b>id process</b></a></dt>
  <dd>Return the process ID of the current process.</dd>
  <dt id="id~19"><a class="permalink" href="#id~19"><b>id process
    parent</b></a></dt>
  <dd>Return the process ID of the parent of the current process.</dd>
  <dt id="id~20"><a class="permalink" href="#id~20"><b>id process
    group</b></a></dt>
  <dd>Return the process group ID of the current process.</dd>
  <dt id="id~21"><a class="permalink" href="#id~21"><b>id process group
    set</b></a></dt>
  <dd>Set the process group ID of the current process to its process ID.</dd>
  <dt id="id~22"><a class="permalink" href="#id~22"><b>id host</b></a></dt>
  <dd>Returns the standard host name of the machine the process is executing
    on.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>On <b>Windows</b>, only the <b>host</b> and <b>process</b> options are
      implemented.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="kill"><a class="permalink" href="#kill"><b>kill</b> ?<b>-pgroup</b>
    ?<i>signal</i>? <i>idlist</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Send a signal to the each process in the list <i>idlist</i>, if permitted.
      <i>Signal</i>, if present, is the signal number or the symbolic name of
      the signal, see the signal system call manual page. The leading ``SIG'' is
      optional when the signal is specified by its symbolic name. The default
      for <i>signo</i> is 15, SIGTERM.</dd>
  <dt></dt>
  <dd>If <b>-pgroup</b> is specified, the numbers in <i>idlist</i> are take as
      process group ids and the signal is sent to all of the process in that
      process group. A process group id of <b>0</b> specifies the current
      process group.</dd>
  <dt></dt>
  <dd>On <b>Windows</b>, the <b>kill</b> command is capable of terminating a
      process, but not of sending an arbitrary signal.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="link"><a class="permalink" href="#link"><b>link</b> ?<b>-sym</b>?
    <i>srcpath destpath</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Create a directory entry, <i>destpath</i>, linking it to the existing
      file, <i>srcpath</i>. If <b>-sym</b> is specified, a symbolic link, rather
      than a hard link, is created. (The <b>-sym</b> option is only available on
      systems that support symbolic links.)</dd>
  <dt></dt>
  <dd>The <b>link</b> command is not available on <b>Windows</b>. Use the Tcl
      8.4+ <b>file link</b> command instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="nice"><a class="permalink" href="#nice"><b>nice
    </b>?<i>priorityincr</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Change or return the process priority. If <i>priorityincr</i> is omitted,
      the current priority is returned. If <i>priorityincr</i> is positive, it
      is added to the current <i>priority</i> level, up to a system defined
      maximum (normally <b>19</b>),</dd>
  <dt></dt>
  <dd>Negative <i>priorityincr</i> values cumulatively increase the program's
      priority down to a system defined minimum (normally <b>-19</b>);
      increasing priority with negative niceness values will only work for the
      superuser.</dd>
  <dt></dt>
  <dd>The new priority is returned.</dd>
  <dt></dt>
  <dd>The <b>nice</b> command is not available on <b>Windows</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="readdir"><a class="permalink" href="#readdir"><b>readdir</b>
    ?<i>-hidden</i>? <i>dirPath</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Returns a list containing the contents of the directory <i>dirPath</i>.
      The directory entries &quot;.&quot; and &quot;..&quot; are not
    returned.</dd>
  <dt></dt>
  <dd>On <b>Windows</b>, <b>-hidden</b> maybe specified to include hidden files
      in the result. This flag is ignored on Unix systems.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="signal"><a class="permalink" href="#signal"><b>signal</b>
    ?<i>-restart</i>? <i>action</i> <i>siglist</i> ?<i>command</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Warning: If signals are being used as an event source (a <b>trap</b>
      action), rather than generating an error to terminate a task; one must use
      the <b>-restart</b> option. This causes a blocked system call, such as
      <b>read</b> or <b>waitpid</b> to be restarted rather than generate an
      error. Failure to do this may results in unexpected errors when a signal
      arrives while in one of these system calls. When available, the
      <b>-restart</b> option can prevent this problem.</dd>
  <dt></dt>
  <dd>If <b>-restart</b> is specified, restart blocking system calls rather than
      generating an error. The signal will be handled once the Tcl command that
      issued the system call completes. The <b>-restart</b> options is not
      available on all operating systems and its use will generate an error when
      it is not supported. Use <b>infox have_signal_restart</b> to check for
      availability.</dd>
  <dt></dt>
  <dd>Specify the action to take when a Unix signal is received by Extended Tcl,
      or a program that embeds it. <i>Siglist</i> is a list of either the
      symbolic or numeric Unix signal (the SIG prefix is optional).
      <i>Action</i> is one of the following actions to be performed on receipt
      of the signal. To specify all modifiable signals, use `*' (this will not
      include SIGKILL and SIGSTOP, as they can not be modified).</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="default"><a class="permalink" href="#default"><b>default</b></a></dt>
  <dd>Perform system default action when signal is received (see <b>signal</b>
      system call documentation).</dd>
  <dt id="ignore"><a class="permalink" href="#ignore"><b>ignore</b></a></dt>
  <dd>Ignore the signal.</dd>
  <dt id="error"><a class="permalink" href="#error"><b>error</b></a></dt>
  <dd>Generate a catchable Tcl error. It will be as if the command that was
      running returned an error. The error code will be in the form:
    <br/>
    <pre>	<b>POSIX SIG</b> <i>signame</i></pre>
    <br/>
    For the death of child signal, <i>signame</i> will always be SIGCHLD, rather
      than SIGCLD, to allow writing portable code.</dd>
  <dt id="trap"><a class="permalink" href="#trap"><b>trap</b></a></dt>
  <dd>When the signal occurs, execute <i>command</i> and continue execution if
      an error is not returned by <i>command</i>. The command will be executed
      in the global context. The command will be edited before execution,
      replacing occurrences of &quot;%S&quot; with the signal name. Occurrences
      of &quot;%%&quot; result in a single &quot;%&quot;. This editing occurs
      just before the trap command is evaluated. If an error is returned, then
      follow the standard Tcl error mechanism. Often <i>command</i> will just do
      an <b>exit</b>.</dd>
  <dt id="get"><a class="permalink" href="#get"><b>get</b></a></dt>
  <dd>Retrieve the current settings of the specified signals. A keyed list will
      be returned were the keys are one of the specified signals and the values
      are a list consisting of the action associated with the signal, a <b>0</b>
      if the signal may be delivered (not block) and a <b>1</b> if it is blocked
      and a flag indicating if restarting of system calls is specified. The
      actions maybe one of `<b>default</b>',`<b>ignore</b>', `<b>error</b>' or
      `<b>trap</b>'. If the action is trap, the third element is the command
      associated with the action. The action `<b>unknown</b>' is returned if a
      non-Tcl signal handler has been associated with the signal.</dd>
  <dt id="set"><a class="permalink" href="#set"><b>set</b></a></dt>
  <dd>Set signals from a keyed list in the format returned by the <b>get</b>.
      For this action, <i>siglist</i> is the keyed list of signal state. Signals
      with an action of `<b>unknown</b>' are not modified.</dd>
  <dt id="block"><a class="permalink" href="#block"><b>block</b></a></dt>
  <dd>Block the specified signals from being received. (Posix systems
    only).</dd>
  <dt id="unblock"><a class="permalink" href="#unblock"><b>unblock</b></a></dt>
  <dd>Allow the specified signal to be received. Pending signals will not occur.
      (Posix systems only).</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The signal action will remain enabled after the specified signal has
      occurred. The exception to this is <b>SIGCHLD</b> on systems without Posix
      signals. For these systems, <b>SIGCHLD</b> is not be automatically
      reenabled. After a <b>SIGCHLD</b> signal is received, a call to
      <b>wait</b> must be performed to retrieve the exit status of the child
      process before issuing another <b>signal SIGCHLD </b><i>...</i> command.
      For code that is to be portable between both types of systems, use this
      approach.</dd>
  <dt></dt>
  <dd>Signals are not processed until after the completion of the Tcl command
      that is executing when the signal is received. If an interactive Tcl shell
      is running, then the <b>SIGINT</b> will be set to <b>error</b>,
      non-interactive Tcl sessions leave <b>SIGINT</b> unchanged from when the
      process started (normally <b>default</b> for foreground processes and
      <b>ignore</b> for processes in the background).</dd>
</dl>
<dl class="Bl-tag">
  <dt id="sleep"><a class="permalink" href="#sleep"><b>sleep</b>
    <i>seconds</i></a></dt>
  <dd>
    <br/>
    Sleep the Extended Tcl process for <i>seconds</i> seconds. <i>Seconds, if
      specified as a decimal number,</i> <i>is truncated to an integer
      value.</i></dd>
  <dt id="system"><a class="permalink" href="#system"><b>system</b>
    <i>cmdstr1</i> ?<i>cmdstr2</i>...?</a></dt>
  <dd>
    <br/>
    Concatenates <i>cmdstr1</i>, <i>cmdstr2</i> etc with space separators (see
      the <b>concat</b> command) into a single command and then evaluates the
      command using the standard system shell. On Unix systems, this is
      <b>/bin/sh</b> and on Windows its <b>command.com</b>. The exit code of the
      command is returned.
    <p class="Pp">This command differs from the <b>exec</b> command in that
        <b>system</b> doesn't return the executed command's standard output as
        the result string, and <b>system</b> goes through the Unix shell to
        provide wild card expansion, redirection, etc, as is normal from an
        <b>sh</b> command line.</p>
  </dd>
  <dt id="sync"><a class="permalink" href="#sync"><b>sync
    </b>?<i>fileId</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <i>fileId</i> is not specified, or if it is and this system does not
      support the <i>fsync</i> system call, issues a <i>sync</i> system call to
      flush all pending disk output. If <i>fileId</i> is specified and the
      system does support the <i>fsync</i> system call, issues an <i>fsync</i>
      on the file corresponding to the specified Tcl <i>fileId</i> to force all
      pending output to that file out to the disk.</dd>
  <dt></dt>
  <dd>If <i>fileId</i> is specified, the file must be writable. A <b>flush</b>
      will be issued against the <i>fileId</i> before the sync.</dd>
  <dt></dt>
  <dd>The <i>infox have_fsync</i> command can be used to determine if
      &quot;<b>sync</b> <i>fileId</i>&quot; will do a <i>sync</i> or a
      <i>fsync</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="times"><a class="permalink" href="#times"><b>times</b></a></dt>
  <dd>
    <br/>
    Return a list containing the process and child execution times in the form:
    <br/>
    <pre>	<i>utime stime cutime cstime</i></pre>
    <br/>
    Also see the <i>times</i>(2) system call manual page. The values are in
      milliseconds.</dd>
  <dt id="umask"><a class="permalink" href="#umask"><b>umask
    </b>?<i>octalmask</i>?</a></dt>
  <dd>
    <br/>
    Sets file-creation mode mask to the octal value of <i>octalmask</i>. If
      <i>octalmask</i> is omitted, the current mask is returned.</dd>
  <dt id="wait"><a class="permalink" href="#wait"><b>wait </b>?<b>-nohang</b>?
    ?<b>-untraced</b>? ?<b>-pgroup</b>? ?<i>pid</i>?</a></dt>
  <dd>
    <br/>
    Waits for a process created with the <b>execl</b> command to terminate,
      either due to an untrapped signal or call to <i>exit</i> system call. If
      the process id <i>pid</i> is specified, they wait on that process,
      otherwise wait on any child process to terminate.
    <p class="Pp">If <b>-nohang</b> is specified, then don't block waiting on a
        process to terminate. If no process is immediately available, return an
        empty list. If <b>-untraced</b> is specified then the status of child
        processes that are stopped, and whose status has not yet been reported
        since they stopped, are also returned. If <b>-pgroup</b> is specified
        and <i>pid</i> is not specified, then wait on any child process whose
        process group ID is they same as the calling process. If <i>pid</i> is
        specified with <b>-pgroup</b>, then it is take as a process group ID,
        waiting on any process in that process group to terminate.</p>
    <p class="Pp"><b>Wait</b> returns a list containing three elements: The
        first element is the process id of the process that terminated. If the
        process exited normally, the second element is `EXIT', and the third
        contains the numeric exit code. If the process terminated due to a
        signal, the second element is `SIG', and the third contains the signal
        name. If the process is currently stopped (on systems that support
        SIGSTP), the second element is `STOP', followed by the signal name.</p>
    <p class="Pp">Note that it is possible to wait on processes to terminate
        that were create in the background with the <b>exec</b> command.
        However, if any other <b>exec</b> command is executed after the process
        terminates, then the process status will be reaped by the <b>exec</b>
        command and will not be available to the <b>wait</b> command.</p>
    <p class="Pp">On systems without the <b>waitpid</b> system call, the
        <b>-nohang</b>, <b>-untraced</b> and <b>-pgroup</b> options are not
        available. The <b>infox have_waitpid</b> command maybe use to determine
        if this functionality is available.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FILE_COMMANDS"><a class="permalink" href="#FILE_COMMANDS">FILE
  COMMANDS</a></h1>
<p class="Pp">These commands provide extended file access and manipulation. This
    includes searching ASCII-sorted data files, copying files, duplicating file
    descriptors, control of file access options, retrieving open file status,
    and creating pipes with the <b>pipe</b> system call. Also linking files,
    setting file, process, and user attributes and truncating files. An
    interface to the <b>select</b> system call is available on Unix systems that
    support it.</p>
<p class="Pp">It should be noted that Tcl file I/O is implemented on top of the
    stdio library. By default, the file is buffered. When communicating to a
    process through a pipe, a <b>flush</b> command should be issued to force the
    data out. Alternatively, the <b>fcntl</b> command may be used to set the
    buffering mode of a file to line-buffered or unbuffered.</p>
<dl class="Bl-tag">
  <dt id="bsearch"><a class="permalink" href="#bsearch"><b>bsearch</b> <i>fileId
    key</i> ?<i>retvar</i>? ?<i>compare_proc</i>?</a></dt>
  <dd>
    <br/>
    Search an opened file <i>fileId</i> containing lines of text sorted into
      ascending order for a match. <i>Key</i> contains the string to match. If
      <i>retvar</i> is specified, then the line from the file is returned in
      <i>retvar</i>, and the command returns <b>1</b> if <i>key</i> was found,
      and <b>0</b> if it wasn't. If <i>retvar</i> is not specified or is a null
      name, then the command returns the line that was found, or an empty string
      if <i>key</i> wasn't found.
    <p class="Pp">By default, the key is matched against the first white-space
        separated field in each line. The field is treated as an ASCII string.
        If <i>compare_proc</i> is specified, then it defines the name of a Tcl
        procedure to evaluate against each line read from the sorted file during
        the execution of the <b>bsearch</b> command. <i>Compare_proc</i> takes
        two arguments, the key and a line extracted from the file. The compare
        routine should return a number less than zero if the key is less than
        the line, zero if the key matches the line, or greater than zero if the
        key is greater than the line. The file must be sorted in ascending order
        according to the same criteria <i>compare_proc</i> uses to compare the
        key with the line, or erroneous results will occur.</p>
    <p class="Pp">This command does not work on files containing binary data
        (bytes of zero).</p>
  </dd>
  <dt id="chmod"><a class="permalink" href="#chmod"><b>chmod
    </b>[<b>-fileid</b>] <i>mode</i> <i>filelist</i></a></dt>
  <dd>
    <br/>
    Set permissions of each of the files in the list <i>filelist</i> to
      <i>mode</i>, where <i>mode</i> is an absolute numeric mode or symbolic
      permissions as in the UNIX <b>chmod(1)</b> command. To specify a mode as
      octal, it should be prefixed with a &quot;0&quot; (e.g. 0622).
    <p class="Pp">If the option <b>-fileid</b> is specified, <i>filelist</i> is
        a list of open file identifiers rather than a list of file names. This
        option is not available on all Unix systems. Use the <b>infox
        have_fchmod</b> command to determine if this functionality is
      available.</p>
    <p class="Pp">The <b>chmod</b> command is not available on
      <b>Windows</b>.</p>
  </dd>
  <dt id="chown"><a class="permalink" href="#chown"><b>chown
    </b>[<b>-fileid</b>] <i>owner</i> | {<i>owner group</i>}
    <i>filelist</i></a></dt>
  <dd>
    <br/>
    Set owner of each file in the list <i>filelist</i> to <i>owner</i>, which
      can be a user name or numeric user id. If the first parameter is a list,
      then the owner is set to the first element of the list and the group is
      set to the second element. <i>Group</i> can be a group name or numeric
      group id. If <i>group</i> is {}, then the file group will be set to the
      login group of the specified user.
    <p class="Pp">If the option <b>-fileid</b> is specified, <i>filelist</i> is
        a list of open file identifiers rather than a list of file names. This
        option is not available on all Unix systems. Use the <b>infox
        have_fchown</b> command to determine if this functionality is
      available.</p>
    <p class="Pp">The <b>chown</b> command is not available on
      <b>Windows</b>.</p>
  </dd>
  <dt id="chgrp"><a class="permalink" href="#chgrp"><b>chgrp
    </b>[<b>-fileid</b>] <i>group</i> <i>filelist</i></a></dt>
  <dd>
    <br/>
    Set the group id of each file in the list <i>filelist</i> to <i>group</i>,
      which can be either a group name or a numeric group id.
    <p class="Pp">If the option <b>-fileid</b> is specified, <i>filelist</i> is
        a list of open file identifiers rather than a list of file names. This
        option is not available on all Unix systems. Use the <b>infox
        have_fchown</b> command to determine if this functionality is
      available.</p>
    <p class="Pp">The <b>chgrp</b> command is not available on
      <b>Windows</b>.</p>
  </dd>
  <dt id="dup"><a class="permalink" href="#dup"><b>dup</b> <i>fileId</i>
    ?<i>targetFileId</i>?</a></dt>
  <dd>
    <br/>
    Duplicate an open file. A new file id is opened that addresses the same file
      as <i>fileId</i>.
    <p class="Pp">If <i>targetFileId</i> is specified, the the file is dup to
        this specified file id. Normally this is <b>stdin</b>, <b>stdout</b>, or
        <b>stderr</b>. The dup command will handle flushing output and closing
        this file. The new file will be buffered, if its needs to be unbuffered,
        use the <b>fcntl</b> command to set it unbuffered.</p>
    <p class="Pp">If <i>fileId</i> is a number rather than a Tcl file id, then
        the <b>dup</b> command will bind that file to a Tcl file id. This is
        useful for accessing files that are passed from the parent process. The
        argument ?<i>targetFileId</i>? is not valid with this operation.</p>
    <p class="Pp">On <b>Windows</b>, only <b>stdin</b>, <b>stdout</b>, or
        <b>stderr</b> or a non-socket file handle number maybe specified for
        <i>targetFileId</i>. The <b>dup</b> command does not work on sockets on
        <b>Windows</b>.</p>
  </dd>
  <dt id="fcntl"><a class="permalink" href="#fcntl"><b>fcntl</b> <i>fileId</i>
    <i>attribute ?value</i>?</a></dt>
  <dd>
    <br/>
    This command either sets or clears a file option or returns its current
      value. If <i>value</i> is not specified, then the current value of
      <b>attribute</b> is returned. All values are boolean. Some attributes
      maybe only be gotten, not modified. The following attributes may be
      specified:</dd>
</dl>
<dl class="Bl-tag">
  <dt id="RDONLY"><a class="permalink" href="#RDONLY"><b>RDONLY</b></a></dt>
  <dd>The file is opened for reading only. (Get only)</dd>
  <dt id="WRONLY"><a class="permalink" href="#WRONLY"><b>WRONLY</b></a></dt>
  <dd>The file is opened for writing only. (Get only)</dd>
  <dt id="RDWR"><a class="permalink" href="#RDWR"><b>RDWR</b></a></dt>
  <dd>The file is opened for reading and writing. (Get only)</dd>
  <dt id="READ"><a class="permalink" href="#READ"><b>READ</b> </a></dt>
  <dd>If the file is readable. (Get only).</dd>
  <dt id="WRITE"><a class="permalink" href="#WRITE"><b>WRITE</b></a></dt>
  <dd>If the file is writable. (Get only).</dd>
  <dt id="APPEND"><a class="permalink" href="#APPEND"><b>APPEND</b></a></dt>
  <dd>The file is opened for append-only writes. All writes will be forced to
      the end of the file. (Get or set).</dd>
  <dt id="NONBLOCK"><a class="permalink" href="#NONBLOCK"><b>NONBLOCK</b></a></dt>
  <dd>The file is to be accessed with non-blocking I/O. See the <b>read</b>
      system call for a description of how it affects the behavior of file
      reads.</dd>
  <dt id="CLOEXEC"><a class="permalink" href="#CLOEXEC"><b>CLOEXEC</b></a></dt>
  <dd>Close the file on an process exec. If the <b>execl</b> command or some
      other mechanism causes the process to do an exec, the file will be closed
      if this option is set.</dd>
  <dt id="NOBUF"><a class="permalink" href="#NOBUF"><b>NOBUF</b></a></dt>
  <dd>The file is not buffered. If set, then there no buffering for the
    file.</dd>
  <dt id="LINEBUF"><a class="permalink" href="#LINEBUF"><b>LINEBUF</b></a></dt>
  <dd>Output the file will be line buffered. The buffer will be flushed when a
      newline is written, when the buffer is full, or when input is
    requested.</dd>
  <dt id="KEEPALIVE"><a class="permalink" href="#KEEPALIVE"><b>KEEPALIVE</b></a></dt>
  <dd>Keep a socket connection alive. If SIGPIPE is enabled, then it is sent if
      connection is broken and data is written to the socket. If SIGPIPE is
      ignored, an error is returned on the write. This attribute is valid only
      on sockets. By default, SIGPIPE is ignored in Tcl.</dd>
  <dt></dt>
  <dd>The <b>NONBLOCK</b>, <b>NOBUF</b> and <b>LINEBUF</b> are provided for
      compatibility with older scripts. The<b>fconfigure</b> command is
      preferred method of getting and setting these attributes.</dd>
  <dt></dt>
  <dd>The <b>APPEND</b> and <b>CLOEXEC</b> options are not available on
      <b>Windows</b>.</dd>
</dl>
<br/>
<dl class="Bl-tag">
  <dt id="flock"><a class="permalink" href="#flock"><b>flock</b> <i>options
    fileId</i> ?<i>start</i>? ?<i>length</i>? ?<i>origin</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>This command places a lock on all or part of the file specified by
      <i>fileId</i>. The lock is either advisory or mandatory, depending on the
      mode bits of the file. The lock is placed beginning at relative byte
      offset <i>start</i> for <i>length</i> bytes. If <i>start</i> or
      <i>length</i> is omitted or empty, zero is assumed. If <i>length</i> is
      zero, then the lock always extents to end of file, even if the file grows.
      If <i>origin</i> is &quot;<b>start</b>&quot;, then the offset is relative
      to the beginning of the file. If it is &quot;<b>current</b>&quot;, it is
      relative to the current access position in the file. If it is
      &quot;<b>end</b>&quot;, then it is relative to the end-of-file (a negative
      is before the EOF, positive is after). If <i>origin</i> is omitted,
      <b>start</b> is assumed.</dd>
  <dt></dt>
  <dd>The following <i>options</i> are recognized:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="read"><a class="permalink" href="#read"><b>-read</b></a></dt>
  <dd>Place a read lock on the file. Multiple processes may be accessing the
      file with read-locks.</dd>
  <dt id="write"><a class="permalink" href="#write"><b>-write</b></a></dt>
  <dd>Place a write lock on the file. Only one process may be accessing a file
      if there is a write lock.</dd>
  <dt id="nowait"><a class="permalink" href="#nowait"><b>-nowait</b></a></dt>
  <dd>If specified, then the process will not block if the lock can not be
      obtained. With this option, the command returns 1 if the lock is obtained
      and 0 if it is not.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>See your system's <b>fcntl</b> system call documentation for full details
      of the behavior of file locking. If locking is being done on ranges of a
      file, it is best to use unbuffered file access (see the <b>fcntl</b>
      command).</dd>
  <dt></dt>
  <dd>The <b>flock</b> command is not available on <b>Windows 95</b>. It is
      available on <b>Windows NT</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="for_file"><a class="permalink" href="#for_file"><b>for_file</b> <i>var
    filename code</i></a></dt>
  <dd>
    <br/>
    This procedure implements a loop over the contents of a file. For each line
      in <i>filename</i>, it sets <i>var</i> to the line and executes
      <i>code</i>.
    <p class="Pp">The <b>break</b> and <b>continue</b> commands work as with
        foreach.</p>
    <p class="Pp">For example, the command</p>
    <p class="Pp"></p>
    <pre>
<span class="Li">	for_file line /etc/passwd {echo $line}</span>
    </pre>
    <p class="Pp">would echo all the lines in the password file.</p>
  </dd>
  <dt id="funlock"><a class="permalink" href="#funlock"><b>funlock</b>
    <i>fileId</i> ?<i>start</i>? ?<i>length</i>? ?<i>origin</i>?</a></dt>
  <dd>
    <br/>
    Remove a locked from a file that was previously placed with the <i>flock</i>
      command. The arguments are the same as for the <i>flock</i> command, see
      that command for more details.
    <p class="Pp">The <b>funlock</b> command is not available on <b>Windows
        95</b>. It is available on <b>Windows NT</b>.</p>
  </dd>
  <dt id="fstat"><a class="permalink" href="#fstat"><b>fstat</b> <i>fileId</i>
    ?<i>item</i>? | ?<b>stat </b><i>arrayvar</i>?</a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Obtain status information about an open file.</dd>
  <dt></dt>
  <dd>The following keys are used to identify data items:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="atime"><a class="permalink" href="#atime"><b>atime</b></a></dt>
  <dd>The time of last access.</dd>
  <dt id="ctime"><a class="permalink" href="#ctime"><b>ctime</b></a></dt>
  <dd>The time of last file status change</dd>
  <dt id="dev"><a class="permalink" href="#dev"><b>dev</b></a></dt>
  <dd>The device containing a directory for the file. This value uniquely
      identifies the file system that contains the file.</dd>
  <dt id="gid"><a class="permalink" href="#gid"><b>gid</b></a></dt>
  <dd>The group ID of the file's group.</dd>
  <dt id="ino"><a class="permalink" href="#ino"><b>ino</b></a></dt>
  <dd>The inode number. This field uniquely identifies the file in a given file
      system.</dd>
  <dt id="mode"><a class="permalink" href="#mode"><b>mode</b></a></dt>
  <dd>The mode of the file (see the <b>mknod</b> system call).</dd>
  <dt id="mtime"><a class="permalink" href="#mtime"><b>mtime</b></a></dt>
  <dd>Time when the data in the file was last modified.</dd>
  <dt id="nlink"><a class="permalink" href="#nlink"><b>nlink</b></a></dt>
  <dd>The number of links to the file.</dd>
  <dt id="size"><a class="permalink" href="#size"><b>size</b></a></dt>
  <dd>The file size in bytes.</dd>
  <dt id="tty"><a class="permalink" href="#tty"><b>tty</b></a></dt>
  <dd>If the file is associated with a terminal, then 1 otherwise 0.</dd>
  <dt id="type"><a class="permalink" href="#type"><b>type</b></a></dt>
  <dd>The type of the file in symbolic form, which is one of the following
      values: <b>file</b>, <b>directory</b>, <b>characterSpecial</b>,
      <b>blockSpecial</b>, <b>fifo</b>, <b>link</b>, or <b>socket</b>.</dd>
  <dt id="uid"><a class="permalink" href="#uid"><b>uid</b></a></dt>
  <dd>The user ID of the file's owner.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If one of these keys is specified as <i>item</i>, then that data item is
      returned.</dd>
  <dt></dt>
  <dd>If <b>stat </b><i>arrayvar</i> is specified, then the information is
      returned in the array <i>arrayvar</i>. Each of the above keys indexes an
      element of the array containing the data.</dd>
  <dt></dt>
  <dd>If only <i>fileId</i> is specified, the command returns the data as a
      keyed list.</dd>
  <dt></dt>
  <dd>The following values may be returned only if explicitly asked for, it will
      not be returned with the array or keyed list forms:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="remotehost"><a class="permalink" href="#remotehost"><b>remotehost</b></a></dt>
  <dd>If <i>fileId</i> is a TCP/IP socket connection, then a list is returned
      with the first element being the remote host IP address. If the remote
      host name can be found, it is returned as the second element of the list.
      The remote host IP port number is the third element.</dd>
  <dt id="localhost"><a class="permalink" href="#localhost"><b>localhost</b></a></dt>
  <dd>If <i>fileId</i> is a TCP/IP socket connection, then a list is returned
      with the first element being the local host IP address. If the local host
      name can be found, it is returned as the second element of the list. The
      local host IP port number is the third element.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="ftruncate"><a class="permalink" href="#ftruncate"><b>ftruncate
    </b>[<b>-fileid</b>] <i>file newsize</i></a></dt>
  <dd>
    <br/>
    Truncate a file to have a length of at most <i>newsize</i> bytes.
    <p class="Pp">If the option <b>-fileid</b> is specified, <i>file</i> is an
        open file identifier, otherwise it is a file path.</p>
    <p class="Pp">This command is not available or not fully functional if the
        underlying operating system support is not available. The command
        <b>infox have_truncate</b> will indicate if this command may truncate by
        file path. The command <b>infox have_ftruncate</b> will indicate if this
        command may truncate by file id.</p>
    <p class="Pp">The <b>-fileid</b> option is not available on
      <b>Windows</b>.</p>
  </dd>
  <dt id="lgets"><a class="permalink" href="#lgets"><b>lgets</b> <i>fileId</i>
    ?<i>varName</i>?</a></dt>
  <dd>
    <br/>
    Reads the next Tcl list from the file given by <i>fileId</i> and discards
      the terminating newline character. This command differs from the
      <b>gets</b> command, in that it reads Tcl lists rather than lines. If the
      list contains newlines or binary data, then that newline or bytes of zero
      will be returned as part of the result. Only a newline not quoted as part
      of the list indicates the end of the list. There is no corresponding
      command for outputting lists, as <b>puts</b> will do this correctly.
    <p class="Pp">If <i>varName</i> is specified, then the line is placed in the
        variable by that name and the return value is a count of the number of
        characters read (not including the newline). If the end of the file is
        reached before reading any characters then -1 is returned and
        <i>varName</i> is set to an empty string. If <i>varName</i> is specified
        and an error occurs, what ever data was read will be returned in the
        variable, however the resulting string may not be a valid list.</p>
    <p class="Pp">If <i>varName</i> is not specified then the return value will
        be the line (minus the newline character) or an empty string if the end
        of the file is reached before reading any characters. An empty string
        will also be returned if a line contains no characters except the
        newline, so <b>eof</b> may have to be used to determine what really
        happened.</p>
    <p class="Pp">The <b>lgets</b> command maybe used to read and write lists
        containing binary data, however translation must be set to <b>lf</b> or
        the data maybe corrupted.</p>
    <p class="Pp">If <b>lgets</b> is currently supported on non-blocking
      files.</p>
  </dd>
  <dt id="pipe"><a class="permalink" href="#pipe"><b>pipe</b> ?<i>fileId_var_r
    fileId_var_w</i>?</a></dt>
  <dd>
    <br/>
    Create a pipe. If <i>fileId_var_r</i> and <i>fileId_var_r</i> are specified,
      then <b>pipe</b> will set the a variable named <i>fileId_var_r</i> to
      contain the fileId of the side of the pipe that was opened for reading,
      and <i>fileId_var_w</i> will contain the fileId of the side of the pipe
      that was opened for writing.
    <p class="Pp">If the fileId variables are not specified, then a list
        containing the read and write fileIdw is returned as the result of the
        command.</p>
  </dd>
  <dt id="read_file"><a class="permalink" href="#read_file"><b>read_file</b>
    ?<b>-nonewline</b>? <i>fileName</i></a></dt>
  <dd></dd>
  <dt id="read_file~2"><a class="permalink" href="#read_file~2"><b>read_file</b>
    <i>fileName</i> <i>numBytes</i></a></dt>
  <dd>
    <br/>
    This procedure reads the file <i>fileName</i> and returns the contents as a
      string. If <b>-nonewline</b> is specified, then the last character of the
      file is discarded if it is a newline. The second form specifies exactly
      how many bytes will be read and returned, unless there are fewer than
      <i>numBytes</i> bytes left in the file; in this case, all the remaining
      bytes are returned.</dd>
  <dt id="select"><a class="permalink" href="#select"><b>select</b>
    <i>readfileIds</i> ?<i>writefileIds</i>? ?<i>exceptfileIds</i>?
    ?<i>timeout</i>?</a></dt>
  <dd>
    <br/>
    This command allows an Extended Tcl program to wait on zero or more files
      being ready for for reading, writing, have an exceptional condition
      pending, or for a timeout period to expire. <i>readFileIds</i>,
      <i>writeFileIds</i>, <i>exceptFileIds</i> are each lists of fileIds, as
      returned from <b>open</b>, to query. An empty list ({}) may be specified
      if a category is not used.
    <p class="Pp">The files specified by the <i>readFileIds</i> list are checked
        to see if data is available for reading. The <i>writeFileIds</i> are
        checked if the specified files are clear for writing. The
        <i>exceptFileIds</i> are checked to see if an exceptional condition has
        occurred (typically, an error). The write and exception checking is most
        useful on devices, however, the read checking is very useful when
        communicating with multiple processes through pipes. Select considers
        data pending in the stdio input buffer for read files as being ready for
        reading, the files do. not have to be unbuffered.</p>
    <p class="Pp"><i>Timeout</i> is a floating point timeout value, in seconds.
        If an empty list is supplied (or the parameter is omitted), then no
        timeout is set. If the value is zero, then the <b>select</b> command
        functions as a poll of the files, returning immediately even if none are
        ready.</p>
    <p class="Pp">If the <i>timeout</i> period expires with none of the files
        becoming ready, then the command returns an empty list. Otherwise the
        command returns a list of three elements, each of those elements is a
        list of the fileIds that are ready in the read, write and exception
        classes. If none are ready in a class, then that element will be the
        null list. For example:</p>
    <p class="Pp"></p>
    <pre>
<br/>
<span class="Li">        select {file3 file4 file5} {file6 file7} {} 10.5</span>
could return
<br/>
<span class="Li">        {file3 file4} {file6} {}</span>
or perhaps
<br/>
<span class="Li">        file3 {} {}</span>
    </pre>
    <p class="Pp">On <b>Windows</b>, only sockets can be used with the
        <b>select</b> command. Pipes, as returned by the <b>open</b> command,
        are not supported.</p>
  </dd>
  <dt id="write_file"><a class="permalink" href="#write_file"><b>write_file</b>
    <i>fileName string ?string...?</i></a></dt>
  <dd>
    <br/>
    This procedure writes the specified strings to the named file.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="NETWORK_PROGRAMMING_SUPPORT"><a class="permalink" href="#NETWORK_PROGRAMMING_SUPPORT">NETWORK
  PROGRAMMING SUPPORT</a></h1>
<p class="Pp">TclX provides functionality to complement the Tcl <b>socket</b>
    command. The <b>host_info</b> command is used to get information about a
    host by name or IP address. In addition, the <b>fstat</b> and <b>fcntl</b>
    commands provide options of querying and controlling connected sockets. To
    obtain the host name of the system the local system, use the <b>id host</b>
    command.</p>
<dl class="Bl-tag">
  <dt id="host_info"><a class="permalink" href="#host_info"><b>host_info
    </b><i>option</i> <i>host</i></a></dt>
  <dd>
    <br/>
    Obtain information about an Internet host. The argument <i>host</i> can be
      either a host name or an IP address.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The following subcommands are recognized:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="addresses"><a class="permalink" href="#addresses"><b>addresses</b></a></dt>
  <dd>Return the list of IP addresses for <i>host</i>.</dd>
  <dt id="official_name"><a class="permalink" href="#official_name"><b>official_name</b></a></dt>
  <dd>Return official name for <i>host</i>.</dd>
  <dt id="aliases"><a class="permalink" href="#aliases"><b>aliases</b></a></dt>
  <dd>Return the list of aliases for <i>host</i>. (Note that these are IP number
      aliases, not DNS <i>CNAME</i> aliases. See <i>ifconfig(2)</i>.)</dd>
</dl>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="FILE_SCANNING_COMMANDS"><a class="permalink" href="#FILE_SCANNING_COMMANDS">FILE
  SCANNING COMMANDS</a></h1>
<p class="Pp">These commands provide a facility to scan files, matching lines of
    the file against regular expressions and executing Tcl code on a match. With
    this facility you can use Tcl to do the sort of file processing that is
    traditionally done with <i>awk</i>. And since Tcl's approach is more
    declarative, some of the scripts that can be rather difficult to write in
    awk are simple to code in Tcl.</p>
<p class="Pp">File scanning in Tcl centers around the concept of a <i>scan
    context</i>. A scan context contains one or more match statements, which
    associate regular expressions to scan for with Tcl code to be executed when
    the expressions are matched.</p>
<dl class="Bl-tag">
  <dt id="scancontext"><a class="permalink" href="#scancontext"><b>scancontext</b>
    ?<i>option</i>?</a></dt>
  <dd>
    <br/>
    This command manages file scan contexts. A scan context is a collection of
      regular expressions and commands to execute when that regular expression
      matches a line of the file. A context may also have a single default
      match, to be applied against lines that do not match any of the regular
      expressions. Multiple scan contexts may be defined and they may be reused
      on multiple files. A scan context is identified by a context handle. The
      <b>scancontext</b> command takes the following forms:</dd>
  <dt id="scancontext~2"><a class="permalink" href="#scancontext~2"><b>scancontext
    create</b></a></dt>
  <dd>Create a new scan context. The <b>scanmatch</b> command is used to define
      patterns in the context. A contexthandle is returned, which the Tcl
      programmer uses to refer to the newly created scan context in calls to the
      Tcl file scanning commands.</dd>
  <dt id="scancontext~3"><a class="permalink" href="#scancontext~3"><b>scancontext
    delete</b> <i>contexthandle</i></a></dt>
  <dd>
    <br/>
    Delete the scan context identified by <i>contexthandle</i>, and free all of
      the match statements and compiled regular expressions associated with the
      specified context.</dd>
  <dt id="scancontext~4"><a class="permalink" href="#scancontext~4"><b>scancontext
    copyfile</b> <i>contexthandle</i> ?<i>filehandle</i>?</a></dt>
  <dd>
    <br/>
    Set or return the file handle that unmatched lines are copied to. (See
      <b>scanfile</b>). If <i>filehandle</i> is omitted, the copy file handle is
      returned. If no copy file is associated with the context, {} is returned.
      If a file handle is specified, it becomes the copy file for this context.
      If <i>filehandle</i> is {}, then it removes any copy file specification
      for the context.</dd>
  <dt id="scanfile"><a class="permalink" href="#scanfile"><b>scanfile</b>
    ?<i>-copyfile copyFileId</i>? <i>contexthandle</i> <i>fileId</i></a></dt>
  <dd>
    <br/>
    Scan the file specified by <i>fileId</i>, starting from the current file
      position. Check all patterns in the scan context specified by
      <i>contexthandle</i> against it, executing the match commands
      corresponding to patterns matched.
    <p class="Pp">If the optional <i>-copyfile</i> argument is specified, the
        next argument is a file ID to which all lines not matched by any pattern
        (excluding the default pattern) are to be written. If the copy file is
        specified with this flag, instead of using the <b>scancontext
        copyfile</b> command, the file is disassociated from the scan context at
        the end of the scan.</p>
    <p class="Pp">This command does not work on files containing binary data
        (bytes of zero).</p>
  </dd>
  <dt id="scanmatch"><a class="permalink" href="#scanmatch"><b>scanmatch</b>
    ?<i>-nocase</i>? <i>contexthandle</i> ?<i>regexp</i>?
    <i>commands</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Specify Tcl <i>commands</i>, to be evaluated when <i>regexp</i> is matched
      by a <b>scanfile</b> command. The match is added to the scan context
      specified by <i>contexthandle</i>. Any number of match statements may be
      specified for a give context. <i>Regexp</i> is a regular expression (see
      the <b>regexp</b> command). If <b>-nocase</b> is specified as the first
      argument, the pattern is matched regardless of alphabetic case.</dd>
  <dt></dt>
  <dd>If <i>regexp</i> is not specified, then a default match is specified for
      the scan context. The default match will be executed when a line of the
      file does not match any of the regular expressions in the current
      scancontext.</dd>
  <dt></dt>
  <dd>The array <b>matchInfo</b> is available to the Tcl code that is executed
      when an expression matches (or defaults). It contains information about
      the file being scanned and where within it the expression was
    matched.</dd>
  <dt></dt>
  <dd><b>matchInfo</b> is local to the top level of the match command unless
      declared global at that level by the Tcl <b>global</b> command. If it is
      to be used as a global, it <i>must</i> be declared global before
      <b>scanfile</b> is called (since <b>scanfile</b> sets the <b>matchInfo</b>
      before the match code is executed, a subsequent <b>global</b> will
      override the local variable). The following array entries are
    available:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="matchInfo(line)"><a class="permalink" href="#matchInfo(line)"><b>matchInfo(line)</b></a></dt>
  <dd>Contains the text of the line of the file that was matched.</dd>
  <dt id="matchInfo(offset)"><a class="permalink" href="#matchInfo(offset)"><b>matchInfo(offset)</b></a></dt>
  <dd>The byte offset into the file of the first character of the line that was
      matched.</dd>
  <dt id="matchInfo(linenum)"><a class="permalink" href="#matchInfo(linenum)"><b>matchInfo(linenum)</b></a></dt>
  <dd>The line number of the line that was matched. This is relative to the
      first line scanned, which is usually, but not necessarily, the first line
      of the file. The first line is line number one.</dd>
  <dt id="matchInfo(context)"><a class="permalink" href="#matchInfo(context)"><b>matchInfo(context)</b></a></dt>
  <dd>The context handle of the context that this scan is associated with.</dd>
  <dt id="matchInfo(handle)"><a class="permalink" href="#matchInfo(handle)"><b>matchInfo(handle)</b></a></dt>
  <dd>The file id (handle) of the file currently being scanned.</dd>
  <dt id="matchInfo(copyHandle)"><a class="permalink" href="#matchInfo(copyHandle)"><b>matchInfo(copyHandle)</b></a></dt>
  <dd>The file id (handle) of the file specified by the <b>-copyfile</b> option.
      The element does not exist if <b>-copyfile</b> was not specified.</dd>
  <dt id="matchInfo(submatch0)"><a class="permalink" href="#matchInfo(submatch0)"><b>matchInfo(submatch0)</b></a></dt>
  <dd>Will contain the characters matching the first parenthesized
      subexpression. The second will be contained in <b>submatch1</b>, etc.</dd>
  <dt id="matchInfo(subindex0)"><a class="permalink" href="#matchInfo(subindex0)"><b>matchInfo(subindex0)</b></a></dt>
  <dd>Will contain the a list of the starting and ending indices of the string
      matching the first parenthesized subexpression. The second will be
      contained in <b>subindex1</b>, etc.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>All <b>scanmatch</b> patterns that match a line will be processed in the
      order in which their specifications were added to the scan context. The
      remainder of the <b>scanmatch</b> pattern-command pairs may be skipped for
      a file line if a <b>continue</b> is executed by the Tcl code of a
      preceding, matched pattern.</dd>
  <dt></dt>
  <dd>If a <b>return</b> is executed in the body of the match command, the
      <b>scanfile</b> command currently in progress returns, with the value
      passed to <b>return</b> as its return value.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="MATH_COMMANDS"><a class="permalink" href="#MATH_COMMANDS">MATH
  COMMANDS</a></h1>
<p class="Pp">Several extended math commands commands make many additional math
    functions available in TclX. In addition, a set of procedures provide
    command access to the math functions supported by the <b>expr</b>
  command.</p>
<p class="Pp"></p>
<p class="Pp">The following procedures provide command interfaces to the expr
    math functions. They take the same arguments as the <b>expr</b> functions
    and may take expressions as arguments.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
<b>abs</b>	<b>acos</b>	<b>asin</b>	<b>atan2</b>	
<b>atan</b>	<b>ceil</b>	<b>cos</b>	<b>cosh</b>	
<b>double</b>	<b>exp</b>	<b>floor</b>	<b>fmod</b>	
<b>hypot</b>	<b>int</b>	<b>log10</b>	<b>log</b>	
<b>pow</b>	<b>round</b>	<b>sin</b>	<b>sinh</b>	
<b>sqrt</b>	<b>tan</b>	<b>tanh</b>	</pre>
</div>
<dl class="Bl-tag">
  <dt id="max"><a class="permalink" href="#max"><b>max</b> <i>num1</i>
    ?..<i>numN</i>?</a></dt>
  <dd></dd>
  <dt id="expr"><a class="permalink" href="#expr"><b>expr max(num1,
    num2)</b></a></dt>
  <dd>
    <br/>
    Returns the argument that has the highest numeric value. Each argument may
      be any integer or floating point value.
    <p class="Pp">This functionality is also available as a math function
        <b>max</b> in the Tcl <b>expr</b> command.</p>
  </dd>
  <dt id="min"><a class="permalink" href="#min"><b>min</b> <i>num1</i>
    ?..<i>numN</i>?</a></dt>
  <dd></dd>
  <dt id="expr~2"><a class="permalink" href="#expr~2"><b>expr min(num1,
    num2)</b></a></dt>
  <dd>
    <br/>
    Returns the argument that has the lowest numeric value. Each argument may be
      any integer or floating point value.
    <p class="Pp">This functionality is also available as a math function
        <b>min</b> in the Tcl <b>expr</b> command.</p>
  </dd>
  <dt id="random"><a class="permalink" href="#random"><b>random</b> <i>limit</i>
    | <b>seed</b> ?<i>seedval</i>?</a></dt>
  <dd>
    <br/>
    Generate a pseudorandom integer number greater than or equal to zero and
      less than <i>limit</i>. If <b>seed</b> is specified, then the command
      resets the random number generator to a starting point derived from the
      <b>seedval</b>. This allows one to reproduce pseudorandom number sequences
      for testing purposes. If <i>seedval</i> is omitted, then the seed is set
      to a value based on current system state and the current time, providing a
      reasonably interesting and ever-changing seed.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="LIST_MANIPULATION_COMMANDS"><a class="permalink" href="#LIST_MANIPULATION_COMMANDS">LIST
  MANIPULATION COMMANDS</a></h1>
<p class="Pp">Extended Tcl provides additional list manipulation commands and
    procedures.</p>
<dl class="Bl-tag">
  <dt id="intersect"><a class="permalink" href="#intersect"><b>intersect</b>
    <i>lista listb</i></a></dt>
  <dd>
    <br/>
    Procedure to return the logical intersection of two lists. The returned list
      will be sorted.</dd>
  <dt id="intersect3"><a class="permalink" href="#intersect3"><b>intersect3</b>
    <i>lista listb</i></a></dt>
  <dd>
    <br/>
    Procedure to intersects two lists, returning a list containing three lists:
      The first list returned is everything in <i>lista</i> that wasn't in
      <i>listb</i>. The second list contains the intersection of the two lists,
      and the third list contains all the elements that were in <i>listb</i> but
      weren't in <i>lista</i>. The returned lists will be sorted.</dd>
  <dt id="lassign"><a class="permalink" href="#lassign"><b>lassign</b> <i>list
    var</i> ?<i>var</i>...?</a></dt>
  <dd>
    <br/>
    Assign successive elements of a list to specified variables. If there are
      more variable names than fields, the remaining variables are set to the
      empty string. If there are more elements than variables, a list of the
      unassigned elements is returned.
    <p class="Pp">For example,</p>
    <p class="Pp"></p>
    <pre>
<br/>
<span class="Li">    lassign {dave 100 200 {Dave Foo}} name uid gid longName</span>
    </pre>
    <p class="Pp">Assigns <i>name</i> to ``dave'', <i>uid</i> to ``100'',
        <i>gid</i> to ``200'', and <i>longName</i> to ``Dave Foo''.</p>
  </dd>
  <dt id="lcontain"><a class="permalink" href="#lcontain"><b>lcontain</b>
    <i>list element</i></a></dt>
  <dd>
    <br/>
    Determine if the <i>element</i> is a list element of <i>list</i>. If the
      element is contained in the list, 1 is returned, otherwise, 0 is
    returned.</dd>
  <dt id="lempty"><a class="permalink" href="#lempty"><b>lempty</b>
    <i>list</i></a></dt>
  <dd>
    <br/>
    Determine if the specified list is empty. If empty, 1 is returned,
      otherwise, 0 is returned. This command is an alternative to comparing a
      list to an empty string, however it checks for a string of all
      whitespaces, which is an empty list.</dd>
  <dt id="lmatch"><a class="permalink" href="#lmatch"><b>lmatch
    </b>?<i>mode</i>? <i>list pattern</i></a></dt>
  <dd></dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Search the elements of <i>list</i>, returning a list of all elements
      matching <i>pattern</i>. If none match, an empty list is returned.</dd>
  <dt></dt>
  <dd>The <i>mode</i> argument indicates how the elements of the list are to be
      matched against <i>pattern</i> and it must have one of the following
      values:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="exact"><a class="permalink" href="#exact"><b>-exact</b></a></dt>
  <dd>The list element must contain exactly the same string as
    <i>pattern</i>.</dd>
  <dt id="glob"><a class="permalink" href="#glob"><b>-glob</b></a></dt>
  <dd><i>Pattern</i> is a glob-style pattern which is matched against each list
      element using the same rules as the <b>string match</b> command.</dd>
  <dt id="regexp"><a class="permalink" href="#regexp"><b>-regexp</b></a></dt>
  <dd><i>Pattern</i> is treated as a regular expression and matched against each
      list element using the same rules as the <b>regexp</b> command.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <i>mode</i> is omitted then it defaults to <b>-glob</b>.
    <p class="Pp">Only the <b>-exact</b> comparison will work on binary
      data.</p>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt id="lrmdups"><a class="permalink" href="#lrmdups"><b>lrmdups</b>
    <i>list</i></a></dt>
  <dd>
    <br/>
    Procedure to remove duplicate elements from a list. The returned list will
      be sorted.</dd>
  <dt id="lvarcat"><a class="permalink" href="#lvarcat"><b>lvarcat</b><i> var
    string ?</i><i>string...</i>?</a></dt>
  <dd>
    <br/>
    This command treats each <i>string</i> argument as a list and concatenates
      them to the end of the contents of <i>var</i>, forming a a single list.
      The list is stored back into <i>var</i> and also returned as the result.
      if <i>var</i> does not exist, it is created.</dd>
  <dt id="lvarpop"><a class="permalink" href="#lvarpop"><b>lvarpop</b>
    <i>var</i> ?<i>indexExpr</i>? ?<i>string</i>?</a></dt>
  <dd>
    <br/>
    The <b>lvarpop</b> command pops (deletes) the element indexed by the
      expression <i>indexExpr</i> from the list contained in the variable
      <i>var</i>. If <i>index</i> is omitted, then 0 is assumed. If
      <i>string</i>, is specified, then the deleted element is replaced by
      <i>string</i>. The replaced or deleted element is returned. Thus ``lvarpop
      argv 0'' returns the first element of argv, setting argv to contain the
      remainder of the string.
    <p class="Pp">If the expression <i>indexExpr</i> starts with the string
        <b>end</b>, then <b>end</b> is replaced with the index of the last
        element in the list. If the expression starts with <b>len</b>, then
        <b>len</b> is replaced with the length of the list.</p>
  </dd>
  <dt id="lvarpush"><a class="permalink" href="#lvarpush"><b>lvarpush</b> <i>var
    string</i> ?<i>indexExpr</i>?</a></dt>
  <dd>
    <br/>
    The <b>lvarpush</b> command pushes (inserts) <i>string</i> as an element in
      the list contained in the variable <i>var</i>. The element is inserted
      before position <i>indexExpr</i> in the list. If <i>index</i> is omitted,
      then 0 is assumed. If <i>var</i> does not exists, it is created.
    <p class="Pp">If the expression <i>indexExpr</i> starts with the string
        <b>end</b>, then <b>end</b> is replaced with the index of the last
        element in the list. If the expression starts with <b>len</b>, then
        <b>len</b> is replaced with the length of the list. Note the a value of
        <b>end</b> means insert the string before the last element.</p>
  </dd>
  <dt id="union"><a class="permalink" href="#union"><b>union</b> <i>lista
    listb</i></a></dt>
  <dd>Procedure to return the logical union of the two specified lists. Any
      duplicate elements are removed.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYED_LISTS"><a class="permalink" href="#KEYED_LISTS">KEYED
  LISTS</a></h1>
<p class="Pp">Extended Tcl defines a special type of list referred to as
    <i>keyed lists</i>. These lists provided a structured data type built upon
    standard Tcl lists. This provides a functionality similar to <i>struct</i>s
    in the C programming language.</p>
<p class="Pp">A keyed list is a list in which each element contains a key and
    value pair. These element pairs are stored as lists themselves, where the
    key is the first element of the list, and the value is the second. The
    key-value pairs are referred to as <i>fields</i>. This is an example of a
    keyed list:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <br/>
     {{NAME {Frank Zappa}} {JOB {musician and composer}}}</dd>
</dl>
<p class="Pp">If the variable <b>person</b> contained the above list, then
    <b>keylget person NAME</b> would return <b>{Frank Zappa}</b>. Executing the
    command:</p>
<p class="Pp"></p>
<pre>
<span class="Li">	keylset person ID 106</span>
</pre>
<p class="Pp">would make <b>person</b> contain</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <br/>
     {{ID 106} {NAME {Frank Zappa}} {JOB {musician and composer}}</dd>
</dl>
<p class="Pp">Fields may contain subfields; `.' is the separator character.
    Subfields are actually fields where the value is another keyed list. Thus
    the following list has the top level fields <i>ID</i> and <i>NAME</i>, and
    subfields <i>NAME.FIRST</i> and <i>NAME.LAST</i>:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <br/>
     {ID 106} {NAME {{FIRST Frank} {LAST Zappa}}}</dd>
</dl>
<p class="Pp">There is no limit to the recursive depth of subfields, allowing
    one to build complex data structures.</p>
<p class="Pp">Keyed lists are constructed and accessed via a number of commands.
    All keyed list management commands take the name of the variable containing
    the keyed list as an argument (i.e. passed by reference), rather than
    passing the list directly.</p>
<dl class="Bl-tag">
  <dt id="keyldel"><a class="permalink" href="#keyldel"><b>keyldel</b>
    <i>listvar</i> <i>key</i></a></dt>
  <dd>
    <br/>
    Delete the field specified by <i>key</i> from the keyed list in the variable
      <i>listvar</i>. This removes both the key and the value from the keyed
      list.</dd>
  <dt id="keylget"><a class="permalink" href="#keylget"><b>keylget</b>
    <i>listvar</i> ?<i>key</i>? ?<i>retvar</i> | {}?</a></dt>
  <dd>
    <br/>
    Return the value associated with <i>key</i> from the keyed list in the
      variable <i>listvar</i>. If <i>retvar</i> is not specified, then the value
      will be returned as the result of the command. In this case, if <i>key</i>
      is not found in the list, an error will result.
    <p class="Pp">If <i>retvar</i> is specified and <i>key</i> is in the list,
        then the value is returned in the variable <i>retvar</i> and the command
        returns <b>1</b> if the key was present within the list. If <i>key</i>
        isn't in the list, the command will return <b>0</b>, and <i>retvar</i>
        will be left unchanged. If <b>{}</b> is specified for <i>retvar</i>, the
        value is not returned, allowing the Tcl programmer to determine if a key
        is present in a keyed list without setting a variable as a
      side-effect.</p>
    <p class="Pp">If <i>key</i> is omitted, then a list of all the keys in the
        keyed list is returned.</p>
  </dd>
  <dt id="keylkeys"><a class="permalink" href="#keylkeys"><b>keylkeys</b>
    <i>listvar</i> ?<i>key</i>?</a></dt>
  <dd>
    <br/>
    Return the a list of the keys in the keyed list in the variable
      <i>listvar</i>. If <i>keys</i> is specified, then it is the name of a key
      field who's subfield keys are to be retrieve.</dd>
  <dt id="keylset"><a class="permalink" href="#keylset"><b>keylset</b>
    <i>listvar</i> <i>key</i> <i>value</i> ?<i>key2</i> <i>value2</i>
    ...?</a></dt>
  <dd>
    <br/>
    Set the value associated with <i>key</i>, in the keyed list contained in the
      variable <i>listvar</i>, to <i>value</i>. If listvar does not exists, it
      is created. If <i>key</i> is not currently in the list, it will be added.
      If it already exists, <i>value</i> replaces the existing value. Multiple
      keywords and values may be specified, if desired.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="STRING_AND_CHARACTER_MANIPULATION_COMMANDS"><a class="permalink" href="#STRING_AND_CHARACTER_MANIPULATION_COMMANDS">STRING
  AND CHARACTER MANIPULATION COMMANDS</a></h1>
<p class="Pp">The commands provide additional functionality to classify
    characters, convert characters between character and numeric values, index
    into a string, determine the length of a string, extract a range of
    character from a string, replicate a string a number of times, and
    transliterate a string (similar to the Unix <i>tr</i> program).</p>
<dl class="Bl-tag">
  <dt id="ccollate"><a class="permalink" href="#ccollate"><b>ccollate</b>
    ?<i>-local</i>? <i>string1 string2</i></a></dt>
  <dd>
    <br/>
    This command compares two strings. If returns <b>-1</b> if <i>string1</i> is
      less than <i>string2</i>, <b>0</b> if they are equal and <b>1</b> if
      <i>string1</i> is greater than <i>string2</i>.
    <p class="Pp">If <b>-local</b> is specified, the strings are compared
        according to the collation environment of the current locale.</p>
    <p class="Pp">This command does not work with binary or UTF data.</p>
  </dd>
  <dt id="cconcat"><a class="permalink" href="#cconcat"><b>cconcat</b>
    ?<i>string1</i>? ?<i>string2</i>? ?...?</a></dt>
  <dd>
    <br/>
    Concatenate the arguments, returning the resulting string. While string
      concatenation is normally performed by the parser, it is occasionally
      useful to have a command that returns a string. The is generally useful
      when a command to evaluate is required. No separators are inserted between
      the strings.
    <p class="Pp">This command is UTF-aware.</p>
  </dd>
  <dt id="cequal"><a class="permalink" href="#cequal"><b>cequal</b> <i>string
    string</i></a></dt>
  <dd>
    <br/>
    This command compares two strings for equality. It returns <b>1</b> if
      <i>string1</i> and <i>string2</i> are the identical and <b>0</b> if they
      are not. This command is a short-cut for <b>string compare</b> and avoids
      the problems with string expressions being treated unintentionally as
      numbers.
    <p class="Pp">This command is UTF-aware and will also work on binary
      data.</p>
  </dd>
  <dt id="cindex"><a class="permalink" href="#cindex"><b>cindex</b> <i>string
    indexExpr</i></a></dt>
  <dd>
    <br/>
    Returns the character indexed by the expression <i>indexExpr</i> (zero
      based) from <i>string</i>.
    <p class="Pp">If the expression <i>indexExpr</i> starts with the string
        <b>end</b>, then <b>end</b> is replaced with the index of the last
        character in the string. If the expression starts with <b>len</b>, then
        <b>len</b> is replaced with the length of the string.</p>
    <p class="Pp">This command is UTF-aware.</p>
  </dd>
  <dt id="clength"><a class="permalink" href="#clength"><b>clength</b>
    <i>string</i></a></dt>
  <dd>
    <br/>
    Returns the length of <i>string</i> in characters. This command is a
      shortcut for:
    <br/>
    <pre>
<br/>
<span class="Li">    string length string</span>
    </pre>
    <p class="Pp">This command is UTF-aware.</p>
  </dd>
  <dt id="crange"><a class="permalink" href="#crange"><b>crange</b> <i>string
    firstExpr lastExpr</i></a></dt>
  <dd>
    <br/>
    Returns a range of characters from <i>string</i> starting at the character
      indexed by the expression <i>firstExpr</i> (zero-based) until the
      character indexed by the expression <i>lastExpr</i>.
    <p class="Pp">If the expression <i>firstExpr</i> or <b>lastExpr</b> starts
        with the string <b>end</b>, then <b>end</b> is replaced with the index
        of the last character in the string. If the expression starts with
        <b>len</b>, then <b>len</b> is replaced with the length of the
      string.</p>
    <p class="Pp">This command is UTF-aware.</p>
  </dd>
  <dt id="csubstr"><a class="permalink" href="#csubstr"><b>csubstr</b> <i>string
    firstExpr lengthExpr</i></a></dt>
  <dd>
    <br/>
    Returns a range of characters from <i>string</i> starting at the character
      indexed by the expression <i>firstExpr</i> (zero-based) for
      <i>lengthExpr</i> characters.
    <p class="Pp">If the expression <i>firstExpr</i> or <b>lengthExpr</b> starts
        with the string <b>end</b>, then <b>end</b> is replaced with the index
        of the last character in the string. If the expression starts with
        <b>len</b>, then <b>len</b> is replaced with the length of the
      string.</p>
    <p class="Pp">This command is UTF-aware.</p>
  </dd>
  <dt id="ctoken"><a class="permalink" href="#ctoken"><b>ctoken</b> <i>strvar
    separators</i></a></dt>
  <dd>
    <br/>
    Parse a token out of a character string. The string to parse is contained in
      the variable named <i>strvar</i>. The string <i>separators</i> contains
      all of the valid separator characters for tokens in the string. All
      leading separators are skipped and the first token is returned. The
      variable <i>strvar</i> will be modified to contain the remainder of the
      string following the token.
    <p class="Pp">This command does not work with binary data.</p>
  </dd>
  <dt id="ctype"><a class="permalink" href="#ctype"><b>ctype</b> <i>?-failindex
    var? class string</i></a></dt>
  <dd>
    <br/>
    <b>ctype</b> determines whether all characters in <i>string</i> are of the
      specified <i>class</i>. It returns <b>1</b> if they are all of
      <i>class</i>, and <b>0</b> if they are not, or if the string is empty.
      This command also provides another method (besides <b>format</b> and
      <b>scan</b>) of converting between an ASCII character and its numeric
      value. The following <b>ctype</b> commands are available:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="ctype~2"><a class="permalink" href="#ctype~2"><b>ctype</b>
    <i>?-failindex var? alnum </i><i>string</i></a></dt>
  <dd>Tests that all characters are alphabetic or numeric characters as defined
      by the character set.</dd>
  <dt id="ctype~3"><a class="permalink" href="#ctype~3"><b>ctype</b>
    <i>?-failindex var? alpha </i><i>string</i></a></dt>
  <dd>Tests that all characters are alphabetic characters as defined by the
      character set.</dd>
  <dt id="ctype~4"><a class="permalink" href="#ctype~4"><b>ctype</b>
    <i>?-failindex var? ascii </i><i>string</i></a></dt>
  <dd>Tests that all characters are an ASCII character (a non-negative number
      less than 0200).</dd>
  <dt id="ctype~5"><a class="permalink" href="#ctype~5"><b>ctype char</b>
    <i>number</i></a></dt>
  <dd>Converts the numeric value, <i>string</i>, to an ASCII character. Number
      must be in the range 0 through the maximum Unicode values.</dd>
  <dt id="ctype~6"><a class="permalink" href="#ctype~6"><b>ctype</b>
    <i>?-failindex var? cntrl </i><i>string</i></a></dt>
  <dd>Tests that all characters are ``control characters'' as defined by the
      character set.</dd>
  <dt id="ctype~7"><a class="permalink" href="#ctype~7"><b>ctype</b>
    <i>?-failindex var? digit </i><i>string</i></a></dt>
  <dd>Tests that all characters are valid decimal digits, i.e. 0 through 9.</dd>
  <dt id="ctype~8"><a class="permalink" href="#ctype~8"><b>ctype</b>
    <i>?-failindex var? graph </i><i>string</i></a></dt>
  <dd>Tests that all characters within are any character for which <i>ctype
      print</i> is true, except for space characters.</dd>
  <dt id="ctype~9"><a class="permalink" href="#ctype~9"><b>ctype</b>
    <i>?-failindex var? lower </i><i>string</i></a></dt>
  <dd>Tests that all characters are lowercase letters as defined by the
      character set.</dd>
  <dt id="ctype~10"><a class="permalink" href="#ctype~10"><b>ctype ord</b>
    <i>character</i></a></dt>
  <dd>Convert a character into its decimal numeric value. The first character of
      the string is converted to its numeric Unicode value.</dd>
  <dt id="ctype~11"><a class="permalink" href="#ctype~11"><b>ctype</b>
    <i>?-failindex var? space </i><i>string</i></a></dt>
  <dd>Tests that all characters are either a space, horizontal-tab, carriage
      return, newline, vertical-tab, or form-feed.</dd>
  <dt id="ctype~12"><a class="permalink" href="#ctype~12"><b>ctype</b>
    <i>?-failindex var? print </i><i>string</i></a></dt>
  <dd>Tests that all characters are a space or any character for which
      <i>ctype</i> <i>alnum</i> or <i>ctype punct</i> is true or other
      ``printing character'' as defined by the character set.</dd>
  <dt id="ctype~13"><a class="permalink" href="#ctype~13"><b>ctype</b>
    <i>?-failindex var? punct </i><i>string</i></a></dt>
  <dd>Tests that all characters are made up of any of the characters other than
      the ones for which <b>alnum</b>, <b>cntrl</b>, or <b>space</b> is
    true.</dd>
  <dt id="ctype~14"><a class="permalink" href="#ctype~14"><b>ctype</b>
    <i>?-failindex var? upper </i><i>string</i></a></dt>
  <dd>Tests that all characters are uppercase letters as defined by the
      character set.</dd>
  <dt id="ctype~15"><a class="permalink" href="#ctype~15"><b>ctype</b>
    <i>?-failindex var? xdigit </i><i>string</i></a></dt>
  <dd>Tests that all characters are valid hexadecimal digits, that is <i>0</i>
      through <i>9</i>, a through <i>f</i> or <i>A</i> through <i>F</i>.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <i>-failindex</i> is specified, then the index into <i>string</i> of
      the first character that did not match the class is returned in
      <i>var</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="replicate"><a class="permalink" href="#replicate"><b>replicate</b>
    <i>string countExpr</i></a></dt>
  <dd>
    <br/>
    Returns <i>string</i>, replicated the number of times indicated by the
      expression <i>countExpr</i>.
    <p class="Pp">This command is UTF-aware and will work with binary data.</p>
  </dd>
  <dt id="translit"><a class="permalink" href="#translit"><b>translit</b>
    <i>inrange outrange string</i></a></dt>
  <dd>
    <br/>
    Translate characters in <i>string</i>, changing characters occurring in
      <i>inrange</i> to the corresponding character in <i>outrange</i>.
      <i>Inrange</i> and <i>outrange</i> may be list of characters or a range in
      the form `A-M'. For example:
    <pre>
<br/>
<span class="Li">        translit a-z A-Z foobar</span>

This command currently only supports characters in ASCII range; UTF-8 characters
out of this range will generate an error.</pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="XPG/3_MESSAGE_CATALOG_COMMANDS"><a class="permalink" href="#XPG/3_MESSAGE_CATALOG_COMMANDS">XPG/3
  MESSAGE CATALOG COMMANDS</a></h1>
<p class="Pp">These commands provide a Tcl interface to message catalogs that
    are compliant with the X/Open Portability Guide, Version 3 (XPG/3).</p>
<p class="Pp">Tcl programmers can use message catalogs to create applications
    that are language-independent. Through the use of message catalogs, prompts,
    messages, menus and so forth can exist for any number of languages, and they
    can altered, and new languages added, without affecting any Tcl or C source
    code, greatly easing the maintenance difficulties incurred by supporting
    multiple languages.</p>
<p class="Pp">A default text message is passed to the command that fetches
    entries from message catalogs. This allows the Tcl programmer to create
    message catalogs containing messages in various languages, but still have a
    set of default messages available regardless of the presence of any message
    catalogs, and allow the programs to press on without difficulty when no
    catalogs are present.</p>
<p class="Pp">Thus, the normal approach to using message catalogs is to ignore
    errors on <b>catopen</b>, in which case <b>catgets</b> will return the
    default message that was specified in the call.</p>
<p class="Pp">The Tcl message catalog commands normally ignore most errors. If
    it is desirable to detect errors, a special option is provided. This is
    normally used only during debugging, to insure that message catalogs are
    being used. If your Unix implementation does not have XPG/3 message catalog
    support, stubs will be compiled in that will create a version of
    <b>catgets</b> that always returns the default string. This allows for easy
    porting of software to environments that don't have support for message
    catalogs.</p>
<p class="Pp">Message catalogs are global to the process, an application with
    multiple Tcl interpreters within the same process may pass and share message
    catalog handles.</p>
<dl class="Bl-tag">
  <dt id="catopen"><a class="permalink" href="#catopen"><b>catopen</b>
    ?<b>-fail</b> | <b>-nofail</b>? <i>catname</i></a></dt>
  <dd>
    <br/>
    Open the message catalog <i>catname</i>. This may be a relative path name,
      in which case the <b>NLSPATH</b> environment variable is searched to find
      an absolute path to the message catalog. A handle in the form
      <b>msgcat</b><i>N</i> is returned. Normally, errors are ignored, and in
      the case of a failed call to <b>catopen</b>, a handle is returned to an
      unopened message catalog. (This handle may still be passed to
      <b>catgets</b> and <b>catclose</b>, causing <b>catgets</b> to simply
      return the default string, as described above. If the <b>-fail</b> option
      is specified, an error is returned if the open fails. The option
      <b>-nofail</b> specifies the default behavior of not returning an error
      when <b>catopen</b> fails to open a specified message catalog. If the
      handle from a failed <b>catopen</b> is passed to <b>catgets</b>, the
      default string is returned.</dd>
  <dt id="catgets"><a class="permalink" href="#catgets"><b>catgets</b>
    <i>catHandle setnum msgnum defaultstr</i></a></dt>
  <dd>
    <br/>
    Retrieve a message form a message catalog. <i>CatHandle</i> should be a Tcl
      message catalog handle that was returned by <b>catopen</b>. <i>Setnum</i>
      is the message set number, and <i>msgnum</i> is the message number. If the
      message catalog was not opened, or the message set or message number
      cannot be found, then the default string, <i>defaultstr</i>, is
    returned.</dd>
  <dt id="catclose"><a class="permalink" href="#catclose"><b>catclose</b>
    ?<b>-fail</b> | <b>-nofail</b>? <i>cathandle</i></a></dt>
  <dd>
    <br/>
    Close the message catalog specified by <i>cathandle</i>. Normally, errors
      are ignored. If <b>-fail</b> is specified, any errors closing the message
      catalog file are returned. The option <b>-nofail</b> specifies the default
      behavior of not returning an error. The use of <b>-fail</b> only makes
      sense if it was also specified in the call to <b>catopen</b>.</dd>
  <dt id="mainloop"><a class="permalink" href="#mainloop"><b>mainloop</b></a></dt>
  <dd>
    <br/>
    This procedure sets up a top-level event loop. Events are processed until
      there are no more active event sources, at which time the process exits.
      It is used to build event oriented programs using the TclX shell in a
      style similar to that used with <b>wish</b>. If the global variable
      <b>tcl_interactive</b> exists and has a true value an interactive command
      handler is started as well. If the command handler is terminated by an
      EOF, the process will be exited.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="HELP_FACILITY"><a class="permalink" href="#HELP_FACILITY">HELP
  FACILITY</a></h1>
<p class="Pp">The help facility allows one to look up help pages which where
    extracted from the standard Tcl manual pages and Tcl scripts during Tcl
    installation. Help files are structured as a multilevel tree of subjects and
    help pages. Help files are found by searching directories named <b>help</b>
    in the directories listed in the <b>auto_path</b> variable. All of the files
    in the list of help directories form a virtual root of the help tree. This
    method allows multiple applications to provide help trees without having the
    files reside in the same directory.</p>
<p class="Pp">The help facility can be accessed in two ways, as interactive
    commands in the Extended Tcl shell or as an interactive Tk-based program (if
    you have built Extended Tcl with Tk).</p>
<p class="Pp">To run the Tk-based interactive help program:</p>
<p class="Pp"></p>
<pre>
<br/>
<span class="Li">    tclhelp ?addpaths?</span>
</pre>
<p class="Pp">Where <i>addpaths</i> are additional paths to search for help
    directories. By default, only the <i>auto_path</i> used by <b>tclhelp</b> is
    search. This will result in help on Tcl, Extended Tcl and Tk.</p>
<p class="Pp">The following interactive Tcl commands and options are provided
    with the help package:</p>
<dl class="Bl-tag">
  <dt id="help"><a class="permalink" href="#help"><b>help</b></a></dt>
  <dd>
    <br/>
    Help, without arguments, lists of all the help subjects and pages under the
      current help subject.</dd>
  <dt id="help~2"><a class="permalink" href="#help~2"><b>help</b>
    <i>subject</i></a></dt>
  <dd>Displays all of help pages and lower level subjects (if any exist) under
      the subject <i>subject</i>.</dd>
  <dt id="help~3"><a class="permalink" href="#help~3"><b>help</b>
    <i>subject/helppage</i></a></dt>
  <dd>Display the specified help page. The help output is passed through a
      simple pager if output exceeds 23 lines, pausing waiting for a return to
      be entered. If any other character is entered, the output is
    terminated.</dd>
  <dt id="helpcd"><a class="permalink" href="#helpcd"><b>helpcd</b>
    ?<i>subject</i>?</a></dt>
  <dd>Change the current subject, which is much like the Unix current directory.
      If <i>subject</i> is not specified, return to the top-level of the help
      tree. Help subject path names may also include ``..'' elements.</dd>
  <dt id="helppwd"><a class="permalink" href="#helppwd"><b>helppwd</b></a></dt>
  <dd>Displays the current help subject.</dd>
  <dt id="help~4"><a class="permalink" href="#help~4"><b>help</b> <i>help</i> |
    ?</a></dt>
  <dd>Displays help on the help facility at any directory level.</dd>
  <dt id="apropos"><a class="permalink" href="#apropos"><b>apropos</b>
    <i>pattern</i></a></dt>
  <dd>This command locates subjects by searching their one-line descriptions for
      a pattern. Apropos is useful when you can remember part of the name or
      description of a command, and want to search through the one-line
      summaries for matching lines. Full regular expressions may be specified
      (see the <b>regexp</b> command).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="TCL_LOADABLE_LIBRARIES_AND_PACKAGES"><a class="permalink" href="#TCL_LOADABLE_LIBRARIES_AND_PACKAGES">TCL
  LOADABLE LIBRARIES AND PACKAGES</a></h1>
<p class="Pp">Extended Tcl supports standard Tcl <b>tclIndex</b> libraries and
    package libraries. A package library file can contain multiple independent
    Tcl packages. A package is a named collection of related Tcl procedures and
    initialization code.</p>
<p class="Pp">The package library file is just a regular Unix text file,
    editable with your favorite text editor, containing packages of Tcl source
    code. The package library file name must have the suffix <b>.tlib</b>. An
    index file with the same prefix name and the suffix <b>.tndx</b> resides the
    same directory as the <b>.tlib</b> file. The <b>.tndx</b> will be
    automatically created whenever it is out of date or missing (provided there
    is write access to the directory).</p>
<p class="Pp">The variable <b>auto_path</b> contains a list of directories that
    are searched for libraries. The first time an unknown command trap is take,
    the indexes for the libraries are loaded into memory. If the
    <b>auto_path</b> variable is changed during execution of a program, it will
    be re-searched. Only the first package of a given name found during the
    execution of a program is loaded. This can be overridden with
    <b>loadlibindex</b> command.</p>
<p class="Pp">The start of a package is delimited by:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd><b>#@package</b>: <i>package_name proc1</i> ?<i>..procN</i>?</dd>
</dl>
<p class="Pp">These lines must start in column one. Everything between the
    <b>#@package:</b> keyword and the next <b>#@package:</b> keyword or a
    <b>#@packend</b> keyword, or the end of the file, becomes part of the named
    package. The specified procedures, <i>proc1..procN</i>, are the entry points
    of the package. When a command named in a package specification is executed
    and detected as an unknown command, all code in the specified package will
    be sourced. This package should define all of the procedures named on the
    package line, define any support procedures required by the package and do
    any package-specific initialization. Packages declarations maybe continued
    on subsequent lines using standard Tcl backslash line continuations. The
    <b>#@packend</b> keyword is useful to make sure only the minimum required
    section of code is sourced. Thus for example a large comment block at the
    beginning of the next file won't be loaded.</p>
<p class="Pp">Care should be taken in defining <i>package_name</i>, as the first
    package found in the path by with a given name is loaded. This can be useful
    in developing new version of packages installed on the system.</p>
<p class="Pp">For example, in a package source file, the presence of the
    following line:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd><b>#@package: directory_stack pushd popd dirs</b></dd>
</dl>
<p class="Pp">says that the text lines following that line in the package file
    up to the next <i>package</i> line or the end of the file is a package named
    <b>directory_stack</b> and that an attempt to execute either <i>pushd</i>,
    <i>popd</i> or <i>dirs</i> when the routine is not already defined will
    cause the <b>directory_stack</b> portion of the package file to be
  loaded.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PACKAGE_LIBRARY_MANAGEMENT_COMMANDS"><a class="permalink" href="#PACKAGE_LIBRARY_MANAGEMENT_COMMANDS">PACKAGE
  LIBRARY MANAGEMENT COMMANDS</a></h1>
<p class="Pp">Several commands are available for building and managing package
    libraries. Commands that are extended versions of the standard Tcl library
    commands are listed here. All of the standard Tcl library management
    commands and variables are also supported.</p>
<dl class="Bl-tag">
  <dt id="auto_commands"><a class="permalink" href="#auto_commands"><b>auto_commands</b>
    ?<b>-loaders</b>?</a></dt>
  <dd>Lists the names of all known loadable procedures and commands procedures.
      If <b>-loaders</b> is specified, the command that will be executed to load
      the command will also be returned.</dd>
  <dt id="buildpackageindex"><a class="permalink" href="#buildpackageindex"><b>buildpackageindex</b>
    <i>libfilelist</i></a></dt>
  <dd>
    <br/>
    Build index files for package libraries. The argument <i>libfilelist</i> is
      a list of package libraries. Each name must end with the suffix
      <b>.tlib</b>. A corresponding <b>.tndx</b> file will be built. The user
      must have write access to the directory containing each library.</dd>
  <dt id="convert_lib"><a class="permalink" href="#convert_lib"><b>convert_lib</b>
    <i>tclIndex packagelib ?ignore?</i></a></dt>
  <dd>
    <br/>
    Convert a Ousterhout style <i>tclIndex</i> index file and associate source
      files into a package library <b>packagelib</b>. If <b>packagelib</b> does
      not have a <b>.tlib</b> extension, one will be added. Any files specified
      in <i>tclIndex</i> that are in the list <i>ignore</i> will be skipped.
      Files listed in <i>ignore</i> should just be the base file names, not full
      paths.</dd>
  <dt id="loadlibindex"><a class="permalink" href="#loadlibindex"><b>loadlibindex</b>
    <i>libfile.tlib</i></a></dt>
  <dd>
    <br/>
    Load the package library index of the library file <b>libfile</b> (which
      must have the suffix <i>.tlib</i>). Package library indexes along the
      <b>auto_path</b> are loaded automatically on the first <b>demand_load</b>;
      this command is provided to explicitly load libraries that are not in the
      path. If the index file (with a <i>.tndx</i> suffix) does not exists or is
      out of date, it will be rebuilt if the user has directory permissions to
      create it. If a package with the same name as a package in
      <i>libfile.tlib</i> has already been loaded, its definition will be
      overridden by the new package. However, if any procedure has actually been
      used from the previously defined package, the procedures from
      <i>libfile.tlib</i> will not be loaded.</dd>
  <dt id="auto_packages"><a class="permalink" href="#auto_packages"><b>auto_packages</b>
    ?<i>-location</i>?</a></dt>
  <dd>
    <br/>
    Returns a list of the names of all defined packages. If <i>-location</i> is
      specified, a list of pairs of package name and the <b>.tlib</b> path name,
      offset and length of the package within the library.</dd>
  <dt id="auto_load_file"><a class="permalink" href="#auto_load_file"><b>auto_load_file</b>
    <i>file</i></a></dt>
  <dd>
    <br/>
    Source a file, as with the <b>source</b> command, except search
      <b>auto_path</b> for the file.</dd>
  <dt id="searchpath"><a class="permalink" href="#searchpath"><b>searchpath</b>
    <i>path file</i></a></dt>
  <dd>
    <br/>
    Search all directories in the specified path, which is a Tcl list, for the
      specified file. Returns the full path name of the file, or an empty string
      if the requested file could not be found.
    <p class="Pp"></p>
    <p class="Pp"></p>
  </dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">Tcl</td>
  </tr>
</table>
</body>
</html>
