<!DOCTYPE html>
<html>
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>SLAPD.CONF(5)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SLAPD.CONF(5)</td>
    <td class="head-vol">File Formats Manual</td>
    <td class="head-rtitle">SLAPD.CONF(5)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">slapd.conf - configuration file for slapd, the stand-alone LDAP
    daemon</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">/etc/openldap/slapd.conf</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The file <b>/etc/openldap/slapd.conf</b> contains configuration
    information for the <b>slapd</b>(8) daemon. This configuration file is also
    used by the SLAPD tools <b>slapacl</b>(8), <b>slapadd</b>(8),
    <b>slapauth</b>(8), <b>slapcat</b>(8), <b>slapdn</b>(8),
    <b>slapindex</b>(8), and <b>slaptest</b>(8).</p>
<p class="Pp">The <b>slapd.conf</b> file consists of a series of global
    configuration options that apply to <b>slapd</b> as a whole (including all
    backends), followed by zero or more database backend definitions that
    contain information specific to a backend instance. The configuration
    options are case-insensitive; their value, on a case by case basis, may be
    case-sensitive.</p>
<p class="Pp">The general format of <b>slapd.conf</b> is as follows:</p>
<p class="Pp"></p>
<pre>
<br/>
    # comment - these options apply to every database
<br/>
    &lt;global configuration options&gt;
<br/>
    # first database definition &amp; configuration options
<br/>
    database &lt;backend 1 type&gt;
<br/>
    &lt;configuration options specific to backend 1&gt;
<br/>
    # subsequent database definitions &amp; configuration options
<br/>
    ...</pre>
<p class="Pp">As many backend-specific sections as desired may be included.
    Global options can be overridden in a backend (for options that appear more
    than once, the last appearance in the <b>slapd.conf</b> file is used).</p>
<p class="Pp">If a line begins with white space, it is considered a continuation
    of the previous line. No physical line should be over 2000 bytes long.</p>
<p class="Pp">Blank lines and comment lines beginning with a `#' character are
    ignored. Note: continuation lines are unwrapped before comment processing is
    applied.</p>
<p class="Pp">Arguments on configuration lines are separated by white space. If
    an argument contains white space, the argument should be enclosed in double
    quotes. If an argument contains a double quote (`&quot;') or a backslash
    character (`\'), the character should be preceded by a backslash
  character.</p>
<p class="Pp">The specific configuration options available are discussed below
    in the Global Configuration Options, General Backend Options, and General
    Database Options. Backend-specific options are discussed in the
    <b>slapd-&lt;backend&gt;(5)</b> manual pages. Refer to the &quot;OpenLDAP
    Administrator's Guide&quot; for more details on the slapd configuration
    file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GLOBAL_CONFIGURATION_OPTIONS"><a class="permalink" href="#GLOBAL_CONFIGURATION_OPTIONS">GLOBAL
  CONFIGURATION OPTIONS</a></h1>
<p class="Pp">Options described in this section apply to all backends, unless
    specifically overridden in a backend definition. Arguments that should be
    replaced by actual text are shown in brackets &lt;&gt;.</p>
<dl class="Bl-tag">
  <dt id="access"><a class="permalink" href="#access"><b>access to &lt;what&gt;
    [ by &lt;who&gt; &lt;access&gt; &lt;control&gt; ]+</b></a></dt>
  <dd>Grant access (specified by &lt;access&gt;) to a set of entries and/or
      attributes (specified by &lt;what&gt;) by one or more requestors
      (specified by &lt;who&gt;). If no access controls are present, the default
      policy allows anyone and everyone to read anything but restricts updates
      to rootdn. (e.g., &quot;access to * by * read&quot;). The rootdn can
      always read and write EVERYTHING! See <b>slapd.access</b>(5) and the
      &quot;OpenLDAP's Administrator's Guide&quot; for details.</dd>
  <dt><b>allow &lt;features&gt;</b></dt>
  <dd>Specify a set of features (separated by white space) to allow (default
      none). <b>bind_v2</b> allows acceptance of LDAPv2 bind requests. Note that
      <b>slapd</b>(8) does not truly implement LDAPv2 (RFC 1777), now Historic
      (RFC 3494). <b>bind_anon_cred</b> allows anonymous bind when credentials
      are not empty (e.g. when DN is empty). <b>bind_anon_dn</b> allows
      unauthenticated (anonymous) bind when DN is not empty. <b>update_anon</b>
      allows unauthenticated (anonymous) update operations to be processed
      (subject to access controls and other administrative limits).
      <b>proxy_authz_anon</b> allows unauthenticated (anonymous) proxy
      authorization control to be processed (subject to access controls,
      authorization and other administrative limits).</dd>
  <dt id="argsfile"><a class="permalink" href="#argsfile"><b>argsfile
    &lt;filename&gt;</b></a></dt>
  <dd>The (absolute) name of a file that will hold the <b>slapd</b> server's
      command line (program name and options).</dd>
  <dt id="attributeoptions"><a class="permalink" href="#attributeoptions"><b>attributeoptions
    [option-name]...</b></a></dt>
  <dd>Define tagging attribute options or option tag/range prefixes. Options
      must not end with `-', prefixes must end with `-'. The `lang-' prefix is
      predefined. If you use the <b>attributeoptions</b> directive, `lang-' will
      no longer be defined and you must specify it explicitly if you want it
      defined.
    <p class="Pp">An attribute description with a tagging option is a subtype of
        that attribute description without the option. Except for that, options
        defined this way have no special semantics. Prefixes defined this way
        work like the `lang-' options: They define a prefix for tagging options
        starting with the prefix. That is, if you define the prefix `x-foo-',
        you can use the option `x-foo-bar'. Furthermore, in a search or compare,
        a prefix or range name (with a trailing `-') matches all options
        starting with that name, as well as the option with the range name sans
        the trailing `-'. That is, `x-foo-bar-' matches `x-foo-bar' and
        `x-foo-bar-baz'.</p>
    <p class="Pp">RFC 4520 reserves options beginning with `x-' for private
        experiments. Other options should be registered with IANA, see RFC 4520
        section 3.5. OpenLDAP also has the `binary' option built in, but this is
        a transfer option, not a tagging option.</p>
  </dd>
</dl>
<p class="Pp HP"><b>attributetype (&#x00A0;&lt;oid&gt;
    [NAME&#x00A0;&lt;name&gt;] [DESC&#x00A0;&lt;description&gt;] [OBSOLETE]
    [SUP&#x00A0;&lt;oid&gt;] [EQUALITY&#x00A0;&lt;oid&gt;]
    [ORDERING&#x00A0;&lt;oid&gt;] [SUBSTR&#x00A0;&lt;oid&gt;]
    [SYNTAX&#x00A0;&lt;oidlen&gt;] [SINGLE-VALUE] [COLLECTIVE]
    [NO-USER-MODIFICATION]
  [USAGE&#x00A0;&lt;attributeUsage&gt;]&#x00A0;)</b></p>
<div class="Bd-indent">Specify an attribute type using the LDAPv3 syntax defined
  in RFC 4512. The slapd parser extends the RFC 4512 definition by allowing
  string forms as well as numeric OIDs to be used for the attribute OID and
  attribute syntax OID. (See the <b>objectidentifier</b> description.)</div>
<dl class="Bl-tag">
  <dt id="authid"><a class="permalink" href="#authid"><b>authid-rewrite&lt;cmd&gt;
    &lt;args&gt;</b></a></dt>
  <dd>Used by the authentication framework to convert simple user names to an
      LDAP DN used for authorization purposes. Its purpose is analogous to that
      of <b>authz-regexp</b> (see below). The prefix <i>authid-</i> is followed
      by a set of rules analogous to those described in <b>slapo-rwm</b>(5) for
      data rewriting (replace the <i>rwm-</i> prefix with <i>authid-</i>).
      <b>authid-rewrite&lt;cmd&gt;</b> and <b>authz-regexp</b> rules should not
      be intermixed.</dd>
  <dt id="authz"><a class="permalink" href="#authz"><b>authz-policy
    &lt;policy&gt;</b></a></dt>
  <dd>Used to specify which rules to use for Proxy Authorization. Proxy
      authorization allows a client to authenticate to the server using one
      user's credentials, but specify a different identity to use for
      authorization and access control purposes. It essentially allows user A to
      login as user B, using user A's password. The <b>none</b> flag disables
      proxy authorization. This is the default setting. The <b>from</b> flag
      will use rules in the <i>authzFrom</i> attribute of the authorization DN.
      The <b>to</b> flag will use rules in the <i>authzTo</i> attribute of the
      authentication DN. The <b>any</b> flag, an alias for the deprecated value
      of <b>both</b>, will allow any of the above, whatever succeeds first
      (checked in <b>to</b>, <b>from</b> sequence. The <b>all</b> flag requires
      both authorizations to succeed.</dd>
</dl>
<p class="Pp"></p>
<div class="Bd-indent">The rules are mechanisms to specify which identities are
  allowed to perform proxy authorization. The <i>authzFrom</i> attribute in an
  entry specifies which other users are allowed to proxy login to this entry.
  The <i>authzTo</i> attribute in an entry specifies which other users this user
  can authorize as. Use of <i>authzTo</i> rules can be easily abused if users
  are allowed to write arbitrary values to this attribute. In general the
  <i>authzTo</i> attribute must be protected with ACLs such that only privileged
  users can modify it. The value of <i>authzFrom</i> and <i>authzTo</i>
  describes an <b>identity</b> or a set of identities; it can take five forms:
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="ldap:///_base_??__scope__?_filter_"><a class="permalink" href="#ldap:///_base_??__scope__?_filter_"><b>ldap:///&lt;base&gt;??[&lt;scope&gt;]?&lt;filter&gt;</b></a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"><b>dn[.&lt;dnstyle&gt;]:&lt;pattern&gt;</b></div>
<div class="Bd-indent"><b>u[.&lt;mech&gt;[/&lt;realm&gt;]]:&lt;pattern&gt;</b></div>
<div class="Bd-indent"><b>group[/objectClass[/attributeType]]:&lt;pattern&gt;</b></div>
<div class="Bd-indent"><b>&lt;pattern&gt;</b></div>
<div class="Bd-indent">
<p class="Pp"><b>&lt;dnstyle&gt;:={exact|onelevel|children|subtree|regex}</b></p>
<p class="Pp"></p>
</div>
The first form is a valid LDAP <b>URI</b> where the
  <i>&lt;host&gt;:&lt;port&gt;</i>, the <i>&lt;attrs&gt;</i> and the
  <i>&lt;extensions&gt;</i> portions must be absent, so that the search occurs
  locally on either <i>authzFrom</i> or <i>authzTo</i>. The second form is a
  <b>DN</b>, with the optional style modifiers <i>exact</i>, <i>onelevel</i>,
  <i>children</i>, and <i>subtree</i> for exact, onelevel, children and subtree
  matches, which cause <i>&lt;pattern&gt;</i> to be normalized according to the
  DN normalization rules, or the special <i>regex</i> style, which causes the
  <i>&lt;pattern&gt;</i> to be treated as a POSIX (''extended'') regular
  expression, as discussed in <b>regex</b>(7) and/or <b>re_format</b>(7). A
  pattern of <i>*</i> means any non-anonymous DN. The third form is a SASL
  <b>id</b>, with the optional fields <i>&lt;mech&gt;</i> and
  <i>&lt;realm&gt;</i> that allow to specify a SASL <b>mechanism</b>, and
  eventually a SASL <b>realm</b>, for those mechanisms that support one. The
  need to allow the specification of a mechanism is still debated, and users are
  strongly discouraged to rely on this possibility. The fourth form is a group
  specification, consisting of the keyword <b>group</b>, optionally followed by
  the specification of the group <b>objectClass</b> and member
  <b>attributeType</b>. The group with DN <b>&lt;pattern&gt;</b> is searched
  with base scope, and in case of match, the values of the member
  <b>attributeType</b> are searched for the asserted DN. For backwards
  compatibility, if no identity type is provided, i.e. only
  <b>&lt;pattern&gt;</b> is present, an <i>exact DN</i> is assumed; as a
  consequence, <b>&lt;pattern&gt;</b> is subjected to DN normalization. Since
  the interpretation of <i>authzFrom</i> and <i>authzTo</i> can impact security,
  users are strongly encouraged to explicitly set the type of identity
  specification that is being used. A subset of these rules can be used as third
  arg in the <b>authz-regexp</b> statement (see below); significantly, the
  <i>URI</i>, provided it results in exactly one entry, and the
  <i>dn.exact:&lt;dn&gt;</i> forms.</div>
<dl class="Bl-tag">
  <dt id="authz~2"><a class="permalink" href="#authz~2"><b>authz-regexp
    &lt;match&gt; &lt;replace&gt;</b></a></dt>
  <dd>Used by the authentication framework to convert simple user names, such as
      provided by SASL subsystem, or extracted from certificates in case of
      cert-based SASL EXTERNAL, or provided within the RFC 4370 &quot;proxied
      authorization&quot; control, to an LDAP DN used for authorization
      purposes. Note that the resulting DN need not refer to an existing entry
      to be considered valid. When an authorization request is received from the
      SASL subsystem, the SASL <b>USERNAME</b>, <b>REALM</b>, and
      <b>MECHANISM</b> are taken, when available, and combined into a name of
      the form</dd>
</dl>
<div class="Bd-indent">
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="UID=_username___,CN=_realm__,CN=_mechanism__,CN=auth"><a class="permalink" href="#UID=_username___,CN=_realm__,CN=_mechanism__,CN=auth"><b>UID=&lt;username&gt;[[,CN=&lt;realm&gt;],CN=&lt;mechanism&gt;],CN=auth</b></a></dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
</div>
This name is then compared against the <b>match</b> POSIX (''extended'') regular
  expression, and if the match is successful, the name is replaced with the
  <b>replace</b> string. If there are wildcard strings in the <b>match</b>
  regular expression that are enclosed in parenthesis, e.g.
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="UID=(__,_*),CN=.*"><a class="permalink" href="#UID=(__,_*),CN=.*"><b>UID=([^,]*),CN=.*</b></a></dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
</div>
then the portion of the name that matched the wildcard will be stored in the
  numbered placeholder variable $1. If there are other wildcard strings in
  parenthesis, the matching strings will be in $2, $3, etc. up to $9. The
  placeholders can then be used in the <b>replace</b> string, e.g.
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="UID=$1,OU=Accounts,DC=example,DC=com"><a class="permalink" href="#UID=$1,OU=Accounts,DC=example,DC=com"><b>UID=$1,OU=Accounts,DC=example,DC=com</b></a></dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
</div>
The replaced name can be either a DN, i.e. a string prefixed by &quot;dn:&quot;,
  or an LDAP URI. If the latter, the server will use the URI to search its own
  database(s) and, if the search returns exactly one entry, the name is replaced
  by the DN of that entry. The LDAP URI must have no hostport, attrs, or
  extensions components, but the filter is mandatory, e.g.
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="ldap:///OU=Accounts,DC=example,DC=com??one?(UID=$1)"><a class="permalink" href="#ldap:///OU=Accounts,DC=example,DC=com??one?(UID=$1)"><b>ldap:///OU=Accounts,DC=example,DC=com??one?(UID=$1)</b></a></dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
</div>
The protocol portion of the URI must be strictly <b>ldap</b>. Note that this
  search is subject to access controls. Specifically, the authentication
  identity must have &quot;auth&quot; access in the subject.
<p class="Pp">Multiple <b>authz-regexp</b> options can be given in the
    configuration file to allow for multiple matching and replacement patterns.
    The matching patterns are checked in the order they appear in the file,
    stopping at the first successful match.</p>
<p class="Pp"></p>
</div>
<dl class="Bl-tag">
  <dt id="concurrency"><a class="permalink" href="#concurrency"><b>concurrency
    &lt;integer&gt;</b></a></dt>
  <dd>Specify a desired level of concurrency. Provided to the underlying thread
      system as a hint. The default is not to provide any hint.</dd>
  <dt id="conn_max_pending"><a class="permalink" href="#conn_max_pending"><b>conn_max_pending
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum number of pending requests for an anonymous session.
      If requests are submitted faster than the server can process them, they
      will be queued up to this limit. If the limit is exceeded, the session is
      closed. The default is 100.</dd>
  <dt id="conn_max_pending_auth"><a class="permalink" href="#conn_max_pending_auth"><b>conn_max_pending_auth
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum number of pending requests for an authenticated
      session. The default is 1000.</dd>
  <dt id="defaultsearchbase"><a class="permalink" href="#defaultsearchbase"><b>defaultsearchbase
    &lt;dn&gt;</b></a></dt>
  <dd>Specify a default search base to use when client submits a non-base search
      request with an empty base DN. Base scoped search requests with an empty
      base DN are not affected.</dd>
  <dt id="disallow"><a class="permalink" href="#disallow"><b>disallow
    &lt;features&gt;</b></a></dt>
  <dd>Specify a set of features (separated by white space) to disallow (default
      none). <b>bind_anon</b> disables acceptance of anonymous bind requests.
      Note that this setting does not prohibit anonymous directory access (See
      &quot;require authc&quot;). <b>bind_simple</b> disables simple (bind)
      authentication. <b>tls_2_anon</b> disables forcing session to anonymous
      status (see also <b>tls_authc</b>) upon StartTLS operation receipt.
      <b>tls_authc</b> disallows the StartTLS operation if authenticated (see
      also <b>tls_2_anon</b>). <b>proxy_authz_non_critical</b> disables
      acceptance of the proxied authorization control (RFC4370) when criticality
      is FALSE. <b>dontusecopy_non_critical</b> disables acceptance of the
      dontUseCopy control (a work in progress) when criticality is FALSE.</dd>
</dl>
<p class="Pp HP"><b>ditcontentrule (&#x00A0;&lt;oid&gt;
    [NAME&#x00A0;&lt;name&gt;] [DESC&#x00A0;&lt;description&gt;] [OBSOLETE]
    [AUX&#x00A0;&lt;oids&gt;] [MUST&#x00A0;&lt;oids&gt;]
    [MAY&#x00A0;&lt;oids&gt;] [NOT&#x00A0;&lt;oids&gt;]&#x00A0;)</b></p>
<div class="Bd-indent">Specify an DIT Content Rule using the LDAPv3 syntax
  defined in RFC 4512. The slapd parser extends the RFC 4512 definition by
  allowing string forms as well as numeric OIDs to be used for the attribute OID
  and attribute syntax OID. (See the <b>objectidentifier</b> description.)</div>
<dl class="Bl-tag">
  <dt id="gentlehup"><a class="permalink" href="#gentlehup"><b>gentlehup { on |
    off }</b></a></dt>
  <dd>A SIGHUP signal will only cause a 'gentle' shutdown-attempt: <b>Slapd</b>
      will stop listening for new connections, but will not close the
      connections to the current clients. Future write operations return
      unwilling-to-perform, though. Slapd terminates when all clients have
      closed their connections (if they ever do), or - as before - if it
      receives a SIGTERM signal. This can be useful if you wish to terminate the
      server and start a new <b>slapd</b> server <b>with another database,</b>
      without disrupting the currently active clients. The default is off. You
      may wish to use <b>idletimeout</b> along with this option.</dd>
  <dt id="idletimeout"><a class="permalink" href="#idletimeout"><b>idletimeout
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the number of seconds to wait before forcibly closing an idle
      client connection. A idletimeout of 0 disables this feature. The default
      is 0. You may also want to set the <b>writetimeout</b> option.</dd>
  <dt id="include"><a class="permalink" href="#include"><b>include
    &lt;filename&gt;</b></a></dt>
  <dd>Read additional configuration information from the given file before
      continuing with the next line of the current file.</dd>
  <dt id="index_intlen"><a class="permalink" href="#index_intlen"><b>index_intlen
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the key length for ordered integer indices. The most significant
      bytes of the binary integer will be used for index keys. The default value
      is 4, which provides exact indexing for 31 bit values. A floating point
      representation is used to index too large values.</dd>
  <dt id="index_substr_if_minlen"><a class="permalink" href="#index_substr_if_minlen"><b>index_substr_if_minlen
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the minimum length for subinitial and subfinal indices. An
      attribute value must have at least this many characters in order to be
      processed by the indexing functions. The default is 2.</dd>
  <dt id="index_substr_if_maxlen"><a class="permalink" href="#index_substr_if_maxlen"><b>index_substr_if_maxlen
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum length for subinitial and subfinal indices. Only this
      many characters of an attribute value will be processed by the indexing
      functions; any excess characters are ignored. The default is 4.</dd>
  <dt id="index_substr_any_len"><a class="permalink" href="#index_substr_any_len"><b>index_substr_any_len
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the length used for subany indices. An attribute value must have
      at least this many characters in order to be processed. Attribute values
      longer than this length will be processed in segments of this length. The
      default is 4. The subany index will also be used in subinitial and
      subfinal index lookups when the filter string is longer than the
      <i>index_substr_if_maxlen</i> value.</dd>
  <dt id="index_substr_any_step"><a class="permalink" href="#index_substr_any_step"><b>index_substr_any_step
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the steps used in subany index lookups. This value sets the offset
      for the segments of a filter string that are processed for a subany index
      lookup. The default is 2. For example, with the default values, a search
      using this filter &quot;cn=*abcdefgh*&quot; would generate index lookups
      for &quot;abcd&quot;, &quot;cdef&quot;, and &quot;efgh&quot;.
    <p class="Pp"></p>
  </dd>
</dl>
<p class="Pp">Note: Indexing support depends on the particular backend in use.
    Also, changing these settings will generally require deleting any indices
    that depend on these parameters and recreating them with
    <b>slapindex</b>(8).</p>
<p class="Pp"></p>
<p class="Pp HP"><b>ldapsyntax (&#x00A0;&lt;oid&gt;
    [DESC&#x00A0;&lt;description&gt;] [X-SUBST
    &lt;substitute-syntax&gt;]&#x00A0;)</b></p>
<div class="Bd-indent">Specify an LDAP syntax using the LDAPv3 syntax defined in
  RFC 4512. The slapd parser extends the RFC 4512 definition by allowing string
  forms as well as numeric OIDs to be used for the syntax OID. (See the
  <b>objectidentifier</b> description.) The slapd parser also honors the
  <b>X-SUBST</b> extension (an OpenLDAP-specific extension), which allows to use
  the <b>ldapsyntax</b> statement to define a non-implemented syntax along with
  another syntax, the extension value <i>substitute-syntax</i>, as its temporary
  replacement. The <i>substitute-syntax</i> must be defined. This allows to
  define attribute types that make use of non-implemented syntaxes using the
  correct syntax OID. Unless <b>X-SUBST</b> is used, this configuration
  statement would result in an error, since no handlers would be associated to
  the resulting syntax structure.</div>
<p class="Pp"></p>
<dl class="Bl-tag">
  <dt id="listener-threads"><a class="permalink" href="#listener-threads"><b>listener-threads
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the number of threads to use for the connection manager. The
      default is 1 and this is typically adequate for up to 16 CPU cores. The
      value should be set to a power of 2.</dd>
  <dt id="localSSF"><a class="permalink" href="#localSSF"><b>localSSF
    &lt;SSF&gt;</b></a></dt>
  <dd>Specifies the Security Strength Factor (SSF) to be given local LDAP
      sessions, such as those to the ldapi:// listener. For a description of SSF
      values, see <b>sasl-secprops</b>'s <b>minssf</b> option description. The
      default is 71.</dd>
  <dt id="logfile"><a class="permalink" href="#logfile"><b>logfile
    &lt;filename&gt;</b></a></dt>
  <dd>Specify a file for recording debug log messages. By default these messages
      only go to stderr and are not recorded anywhere else. Specifying a logfile
      copies messages to both stderr and the logfile.</dd>
  <dt id="loglevel"><a class="permalink" href="#loglevel"><b>loglevel
    &lt;integer&gt; [...]</b></a></dt>
  <dd>Specify the level at which debugging statements and operation statistics
      should be syslogged (currently logged to the <b>syslogd</b>(8) LOG_LOCAL4
      facility). They must be considered subsystems rather than increasingly
      verbose log levels. Some messages with higher priority are logged
      regardless of the configured loglevel as soon as any logging is
      configured. Log levels are additive, and available levels are:</dd>
</dl>
<div class="Bd-indent">
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><b>1</b></dt>
  <dd><b>(0x1 trace)</b> trace function calls</dd>
  <dt><b>2</b></dt>
  <dd><b>(0x2 packets)</b> debug packet handling</dd>
  <dt><b>4</b></dt>
  <dd><b>(0x4 args)</b> heavy trace debugging (function args)</dd>
  <dt><b>8</b></dt>
  <dd><b>(0x8 conns)</b> connection management</dd>
  <dt><b>16</b></dt>
  <dd><b>(0x10 BER)</b> print out packets sent and received</dd>
  <dt><b>32</b></dt>
  <dd><b>(0x20 filter)</b> search filter processing</dd>
  <dt><b>64</b></dt>
  <dd><b>(0x40 config)</b> configuration file processing</dd>
  <dt><b>128</b></dt>
  <dd><b>(0x80 ACL)</b> access control list processing</dd>
  <dt><b>256</b></dt>
  <dd><b>(0x100 stats)</b> connections, LDAP operations, results
    (recommended)</dd>
  <dt><b>512</b></dt>
  <dd><b>(0x200 stats2)</b> stats log entries sent</dd>
  <dt><b>1024</b></dt>
  <dd><b>(0x400 shell)</b> print communication with shell backends</dd>
  <dt><b>2048</b></dt>
  <dd><b>(0x800 parse)</b> entry parsing
    <p class="Pp"></p>
    <p class="Pp"></p>
    <p class="Pp"></p>
    <p class="Pp"></p>
    <p class="Pp"></p>
    <p class="Pp"></p>
    <p class="Pp"></p>
    <p class="Pp"></p>
  </dd>
  <dt><b>16384</b></dt>
  <dd><b>(0x4000 sync)</b> LDAPSync replication</dd>
  <dt><b>32768</b></dt>
  <dd><b>(0x8000 none)</b> only messages that get logged whatever log level is
      set</dd>
</dl>
</div>
The desired log level can be input as a single integer that combines the (ORed)
  desired levels, both in decimal or in hexadecimal notation, as a list of
  integers (that are ORed internally), or as a list of the names that are shown
  between brackets, such that
<p class="Pp"></p>
<pre>
<br/>
    loglevel 129
<br/>
    loglevel 0x81
<br/>
    loglevel 128 1
<br/>
    loglevel 0x80 0x1
<br/>
    loglevel acl trace</pre>
<p class="Pp">are equivalent. The keyword <b>any</b> can be used as a shortcut
    to enable logging at all levels (equivalent to -1). The keyword <b>none</b>,
    or the equivalent integer representation, causes those messages that are
    logged regardless of the configured loglevel to be logged. In fact, if
    loglevel is set to 0, no logging occurs, so at least the <b>none</b> level
    is required to have high priority messages logged.</p>
<p class="Pp">The loglevel defaults to <b>stats</b>. This level should usually
    also be included when using other loglevels, to help analyze the logs.</p>
</div>
<dl class="Bl-tag">
  <dt id="moduleload"><a class="permalink" href="#moduleload"><b>moduleload
    &lt;filename&gt;</b></a></dt>
  <dd>Specify the name of a dynamically loadable module to load. The filename
      may be an absolute path name or a simple filename. Non-absolute names are
      searched for in the directories specified by the <b>modulepath</b> option.
      This option and the <b>modulepath</b> option are only usable if slapd was
      compiled with --enable-modules.</dd>
  <dt id="modulepath"><a class="permalink" href="#modulepath"><b>modulepath
    &lt;pathspec&gt;</b></a></dt>
  <dd>Specify a list of directories to search for loadable modules. Typically
      the path is colon-separated but this depends on the operating system. The
      default is MODULEDIR, which is where the standard OpenLDAP install will
      place its modules.</dd>
</dl>
<p class="Pp HP"><b>objectclass (&#x00A0;&lt;oid&gt; [NAME&#x00A0;&lt;name&gt;]
    [DESC&#x00A0;&lt;description&gt;] [OBSOLETE] [SUP&#x00A0;&lt;oids&gt;] [{
    ABSTRACT | STRUCTURAL | AUXILIARY }] [MUST&#x00A0;&lt;oids&gt;]
    [MAY&#x00A0;&lt;oids&gt;] )</b></p>
<div class="Bd-indent">Specify an objectclass using the LDAPv3 syntax defined in
  RFC 4512. The slapd parser extends the RFC 4512 definition by allowing string
  forms as well as numeric OIDs to be used for the object class OID. (See the
  <b>objectidentifier</b> description.) Object classes are
  &quot;STRUCTURAL&quot; by default.</div>
<dl class="Bl-tag">
  <dt id="objectidentifier"><a class="permalink" href="#objectidentifier"><b>objectidentifier
    &lt;name&gt; { &lt;oid&gt; | &lt;name&gt;[:&lt;suffix&gt;] }</b></a></dt>
  <dd>Define a string name that equates to the given OID. The string can be used
      in place of the numeric OID in objectclass and attribute definitions. The
      name can also be used with a suffix of the form &quot;:xx&quot; in which
      case the value &quot;oid.xx&quot; will be used.</dd>
  <dt id="password"><a class="permalink" href="#password"><b>password-hash
    &lt;hash&gt; [&lt;hash&gt;...]</b></a></dt>
  <dd>This option configures one or more hashes to be used in generation of user
      passwords stored in the userPassword attribute during processing of LDAP
      Password Modify Extended Operations (RFC 3062). The &lt;hash&gt; must be
      one of <b>{SSHA}</b>, <b>{SHA}</b>, <b>{SMD5}</b>, <b>{MD5}</b>,
      <b>{CRYPT}</b>, and <b>{CLEARTEXT}</b>. The default is <b>{SSHA}</b>.
    <p class="Pp"><b>{SHA}</b> and <b>{SSHA}</b> use the SHA-1 algorithm (FIPS
        160-1), the latter with a seed.</p>
    <p class="Pp"><b>{MD5}</b> and <b>{SMD5}</b> use the MD5 algorithm (RFC
        1321), the latter with a seed.</p>
    <p class="Pp"><b>{CRYPT}</b> uses the <b>crypt</b>(3).</p>
    <p class="Pp"><b>{CLEARTEXT}</b> indicates that the new password should be
        added to userPassword as clear text.</p>
    <p class="Pp">Note that this option does not alter the normal user
        applications handling of userPassword during LDAP Add, Modify, or other
        LDAP operations.</p>
  </dd>
  <dt id="password~2"><a class="permalink" href="#password~2"><b>password-crypt-salt-format
    &lt;format&gt;</b></a></dt>
  <dd>Specify the format of the salt passed to <b>crypt</b>(3) when generating
      {CRYPT} passwords (see <b>password-hash</b>) during processing of LDAP
      Password Modify Extended Operations (RFC 3062).
    <p class="Pp">This string needs to be in <b>sprintf</b>(3) format and may
        include one (and only one) %s conversion. This conversion will be
        substituted with a string of random characters from [A-Za-z0-9./]. For
        example, &quot;%.2s&quot; provides a two character salt and
        &quot;$1$%.8s&quot; tells some versions of crypt(3) to use an MD5
        algorithm and provides 8 random characters of salt. The default is
        &quot;%s&quot;, which provides 31 characters of salt.</p>
  </dd>
  <dt id="pidfile"><a class="permalink" href="#pidfile"><b>pidfile
    &lt;filename&gt;</b></a></dt>
  <dd>The (absolute) name of a file that will hold the <b>slapd</b> server's
      process ID (see <b>getpid</b>(2)).</dd>
  <dt id="referral"><a class="permalink" href="#referral"><b>referral
    &lt;url&gt;</b></a></dt>
  <dd>Specify the referral to pass back when <b>slapd</b>(8) cannot find a local
      database to handle a request. If specified multiple times, each url is
      provided.</dd>
  <dt id="require"><a class="permalink" href="#require"><b>require
    &lt;conditions&gt;</b></a></dt>
  <dd>Specify a set of conditions (separated by white space) to require (default
      none). The directive may be specified globally and/or per-database;
      databases inherit global conditions, so per-database specifications are
      additive. <b>bind</b> requires bind operation prior to directory
      operations. <b>LDAPv3</b> requires session to be using LDAP version 3.
      <b>authc</b> requires authentication prior to directory operations.
      <b>SASL</b> requires SASL authentication prior to directory operations.
      <b>strong</b> requires strong authentication prior to directory
      operations. The strong keyword allows protected &quot;simple&quot;
      authentication as well as SASL authentication. <b>none</b> may be used to
      require no conditions (useful to clear out globally set conditions within
      a particular database); it must occur first in the list of
    conditions.</dd>
  <dt id="reverse"><a class="permalink" href="#reverse"><b>reverse-lookup on |
    off</b></a></dt>
  <dd>Enable/disable client name unverified reverse lookup (default is
      <b>off</b> if compiled with --enable-rlookups).</dd>
  <dt id="rootDSE"><a class="permalink" href="#rootDSE"><b>rootDSE
    &lt;file&gt;</b></a></dt>
  <dd>Specify the name of an LDIF(5) file containing user defined attributes for
      the root DSE. These attributes are returned in addition to the attributes
      normally produced by slapd.
    <p class="Pp">The root DSE is an entry with information about the server and
        its capabilities, in operational attributes. It has the empty DN, and
        can be read with e.g.: ldapsearch -x -b &quot;&quot; -s base
        &quot;+&quot;
      <br/>
      See RFC 4512 section 5.1 for details.</p>
  </dd>
  <dt id="sasl"><a class="permalink" href="#sasl"><b>sasl-auxprops
    &lt;plugin&gt; [...]</b></a></dt>
  <dd>Specify which auxprop plugins to use for authentication lookups. The
      default is empty, which just uses slapd's internal support. Usually no
      other auxprop plugins are needed.</dd>
  <dt id="sasl~2"><a class="permalink" href="#sasl~2"><b>sasl-host
    &lt;fqdn&gt;</b></a></dt>
  <dd>Used to specify the fully qualified domain name used for SASL
    processing.</dd>
  <dt id="sasl~3"><a class="permalink" href="#sasl~3"><b>sasl-realm
    &lt;realm&gt;</b></a></dt>
  <dd>Specify SASL realm. Default is empty.</dd>
  <dt id="sasl~4"><a class="permalink" href="#sasl~4"><b>sasl-secprops
    &lt;properties&gt;</b></a></dt>
  <dd>Used to specify Cyrus SASL security properties. The <b>none</b> flag
      (without any other properties) causes the flag properties default,
      &quot;noanonymous,noplain&quot;, to be cleared. The <b>noplain</b> flag
      disables mechanisms susceptible to simple passive attacks. The
      <b>noactive</b> flag disables mechanisms susceptible to active attacks.
      The <b>nodict</b> flag disables mechanisms susceptible to passive
      dictionary attacks. The <b>noanonymous</b> flag disables mechanisms which
      support anonymous login. The <b>forwardsec</b> flag require forward
      secrecy between sessions. The <b>passcred</b> require mechanisms which
      pass client credentials (and allow mechanisms which can pass credentials
      to do so). The <b>minssf=&lt;factor&gt;</b> property specifies the minimum
      acceptable <i>security strength factor</i> as an integer approximate to
      effective key length used for encryption. 0 (zero) implies no protection,
      1 implies integrity protection only, 56 allows DES or other weak ciphers,
      112 allows triple DES and other strong ciphers, 128 allows RC4, Blowfish
      and other modern strong ciphers. The default is 0. The
      <b>maxssf=&lt;factor&gt;</b> property specifies the maximum acceptable
      <i>security strength factor</i> as an integer (see minssf description).
      The default is INT_MAX. The <b>maxbufsize=&lt;size&gt;</b> property
      specifies the maximum security layer receive buffer size allowed. 0
      disables security layers. The default is 65536.</dd>
  <dt id="schemadn"><a class="permalink" href="#schemadn"><b>schemadn
    &lt;dn&gt;</b></a></dt>
  <dd>Specify the distinguished name for the subschema subentry that controls
      the entries on this server. The default is &quot;cn=Subschema&quot;.</dd>
  <dt id="security"><a class="permalink" href="#security"><b>security
    &lt;factors&gt;</b></a></dt>
  <dd>Specify a set of security strength factors (separated by white space) to
      require (see <b>sasl-secprops</b>'s <b>minssf</b> option for a description
      of security strength factors). The directive may be specified globally
      and/or per-database. <b>ssf=&lt;n&gt;</b> specifies the overall security
      strength factor. <b>transport=&lt;n&gt;</b> specifies the transport
      security strength factor. <b>tls=&lt;n&gt;</b> specifies the TLS security
      strength factor. <b>sasl=&lt;n&gt;</b> specifies the SASL security
      strength factor. <b>update_ssf=&lt;n&gt;</b> specifies the overall
      security strength factor to require for directory updates.
      <b>update_transport=&lt;n&gt;</b> specifies the transport security
      strength factor to require for directory updates.
      <b>update_tls=&lt;n&gt;</b> specifies the TLS security strength factor to
      require for directory updates. <b>update_sasl=&lt;n&gt;</b> specifies the
      SASL security strength factor to require for directory updates.
      <b>simple_bind=&lt;n&gt;</b> specifies the security strength factor
      required for <i>simple</i> username/password authentication. Note that the
      <b>transport</b> factor is measure of security provided by the underlying
      transport, e.g. ldapi:// (and eventually IPSEC). It is not normally
    used.</dd>
  <dt id="serverID"><a class="permalink" href="#serverID"><b>serverID
    &lt;integer&gt; [&lt;URL&gt;]</b></a></dt>
  <dd>Specify an integer ID from 0 to 4095 for this server (limited to 3
      hexadecimal digits). The ID may also be specified as a hexadecimal ID by
      prefixing the value with &quot;0x&quot;. These IDs are required when using
      multimaster replication and each master must have a unique ID. Note that
      this requirement also applies to separate masters contributing to a glued
      set of databases. If the URL is provided, this directive may be specified
      multiple times, providing a complete list of participating servers and
      their IDs. The fully qualified hostname of each server should be used in
      the supplied URLs. The IDs are used in the &quot;replica id&quot; field of
      all CSNs generated by the specified server. The default value is zero.
      Example:</dd>
</dl>
<p class="Pp"></p>
<pre>	serverID 1</pre>
<dl class="Bl-tag">
  <dt id="sizelimit"><a class="permalink" href="#sizelimit"><b>sizelimit
    {&lt;integer&gt;|unlimited}</b></a></dt>
  <dd></dd>
  <dt id="sizelimit~2"><a class="permalink" href="#sizelimit~2"><b>sizelimit
    size[.{soft|hard|unchecked}]=&lt;integer&gt; [...]</b></a></dt>
  <dd>Specify the maximum number of entries to return from a search operation.
      The default size limit is 500. Use <b>unlimited</b> to specify no limits.
      The second format allows a fine grain setting of the size limits. Extra
      args can be added on the same line. See <b>limits</b> for an explanation
      of the different flags.</dd>
  <dt id="sockbuf_max_incoming"><a class="permalink" href="#sockbuf_max_incoming"><b>sockbuf_max_incoming
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum incoming LDAP PDU size for anonymous sessions. The
      default is 262143.</dd>
  <dt id="sockbuf_max_incoming_auth"><a class="permalink" href="#sockbuf_max_incoming_auth"><b>sockbuf_max_incoming_auth
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum incoming LDAP PDU size for authenticated sessions. The
      default is 4194303.</dd>
  <dt id="sortvals"><a class="permalink" href="#sortvals"><b>sortvals
    &lt;attr&gt; [...]</b></a></dt>
  <dd>Specify a list of multi-valued attributes whose values will always be
      maintained in sorted order. Using this option will allow Modify, Compare,
      and filter evaluations on these attributes to be performed more
      efficiently. The resulting sort order depends on the attributes' syntax
      and matching rules and may not correspond to lexical order or any other
      recognizable order.</dd>
  <dt id="tcp-buffer"><a class="permalink" href="#tcp-buffer"><b>tcp-buffer
    [listener=&lt;URL&gt;] [{read|write}=]&lt;size&gt;</b></a></dt>
  <dd>Specify the size of the TCP buffer. A global value for both read and write
      TCP buffers related to any listener is defined, unless the listener is
      explicitly specified, or either the read or write qualifiers are used. See
      <b>tcp</b>(7) for details. Note that some OS-es implement automatic TCP
      buffer tuning.</dd>
  <dt id="threads"><a class="permalink" href="#threads"><b>threads
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum size of the primary thread pool. The default is 16;
      the minimum value is 2.</dd>
  <dt id="timelimit"><a class="permalink" href="#timelimit"><b>timelimit
    {&lt;integer&gt;|unlimited}</b></a></dt>
  <dd></dd>
  <dt id="timelimit~2"><a class="permalink" href="#timelimit~2"><b>timelimit
    time[.{soft|hard}]=&lt;integer&gt; [...]</b></a></dt>
  <dd>Specify the maximum number of seconds (in real time) <b>slapd</b> will
      spend answering a search request. The default time limit is 3600. Use
      <b>unlimited</b> to specify no limits. The second format allows a fine
      grain setting of the time limits. Extra args can be added on the same
      line. See <b>limits</b> for an explanation of the different flags.</dd>
  <dt id="tool"><a class="permalink" href="#tool"><b>tool-threads
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the maximum number of threads to use in tool mode. This should not
      be greater than the number of CPUs in the system. The default is 1.</dd>
  <dt id="writetimeout"><a class="permalink" href="#writetimeout"><b>writetimeout
    &lt;integer&gt;</b></a></dt>
  <dd>Specify the number of seconds to wait before forcibly closing a connection
      with an outstanding write. This allows recovery from various network hang
      conditions. A writetimeout of 0 disables this feature. The default is
    0.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="TLS_OPTIONS"><a class="permalink" href="#TLS_OPTIONS">TLS
  OPTIONS</a></h1>
<p class="Pp">If <b>slapd</b> is built with support for Transport Layer
    Security, there are more options you can specify.</p>
<dl class="Bl-tag">
  <dt id="TLSCipherSuite"><a class="permalink" href="#TLSCipherSuite"><b>TLSCipherSuite
    &lt;cipher-suite-spec&gt;</b></a></dt>
  <dd>Permits configuring what ciphers will be accepted and the preference
      order. &lt;cipher-suite-spec&gt; should be a cipher specification for the
      TLS library in use (SecureTransport, OpenSSL, GnuTLS, or Mozilla NSS).
      Example:</dd>
</dl>
<div class="Bd-indent">
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="OpenSSL:"><a class="permalink" href="#OpenSSL:"><i>OpenSSL:</i></a></dt>
  <dd>TLSCipherSuite HIGH:MEDIUM:+SSLv2</dd>
  <dt id="GnuTLS:"><a class="permalink" href="#GnuTLS:"><i>GnuTLS:</i></a></dt>
  <dd>TLSCiphersuite SECURE256:!AES-128-CBC</dd>
</dl>
</div>
<p class="Pp">To check what ciphers a given spec selects in OpenSSL, use:</p>
<p class="Pp"></p>
<pre>	openssl ciphers -v &lt;cipher-suite-spec&gt;</pre>
<p class="Pp">With GnuTLS the available specs can be found in the manual page of
    <b>gnutls-cli</b>(1) (see the description of the option
  <b>--priority</b>).</p>
<p class="Pp">In older versions of GnuTLS, where gnutls-cli does not support the
    option --priority, you can obtain the &#x2014; more limited &#x2014; list of
    ciphers by calling:</p>
<p class="Pp"></p>
<pre>	gnutls-cli -l</pre>
<p class="Pp">When using Mozilla NSS, the OpenSSL cipher suite specifications
    are used and translated into the format used internally by Mozilla NSS.
    There isn't an easy way to list the cipher suites from the command line. The
    authoritative list is in the source code for Mozilla NSS in the file
    sslinfo.c in the structure</p>
<pre>
<br/>
        static const SSLCipherSuiteInfo suiteInfo[]</pre>
<p class="Pp">When using SecureTransport this directive uses cipher names known
    to the Security framework unless you prefix the value with <b>OpenSSL:</b>
    in which case it uses cipher names known to OpenSSL.</p>
</div>
<dl class="Bl-tag">
  <dt id="TLSCACertificateFile"><a class="permalink" href="#TLSCACertificateFile"><b>TLSCACertificateFile
    &lt;filename&gt;</b></a></dt>
  <dd>Specifies the file that contains certificates for all of the Certificate
      Authorities that <b>slapd</b> will recognize. The certificate for the CA
      that signed the server certificate must be included among these
      certificates. If the signing CA was not a top-level (root) CA,
      certificates for the entire sequence of CA's from the signing CA to the
      top-level CA should be present. Multiple certificates are simply appended
      to the file; the order is not significant.
    <p class="Pp">When using SecureTransport this option is not valid. Instead
        use the <b>TLSTrustedCerts</b> option.</p>
  </dd>
  <dt id="TLSCACertificatePath"><a class="permalink" href="#TLSCACertificatePath"><b>TLSCACertificatePath
    &lt;path&gt;</b></a></dt>
  <dd>Specifies the path of a directory that contains Certificate Authority
      certificates in separate individual files. Usually only one of this or the
      TLSCACertificateFile is used. This directive is not supported when using
      GnuTLS.
    <p class="Pp">When using Mozilla NSS, &lt;path&gt; may contain a Mozilla NSS
        cert/key database. If &lt;path&gt; contains a Mozilla NSS cert/key
        database and CA cert files, OpenLDAP will use the cert/key database and
        will ignore the CA cert files.</p>
    <p class="Pp">When using SecureTransport this option is not valid. Instead
        use the <b>TLSTrustedCerts</b> option.</p>
  </dd>
  <dt id="TLSCertificateFile"><a class="permalink" href="#TLSCertificateFile"><b>TLSCertificateFile
    &lt;filename&gt;</b></a></dt>
  <dd>Specifies the file that contains the <b>slapd</b> server certificate.
    <p class="Pp">When using Mozilla NSS, if using a cert/key database
        (specified with TLSCACertificatePath), TLSCertificateFile specifies the
        name of the certificate to use:</p>
    <pre>	TLSCertificateFile Server-Cert</pre>
    If using a token other than the internal built in token, specify the token
      name first, followed by a colon:
    <pre>	TLSCertificateFile my hardware device:Server-Cert</pre>
    Use certutil -L to list the certificates by name:
    <pre>	certutil -d /path/to/certdbdir -L</pre>
    <p class="Pp">When using SecureTransport this option is not valid. Instead
        use the <b>TLSIdentity</b> option.</p>
  </dd>
  <dt id="TLSCertificateKeyFile"><a class="permalink" href="#TLSCertificateKeyFile"><b>TLSCertificateKeyFile
    &lt;filename&gt;</b></a></dt>
  <dd>Specifies the file that contains the <b>slapd</b> server private key that
      matches the certificate stored in the <b>TLSCertificateFile</b> file.
      Currently, the private key must not be protected with a password, so it is
      of critical importance that it is protected carefully.
    <p class="Pp">When using Mozilla NSS, TLSCertificateKeyFile specifies the
        name of a file that contains the password for the key for the
        certificate specified with TLSCertificateFile. The modutil command can
        be used to turn off password protection for the cert/key database. For
        example, if TLSCACertificatePath specifes /etc/openldap/certdb as the
        location of the cert/key database, use modutil to change the password to
        the empty string:</p>
    <pre>	modutil -dbdir /etc/openldap/certdb -changepw 'NSS Certificate DB'</pre>
    You must have the old password, if any. Ignore the WARNING about the running
      browser. Press 'Enter' for the new password.
    <p class="Pp">When using SecureTransport this option is not valid. Instead
        use the <b>TLSIdentity</b> option.</p>
  </dd>
  <dt id="TLSDHParamFile"><a class="permalink" href="#TLSDHParamFile"><b>TLSDHParamFile
    &lt;filename&gt;</b></a></dt>
  <dd>This directive specifies the file that contains parameters for
      Diffie-Hellman ephemeral key exchange. This is required in order to use a
      DSA certificate on the server. If multiple sets of parameters are present
      in the file, all of them will be processed. Note that setting this option
      may also enable Anonymous Diffie-Hellman key exchanges in certain
      non-default cipher suites. You should append &quot;!ADH&quot; to your
      cipher suites if you have changed them from the default, otherwise no
      certificate exchanges or verification will be done. When using GnuTLS
      these parameters are always generated randomly so this directive is
      ignored. This directive is ignored when using Mozilla NSS.</dd>
  <dt id="TLSRandFile"><a class="permalink" href="#TLSRandFile"><b>TLSRandFile
    &lt;filename&gt;</b></a></dt>
  <dd>Specifies the file to obtain random bits from when /dev/[u]random is not
      available. Generally set to the name of the EGD/PRNGD socket. The
      environment variable RANDFILE can also be used to specify the filename.
      This directive is ignored with SecureTransport, GnuTLS and Mozilla
    NSS.</dd>
  <dt id="TLSVerifyClient"><a class="permalink" href="#TLSVerifyClient"><b>TLSVerifyClient
    &lt;level&gt;</b></a></dt>
  <dd>Specifies what checks to perform on client certificates in an incoming TLS
      session, if any. The <b>&lt;level&gt;</b> can be specified as one of the
      following keywords:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="never"><a class="permalink" href="#never"><b>never</b></a></dt>
  <dd>This is the default. <b>slapd</b> will not ask the client for a
      certificate.</dd>
  <dt id="allow"><a class="permalink" href="#allow"><b>allow</b></a></dt>
  <dd>The client certificate is requested. If no certificate is provided, the
      session proceeds normally. If a bad certificate is provided, it will be
      ignored and the session proceeds normally.</dd>
  <dt id="try"><a class="permalink" href="#try"><b>try</b></a></dt>
  <dd>The client certificate is requested. If no certificate is provided, the
      session proceeds normally. If a bad certificate is provided, the session
      is immediately terminated.</dd>
  <dt id="demand"><a class="permalink" href="#demand"><b>demand | hard |
    true</b></a></dt>
  <dd>These keywords are all equivalent, for compatibility reasons. The client
      certificate is requested. If no certificate is provided, or a bad
      certificate is provided, the session is immediately terminated.
    <p class="Pp">Note that a valid client certificate is required in order to
        use the SASL EXTERNAL authentication mechanism with a TLS session. As
        such, a non-default <b>TLSVerifyClient</b> setting must be chosen to
        enable SASL EXTERNAL authentication.</p>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="TLSCRLCheck"><a class="permalink" href="#TLSCRLCheck"><b>TLSCRLCheck
    &lt;level&gt;</b></a></dt>
  <dd>Specifies if the Certificate Revocation List (CRL) of the CA should be
      used to verify if the client certificates have not been revoked. This
      requires <b>TLSCACertificatePath</b> parameter to be set. This directive
      is ignored with GnuTLS and Mozilla NSS. <b>&lt;level&gt;</b> can be
      specified as one of the following keywords:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="none"><a class="permalink" href="#none"><b>none</b></a></dt>
  <dd>No CRL checks are performed</dd>
  <dt id="peer"><a class="permalink" href="#peer"><b>peer</b></a></dt>
  <dd>Check the CRL of the peer certificate</dd>
  <dt id="all"><a class="permalink" href="#all"><b>all</b></a></dt>
  <dd>Check the CRL for a whole certificate chain</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="TLSCRLFile"><a class="permalink" href="#TLSCRLFile"><b>TLSCRLFile
    &lt;filename&gt;</b></a></dt>
  <dd>Specifies a file containing a Certificate Revocation List to be used for
      verifying that certificates have not been revoked. This directive is only
      valid when using GnuTLS and Mozilla NSS.</dd>
  <dt id="TLSIdentity"><a class="permalink" href="#TLSIdentity"><b>TLSIdentity</b></a></dt>
  <dd>Names the identity in the system keychain. An identity is a certificate
      paired with a private key.
    <p class="Pp">Used by SecureTransport instead of <b>TLSCertificateFile</b>
        and <b>TLSCertificateKeyFile.</b> Ignored by OpenSSL, GnuTLS and Mozilla
        NSS.</p>
  </dd>
  <dt id="TLSTrustedCerts"><a class="permalink" href="#TLSTrustedCerts"><b>TLSTrustedCerts</b></a></dt>
  <dd>Lists the trusted certificates in the system keychain separated by '|'.
      For example: TLSTrustedCerts Frobozz, Inc.|Widgets R Us|www.example.com
    <p class="Pp">Used by SecureTransport instead of <b>TLSCACertificateFile</b>
        and <b>TLSCACertificatePath.</b> Ignored by OpenSSL, GnuTLS and Mozilla
        NSS.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="GENERAL_BACKEND_OPTIONS"><a class="permalink" href="#GENERAL_BACKEND_OPTIONS">GENERAL
  BACKEND OPTIONS</a></h1>
<p class="Pp">Options in this section only apply to the configuration file
    section for the specified backend. They are supported by every type of
    backend.</p>
<dl class="Bl-tag">
  <dt id="backend"><a class="permalink" href="#backend"><b>backend
    &lt;databasetype&gt;</b></a></dt>
  <dd>Mark the beginning of a backend definition. &lt;databasetype&gt; should be
      one of <b>bdb</b>, <b>config</b>, <b>dnssrv</b>, <b>hdb</b>, <b>ldap</b>,
      <b>ldif</b>, <b>meta</b>, <b>monitor</b>, <b>null</b>, <b>passwd</b>,
      <b>perl</b>, <b>relay</b>, <b>shell</b>, or <b>sql</b>, depending on which
      backend will serve the database.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="GENERAL_DATABASE_OPTIONS"><a class="permalink" href="#GENERAL_DATABASE_OPTIONS">GENERAL
  DATABASE OPTIONS</a></h1>
<p class="Pp">Options in this section only apply to the configuration file
    section for the database in which they are defined. They are supported by
    every type of backend. Note that the <b>database</b> and at least one
    <b>suffix</b> option are mandatory for each database.</p>
<dl class="Bl-tag">
  <dt id="database"><a class="permalink" href="#database"><b>database
    &lt;databasetype&gt;</b></a></dt>
  <dd>Mark the beginning of a new database instance definition.
      &lt;databasetype&gt; should be one of <b>bdb</b>, <b>config</b>,
      <b>dnssrv</b>, <b>hdb</b>, <b>ldap</b>, <b>ldif</b>, <b>meta</b>,
      <b>monitor</b>, <b>null</b>, <b>passwd</b>, <b>perl</b>, <b>relay</b>,
      <b>shell</b>, or <b>sql</b>, depending on which backend will serve the
      database.
    <p class="Pp">LDAP operations, even subtree searches, normally access only
        one database. That can be changed by gluing databases together with the
        <b>subordinate</b> keyword. Access controls and some overlays can also
        involve multiple databases.</p>
  </dd>
  <dt id="add_content_acl"><a class="permalink" href="#add_content_acl"><b>add_content_acl
    on | off</b></a></dt>
  <dd>Controls whether Add operations will perform ACL checks on the content of
      the entry being added. This check is off by default. See the
      <b>slapd.access</b>(5) manual page for more details on ACL requirements
      for Add operations.</dd>
  <dt id="extra_attrs"><a class="permalink" href="#extra_attrs"><b>extra_attrs
    &lt;attrlist&gt;</b></a></dt>
  <dd>Lists what attributes need to be added to search requests. Local storage
      backends return the entire entry to the frontend. The frontend takes care
      of only returning the requested attributes that are allowed by ACLs.
      However, features like access checking and so may need specific attributes
      that are not automatically returned by remote storage backends, like proxy
      backends and so on. <b>&lt;attrlist&gt;</b> is a list of attributes that
      are needed for internal purposes and thus always need to be collected,
      even when not explicitly requested by clients.</dd>
  <dt id="hidden"><a class="permalink" href="#hidden"><b>hidden on |
    off</b></a></dt>
  <dd>Controls whether the database will be used to answer queries. A database
      that is hidden will never be selected to answer any queries, and any
      suffix configured on the database will be ignored in checks for conflicts
      with other databases. By default, hidden is off.</dd>
  <dt id="lastmod"><a class="permalink" href="#lastmod"><b>lastmod on |
    off</b></a></dt>
  <dd>Controls whether <b>slapd</b> will automatically maintain the
      modifiersName, modifyTimestamp, creatorsName, and createTimestamp
      attributes for entries. It also controls the entryCSN and entryUUID
      attributes, which are needed by the syncrepl provider. By default, lastmod
      is on.</dd>
  <dt id="limits"><a class="permalink" href="#limits"><b>limits &lt;selector&gt;
    &lt;limit&gt; [&lt;limit&gt; [...]]</b></a></dt>
  <dd>Specify time and size limits based on the operation's initiator or base
      DN. The argument <b>&lt;selector&gt;</b> can be any of</dd>
</dl>
<div class="Bd-indent">
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="anonymous"><a class="permalink" href="#anonymous">anonymous | users |
    [&lt;dnspec&gt;=]&lt;pattern&gt; | group[/oc[/at]]=&lt;pattern&gt;</a></dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
</div>
with
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&lt;dnspec&gt; ::= dn[.&lt;type&gt;][.&lt;style&gt;]</dt>
  <dd></dd>
  <dt>&lt;type&gt; ::= self | this</dt>
  <dd></dd>
  <dt>&lt;style&gt; ::= exact | base | onelevel | subtree | children | regex |
    anonymous</dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
</div>
DN type <b>self</b> is the default and means the bound user, while <b>this</b>
  means the base DN of the operation. The term <b>anonymous</b> matches all
  unauthenticated clients. The term <b>users</b> matches all authenticated
  clients; otherwise an <b>exact</b> dn pattern is assumed unless otherwise
  specified by qualifying the (optional) key string <b>dn</b> with <b>exact</b>
  or <b>base</b> (which are synonyms), to require an exact match; with
  <b>onelevel</b>, to require exactly one level of depth match; with
  <b>subtree</b>, to allow any level of depth match, including the exact match;
  with <b>children</b>, to allow any level of depth match, not including the
  exact match; <b>regex</b> explicitly requires the (default) match based on
  POSIX (''extended'') regular expression pattern. Finally, <b>anonymous</b>
  matches unbound operations; the <b>pattern</b> field is ignored. The same
  behavior is obtained by using the <b>anonymous</b> form of the
  <b>&lt;selector&gt;</b> clause. The term <b>group</b>, with the optional
  objectClass <b>oc</b> and attributeType <b>at</b> fields, followed by
  <b>pattern</b>, sets the limits for any DN listed in the values of the
  <b>at</b> attribute (default <b>member</b>) of the <b>oc</b> group objectClass
  (default <b>groupOfNames</b>) whose DN exactly matches <b>pattern</b>.
<p class="Pp">The currently supported limits are <b>size</b> and
  <b>time</b>.</p>
<p class="Pp">The syntax for time limits is
    <b>time[.{soft|hard}]=&lt;integer&gt;</b>, where <i>integer</i> is the
    number of seconds slapd will spend answering a search request. If no time
    limit is explicitly requested by the client, the <b>soft</b> limit is used;
    if the requested time limit exceeds the <b>hard</b> limit, the value of the
    limit is used instead. If the <b>hard</b> limit is set to the keyword
    <i>soft</i>, the soft limit is used in either case; if it is set to the
    keyword <i>unlimited</i>, no hard limit is enforced. Explicit requests for
    time limits smaller or equal to the <b>hard</b> limit are honored. If no
    limit specifier is set, the value is assigned to the <b>soft</b> limit, and
    the <b>hard</b> limit is set to <i>soft</i>, to preserve the original
    behavior.</p>
<p class="Pp">The syntax for size limits is
    <b>size[.{soft|hard|unchecked}]=&lt;integer&gt;</b>, where <i>integer</i> is
    the maximum number of entries slapd will return answering a search request.
    If no size limit is explicitly requested by the client, the <b>soft</b>
    limit is used; if the requested size limit exceeds the <b>hard</b> limit,
    the value of the limit is used instead. If the <b>hard</b> limit is set to
    the keyword <i>soft</i>, the soft limit is used in either case; if it is set
    to the keyword <i>unlimited</i>, no hard limit is enforced. Explicit
    requests for size limits smaller or equal to the <b>hard</b> limit are
    honored. The <b>unchecked</b> specifier sets a limit on the number of
    candidates a search request is allowed to examine. The rationale behind it
    is that searches for non-properly indexed attributes may result in large
    sets of candidates, which must be examined by <b>slapd</b>(8) to determine
    whether they match the search filter or not. The <b>unchecked</b> limit
    provides a means to drop such operations before they are even started. If
    the selected candidates exceed the <b>unchecked</b> limit, the search will
    abort with <i>Unwilling to perform</i>. If it is set to the keyword
    <i>unlimited</i>, no limit is applied (the default). If it is set to
    <i>disabled</i>, the search is not even performed; this can be used to
    disallow searches for a specific set of users. If no limit specifier is set,
    the value is assigned to the <b>soft</b> limit, and the <b>hard</b> limit is
    set to <i>soft</i>, to preserve the original behavior.</p>
<p class="Pp">In case of no match, the global limits are used. The default
    values are the same as for <b>sizelimit</b> and <b>timelimit</b>; no limit
    is set on <b>unchecked</b>.</p>
<p class="Pp">If <b>pagedResults</b> control is requested, the <b>hard</b> size
    limit is used by default, because the request of a specific page size is
    considered an explicit request for a limitation on the number of entries to
    be returned. However, the size limit applies to the total count of entries
    returned within the search, and not to a single page. Additional size limits
    may be enforced; the syntax is
    <b>size.pr={&lt;integer&gt;|noEstimate|unlimited}</b>, where <i>integer</i>
    is the max page size if no explicit limit is set; the keyword
    <i>noEstimate</i> inhibits the server from returning an estimate of the
    total number of entries that might be returned (note: the current
    implementation does not return any estimate). The keyword <i>unlimited</i>
    indicates that no limit is applied to the pagedResults control page size.
    The syntax <b>size.prtotal={&lt;integer&gt;|unlimited|disabled}</b> allows
    to set a limit on the total number of entries that a pagedResults control
    allows to return. By default it is set to the <b>hard</b> limit. When set,
    <i>integer</i> is the max number of entries that the whole search with
    pagedResults control can return. Use <i>unlimited</i> to allow unlimited
    number of entries to be returned, e.g. to allow the use of the pagedResults
    control as a means to circumvent size limitations on regular searches; the
    keyword <i>disabled</i> disables the control, i.e. no paged results can be
    returned. Note that the total number of entries returned when the
    pagedResults control is requested cannot exceed the <b>hard</b> size limit
    of regular searches unless extended by the <b>prtotal</b> switch.</p>
<p class="Pp">The <b>limits</b> statement is typically used to let an unlimited
    number of entries be returned by searches performed with the identity used
    by the consumer for synchronization purposes by means of the RFC 4533 LDAP
    Content Synchronization protocol (see <b>syncrepl</b> for details).</p>
</div>
<dl class="Bl-tag">
  <dt id="maxderefdepth"><a class="permalink" href="#maxderefdepth"><b>maxderefdepth
    &lt;depth&gt;</b></a></dt>
  <dd>Specifies the maximum number of aliases to dereference when trying to
      resolve an entry, used to avoid infinite alias loops. The default is
    15.</dd>
  <dt id="mirrormode"><a class="permalink" href="#mirrormode"><b>mirrormode on |
    off</b></a></dt>
  <dd>This option puts a replica database into &quot;mirror&quot; mode. Update
      operations will be accepted from any user, not just the updatedn. The
      database must already be configured as a syncrepl consumer before this
      keyword may be set. This mode also requires a <b>serverID</b> (see above)
      to be configured. By default, mirrormode is off.</dd>
  <dt id="monitoring"><a class="permalink" href="#monitoring"><b>monitoring on |
    off</b></a></dt>
  <dd>This option enables database-specific monitoring in the entry related to
      the current database in the &quot;cn=Databases,cn=Monitor&quot; subtree of
      the monitor database, if the monitor database is enabled. Currently, only
      the BDB and the HDB databases provide database-specific monitoring. The
      default depends on the backend type.</dd>
  <dt id="overlay"><a class="permalink" href="#overlay"><b>overlay
    &lt;overlay-name&gt;</b></a></dt>
  <dd>Add the specified overlay to this database. An overlay is a piece of code
      that intercepts database operations in order to extend or change them.
      Overlays are pushed onto a stack over the database, and so they will
      execute in the reverse of the order in which they were configured and the
      database itself will receive control last of all. See the
      <b>slapd.overlays</b>(5) manual page for an overview of the available
      overlays. Note that all of the database's regular settings should be
      configured before any overlay settings.</dd>
  <dt id="readonly"><a class="permalink" href="#readonly"><b>readonly on |
    off</b></a></dt>
  <dd>This option puts the database into &quot;read-only&quot; mode. Any
      attempts to modify the database will return an &quot;unwilling to
      perform&quot; error. By default, readonly is off.</dd>
  <dt id="restrict"><a class="permalink" href="#restrict"><b>restrict
    &lt;oplist&gt;</b></a></dt>
  <dd>Specify a whitespace separated list of operations that are restricted. If
      defined inside a database specification, restrictions apply only to that
      database, otherwise they are global. Operations can be any of <b>add</b>,
      <b>bind</b>, <b>compare</b>, <b>delete</b>, <b>extended[=&lt;OID&gt;]</b>,
      <b>modify</b>, <b>rename</b>, <b>search</b>, or the special
      pseudo-operations <b>read</b> and <b>write</b>, which respectively
      summarize read and write operations. The use of <i>restrict write</i> is
      equivalent to <i>readonly on</i> (see above). The <b>extended</b> keyword
      allows to indicate the OID of the specific operation to be
    restricted.</dd>
  <dt id="rootdn"><a class="permalink" href="#rootdn"><b>rootdn
    &lt;dn&gt;</b></a></dt>
  <dd>Specify the distinguished name that is not subject to access control or
      administrative limit restrictions for operations on this database. This DN
      may or may not be associated with an entry. An empty root DN (the default)
      specifies no root access is to be granted. It is recommended that the
      rootdn only be specified when needed (such as when initially populating a
      database). If the rootdn is within a namingContext (suffix) of the
      database, a simple bind password may also be provided using the
      <b>rootpw</b> directive. Many optional features, including syncrepl,
      require the rootdn to be defined for the database.</dd>
  <dt id="rootpw"><a class="permalink" href="#rootpw"><b>rootpw
    &lt;password&gt;</b></a></dt>
  <dd>Specify a password (or hash of the password) for the rootdn. The password
      can only be set if the rootdn is within the namingContext (suffix) of the
      database. This option accepts all RFC 2307 userPassword formats known to
      the server (see <b>password-hash</b> description) as well as cleartext.
      <b>slappasswd</b>(8) may be used to generate a hash of a password.
      Cleartext and <b>{CRYPT}</b> passwords are not recommended. If empty (the
      default), authentication of the root DN is by other means (e.g. SASL). Use
      of SASL is encouraged.</dd>
  <dt id="suffix"><a class="permalink" href="#suffix"><b>suffix &lt;dn
    suffix&gt;</b></a></dt>
  <dd>Specify the DN suffix of queries that will be passed to this backend
      database. Multiple suffix lines can be given and at least one is required
      for each database definition.
    <p class="Pp">If the suffix of one database is &quot;inside&quot; that of
        another, the database with the inner suffix must come first in the
        configuration file. You may also want to glue such databases together
        with the <b>subordinate</b> keyword.</p>
  </dd>
  <dt id="subordinate"><a class="permalink" href="#subordinate"><b>subordinate
    [advertise]</b></a></dt>
  <dd>Specify that the current backend database is a subordinate of another
      backend database. A subordinate database may have only one suffix. This
      option may be used to glue multiple databases into a single namingContext.
      If the suffix of the current database is within the namingContext of a
      superior database, searches against the superior database will be
      propagated to the subordinate as well. All of the databases associated
      with a single namingContext should have identical rootdns. Behavior of
      other LDAP operations is unaffected by this setting. In particular, it is
      not possible to use moddn to move an entry from one subordinate to another
      subordinate within the namingContext.
    <p class="Pp">If the optional <b>advertise</b> flag is supplied, the naming
        context of this database is advertised in the root DSE. The default is
        to hide this database context, so that only the superior context is
        visible.</p>
    <p class="Pp">If the slap tools <b>slapcat</b>(8), <b>slapadd</b>(8), or
        <b>slapindex</b>(8) are used on the superior database, any glued
        subordinates that support these tools are opened as well.</p>
    <p class="Pp">Databases that are glued together should usually be configured
        with the same indices (assuming they support indexing), even for
        attributes that only exist in some of these databases. In general, all
        of the glued databases should be configured as similarly as possible,
        since the intent is to provide the appearance of a single directory.</p>
    <p class="Pp">Note that the <i>subordinate</i> functionality is implemented
        internally by the <i>glue</i> overlay and as such its behavior will
        interact with other overlays in use. By default, the glue overlay is
        automatically configured as the last overlay on the superior backend.
        Its position on the backend can be explicitly configured by setting an
        <b>overlay glue</b> directive at the desired position. This explicit
        configuration is necessary e.g. when using the <i>syncprov</i> overlay,
        which needs to follow <i>glue</i> in order to work over all of the glued
        databases. E.g.</p>
  </dd>
</dl>
<div class="Bd-indent">
<pre>	database bdb
	suffix dc=example,dc=com
	...
	overlay glue
	overlay syncprov</pre>
</div>
<dl class="Bl-tag">
  <dt id="sync_use_subentry"><a class="permalink" href="#sync_use_subentry"><b>sync_use_subentry</b></a></dt>
  <dd>Store the syncrepl contextCSN in a subentry instead of the context entry
      of the database. The subentry's RDN will be &quot;cn=ldapsync&quot;. By
      default the contextCSN is stored in the context entry.</dd>
</dl>
<p class="Pp HP"><b>syncrepl rid=&lt;replica ID&gt;</b>
    <b>provider=ldap[s]://&lt;hostname&gt;[:port]</b> <b>searchbase=&lt;base
    DN&gt;</b> <b>[type=refreshOnly|refreshAndPersist]</b>
    <b>[interval=dd:hh:mm:ss]</b> <b>[retry=[&lt;retry interval&gt; &lt;# of
    retries&gt;]+]</b> <b>[filter=&lt;filter str&gt;]</b>
    <b>[scope=sub|one|base|subord]</b> <b>[attrs=&lt;attr list&gt;]</b>
    <b>[attrsonly]</b> <b>[sizelimit=&lt;limit&gt;]</b>
    <b>[timelimit=&lt;limit&gt;]</b> <b>[schemachecking=on|off]</b>
    <b>[network-timeout=&lt;seconds&gt;]</b> <b>[timeout=&lt;seconds&gt;]</b>
    <b>[bindmethod=simple|sasl]</b> <b>[binddn=&lt;dn&gt;]</b>
    <b>[saslmech=&lt;mech&gt;]</b> <b>[authcid=&lt;identity&gt;]</b>
    <b>[authzid=&lt;identity&gt;]</b> <b>[credentials=&lt;passwd&gt;]</b>
    <b>[realm=&lt;realm&gt;]</b> <b>[secprops=&lt;properties&gt;]</b>
    <b>[keepalive=&lt;idle&gt;:&lt;probes&gt;:&lt;interval&gt;]</b>
    <b>[starttls=yes|critical]</b> <b>[tls_cert=&lt;file&gt;]</b>
    <b>[tls_key=&lt;file&gt;]</b> <b>[tls_cacert=&lt;file&gt;]</b>
    <b>[tls_cacertdir=&lt;path&gt;]</b> <b>[tls_identity=&lt;name&gt;]</b>
    <b>[tls_trusted_certs=&lt;list&gt;]</b>
    <b>[tls_reqcert=never|allow|try|demand]</b>
    <b>[tls_ciphersuite=&lt;ciphers&gt;]</b> <b>[tls_crlcheck=none|peer|all]</b>
    <b>[suffixmassage=&lt;real DN&gt;]</b> <b>[logbase=&lt;base DN&gt;]</b>
    <b>[logfilter=&lt;filter str&gt;]</b>
    <b>[syncdata=default|accesslog|changelog]</b></p>
<div class="Bd-indent">Specify the current database as a replica which is kept
  up-to-date with the master content by establishing the current <b>slapd</b>(8)
  as a replication consumer site running a <b>syncrepl</b> replication engine.
  The replica content is kept synchronized to the master content using the LDAP
  Content Synchronization protocol. Refer to the &quot;OpenLDAP Administrator's
  Guide&quot; for detailed information on setting up a replicated <b>slapd</b>
  directory service using the <b>syncrepl</b> replication engine.
<p class="Pp"><b>rid</b> identifies the current <b>syncrepl</b> directive within
    the replication consumer site. It is a non-negative integer not greater than
    999 (limited to three decimal digits).</p>
<p class="Pp"><b>provider</b> specifies the replication provider site containing
    the master content as an LDAP URI. If &lt;port&gt; is not given, the
    standard LDAP port number (389 or 636) is used.</p>
<p class="Pp">The content of the <b>syncrepl</b> replica is defined using a
    search specification as its result set. The consumer <b>slapd</b> will send
    search requests to the provider <b>slapd</b> according to the search
    specification. The search specification includes <b>searchbase</b>,
    <b>scope</b>, <b>filter</b>, <b>attrs</b>, <b>attrsonly</b>,
    <b>sizelimit</b>, and <b>timelimit</b> parameters as in the normal search
    specification. The <b>scope</b> defaults to <b>sub</b>, the <b>filter</b>
    defaults to <b>(objectclass=*)</b>, while there is no default
    <b>searchbase</b>. The <b>attrs</b> list defaults to <b>&quot;*,+&quot;</b>
    to return all user and operational attributes, and <b>attrsonly</b> is unset
    by default. The <b>sizelimit</b> and <b>timelimit</b> only accept
    &quot;unlimited&quot; and positive integers, and both default to
    &quot;unlimited&quot;. The <b>sizelimit</b> and <b>timelimit</b> parameters
    define a consumer requested limitation on the number of entries that can be
    returned by the LDAP Content Synchronization operation; as such, it is
    intended to implement partial replication based on the size of the
    replicated database and on the time required by the synchronization. Note,
    however, that any provider-side limits for the replication identity will be
    enforced by the provider regardless of the limits requested by the LDAP
    Content Synchronization operation, much like for any other search
  operation.</p>
<p class="Pp">The LDAP Content Synchronization protocol has two operation types.
    In the <b>refreshOnly</b> operation, the next synchronization search
    operation is periodically rescheduled at an interval time (specified by
    <b>interval</b> parameter; 1 day by default) after each synchronization
    operation finishes. In the <b>refreshAndPersist</b> operation, a
    synchronization search remains persistent in the provider slapd. Further
    updates to the master replica will generate <b>searchResultEntry</b> to the
    consumer slapd as the search responses to the persistent synchronization
    search.</p>
<p class="Pp">If an error occurs during replication, the consumer will attempt
    to reconnect according to the <b>retry</b> parameter which is a list of the
    &lt;retry interval&gt; and &lt;# of retries&gt; pairs. For example,
    retry=&quot;60 10 300 3&quot; lets the consumer retry every 60 seconds for
    the first 10 times and then retry every 300 seconds for the next 3 times
    before stop retrying. The `+' in &lt;# of retries&gt; means indefinite
    number of retries until success. If no <b>retry</b> was specified, by
    default syncrepl retries every hour forever.</p>
<p class="Pp">The schema checking can be enforced at the LDAP Sync consumer site
    by turning on the <b>schemachecking</b> parameter. The default is
    <b>off</b>. Schema checking <b>on</b> means that replicated entries must
    have a structural objectClass, must obey to objectClass requirements in
    terms of required/allowed attributes, and that naming attributes and
    distinguished values must be present. As a consequence, schema checking
    should be <b>off</b> when partial replication is used.</p>
<p class="Pp">The <b>network-timeout</b> parameter sets how long the consumer
    will wait to establish a network connection to the provider. Once a
    connection is established, the <b>timeout</b> parameter determines how long
    the consumer will wait for the initial Bind request to complete. The
    defaults for these parameters come from <b>ldap.conf</b>(5).</p>
<p class="Pp">A <b>bindmethod</b> of <b>simple</b> requires the options
    <b>binddn</b> and <b>credentials</b> and should only be used when adequate
    security services (e.g. TLS or IPSEC) are in place. <b>REMEMBER: simple bind
    credentials must be in cleartext!</b> A <b>bindmethod</b> of <b>sasl</b>
    requires the option <b>saslmech.</b> Depending on the mechanism, an
    authentication identity and/or credentials can be specified using
    <b>authcid</b> and <b>credentials.</b> The <b>authzid</b> parameter may be
    used to specify an authorization identity. Specific security properties (as
    with the <b>sasl-secprops</b> keyword above) for a SASL bind can be set with
    the <b>secprops</b> option. A non default SASL realm can be set with the
    <b>realm</b> option. The identity used for synchronization by the consumer
    should be allowed to receive an unlimited number of entries in response to a
    search request. The provider, other than allow authentication of the
    syncrepl identity, should grant that identity appropriate access privileges
    to the data that is being replicated (<b>access</b> directive), and
    appropriate time and size limits. This can be accomplished by either
    allowing unlimited <b>sizelimit</b> and <b>timelimit</b>, or by setting an
    appropriate <b>limits</b> statement in the consumer's configuration (see
    <b>sizelimit</b> and <b>limits</b> for details).</p>
<p class="Pp">The <b>keepalive</b> parameter sets the values of <i>idle</i>,
    <i>probes</i>, and <i>interval</i> used to check whether a socket is alive;
    <i>idle</i> is the number of seconds a connection needs to remain idle
    before TCP starts sending keepalive probes; <i>probes</i> is the maximum
    number of keepalive probes TCP should send before dropping the connection;
    <i>interval</i> is interval in seconds between individual keepalive probes.
    Only some systems support the customization of these values; the
    <b>keepalive</b> parameter is ignored otherwise, and system-wide settings
    are used.</p>
<p class="Pp">The <b>starttls</b> parameter specifies use of the StartTLS
    extended operation to establish a TLS session before Binding to the
    provider. If the <b>critical</b> argument is supplied, the session will be
    aborted if the StartTLS request fails. Otherwise the syncrepl session
    continues without TLS. The tls_reqcert setting defaults to
    &quot;demand&quot; and the other TLS settings default to the same as the
    main slapd TLS settings.</p>
<p class="Pp">The <b>suffixmassage</b> parameter allows the consumer to pull
    entries from a remote directory whose DN suffix differs from the local
    directory. The portion of the remote entries' DNs that matches the
    <i>searchbase</i> will be replaced with the suffixmassage DN.</p>
<p class="Pp">Rather than replicating whole entries, the consumer can query logs
    of data modifications. This mode of operation is referred to as <i>delta</i>
    <i>syncrepl</i>. In addition to the above parameters, the <b>logbase</b> and
    <b>logfilter</b> parameters must be set appropriately for the log that will
    be used. The <b>syncdata</b> parameter must be set to either
    &quot;accesslog&quot; if the log conforms to the <b>slapo-accesslog</b>(5)
    log format, or &quot;changelog&quot; if the log conforms to the obsolete
    <i>changelog</i> format. If the <b>syncdata</b> parameter is omitted or set
    to &quot;default&quot; then the log parameters are ignored.</p>
</div>
<dl class="Bl-tag">
  <dt id="updatedn"><a class="permalink" href="#updatedn"><b>updatedn
    &lt;dn&gt;</b></a></dt>
  <dd>This option is only applicable in a slave database. It specifies the DN
      permitted to update (subject to access controls) the replica. It is only
      needed in certain push-mode replication scenarios. Generally, this DN
      <i>should not</i> be the same as the <b>rootdn</b> used at the
    master.</dd>
  <dt id="updateref"><a class="permalink" href="#updateref"><b>updateref
    &lt;url&gt;</b></a></dt>
  <dd>Specify the referral to pass back when <b>slapd</b>(8) is asked to modify
      a replicated local database. If specified multiple times, each url is
      provided.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DATABASE-SPECIFIC_OPTIONS"><a class="permalink" href="#DATABASE-SPECIFIC_OPTIONS">DATABASE-SPECIFIC
  OPTIONS</a></h1>
<p class="Pp">Each database may allow specific configuration options; they are
    documented separately in the backends' manual pages. See the
    <b>slapd.backends</b>(5) manual page for an overview of available
  backends.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">Here is a short example of a configuration file:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>include   /etc/openldap/schema/core.schema
pidfile   /var/db/openldap/run/slapd.pid
# Subtypes of &quot;name&quot; (e.g. &quot;cn&quot; and &quot;ou&quot;) with the
# option &quot;;x-hidden&quot; can be searched for/compared,
# but are not shown.  See <b>slapd.access</b>(5).
attributeoptions x-hidden lang-
access to attrs=name;x-hidden by * =cs
# Protect passwords.  See <b>slapd.access</b>(5).
access    to attrs=userPassword  by * auth
# Read access to other attributes and entries.
access    to *  by * read
database  bdb
suffix    &quot;dc=our-domain,dc=com&quot;
# The database directory MUST exist prior to
# running slapd AND should only be accessible
# by the slapd/tools. Mode 0700 recommended.
directory /var/db/openldap/openldap-data
# Indices to maintain
index     objectClass  eq
index     cn,sn,mail   pres,eq,approx,sub
# We serve small clients that do not handle referrals,
# so handle remote lookups on their behalf.
database  ldap
suffix    &quot;&quot;
uri       ldap://ldap.some-server.com/
lastmod   off</pre>
</div>
<p class="Pp">&quot;OpenLDAP Administrator's Guide&quot; contains a longer
    annotated example of a configuration file. The original
    /etc/openldap/slapd.conf is another example.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt>/etc/openldap/slapd.conf</dt>
  <dd>default slapd configuration file</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>ldap</b>(3), <b>gnutls-cli</b>(1), <b>slapd-config</b>(5),
    <b>slapd.access</b>(5), <b>slapd.backends</b>(5), <b>slapd.overlays</b>(5),
    <b>slapd.plugin</b>(5), <b>slapd.replog</b>(5), <b>slapd</b>(8),
    <b>slapacl</b>(8), <b>slapadd</b>(8), <b>slapauth</b>(8), <b>slapcat</b>(8),
    <b>slapdn</b>(8), <b>slapindex</b>(8), <b>slappasswd</b>(8),
    <b>slaptest</b>(8).</p>
<p class="Pp">&quot;OpenLDAP Administrator's Guide&quot;
    (http://www.OpenLDAP.org/doc/admin/)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ACKNOWLEDGEMENTS"><a class="permalink" href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a></h1>
<p class="Pp"><b>OpenLDAP Software</b> is developed and maintained by The
    OpenLDAP Project &lt;http://www.openldap.org/&gt;. <b>OpenLDAP Software</b>
    is derived from University of Michigan LDAP 3.3 Release.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2011/11/24</td>
    <td class="foot-os">OpenLDAP 2.4.28</td>
  </tr>
</table>
</body>
</html>
