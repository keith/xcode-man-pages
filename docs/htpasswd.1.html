<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   DO NOT EDIT! Generated from XML source.
   XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   Subsection
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>HTPASSWD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HTPASSWD(1)</td>
    <td class="head-vol">htpasswd</td>
    <td class="head-rtitle">HTPASSWD(1)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">htpasswd - Manage user files for basic authentication</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b></b><b>htpasswd</b> [ -<b>c</b> ] [ -<b>i</b> ] [ -<b>m</b> |
    -<b>B</b> | -<b>2</b> | -<b>5</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [
    -<b>r</b> <i>rounds</i> ] [ -<b>C</b> <i>cost</i> ] [ -<b>D</b> ] [
    -<b>v</b> ] <i>passwdfile</i> <i>username</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htpasswd</b> -<b>b</b> [ -<b>c</b> ] [ -<b>m</b> |
    -<b>B</b> | -<b>2</b> | -<b>5</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [
    -<b>r</b> <i>rounds</i> ] [ -<b>C</b> <i>cost</i> ] [ -<b>D</b> ] [
    -<b>v</b> ] <i>passwdfile</i> <i>username</i> <i>password</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htpasswd</b> -<b>n</b> [ -<b>i</b> ] [ -<b>m</b> |
    -<b>B</b> | -<b>2</b> | -<b>5</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [
    -<b>r</b> <i>rounds</i> ] [ -<b>C</b> <i>cost</i> ] <i>username</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htpasswd</b> -<b>nb</b> [ -<b>m</b> | -<b>B</b> |
    -<b>2</b> | -<b>5</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>r</b>
    <i>rounds</i> ] [ -<b>C</b> <i>cost</i> ] <i>username</i>
  <i>password</i></p>
<p class="Pp"></p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SUMMARY"><a class="permalink" href="#SUMMARY">SUMMARY</a></h1>
<p class="Pp"><b>htpasswd</b> is used to create and update the flat-files used
    to store usernames and password for basic authentication of HTTP users. If
    <b>htpasswd</b> cannot access a file, such as not being able to write to the
    output file or not being able to read the file in order to update it, it
    returns an error status and makes no changes.</p>
<p class="Pp"></p>
<p class="Pp">Resources available from the Apache HTTP server can be restricted
    to just the users listed in the files created by <b>htpasswd</b>. This
    program can only manage usernames and passwords stored in a flat-file. It
    can hash and display password information for use in other types of data
    stores, though. To use a DBM database see dbmmanage or htdbm.</p>
<p class="Pp"></p>
<p class="Pp"><b>htpasswd</b> hashes passwords using either bcrypt, a version of
    MD5 modified for Apache, SHA-1, or the system's <b>crypt()</b> routine.
    SHA-2-based hashes (SHA-256 and SHA-512) are supported for <b>crypt()</b>.
    Files managed by <b>htpasswd</b> may contain a mixture of different encoding
    types of passwords; some user records may have bcrypt or MD5-hashed
    passwords while others in the same file may have passwords hashed with
    <b>crypt()</b>.</p>
<p class="Pp"></p>
<p class="Pp">This manual page only lists the command line arguments. For
    details of the directives necessary to configure user authentication in
    httpd see the Apache manual, which is part of the Apache distribution or can
    be found at http://httpd.apache.org/.</p>
<p class="Pp"></p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="b"><a class="permalink" href="#b"><b>-b</b></a></dt>
  <dd>Use batch mode; <i>i.e.</i>, get the password from the command line rather
      than prompting for it. This option should be used with extreme care, since
      <b>the password is clearly visible</b> on the command line. For script use
      see the <b>-i</b> option. Available in 2.4.4 and later.</dd>
  <dt id="i"><a class="permalink" href="#i"><b>-i</b></a></dt>
  <dd>Read the password from stdin without verification (for script usage).</dd>
  <dt id="c"><a class="permalink" href="#c"><b>-c</b></a></dt>
  <dd>Create the <i>passwdfile</i>. If <i>passwdfile</i> already exists, it is
      rewritten and truncated. This option cannot be combined with the <b>-n</b>
      option.</dd>
  <dt id="n"><a class="permalink" href="#n"><b>-n</b></a></dt>
  <dd>Display the results on standard output rather than updating a file. This
      is useful for generating password records acceptable to Apache for
      inclusion in non-text data stores. This option changes the syntax of the
      command line, since the <i>passwdfile</i> argument (usually the first one)
      is omitted. It cannot be combined with the <b>-c</b> option.</dd>
  <dt id="m"><a class="permalink" href="#m"><b>-m</b></a></dt>
  <dd>Use MD5 hashing for passwords. This is the default (since version
    2.2.18).</dd>
  <dt><b>-2</b></dt>
  <dd>Use SHA-256 <b>crypt()</b> based hashes for passwords. This is supported
      on most Unix platforms.</dd>
  <dt><b>-5</b></dt>
  <dd>Use SHA-512 <b>crypt()</b> based hashes for passwords. This is supported
      on most Unix platforms.</dd>
  <dt id="B"><a class="permalink" href="#B"><b>-B</b></a></dt>
  <dd>Use bcrypt hashing for passwords. This is currently considered to be very
      secure.</dd>
  <dt id="C"><a class="permalink" href="#C"><b>-C</b></a></dt>
  <dd>This flag is only allowed in combination with <b>-B</b> (bcrypt hashing).
      It sets the computing time used for the bcrypt algorithm (higher is more
      secure but slower, default: 5, valid: 4 to 17).</dd>
  <dt id="r"><a class="permalink" href="#r"><b>-r</b></a></dt>
  <dd>This flag is only allowed in combination with <b>-2</b> or <b>-5</b>. It
      sets the number of hash rounds used for the SHA-2 algorithms (higher is
      more secure but slower; the default is 5,000).</dd>
  <dt id="d"><a class="permalink" href="#d"><b>-d</b></a></dt>
  <dd>Use <b>crypt()</b> hashing for passwords. This is not supported by the
      httpd server on Windows and Netware. This algorithm limits the password
      length to 8 characters. This algorithm is <b>insecure</b> by today's
      standards. It used to be the default algorithm until version 2.2.17.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s</b></a></dt>
  <dd>Use SHA-1 (160-bit) hashing for passwords. Facilitates migration from/to
      Netscape servers using the LDAP Directory Interchange Format (ldif). This
      algorithm is <b>insecure</b> by today's standards.</dd>
  <dt id="p"><a class="permalink" href="#p"><b>-p</b></a></dt>
  <dd>Use plaintext passwords. Though <b>htpasswd</b> will support creation on
      all platforms, the httpd daemon will only accept plain text passwords on
      Windows and Netware.</dd>
  <dt id="D"><a class="permalink" href="#D"><b>-D</b></a></dt>
  <dd>Delete user. If the username exists in the specified htpasswd file, it
      will be deleted.</dd>
  <dt id="v"><a class="permalink" href="#v"><b>-v</b></a></dt>
  <dd>Verify password. Verify that the given password matches the password of
      the user stored in the specified htpasswd file. Available in 2.4.5 and
      later.</dd>
  <dt id="passwdfile"><a class="permalink" href="#passwdfile"><b></b><i>passwdfile</i></a></dt>
  <dd>Name of the file to contain the user name and password. If <b>-c</b> is
      given, this file is created if it does not already exist, or rewritten and
      truncated if it does exist.</dd>
  <dt id="username"><a class="permalink" href="#username"><b></b><i>username</i></a></dt>
  <dd>The username to create or update in <i>passwdfile</i>. If <i>username</i>
      does not exist in this file, an entry is added. If it does exist, the
      password is changed.</dd>
  <dt id="password"><a class="permalink" href="#password"><b></b><i>password</i></a></dt>
  <dd>The plaintext password to be hashed and stored in the file. Only used with
      the <b>-b</b> flag.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp"><b>htpasswd</b> returns a zero status (&quot;true&quot;) if the
    username and password have been successfully added or updated in the
    <i>passwdfile</i>. <b>htpasswd</b> returns <b>1</b> if it encounters some
    problem accessing files, <b>2</b> if there was a syntax problem with the
    command line, <b>3</b> if the password was entered interactively and the
    verification entry didn't match, <b>4</b> if its operation was interrupted,
    <b>5</b> if a value is too long (username, filename, password, or final
    computed record), <b>6</b> if the username contains illegal characters (see
    the Restrictions section), and <b>7</b> if the file is not a valid password
    file.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<pre>
<br/>
      htpasswd /usr/local/etc/apache/.htpasswd-users jsmith
<br/>
    </pre>
<p class="Pp"></p>
<p class="Pp">Adds or modifies the password for user <b>jsmith</b>. The user is
    prompted for the password. The password will be hashed using the modified
    Apache MD5 algorithm. If the file does not exist, <b>htpasswd</b> will do
    nothing except return an error.</p>
<p class="Pp"></p>
<pre>
<br/>
      htpasswd -c /home/doe/public_html/.htpasswd jane
<br/>
    </pre>
<p class="Pp"></p>
<p class="Pp">Creates a new file and stores a record in it for user <b>jane</b>.
    The user is prompted for the password. If the file exists and cannot be
    read, or cannot be written, it is not altered and <b>htpasswd</b> will
    display a message and return an error status.</p>
<p class="Pp"></p>
<pre>
<br/>
      htpasswd -db /usr/web/.htpasswd-all jones Pwd4Steve
<br/>
    </pre>
<p class="Pp"></p>
<p class="Pp">Encrypts the password from the command line (<b>Pwd4Steve</b>)
    using the <b>crypt()</b> algorithm, and stores it in the specified file.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY_CONSIDERATIONS"><a class="permalink" href="#SECURITY_CONSIDERATIONS">SECURITY
  CONSIDERATIONS</a></h1>
<p class="Pp">Web password files such as those managed by <b>htpasswd</b> should
    <i>not</i> be within the Web server's URI space -- that is, they should not
    be fetchable with a browser.</p>
<p class="Pp"></p>
<p class="Pp">This program is not safe as a setuid executable. Do <i>not</i>
    make it setuid.</p>
<p class="Pp"></p>
<p class="Pp">The use of the <b>-b</b> option is discouraged, since when it is
    used the plaintext password appears on the command line.</p>
<p class="Pp"></p>
<p class="Pp">When using the <b>crypt()</b> algorithm, note that only the first
    8 characters of the password are used to form the password. If the supplied
    password is longer, the extra characters will be silently discarded.</p>
<p class="Pp"></p>
<p class="Pp">The SHA-1 hashing format does not use salting: for a given
    password, there is only one hashed representation. The <b>crypt()</b> and
    MD5 formats permute the representation by prepending a random salt string,
    to make dictionary attacks against the passwords more difficult.</p>
<p class="Pp"></p>
<p class="Pp">The SHA-1 and <b>crypt()</b> formats are insecure by today's
    standards.</p>
<p class="Pp"></p>
<p class="Pp">The SHA-2-based <b>crypt()</b> formats (SHA-256 and SHA-512) are
    supported on most modern Unix systems, and follow the specification at
    https://www.akkadia.org/drepper/SHA-crypt.txt.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="RESTRICTIONS"><a class="permalink" href="#RESTRICTIONS">RESTRICTIONS</a></h1>
<p class="Pp">On the Windows platform, passwords hashed with <b>htpasswd</b> are
    limited to no more than <b>255</b> characters in length. Longer passwords
    will be truncated to 255 characters.</p>
<p class="Pp"></p>
<p class="Pp">The MD5 algorithm used by <b>htpasswd</b> is specific to the
    Apache software; passwords hashed using it will not be usable with other Web
    servers.</p>
<p class="Pp"></p>
<p class="Pp">Usernames are limited to <b>255</b> bytes and may not include the
    character <b>:</b>.</p>
<p class="Pp"></p>
<p class="Pp">The cost of computing a bcrypt password hash value increases with
    the number of rounds specified by the <b>-C</b> option. The <b>apr-util</b>
    library enforces a maximum number of rounds of 17 in version <b>1.6.0</b>
    and later.</p>
<p class="Pp"></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-08-09</td>
    <td class="foot-os">Apache HTTP Server</td>
  </tr>
</table>
</body>
</html>
