<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1999-2017 Apple Inc.  All rights reserved.
  
   @APPLE_LICENSE_HEADER_START@
  
   This file contains Original Code and/or Modifications of Original Code
   as defined in and that are subject to the Apple Public Source License
   Version 2.0 (the 'License'). You may not use this file except in
   compliance with the License. Please obtain a copy of the License at
   http://www.opensource.apple.com/apsl/ and read it before using this
   file.
  
   The Original Code and all software distributed under the License are
   distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
   EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
   INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
   Please see the License for the specific language governing rights and
   limitations under the License.
  
   @APPLE_LICENSE_HEADER_END@
  
   Copyright (c) 1992, 1993, 1994, 1995
  	The Regents of the University of California.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. All advertising materials mentioning features or use of this software
      must display the following acknowledgement:
  	This product includes software developed by the University of
  	California, Berkeley and its contributors.
   4. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
  	@(#)mount_nfs.8	8.3 (Berkeley) 3/29/95
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>MOUNT_NFS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MOUNT_NFS(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">MOUNT_NFS(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">mount_nfs</code> &#x2014; <span class="Nd">mount
    NFS file systems</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">mount_nfs</code></td>
    <td>[<code class="Fl">-o</code> <var class="Ar">options</var>]
      <var class="Ar">server:</var><var class="Ar">/path directory</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <code class="Nm">mount_nfs</code> command calls the
    <a class="Xr">mount(2)</a> system call to prepare and graft a remote NFS
    file system ( <var class="Ar">server:/path</var> ) on to the file system
    tree at the point <var class="Ar">directory</var>.</p>
<p class="Pp">This command is expected to be executed by the
    <a class="Xr">mount(8)</a> command. Direct use of
    <code class="Nm">mount_nfs</code> to mount NFS file systems is strongly
    discouraged because there is little practical benefit of using it instead of
    <a class="Xr">mount(8)</a>.</p>
<p class="Pp">For NFS versions that use a separate mount protocol,
    <code class="Nm">mount_nfs</code> implements the mount protocol as described
    in RFC 1094, Appendix A and <span class="RsT">NFS: Network File System
    Version 3 Protocol Specification,</span> RFC 1813, Appendix I.</p>
<p class="Pp">By default, <code class="Nm">mount_nfs</code> will attempt the
    mount twice before exiting with an error. If the <code class="Fl">-o</code>
    <code class="Cm">bg</code> option is given, it will attempt the mount once
    and then background itself to continue trying another 10,000 times (pausing
    for one minute between attempts). The option <code class="Fl">-o</code>
    <code class="Cm">retrycnt</code>=&#x27E8;<var class="Ar">num</var>&#x27E9;
    can be used if a different retry behavior is desired for a mount.</p>
<p class="Pp">If the server becomes unresponsive while an NFS file system is
    mounted, any new or outstanding file operations on that file system will
    hang uninterruptibly until the server comes back (or that NFS file system is
    forcibly unmounted). To modify this default behaviour, see the
    <code class="Fl">-o</code> <code class="Cm">intr</code> and
    <code class="Fl">-o</code> <code class="Cm">soft</code> mount options.</p>
<p class="Pp">Mount options are specified with a <code class="Fl">-o</code> flag
    followed by a comma separated string of options. See the
    <a class="Xr">mount(8)</a> man page for possible options and their meanings.
    The following NFS-specific options are also available:</p>
<p class="Pp"></p>
<dl class="Bl-tag Bl-compact">
  <dt id="bg"><a class="permalink" href="#bg"><code class="Cm">bg</code></a></dt>
  <dd>Retry mount in background. If an initial attempt to contact the server
      fails, fork off a child to keep trying the mount in the background. Useful
      for startup scripts where the file system mount is not critical to
      multiuser operation.
    <p class="Pp"></p>
  </dd>
  <dt id="retrycnt"><a class="permalink" href="#retrycnt"><code class="Cm">retrycnt</code></a>=&#x27E8;<var class="Ar">num</var>&#x27E9;</dt>
  <dd>Set the retry count for doing the mount to the specified value. The
      default is 1 for foreground mounts and 10,000 for background mounts.
      Setting <code class="Cm">retrycnt</code> to 0, in addition to only trying
      to establish connection once, will case nfs client code to use quick time
      out value (default 8s) instead of regular mount time out (default 30s)
      value while establishing initial connection.
    <p class="Pp"></p>
  </dd>
  <dt id="udp"><a class="permalink" href="#udp"><code class="Cm">udp</code></a></dt>
  <dd>Use UDP transport protocol.
    <p class="Pp"></p>
  </dd>
  <dt id="tcp"><a class="permalink" href="#tcp"><code class="Cm">tcp</code></a></dt>
  <dd>Use the TCP transport protocol instead of UDP. The default is to try TCP
      first, then fall back to UDP if the server doesn't support TCP.
    <p class="Pp"></p>
  </dd>
  <dt id="inet"><a class="permalink" href="#inet"><code class="Cm">inet</code></a></dt>
  <dd>Use only IPv4 addresses.
    <p class="Pp"></p>
  </dd>
  <dt id="inet6"><a class="permalink" href="#inet6"><code class="Cm">inet6</code></a></dt>
  <dd>Use only IPv6 addresses.
    <p class="Pp"></p>
  </dd>
  <dt id="proto"><a class="permalink" href="#proto"><code class="Cm">proto</code></a>=&#x27E8;<var class="Ar">netid</var>&#x27E9;</dt>
  <dd>Use the transport protocol and address family as specified by the given
      ONC RPC Netid (RFC 5665). Valid netid values are:
      <code class="Cm">tcp</code> (TCP over IPv4), <code class="Cm">udp</code>
      (UDP over IPv4), <code class="Cm">tcp6</code> (TCP over IPv6), and
      <code class="Cm">udp6</code> (UDP over IPv6). Note that this option
      differs from the separate <code class="Cm">tcp</code> and
      <code class="Cm">udp</code> options described above in that each netid
      value specifies both a transport protocol and address family (IP version).
    <p class="Pp"></p>
  </dd>
  <dt id="mntudp"><a class="permalink" href="#mntudp"><code class="Cm">mntudp</code></a></dt>
  <dd>Force the mount protocol to use UDP transport, even for TCP NFS mounts.
      (Necessary for some old BSD servers.)
    <p class="Pp"></p>
  </dd>
  <dt id="mountport"><a class="permalink" href="#mountport"><code class="Cm">mountport</code></a>=&#x27E8;<var class="Ar">port-number</var>&#x27E9;</dt>
  <dd>Connect to the NFS server's mount daemon using the given port number.
    <p class="Pp"></p>
  </dd>
  <dt id="port"><a class="permalink" href="#port"><code class="Cm">port</code></a>=&#x27E8;<var class="Ar">port-number</var>&#x27E9;</dt>
  <dd>Connect to an NFS server at the given port number.
    <p class="Pp"></p>
  </dd>
  <dt id="noconn"><a class="permalink" href="#noconn"><code class="Cm">noconn</code></a></dt>
  <dd>Do not connect UDP sockets. For UDP mount points, do not do a
      <a class="Xr">connect(2)</a>. This must be used for servers that do not
      reply to requests from the standard NFS port number 2049. It may also be
      required for servers with more than one IP address if replies come from an
      address other than the one specified in the requests.
    <p class="Pp"></p>
  </dd>
  <dt id="resvport"><a class="permalink" href="#resvport"><code class="Cm">resvport</code></a></dt>
  <dd>Use a reserved socket port number. This is useful for mounting servers
      that require clients to use a reserved port number on the mistaken belief
      that this makes NFS more secure. (For the rare case where the client has a
      trusted root account but untrustworthy users and the network cables are in
      secure areas this does help, but for normal desktop clients this does not
      apply.) root permission is required to mount using
      <code class="Cm">resvport</code> mount option.
    <p class="Pp"></p>
  </dd>
  <dt id="intr"><a class="permalink" href="#intr"><code class="Cm">intr</code></a></dt>
  <dd>Make the mount interruptible, which implies that file system calls that
      are delayed due to an unresponsive server will fail with
      <code class="Er">EINTR</code> when a termination signal is posted for the
      process.
    <p class="Pp"></p>
  </dd>
  <dt id="soft"><a class="permalink" href="#soft"><code class="Cm">soft</code></a></dt>
  <dd>Make the mount soft, which means that file system calls will fail after
      <code class="Cm">retrans</code> round trip timeout intervals. Note: mounts
      which are both soft and read-only will also have the
      <code class="Cm">locallocks</code> mount option enabled by default -
      unless explicitly overridden with a lock option (for example,
      <code class="Cm">nolocks</code> or <code class="Cm">nolocallocks</code> ).
    <p class="Pp"></p>
  </dd>
  <dt id="vers"><a class="permalink" href="#vers"><code class="Cm">vers</code></a>=&#x27E8;<var class="Ar">num</var>[.<var class="Ar">num</var>]&#x27E9;[<code class="Fl">-</code>&#x27E8;<var class="Ar">num</var>[.<var class="Ar">num</var>]&#x27E9;]</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="nfsvers"><a class="permalink" href="#nfsvers"><code class="Cm">nfsvers</code></a>=&#x27E8;<var class="Ar">num</var>[.<var class="Ar">num</var>]&#x27E9;[<code class="Fl">-</code>&#x27E8;<var class="Ar">num</var>[.<var class="Ar">num</var>]&#x27E9;]</dt>
  <dd>NFS protocol version number - 2 for NFSv2, 3 for NFSv3 and 4 for NFSv4.
      The default is to try version 3 first, and fall back to version 2 if the
      mount fails. A range of versions can be specified by including a dash and
      another version with no spaces between versions and the dash. In that case
      the highest version is tried first and if not successful fall back to each
      version down to the lowest version specified until the mount succeeds or
      the lowest version fails. Note minor versions may be specified for
      versions greater than or equal to four by appending a dot and then the
      minor version number. Currently NFSv4 is the highest supported version
      with a minor version of zero or one. If no minor version is specified,
      zero is assumed. Specifying a non supported version or minor version will
      print a warning and ignore the <code class="Cm">vers</code> or
      <code class="Cm">nfsvers</code> option. Versions 2 or 3 do not support
      minor versioning so minor versions greater than zero are treated as above.
    <p class="Pp"></p>
  </dd>
  <dt id="nfsv2"><a class="permalink" href="#nfsv2"><code class="Cm">nfsv2</code></a></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="nfsv3"><a class="permalink" href="#nfsv3"><code class="Cm">nfsv3</code></a></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="nfsv4"><a class="permalink" href="#nfsv4"><code class="Cm">nfsv4</code></a></dt>
  <dd>Deprecated. Use <code class="Fl">-o</code>
      <code class="Cm">vers</code>=&#x27E8;<var class="Ar">num</var>&#x27E9; to
      specify NFS protocol version.
    <p class="Pp"></p>
  </dd>
  <dt id="sec"><a class="permalink" href="#sec"><code class="Cm">sec</code></a>=&#x27E8;<var class="Ar">mechanism</var>&#x27E9;</dt>
  <dd>Force a specific security mechanism to be used for the mount, where
      <var class="Ar">mechanism</var> is one of: krb5p, krb5i, krb5, or sys.
      When this option is not given the security mechanism will be negotiated
      transparently with the remote server.
    <p class="Pp"></p>
  </dd>
  <dt id="etype"><a class="permalink" href="#etype"><code class="Cm">etype</code></a>=&#x27E8;<var class="Ar">encryption-type</var>&#x27E9;</dt>
  <dd>Use the specified encryption type for the mount, where
      <var class="Ar">encryption-type</var> is one of: des3, des3-cbc-sha1,
      des3-cbc-sha1-kd, aes128, aes128-cts-hmac-sha1, aes128-cts-hmac-sha1-96,
      aes256-cts-hmac-sha1, or aes256-cts-hmac-sha1-96.
    <p class="Pp"></p>
  </dd>
  <dt id="realm"><a class="permalink" href="#realm"><code class="Cm">realm</code></a>=&#x27E8;<var class="Ar">realm</var>&#x27E9;</dt>
  <dd>Use the default credential for realm or security domain. For Kerberos
      realms are usually uppercase. If the realm specified does not begin with
      an &#x201C;@&#x201D;, an &#x201C;@&#x201D; sign will be prepended to it.
      Note specifying the realm is typically used for automounter maps when
      clients may have multiple credential caches, and tells the client what
      cache to use on the mount.
    <p class="Pp"></p>
  </dd>
  <dt id="principal"><a class="permalink" href="#principal"><code class="Cm">principal</code></a>=&#x27E8;<var class="Ar">principal</var>&#x27E9;</dt>
  <dd>Use the specified principal for acquiring credentials for the mount. That
      principal will be used for all accesses by the mounting credential on the
      mounted file system. Note specifying a principal is useful for user
      initiated command line mounts, where the user knows the particular
      credential to use.
    <p class="Pp"></p>
  </dd>
  <dt id="sprincipal"><a class="permalink" href="#sprincipal"><code class="Cm">sprincipal</code></a>=&#x27E8;<var class="Ar">server-principal</var>&#x27E9;</dt>
  <dd>Use the specified server-principal for establishing credentials for the
      mount. That server principal will be use for all mount access. If no
      server principal is specified, then the GSS_C_NT_HOSTBASED_SERVICE
      nfs@server is used, where server is taken from the mount argument
      server:/path. Note its rare to use this option.
    <p class="Pp"></p>
  </dd>
  <dt id="rsize"><a class="permalink" href="#rsize"><code class="Cm">rsize</code></a>=&#x27E8;<var class="Ar">readsize</var>&#x27E9;</dt>
  <dd>Set the read data size to the specified value. The default is 8192 for UDP
      mounts and 32768 for TCP mounts. It should normally be a power of 2
      greater than or equal to 1024. Values greater than 4096 should be
      multiples of 4096. It may need to be lowered for UDP mounts when the
      &#x201C;fragments dropped due to timeout&#x201D; value is getting large
      while actively using a mount point. (Use <a class="Xr">netstat(1)</a> with
      the <code class="Fl">-s</code> option to see what the &#x201C;fragments
      dropped due to timeout&#x201D; value is.)
    <p class="Pp"></p>
  </dd>
  <dt id="wsize"><a class="permalink" href="#wsize"><code class="Cm">wsize</code></a>=&#x27E8;<var class="Ar">writesize</var>&#x27E9;</dt>
  <dd>Set the write data size to the specified value. Ditto the comments w.r.t.
      the <code class="Cm">rsize</code> option, but using the &#x201C;fragments
      dropped due to timeout&#x201D; value on the server instead of the client.
      Note that both the <code class="Cm">rsize</code> and
      <code class="Cm">wsize</code> options should only be used as a last ditch
      effort at improving performance when mounting servers that do not support
      TCP mounts.
    <p class="Pp"></p>
  </dd>
  <dt id="rwsize"><a class="permalink" href="#rwsize"><code class="Cm">rwsize</code></a>=&#x27E8;<var class="Ar">size</var>&#x27E9;</dt>
  <dd>Set both the read data size and write data size to the specified value.
    <p class="Pp"></p>
  </dd>
  <dt id="dsize"><a class="permalink" href="#dsize"><code class="Cm">dsize</code></a>=&#x27E8;<var class="Ar">readdirsize</var>&#x27E9;</dt>
  <dd>Set the directory read size to the specified value. The value should
      normally be a multiple of DIRBLKSIZ that is &lt;= the read size for the
      mount. The default is 8192 for UDP mounts and 32768 for TCP mounts.
    <p class="Pp"></p>
  </dd>
  <dt id="readahead"><a class="permalink" href="#readahead"><code class="Cm">readahead</code></a>=&#x27E8;<var class="Ar">maxreadahead</var>&#x27E9;</dt>
  <dd>Set the maximum read-ahead count to the specified value. The default is
      16. This may be in the range of 0 - 128, and determines how many
      <b>Read</b> RPCs will be read ahead when a large file is being read
      sequentially. Trying larger values for this is suggested for mounts with a
      large bandwidth * delay product.
    <p class="Pp"></p>
  </dd>
  <dt id="rdirplus"><a class="permalink" href="#rdirplus"><code class="Cm">rdirplus
    / nordirplus</code></a></dt>
  <dd>Used with NFS v3/v4 to specify that directory read operations should
      retrieve additional information about each entry (e.g. use the NFSv3
      <b>ReaddirPlus</b> RPC). This option typically reduces RPC traffic for
      cases such as directory listings that use or display basic attributes
      (e.g. &#x201C;ls -F&#x201D; and &#x201C;find . -type f&#x201D; ). Note
      that the long directory listing format case (i.e. &#x201C;ls -l&#x201D; )
      may not be helped much when the file system does not natively support
      extended attributes. Older implementations tended to flood the vnode and
      name caches with prefetched entries which may not be referenced. The
      current implementation avoids creating those entries until they are
      referenced. Try this option and see whether performance improves or
      degrades. Probably most useful for client to server network interconnects
      with a large bandwidth times delay product. Default value is rdirplus.
    <p class="Pp"></p>
  </dd>
  <dt id="acregmin"><a class="permalink" href="#acregmin"><code class="Cm">acregmin</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="acregmax"><a class="permalink" href="#acregmax"><code class="Cm">acregmax</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="acdirmin"><a class="permalink" href="#acdirmin"><code class="Cm">acdirmin</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="acdirmax"><a class="permalink" href="#acdirmax"><code class="Cm">acdirmax</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="acrootdirmin"><a class="permalink" href="#acrootdirmin"><code class="Cm">acrootdirmin</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="acrootdirmax"><a class="permalink" href="#acrootdirmax"><code class="Cm">acrootdirmax</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd>These options set the minimum and maximum attribute cache timeouts for
      directories, the root directory and &quot;regular&quot; (non-directory)
      files. The default minimum is 5 seconds and the default maximum is 60
      seconds. If not specified, the values of
      <code class="Cm">acrootdirmin</code> and
      <code class="Cm">acrootdirmax</code> will be assigned to those of
      <code class="Cm">acdirmin</code> and <code class="Cm">acdirmax</code>
      respectively, to maintain backward compatibility. Setting all the minimum
      and maximum to zero will disable attribute caching. The algorithm to
      calculate the timeout is based on the age of the file or directory. The
      older it is, the longer the attribute cache is considered valid, subject
      to the limits above. Note that the effectiveness of this algorithm depends
      on how well the clocks on the client and server are synchronized.
    <p class="Pp"></p>
  </dd>
  <dt id="actimeo"><a class="permalink" href="#actimeo"><code class="Cm">actimeo</code></a>=&#x27E8;<var class="Ar">seconds</var>&#x27E9;</dt>
  <dd>Set all attribute cache timeouts to the same value.
    <p class="Pp"></p>
  </dd>
  <dt id="noac"><a class="permalink" href="#noac"><code class="Cm">noac</code></a></dt>
  <dd>Disable attribute caching. Equivalent to setting
      <code class="Cm">actimeo</code> to 0.
    <p class="Pp"></p>
  </dd>
  <dt id="nonegnamecache"><a class="permalink" href="#nonegnamecache"><code class="Cm">nonegnamecache</code></a></dt>
  <dd>Disable negative name caching.
    <p class="Pp"></p>
  </dd>
  <dt id="accesscache"><a class="permalink" href="#accesscache"><code class="Cm">accesscache</code></a>=&#x27E8;<var class="Ar">size</var>&#x27E9;</dt>
  <dd>Sets the number of users that can store their access information in the
      <a class="Xr">access(2)</a> cache. The cache operates in a
      First-In-First-Out (FIFO) order, retaining the most recently accessed user
      information. When the cache reaches its maximum size, older information is
      evicted. The default cache size is 3, allowing three users to store their
      access information in the cache simultaneously.
    <p class="Pp"></p>
  </dd>
  <dt id="locallocks"><a class="permalink" href="#locallocks"><code class="Cm">locallocks</code></a></dt>
  <dd>For NFSv2/v3 mounts, perform all file locking operations locally on the
      NFS client (in the VFS layer) instead of on the NFS server. This option
      can provide file locking support on an NFS file system for which the
      server does not support file locking. However, because the file locking is
      only performed on the client, the NFS server and other NFS clients will
      have no knowledge of the locks. Note: mounts which are both soft and
      read-only will also have the <code class="Cm">locallocks</code> mount
      option enabled by default - unless explicitly overridden with a lock
      option (for example, <code class="Cm">nolocks</code> or
      <code class="Cm">nolocallocks</code> ).
    <p class="Pp"></p>
  </dd>
  <dt id="nolocks"><a class="permalink" href="#nolocks"><code class="Cm">nolocks</code></a></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="nolockd"><a class="permalink" href="#nolockd"><code class="Cm">nolockd</code></a></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="nolock"><a class="permalink" href="#nolock"><code class="Cm">nolock</code></a></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt id="nonlm"><a class="permalink" href="#nonlm"><code class="Cm">nonlm</code></a></dt>
  <dd>For NFSv2/v3 mounts, do not support NFS file locking operations. Any
      attempt to perform file locking operations on this mount will return the
      error <code class="Er">ENOTSUP</code> regardless of whether or not the NFS
      server supports NFS file locking.
    <p class="Pp"></p>
  </dd>
  <dt id="noquota"><a class="permalink" href="#noquota"><code class="Cm">noquota</code></a></dt>
  <dd>Do not support file system quota operations that would normally be
      serviced by using the RQUOTA protocol. Any attempt to perform quota
      operations on this mount will return the error
      <code class="Er">ENOTSUP</code> regardless of whether or not the NFS
      server supports the RQUOTA service.
    <p class="Pp"></p>
  </dd>
  <dt id="maxgroups"><a class="permalink" href="#maxgroups"><code class="Cm">maxgroups</code></a>=&#x27E8;<var class="Ar">num</var>&#x27E9;</dt>
  <dd>Set the maximum size of the group list for the credentials to the
      specified value. This should be used for mounts on old servers that cannot
      handle a group list size of 16, as specified in RFC 1057. Try 8, if users
      in a lot of groups cannot get a response from the mount point.
    <p class="Pp"></p>
  </dd>
  <dt id="dumbtimer"><a class="permalink" href="#dumbtimer"><code class="Cm">dumbtimer</code></a></dt>
  <dd>Turn off the dynamic retransmit timeout estimator. This may be useful for
      UDP mounts that exhibit high retry rates, since it is possible that the
      dynamically estimated timeout interval is too short.
    <p class="Pp"></p>
  </dd>
  <dt id="timeo"><a class="permalink" href="#timeo"><code class="Cm">timeo</code></a>=&#x27E8;<var class="Ar">timeout</var>&#x27E9;</dt>
  <dd>Set the initial retransmit timeout to the specified value (in tenths of a
      second). The default is 1 second. May be useful for fine tuning UDP mounts
      over internetworks with high packet loss rates or an overloaded server.
      Try increasing the interval if <a class="Xr">nfsstat(1)</a> shows high
      retransmit rates while the file system is active or reducing the value if
      there is a low retransmit rate but long response delay observed.
      (Normally, the <code class="Cm">dumbtimer</code> option should be
      specified when using this option to manually tune the timeout interval.)
    <p class="Pp"></p>
  </dd>
  <dt id="retrans"><a class="permalink" href="#retrans"><code class="Cm">retrans</code></a>=&#x27E8;<var class="Ar">count</var>&#x27E9;</dt>
  <dd>Set the retransmit timeout count for soft mounts to the specified value.
      The default value is 10.
    <p class="Pp"></p>
  </dd>
  <dt id="deadtimeout"><a class="permalink" href="#deadtimeout"><code class="Cm">deadtimeout</code></a>=&#x27E8;<var class="Ar">timeout</var>&#x27E9;</dt>
  <dd>If the mount is still unresponsive <var class="Ar">timeout</var> seconds
      after it is initially reported unresponsive, then mark the mount as dead
      so that it will be forcibly unmounted. Note: mounts which are both soft
      and read-only will also have the <code class="Cm">deadtimeout</code> mount
      option set to 60 seconds. This can be explicitly overridden by setting
      <code class="Cm">deadtimeout</code>=0.
    <p class="Pp"></p>
  </dd>
  <dt id="mutejukebox"><a class="permalink" href="#mutejukebox"><code class="Cm">mutejukebox</code></a></dt>
  <dd>When NFS requests repeatedly get jukebox errors (NFS3ERR_JUKEBOX,
      NFS4ERR_DELAY) from the server the NFS file system is reported as being
      unresponsive. Use of this option will prevent the file system from being
      included in the list of unresponsive file systems that would be included
      in a dialog presented to the user. This option may be useful when a file
      system is expected to get such errors during normal operation. For
      example, when it's backed by a hierarchical storage management system.
    <p class="Pp"></p>
  </dd>
  <dt id="async"><a class="permalink" href="#async"><code class="Cm">async</code></a></dt>
  <dd>Assume that unstable write requests have actually been committed to stable
      storage on the server, and thus will not require resending in the event
      that the server crashes. Use of this option may improve performance but
      only at the risk of data loss if the server crashes. Note: this mount
      option will only be honored if the
      <code class="Cm">nfs.client.allow_async</code> option in
      <a class="Xr">nfs.conf(5)</a> is also enabled.
    <p class="Pp"></p>
  </dd>
  <dt id="sync"><a class="permalink" href="#sync"><code class="Cm">sync</code></a></dt>
  <dd>Perform I/O requests (specifically, write requests) synchronously. The
      operation will not return until a response is received from the server.
      (The default, <code class="Cm">nosync</code>, behavior is to return once
      the I/O has been queued up.)
    <p class="Pp"></p>
  </dd>
  <dt id="nocallback"><a class="permalink" href="#nocallback"><code class="Cm">nocallback</code></a></dt>
  <dd>For NFSv4 mounts, don't support callback requests from the server. This
      should effectively disable features that require callback requests such as
      delegations.
    <p class="Pp"></p>
  </dd>
  <dt id="nonamedattr"><a class="permalink" href="#nonamedattr"><code class="Cm">nonamedattr</code></a></dt>
  <dd>For NFSv4 mounts, don't support named attributes even if the server does.
      This is the default.
    <p class="Pp"></p>
  </dd>
  <dt id="namedattr"><a class="permalink" href="#namedattr"><code class="Cm">namedattr</code></a></dt>
  <dd>For NFSv4 mounts, if the server appears to support named attributes, they
      will be used to store extended attributes and named streams (e.g.
      FinderInfo and resource forks).
    <p class="Pp"></p>
  </dd>
  <dt id="noacl"><a class="permalink" href="#noacl"><code class="Cm">noacl</code></a></dt>
  <dd>For NFSv4 mounts, don't support ACLs even if the server does. ACLs are
      currently disabled by default to avoid issues with the way ACLs and modes
      are handled differently on other operating systems. This may be overriden
      by specifying the <code class="Cm">acl</code> option.
    <p class="Pp"></p>
  </dd>
  <dt id="aclonly"><a class="permalink" href="#aclonly"><code class="Cm">aclonly</code></a></dt>
  <dd>For NFSv4 mounts, only support ACLs; do not support the mode attribute.
      (Any mode attribute values returned will have all permission bits set -
      regardless of the value of any ACL or access mode stored in the file
      system.) This option overrides the <code class="Cm">noacl</code> option.
    <p class="Pp"></p>
  </dd>
  <dt id="nfc"><a class="permalink" href="#nfc"><code class="Cm">nfc</code></a></dt>
  <dd>Convert name strings to Unicode Normalization Form C (NFC) when sending
      them to the NFS server. This option may be used to improve
      interoperability with NFS clients and servers that typically use names in
      the NFC form.</dd>
</dl>
<p class="Pp"><a class="Xr">nfs.conf(5)</a> can be used to configure some NFS
    client options. In particular,
    <code class="Cm">nfs.client.mount.options</code> can be used to specify
    default mount options. This can be useful in situations where it is not easy
    to configure the command-line options. Some NFS client options in
    <a class="Xr">nfs.conf(5)</a> correspond to kernel configuration values
    which will get set by <code class="Nm">mount_nfs</code> when performing a
    mount. To update these values without performing a mount, use the command:
    <code class="Nm">mount_nfs</code> <code class="Cm">configupdate</code>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATIBILITY"><a class="permalink" href="#COMPATIBILITY">COMPATIBILITY</a></h1>
<p class="Pp">The following <code class="Nm">mount_nfs</code> command line flags
    have equivalent <code class="Fl">-o</code> <var class="Ar">option</var>
    forms (shown in parentheses) and their use is strongly discouraged. These
    command line flags are deprecated and the <code class="Fl">-o</code>
    <var class="Ar">option</var> forms should be used instead.</p>
<p class="Pp"><code class="Fl">-2</code> (vers=2), <code class="Fl">-3</code>
    (vers=3), <code class="Fl">-4</code> (vers=4), <code class="Fl">-L</code>
    (nolocks), <code class="Fl">-P</code> (resvport), <code class="Fl">-T</code>
    (tcp), <code class="Fl">-U</code> (mntudp), <code class="Fl">-b</code> (bg),
    <code class="Fl">-c</code> (noconn), <code class="Fl">-d</code> (dumbtimer),
    <code class="Fl">-i</code> (intr), <code class="Fl">-l</code> (rdirplus),
    <code class="Fl">-m</code> (nordirplus), <code class="Fl">-s</code> (soft),
    <code class="Fl">-I</code> <var class="Ar">readdirsize</var> (dsize=#),
    <code class="Fl">-R</code> <var class="Ar">retrycnt</var> (retrycnt=#),
    <code class="Fl">-a</code> <var class="Ar">maxreadahead</var> (readahead=#),
    <code class="Fl">-g</code> <var class="Ar">maxgroups</var> (maxgroups=#),
    <code class="Fl">-r</code> <var class="Ar">readsize</var> (rsize=#),
    <code class="Fl">-t</code> <var class="Ar">timeout</var> (timeo=#),
    <code class="Fl">-w</code> <var class="Ar">writesize</var> (wsize=#),
    <code class="Fl">-x</code> <var class="Ar">retrans</var> (retrans=#).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The simplest way to invoke <code class="Nm">mount_nfs</code> is
    with a command like:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Ic">mount remotehost:/filesystem
  /localmountpoint</code></div>
<p class="Pp">or:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Ic">mount -t nfs remotehost:/filesystem
  /localmountpoint</code></div>
</section>
<section class="Sh">
<h1 class="Sh" id="PERFORMANCE"><a class="permalink" href="#PERFORMANCE">PERFORMANCE</a></h1>
<p class="Pp">As can be derived from the comments accompanying the options,
    performance tuning of NFS can be a non-trivial task. Here are some common
    points to watch:</p>
<ul class="Bl-bullet">
  <li>Use of the <code class="Cm">sync</code> option will probably have a
      detrimental affect on performance. Its use is discouraged as it provides
      little benefit.</li>
  <li>Use of the <code class="Cm">async</code> option may improve performance,
      but only at the risk of losing data if the server crashes because the
      client will not be making sure that all data is committed to stable
      storage on the server.</li>
  <li>Increasing the read and write size with the <code class="Cm">rsize</code>
      and <code class="Cm">wsize</code> options respectively will increase
      throughput if the network interface can handle the larger packet sizes.
    <p class="Pp">The default read and write sizes are 8K when using UDP, and
        32K when using TCP. Values over 16K are only supported for TCP, where 2M
        is the maximum.</p>
    <p class="Pp">Any value over 32K is unlikely to get you more performance,
        unless you have a very fast network.</p>
  </li>
  <li>If the network interface cannot handle larger packet sizes or a long train
      of back to back packets, you may see low performance figures or even
      temporary hangups during NFS activity.
    <p class="Pp">This can especially happen with lossy network connections
        (e.g. wireless networks) which can lead to a lot of dropped packets.</p>
    <p class="Pp">In this case, decreasing the read and write size, using TCP,
        or a combination of both will usually lead to better throughput.</p>
  </li>
  <li>For connections that are not on the same LAN, and/or may experience packet
      loss, using TCP is strongly recommended.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<p class="Pp">Some common problems with <code class="Nm">mount_nfs</code> can be
    difficult for first time users to understand.</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">mount_nfs: can't access /foo:
  Permission denied</code></div>
<p class="Pp">This message means that the remote host is either not exporting
    the file system you requested or is not exporting it to your host. If you
    believe the remote host is indeed exporting a file system to you, make sure
    the <a class="Xr">exports(5)</a> file is exporting the proper directories.
    The program <a class="Xr">showmount(8)</a> can be used to see a server's
    exports list. The command &#x201C;showmount -e remotehostname&#x201D; will
    display what file systems the remote host is exporting.</p>
<p class="Pp">A common mistake is that <a class="Xr">mountd(8)</a> will not
    export a file system with the <code class="Fl">-alldirs</code> option,
    unless it is a mount point on the exporting host. It is not possible to
    remotely mount a subdirectory of an exported mount, unless it is exported
    with the <code class="Fl">-alldirs</code> option.</p>
<p class="Pp">The following error:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">NFS Portmap: RPC: Program not
  registered</code></div>
<p class="Pp">means that the remote host is not running
    <a class="Xr">nfsd(8)</a>. or <a class="Xr">mountd(8)</a>. The program
    <a class="Xr">rpcinfo(8)</a> can be used to determine if the remote host is
    running nfsd and mountd by issuing the command:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">rpcinfo -p
  remotehostname</code></div>
<p class="Pp">If the remote host is running nfsd, mountd, rpc.statd, and
    rpc.lockd it would display:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">program vers proto port</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100000 2 tcp 111
  portmapper</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100000 2 udp 111
  portmapper</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100005 1 udp 950 mountd</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100005 3 udp 950 mountd</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100005 1 tcp 884 mountd</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100005 3 tcp 884 mountd</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100003 2 udp 2049 nfs</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100003 3 udp 2049 nfs</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100003 2 tcp 2049 nfs</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100003 3 tcp 2049 nfs</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100024 1 udp 644 status</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100024 1 tcp 918 status</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 0 udp 630
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 1 udp 630
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 3 udp 630
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 4 udp 630
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 0 tcp 917
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 1 tcp 917
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 3 tcp 917
  nlockmgr</code></div>
<div class="Bd Bd-indent"><code class="Li"> 100021 4 tcp 917
  nlockmgr</code></div>
<p class="Pp">The following error:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">mount_nfs: can't resolve
  host</code></div>
<p class="Pp">indicates that <code class="Nm">mount_nfs</code> could not resolve
    the name of the remote host.</p>
<p class="Pp">The following error:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent">mount_nfs: can't mount &lt;dst-path&gt; from
  &lt;dst-ip&gt; onto &lt;local-path&gt;: RPC prog. not avail</div>
<p class="Pp">In case the remote host is not running rpc.statd and the client is
    mounting the NFS directory with remote locks (enabled by default),
    <code class="Nm">mount_nfs</code> should fail with EPROGUNAVAIL. rpc.statd
    status can be verified using rpcinfo (see above).</p>
<p class="Pp">The following warning:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent">mount_nfs: wsize/rsize ratio is high: this could end
  up with unexpected readahead RPCs</div>
<p class="Pp">indicates that provided <code class="Cm">wsize</code> is much
    greater than <code class="Cm">rsize.</code> which could end up with a
    different amount of <code class="Cm">readahead</code> RPCs compared to the
    amount requested by the user.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">mount(2)</a>, <a class="Xr">unmount(2)</a>,
    <a class="Xr">mount(8)</a>, <a class="Xr">umount(8)</a>,
    <a class="Xr">nfsstat(1)</a>, <a class="Xr">netstat(1)</a>,
    <a class="Xr">rpcinfo(8)</a>, <a class="Xr">showmount(8)</a>,
    <a class="Xr">automount(8)</a>, <a class="Xr">nfs.conf(5)</a>,
    <a class="Xr">nfs(5)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
<p class="Pp">An NFS server shouldn't loopback-mount its own exported file
    systems because it's fundamentally prone to deadlock.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 28, 2010</td>
    <td class="foot-os">Mac OS X 12</td>
  </tr>
</table>
</body>
</html>
