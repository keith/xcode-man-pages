<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Algorithm::C3(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Algorithm::C3(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Algorithm::C3(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Algorithm::C3 - A module for merging hierarchies using the C3 algorithm
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Algorithm::C3;

  # merging a classic diamond
  # inheritance graph like this:
  #
  #    &lt;A&gt;
  #   /   \
  # &lt;B&gt;   &lt;C&gt;
  #   \   /
  #    &lt;D&gt;

  my @merged = Algorithm::C3::merge(
      'D',
      sub {
          # extract the ISA array
          # from the package
          no strict 'refs';
          @{$_[0] . '::ISA'};
      }
  );

  print join &quot;, &quot; =&gt; @merged; # prints D, B, C, A
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module implements the C3 algorithm. I have broken this out into it's own
  module because I found myself copying and pasting it way too often for various
  needs. Most of the uses I have for C3 revolve around class building and
  metamodels, but it could also be used for things like dependency resolution as
  well since it tends to do such a nice job of preserving local precedence
  orderings.
<p class="Pp">Below is a brief explanation of C3 taken from the Class::C3
    module. For more detailed information, see the &quot;SEE ALSO&quot; section
    and the links there.</p>
<section class="Ss">
<h2 class="Ss" id="What_is_C3?"><a class="permalink" href="#What_is_C3?">What is
  C3?</a></h2>
C3 is the name of an algorithm which aims to provide a sane method resolution
  order under multiple inheritance. It was first introduced in the language
  Dylan (see links in the &quot;SEE ALSO&quot; section), and then later adopted
  as the preferred MRO (Method Resolution Order) for the new-style classes in
  Python 2.3. Most recently it has been adopted as the 'canonical' MRO for Perl
  6 classes, and the default MRO for Parrot objects as well.
</section>
<section class="Ss">
<h2 class="Ss" id="How_does_C3_work."><a class="permalink" href="#How_does_C3_work.">How
  does C3 work.</a></h2>
C3 works by always preserving local precedence ordering. This essentially means
  that no class will appear before any of it's subclasses. Take the classic
  diamond inheritance pattern for instance:
<p class="Pp"><span class="Li"></span></p>
<pre>
     &lt;A&gt;
    /   \
  &lt;B&gt;   &lt;C&gt;
    \   /
     &lt;D&gt;
</pre>
<p class="Pp">The standard Perl 5 MRO would be (D, B, A, C). The result being
    that <b>A</b> appears before <b>C</b>, even though <b>C</b> is the subclass
    of <b>A</b>. The C3 MRO algorithm however, produces the following MRO (D, B,
    C, A), which does not have this same issue.</p>
<p class="Pp">This example is fairly trivial, for more complex examples and a
    deeper explanation, see the links in the &quot;SEE ALSO&quot; section.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTION"><a class="permalink" href="#FUNCTION">FUNCTION</a></h1>
<dl class="Bl-tag">
  <dt><b>merge ($root, </b><b>$func_to_fetch_parent</b><b>,
    </b><b>$cache</b><b>)</b></dt>
  <dd>This takes a <span class="Li">$root</span> node, which can be anything
      really it is up to you. Then it takes a
      <span class="Li">$func_to_fetch_parent</span> which can be either a CODE
      reference (see SYNOPSIS above for an example), or a string containing a
      method name to be called on all the items being linearized. An example of
      how this might look is below:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  {
      package A;

      sub supers {
          no strict 'refs';
          @{$_[0] . '::ISA'};
      }

      package C;
      our @ISA = ('A');
      package B;
      our @ISA = ('A');
      package D;
      our @ISA = ('B', 'C');
  }

  print join &quot;, &quot; =&gt; Algorithm::C3::merge('D', 'supers');
    </pre>
    <p class="Pp">The purpose of <span class="Li">$func_to_fetch_parent</span>
        is to provide a way for <span class="Li">&quot;merge&quot;</span> to
        extract the parents of <span class="Li">$root</span>. This is needed for
        C3 to be able to do it's work.</p>
    <p class="Pp">The <span class="Li">$cache</span> parameter is an entirely
        optional performance measure, and should not change behavior.</p>
    <p class="Pp">If supplied, it should be a hashref that merge can use as a
        private cache between runs to speed things up. Generally speaking, if
        you will be calling merge many times on related things, and the parent
        fetching function will return constant results given the same arguments
        during all of these calls, you can and should reuse the same shared
        cache hash for all of the calls. Example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub do_some_merging {
      my %merge_cache;
      my @foo_mro = Algorithm::C3::Merge('Foo', \&amp;get_supers, \%merge_cache);
      my @bar_mro = Algorithm::C3::Merge('Bar', \&amp;get_supers, \%merge_cache);
      my @baz_mro = Algorithm::C3::Merge('Baz', \&amp;get_supers, \%merge_cache);
      my @quux_mro = Algorithm::C3::Merge('Quux', \&amp;get_supers, \%merge_cache);
      # ...
  }
    </pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="CODE_COVERAGE"><a class="permalink" href="#CODE_COVERAGE">CODE
  COVERAGE</a></h1>
I use <b>Devel::Cover</b> to test the code coverage of my tests, below is the
  <b>Devel::Cover</b> report on this module's test suite.
<p class="Pp"><span class="Li"></span></p>
<pre>
 ------------------------ ------ ------ ------ ------ ------ ------ ------
 File                       stmt   bran   cond    sub    pod   time  total
 ------------------------ ------ ------ ------ ------ ------ ------ ------
 Algorithm/C3.pm           100.0  100.0  100.0  100.0  100.0  100.0  100.0
 ------------------------ ------ ------ ------ ------ ------ ------ ------
 Total                     100.0  100.0  100.0  100.0  100.0  100.0  100.0
 ------------------------ ------ ------ ------ ------ ------ ------ ------
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<section class="Ss">
<h2 class="Ss" id="The_original_Dylan_paper"><a class="permalink" href="#The_original_Dylan_paper">The
  original Dylan paper</a></h2>
<dl class="Bl-tag">
  <dt>&lt;http://www.webcom.com/haahr/dylan/linearization-oopsla96.html&gt;</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="The_prototype_Perl_6_Object_Model_uses_C3"><a class="permalink" href="#The_prototype_Perl_6_Object_Model_uses_C3">The
  prototype Perl 6 Object Model uses C3</a></h2>
<dl class="Bl-tag">
  <dt>&lt;http://svn.openfoundry.org/pugs/perl5/Perl6-MetaModel/&gt;</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Parrot_now_uses_C3"><a class="permalink" href="#Parrot_now_uses_C3">Parrot
  now uses C3</a></h2>
<dl class="Bl-tag">
  <dt>&lt;http://aspn.activestate.com/ASPN/Mail/Message/perl6-internals/2746631&gt;</dt>
  <dd></dd>
  <dt>&lt;http://use.perl.org/~autrijus/journal/25768&gt;</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Python_2.3__s-1MRO_s0_related_links"><a class="permalink" href="#Python_2.3__s-1MRO_s0_related_links">Python
  2.3 MRO related links</a></h2>
<dl class="Bl-tag">
  <dt>&lt;http://www.python.org/2.3/mro.html&gt;</dt>
  <dd></dd>
  <dt>&lt;http://www.python.org/2.2.2/descrintro.html#mro&gt;</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="C3_for_TinyCLOS"><a class="permalink" href="#C3_for_TinyCLOS">C3
  for TinyCLOS</a></h2>
<dl class="Bl-tag">
  <dt>&lt;http://www.call-with-current-continuation.org/eggs/c3.html&gt;</dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
Stevan Little, &lt;stevan@iinteractive.com&gt;
<p class="Pp">Brandon L. Black, &lt;blblack@gmail.com&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
Copyright 2006 by Infinity Interactive, Inc.
<p class="Pp">&lt;http://www.iinteractive.com&gt;</p>
<p class="Pp">This library is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-08-16</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
