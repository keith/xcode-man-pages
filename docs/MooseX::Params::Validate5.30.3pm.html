<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>MooseX::Params::Validate(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MooseX::Params::Validate(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">MooseX::Params::Validate(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
MooseX::Params::Validate - an extension of Params::Validate using Moose's types
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 0.21
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  package Foo;
  use Moose;
  use MooseX::Params::Validate;

  sub foo {
      my ( $self, %params ) = validated_hash(
          \@_,
          bar =&gt; { isa =&gt; 'Str', default =&gt; 'Moose' },
      );
      return &quot;Hooray for $params{bar}!&quot;;
  }

  sub bar {
      my $self = shift;
      my ( $foo, $baz, $gorch ) = validated_list(
          \@_,
          foo   =&gt; { isa =&gt; 'Foo' },
          baz   =&gt; { isa =&gt; 'ArrayRef | HashRef', optional =&gt; 1 },
          gorch =&gt; { isa =&gt; 'ArrayRef[Int]', optional =&gt; 1 }
      );
      [ $foo, $baz, $gorch ];
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module fills a gap in Moose by adding method parameter validation to Moose.
  This is just one of many developing options, it should not be considered the
  &quot;official&quot; one by any means though.
<p class="Pp">You might also want to explore
    <span class="Li">&quot;MooseX::Method::Signatures&quot;</span> and
    <span class="Li">&quot;MooseX::Declare&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
It is not possible to introspect the method parameter specs; they are created as
  needed when the method is called and cached for subsequent calls.
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORTS"><a class="permalink" href="#EXPORTS">EXPORTS</a></h1>
<dl class="Bl-tag">
  <dt><b>validated_hash( \@_, </b><b>%parameter_spec</b><b> )</b></dt>
  <dd>This behaves similarly to the standard Params::Validate
      <span class="Li">&quot;validate&quot;</span> function and returns the
      captured values in a HASH. The one exception is where if it spots an
      instance in the <span class="Li">@_</span>, then it will handle it
      appropriately (unlike Params::Validate which forces you to shift you
      <span class="Li">$self</span> first).
    <p class="Pp">The values in <span class="Li">@_</span> can either be a set
        of name-value pairs or a single hash reference.</p>
    <p class="Pp">The <span class="Li">%parameter_spec</span> accepts the
        following options:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><i>isa</i></dt>
  <dd>The <span class="Li">&quot;isa&quot;</span> option can be either; class
      name, Moose type constraint name or an anon Moose type constraint.</dd>
  <dt><i>does</i></dt>
  <dd>The <span class="Li">&quot;does&quot;</span> option can be either; role
      name or an anon Moose type constraint.</dd>
  <dt><i>default</i></dt>
  <dd>This is the default value to be used if the value is not supplied.</dd>
  <dt><i>optional</i></dt>
  <dd>As with Params::Validate, all options are considered required unless
      otherwise specified. This option is passed directly to
    Params::Validate.</dd>
  <dt><i>coerce</i></dt>
  <dd>If this is true and the parameter has a type constraint which has
      coercions, then the coercion will be called for this parameter. If the
      type does have coercions, then this parameter is ignored.</dd>
  <dt><i>depends</i></dt>
  <dd>Another parameter that this one depends on. See the Params::Validate
      documentation for more details.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">This function is also available under its old name,
    <span class="Li">&quot;validate&quot;</span>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>validated_list( \@_, </b><b>%parameter_spec</b><b> )</b></dt>
  <dd>The <span class="Li">%parameter_spec</span> accepts the same options as
      above, but returns the parameters as positional values instead of a HASH.
      This is best explained by example:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub foo {
      my ( $self, $foo, $bar ) = validated_list(
          \@_,
          foo =&gt; { isa =&gt; 'Foo' },
          bar =&gt; { isa =&gt; 'Bar' },
      );
      $foo-&gt;baz($bar);
  }
    </pre>
    <p class="Pp">We capture the order in which you defined the parameters and
        then return them as a list in the same order. If a param is marked
        optional and not included, then it will be set to
        <span class="Li">&quot;undef&quot;</span>.</p>
    <p class="Pp">The values in <span class="Li">@_</span> can either be a set
        of name-value pairs or a single hash reference.</p>
    <p class="Pp">Like <span class="Li">&quot;validated_hash&quot;</span>, if it
        spots an object instance as the first parameter of
        <span class="Li">@_</span>, it will handle it appropriately, returning
        it as the first argument.</p>
    <p class="Pp">This function is also available under its old name,
        <span class="Li">&quot;validatep&quot;</span>.</p>
  </dd>
  <dt><b>pos_validated_list( \@_, </b><b>$spec</b><b>, </b><b>$spec</b><b>, ...
    )</b></dt>
  <dd>This function validates a list of positional parameters. Each
      <span class="Li">$spec</span> should validate one of the parameters in the
      list:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub foo {
      my $self = shift;
      my ( $foo, $bar ) = pos_validated_list(
          \@_,
          { isa =&gt; 'Foo' },
          { isa =&gt; 'Bar' },
      );

      ...
  }
    </pre>
    <p class="Pp">Unlike the other functions, this function <i>cannot</i> find
        <span class="Li">$self</span> in the argument list. Make sure to shift
        it off yourself before doing validation.</p>
    <p class="Pp">The values in <span class="Li">@_</span> must be a list of
        values. You cannot pass the values as an array reference, because this
        cannot be distinguished from passing one value which is itself an array
        reference.</p>
    <p class="Pp">If a parameter is marked as optional and is not present, it
        will simply not be returned.</p>
    <p class="Pp">If you want to pass in any of the cache control parameters
        described below, simply pass them after the list of parameter validation
        specs:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub foo {
      my $self = shift;
      my ( $foo, $bar ) = pos_validated_list(
          \@_,
          { isa =&gt; 'Foo' },
          { isa =&gt; 'Bar' },
          MX_PARAMS_VALIDATE_NO_CACHE =&gt; 1,
      );

      ...
  }
    </pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXCEPTION_FOR_FAILED_VALIDATION"><a class="permalink" href="#EXCEPTION_FOR_FAILED_VALIDATION">EXCEPTION
  FOR FAILED VALIDATION</a></h1>
If a type constraint check for a parameter fails, then the error is thrown as a
  MooseX::Params::Validate::Exception::ValidationFailedForTypeConstraint object.
  When stringified, this object will use the error message generated by the type
  constraint that failed.
<p class="Pp">Other errors are simply percolated up from Params::Validate as-is,
    and are not turned into exception objects. This may change in the future (or
    more likely, Params::Validate may start throwing objects of its own).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ALLOWING_EXTRA_PARAMETERS"><a class="permalink" href="#ALLOWING_EXTRA_PARAMETERS">ALLOWING
  EXTRA PARAMETERS</a></h1>
By default, any parameters not mentioned in the parameter spec cause this module
  to throw an error. However, you can have this module simply ignore them by
  setting <span class="Li">&quot;MX_PARAMS_VALIDATE_ALLOW_EXTRA&quot;</span> to
  a true value when calling a validation subroutine.
<p class="Pp">When calling <span class="Li">&quot;validated_hash&quot;</span> or
    <span class="Li">&quot;pos_validated_list&quot;</span> the extra parameters
    are simply returned in the hash or list as appropriate. However, when you
    call <span class="Li">&quot;validated_list&quot;</span> the extra parameters
    will not be returned at all. You can get them by looking at the original
    value of <span class="Li">@_</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORTS_2"><a class="permalink" href="#EXPORTS_2">EXPORTS</a></h1>
By default, this module exports the
  <span class="Li">&quot;validated_hash&quot;</span>,
  <span class="Li">&quot;validated_list&quot;</span>, and
  <span class="Li">&quot;pos_validated_list&quot;</span>.
<p class="Pp">If you would prefer to import the now deprecated functions
    <span class="Li">&quot;validate&quot;</span> and
    <span class="Li">&quot;validatep&quot;</span> instead, you can use the
    <span class="Li">&quot;:deprecated&quot;</span> tag to import them.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="IMPORTANT_NOTE_ON_CACHING"><a class="permalink" href="#IMPORTANT_NOTE_ON_CACHING">IMPORTANT
  NOTE ON CACHING</a></h1>
When a validation subroutine is called the first time, the parameter spec is
  prepared and cached to avoid unnecessary regeneration. It uses the fully
  qualified name of the subroutine (package + subname) as the cache key. In
  99.999% of the use cases for this module, that will be the right thing to do.
<p class="Pp">However, I have (ab)used this module occasionally to handle
    dynamic sets of parameters. In this special use case you can do a couple
    things to better control the caching behavior.</p>
<ul class="Bl-bullet">
  <li>Passing in the
      <span class="Li">&quot;MX_PARAMS_VALIDATE_NO_CACHE&quot;</span> flag in
      the parameter spec this will prevent the parameter spec from being cached.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub foo {
      my ( $self, %params ) = validated_hash(
          \@_,
          foo                         =&gt; { isa =&gt; 'Foo' },
          MX_PARAMS_VALIDATE_NO_CACHE =&gt; 1,
      );

  }
    </pre>
  </li>
  <li>Passing in
      <span class="Li">&quot;MX_PARAMS_VALIDATE_CACHE_KEY&quot;</span> with a
      value to be used as the cache key will bypass the normal cache key
      generation.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub foo {
      my ( $self, %params ) = validated_hash(
          \@_,
          foo                          =&gt; { isa =&gt; 'Foo' },
          MX_PARAMS_VALIDATE_CACHE_KEY =&gt; 'foo-42',
      );

  }
    </pre>
  </li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="MAINTAINER"><a class="permalink" href="#MAINTAINER">MAINTAINER</a></h1>
Dave Rolsky &lt;autarch@urth.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
Please submit bugs to the CPAN RT system at
  http://rt.cpan.org/NoAuth/ReportBug.html?Queue=moosex-params-validate or via
  email at bug-moosex-params-validate@rt.cpan.org.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>Stevan Little &lt;stevan@cpan.org&gt;</li>
  <li>Dave Rolsky &lt;autarch@urth.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Dagfinn Ilmari Manns&#x00E5;ker &lt;ilmari@ilmari.org&gt;</li>
  <li>Hans Staugaard &lt;h.staugaard@tweakker.com&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is copyright (c) 2013 - 2015 by Stevan Little
  &lt;stevan@cpan.org&gt;.
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-02-08</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
