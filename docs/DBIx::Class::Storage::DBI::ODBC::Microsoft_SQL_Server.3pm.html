<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>DBIx::Class::Storage::DBI::ODBC::Microsoft_SQL_Server(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DBIx::Class::Storage::DBI::ODBC::Microsoft_SQL_Server(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DBIx::Class::Storage::DBI::ODBC::Microsoft_SQL_Server(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">DBIx::Class::Storage::DBI::ODBC::Microsoft_SQL_Server - Support
    specific to Microsoft SQL Server over ODBC</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This class implements support specific to Microsoft SQL Server
    over ODBC. It is loaded automatically by DBIx::Class::Storage::DBI::ODBC
    when it detects a MSSQL back-end.</p>
<p class="Pp">Most of the functionality is provided from the superclass
    DBIx::Class::Storage::DBI::MSSQL.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE_NOTES"><a class="permalink" href="#USAGE_NOTES">USAGE
  NOTES</a></h1>
<section class="Ss">
<h2 class="Ss" id="Basic_Linux_Setup_(Debian)"><a class="permalink" href="#Basic_Linux_Setup_(Debian)">Basic
  Linux Setup (Debian)</a></h2>
<pre>  sudo aptitude install tdsodbc libdbd-odbc-perl unixodbc
</pre>
<p class="Pp">In case it is not already there put the following (adjust for
    non-64bit arch) in
  <span class="Li">&quot;/etc/odbcinst.ini&quot;</span>:</p>
<p class="Pp"></p>
<pre>  [FreeTDS]
  Description = FreeTDS
  Driver      = /usr/lib/x86_64-linux-gnu/odbc/libtdsodbc.so
  Setup       = /usr/lib/x86_64-linux-gnu/odbc/libtdsS.so
  UsageCount  = 1
</pre>
<p class="Pp">Set your <span class="Li">$dsn</span> in connect_info as
  follows:</p>
<p class="Pp"></p>
<pre>  dbi:ODBC:server=&lt;my.host.name&gt;;port=1433;driver=FreeTDS;tds_version=8.0
</pre>
<p class="Pp">If you use the EasySoft driver
  (&lt;http://www.easysoft.com&gt;):</p>
<p class="Pp"></p>
<pre>  dbi:ODBC:server=&lt;my.host.name&gt;;port=1433;driver=Easysoft ODBC-SQL Server
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Basic_Windows_Setup"><a class="permalink" href="#Basic_Windows_Setup">Basic
  Windows Setup</a></h2>
<p class="Pp">Use the following <span class="Li">$dsn</span> for the Microsoft
    ODBC driver:</p>
<p class="Pp"></p>
<pre>  dbi:ODBC:driver={SQL Server};server=SERVER\SQL_SERVER_INSTANCE_NAME
</pre>
<p class="Pp">And for the Native Client:</p>
<p class="Pp"></p>
<pre>  dbi:ODBC:driver={SQL Server Native Client 10.0};server=SERVER\SQL_SERVER_INSTANCE_NAME
</pre>
<p class="Pp">Go into Control Panel -&gt; System and Security -&gt;
    Administrative Tools -&gt; Data Sources (ODBC) to check driver names and to
    set up data sources.</p>
<p class="Pp">Use System DSNs, not User DSNs if you want to use DSNs.</p>
<p class="Pp">If you set up a DSN, use the following
    <span class="Li">$dsn</span> for connect_info:</p>
<p class="Pp"></p>
<pre>  dbi:ODBC:dsn=MY_DSN
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="MULTIPLE_ACTIVE_STATEMENTS"><a class="permalink" href="#MULTIPLE_ACTIVE_STATEMENTS">MULTIPLE
  ACTIVE STATEMENTS</a></h1>
<p class="Pp">The following options are alternative ways to enable concurrent
    executing statement support. Each has its own advantages and drawbacks and
    works on different platforms. Read each section carefully.</p>
<p class="Pp">For more details about using MAS in MSSQL over DBD::ODBC see this
    excellent document provided by EasySoft:
    &lt;http://www.easysoft.com/developer/languages/perl/multiple-active-statements.html&gt;.</p>
<p class="Pp">In order of preference, they are:</p>
<ul class="Bl-bullet">
  <li>mars</li>
  <li>dynamic_cursors</li>
  <li>server_cursors</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="connect_call_use_mars"><a class="permalink" href="#connect_call_use_mars">connect_call_use_mars</a></h2>
<p class="Pp">Use as:</p>
<p class="Pp"></p>
<pre>  on_connect_call =&gt; 'use_mars'
</pre>
<p class="Pp">in your connection info, or alternatively specify it directly:</p>
<p class="Pp"></p>
<pre>  Your::Schema-&gt;connect (
    $original_dsn . '; MARS_Connection=Yes',
    $user,
    $pass,
    \%attrs,
  )
</pre>
<p class="Pp">Use to enable a feature of SQL Server 2005 and later,
    &quot;Multiple Active Result Sets&quot;. See &quot;Does DBD::ODBC support
    Multiple Active Statements?&quot; in DBD::ODBC::FAQ for more
  information.</p>
<p class="Pp">This does not work on FreeTDS drivers at the time of this writing,
    and only works with the Native Client, later versions of the Windows MS ODBC
    driver, and the Easysoft driver.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="connect_call_use_dynamic_cursors"><a class="permalink" href="#connect_call_use_dynamic_cursors">connect_call_use_dynamic_cursors</a></h2>
<p class="Pp">Use as:</p>
<p class="Pp"></p>
<pre>  on_connect_call =&gt; 'use_dynamic_cursors'
</pre>
<p class="Pp">Which will add <span class="Li">&quot;odbc_cursortype =&gt;
    2&quot;</span> to your DBI connection attributes, or alternatively specify
    the necessary flag directly:</p>
<p class="Pp"></p>
<pre>  Your::Schema-&gt;connect (@dsn, { ... odbc_cursortype =&gt; 2 })
</pre>
<p class="Pp">See &quot;odbc_cursortype&quot; in DBD::ODBC for more
  information.</p>
<p class="Pp">If you're using FreeTDS,
    <span class="Li">&quot;tds_version&quot;</span> must be set to at least
    <span class="Li">8.0</span>.</p>
<p class="Pp">This will not work with CODE ref connect_info's.</p>
<p class="Pp"><b>WARNING:</b> on FreeTDS (and maybe some other drivers) this
    will break <span class="Li">&quot;SCOPE_IDENTITY()&quot;</span>, and
    <span class="Li">&quot;SELECT @@IDENTITY&quot;</span> will be used instead,
    which on SQL Server 2005 and later will return erroneous results on tables
    which have an on insert trigger that inserts into another table with an
    <span class="Li">&quot;IDENTITY&quot;</span> column.</p>
<p class="Pp"><b>WARNING:</b> on FreeTDS, changes made in one statement (e.g. an
    insert) may not be visible from a following statement (e.g. a select.)</p>
<p class="Pp"><b>WARNING:</b> FreeTDS versions &gt; 0.82 seem to have completely
    broken the ODBC protocol. DBIC will not allow dynamic cursor support with
    such versions to protect your data. Please hassle the authors of FreeTDS to
    act on the bugs that make their driver not overly usable with DBD::ODBC.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="connect_call_use_server_cursors"><a class="permalink" href="#connect_call_use_server_cursors">connect_call_use_server_cursors</a></h2>
<p class="Pp">Use as:</p>
<p class="Pp"></p>
<pre>  on_connect_call =&gt; 'use_server_cursors'
</pre>
<p class="Pp">May allow multiple active select statements. See
    &quot;odbc_SQL_ROWSET_SIZE&quot; in DBD::ODBC for more information.</p>
<p class="Pp">Takes an optional parameter for the value to set the attribute to,
    default is <span class="Li">2</span>.</p>
<p class="Pp"><b>WARNING</b>: this does not work on all versions of SQL Server,
    and may lock up your database!</p>
<p class="Pp">At the time of writing, this option only works on Microsoft's
    Windows drivers, later versions of the ODBC driver and the Native Client
    driver.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FURTHER_QUESTIONS?"><a class="permalink" href="#FURTHER_QUESTIONS?">FURTHER
  QUESTIONS?</a></h1>
<p class="Pp">Check the list of additional DBIC resources.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This module is free software copyright by the DBIx::Class (DBIC)
    authors. You can redistribute it and/or modify it under the same terms as
    the DBIx::Class library.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-01-29</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
