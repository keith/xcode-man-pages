<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from CURLMOPT_MAX_HOST_CONNECTIONS.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>CURLMOPT_MAX_HOST_CONNECTIONS(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLMOPT_MAX_HOST_CONNECTIONS(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CURLMOPT_MAX_HOST_CONNECTIONS(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLMOPT_MAX_HOST_CONNECTIONS - max number of connections to a
    single host</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLMcode curl_multi_setopt(CURLM *handle, CURLMOPT_MAX_HOST_CONNECTIONS,
<br/>
                            long max);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Pass a long to indicate <b>max</b>. The set number is used as the
    maximum amount of simultaneously open connections to a single host (a host
    being the same as a hostname + port number pair). For each new session to a
    host, libcurl might open a new connection up to the limit set by
    <i>CURLMOPT_MAX_HOST_CONNECTIONS(3)</i>. When the limit is reached, new
    sessions are kept pending until a connection becomes available.</p>
<p class="Pp">The default <b>max</b> value is 0, unlimited. This set limit is
    also used for proxy connections, and then the proxy is considered to be the
    host for which this limit counts.</p>
<p class="Pp">When more transfers are added to the multi handle than what can be
    performed due to the set limit, they are queued up waiting for their chance.
    When that happens, the <i>CURLOPT_TIMEOUT_MS(3)</i> timeout is inclusive of
    the waiting time, meaning that if you set a too narrow timeout in such a
    case the transfer might never even start before it times out.</p>
<p class="Pp">Even in the queued up situation, the
    <i>CURLOPT_CONNECTTIMEOUT_MS(3)</i> timeout is however treated as a
    per-connect timeout.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">HTTP(S)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
<br/>
  CURLM *m = curl_multi_init();
<br/>
  /* do no more than 2 connections per host */
<br/>
  curl_multi_setopt(m, CURLMOPT_MAX_HOST_CONNECTIONS, 2L);
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Added in 7.30.0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLM_OK if the option is supported, and
    CURLM_UNKNOWN_OPTION if not.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLMOPT_MAXCONNECTS</b>(3),
    <b>CURLMOPT_MAX_TOTAL_CONNECTIONS</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 26, 2023</td>
    <td class="foot-os">ibcurl 8.4.0</td>
  </tr>
</table>
</body>
</html>
