<!DOCTYPE html>
<html>
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>dscacheutil(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dscacheutil(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">dscacheutil(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">dscacheutil</code> &#x2014;
<div class="Nd">gather information, statistics and initiate queries to the
  Directory Service cache.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">dscacheutil</code></td>
    <td><code class="Fl">-h</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">dscacheutil</code></td>
    <td><code class="Fl">-q</code> <var class="Ar">category</var>
      [<code class="Fl">-a</code> <var class="Ar">key</var>
      <var class="Ar">value</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">dscacheutil</code></td>
    <td><code class="Fl">-cachedump</code> [<code class="Fl">-buckets</code>]
      [<code class="Fl">-entries</code> [<var class="Ar">category</var>]]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">dscacheutil</code></td>
    <td><code class="Fl">-configuration</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">dscacheutil</code></td>
    <td><code class="Fl">-flushcache</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">dscacheutil</code></td>
    <td><code class="Fl">-statistics</code></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">dscacheutil</code> does various operations against the
  Directory Service cache including gathering statistics, initiating lookups,
  inspection, cache flush, etc. This tool replaces most of the functionality of
  the lookupd tool previously available in the OS.
</section>
<section class="Sh">
<h1 class="Sh" id="FLAGS"><a class="permalink" href="#FLAGS">FLAGS</a></h1>
A list of flags and their descriptions:
<dl class="Bl-tag">
  <dt><a class="permalink" href="#h"><code class="Fl" id="h">-h</code></a></dt>
  <dd>Lists the options for calling <code class="Nm">dscacheutil</code></dd>
  <dt><a class="permalink" href="#q"><code class="Fl" id="q">-q</code></a>
    <var class="Ar">category</var></dt>
  <dd>Initiate a query using standard calls. These calls will either return
      results from the cache or go fetch live data and place them in the cache.
      By default if no specific query is requested via
      <code class="Fl">-a</code> then all results within that category will be
      returned.</dd>
  <dt><a class="permalink" href="#a"><code class="Fl" id="a">-a</code></a>
    <var class="Ar">key</var> <var class="Ar">value</var></dt>
  <dd>Optional flag to <code class="Fl">-q</code> for a specific key with a
      value.</dd>
  <dt><a class="permalink" href="#cachedump"><code class="Fl" id="cachedump">-cachedump</code></a></dt>
  <dd>Dumps an overview of the cache by default. Additional flags will provide
      more detailed information.</dd>
  <dt><a class="permalink" href="#buckets"><code class="Fl" id="buckets">-buckets</code></a></dt>
  <dd>Used in conjunction with <code class="Fl">-cachedump</code> to also print
      hash bucket usage of the current cache.</dd>
  <dt><a class="permalink" href="#entries"><code class="Fl" id="entries">-entries</code></a>
    [<var class="Ar">category</var>]</dt>
  <dd>Used in conjunction with <code class="Fl">-cachedump</code> to dump
      detailed information about cache entries. An optional category can be
      supplied to only see types of interest. Dumping 'host' entries can only be
      done by administrative users.</dd>
  <dt><a class="permalink" href="#configuration"><code class="Fl" id="configuration">-configuration</code></a></dt>
  <dd>Prints current configuration information, such as the search policy from
      Directory Service and cache parameters.</dd>
  <dt><a class="permalink" href="#flushcache"><code class="Fl" id="flushcache">-flushcache</code></a></dt>
  <dd>Flushes the entire cache. This should only be used in extreme cases.
      Validation information is used within the cache along with other
      techniques to ensure the OS has valid information available to it.</dd>
  <dt><a class="permalink" href="#statistics"><code class="Fl" id="statistics">-statistics</code></a></dt>
  <dd>Prints statistics from the cache including an overview and detailed call
      statistics. Some calls are not cached but are derived from other calls
      internally. Cache hits and cache misses may not always be equal to
      external calls. For example getaddrinfo is actually a combination of
      gethostbyname with other calls internally to the cache to maximize cache
      hit rate.</dd>
</dl>
<p class="Pp">Available categories and associated keys:</p>
<dl class="Bl-tag">
  <dt><var class="Ar">group</var></dt>
  <dd>name or gid</dd>
  <dt><var class="Ar">host</var></dt>
  <dd>name or ip_address (used for both IPv6 and IPv4)</dd>
  <dt><var class="Ar">mount</var></dt>
  <dd>name</dd>
  <dt><var class="Ar">protocol</var></dt>
  <dd>name or number</dd>
  <dt><var class="Ar">rpc</var></dt>
  <dd>name or number</dd>
  <dt><var class="Ar">service</var></dt>
  <dd>name or port</dd>
  <dt><var class="Ar">user</var></dt>
  <dd>name or uid</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt>Lookup a user:</dt>
  <dd>
    <div class="Bd Bd-indent"><code class="Li">% dscacheutil -q user -a name
      jdoe</code></div>
    <div class="Bd Bd-indent"><code class="Li">name: jdoe</code></div>
    <div class="Bd Bd-indent"><code class="Li">password: ********</code></div>
    <div class="Bd Bd-indent"><code class="Li">uid: 501</code></div>
    <div class="Bd Bd-indent"><code class="Li">gid: 501</code></div>
    <div class="Bd Bd-indent"><code class="Li">dir: /Users/jdoe</code></div>
    <div class="Bd Bd-indent"><code class="Li">shell: /bin/csh</code></div>
    <div class="Bd Bd-indent"><code class="Li">gecos: John Doe</code></div>
  </dd>
  <dt>Lookup all users:</dt>
  <dd>
    <div class="Bd Bd-indent"><code class="Li">% dscacheutil -q
      user</code></div>
  </dd>
  <dt>Dump cache overview:</dt>
  <dd>
    <div class="Bd Bd-indent"><code class="Li">% dscacheutil
      -cachedump</code></div>
  </dd>
  <dt>Dump cache details with user entries:</dt>
  <dd>
    <div class="Bd Bd-indent"><code class="Li">% dscacheutil -cachedump -entries
      user</code></div>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">DirectoryService(8)</a>, <a class="Xr">dsmemberutil(1)</a>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 14, 2007</td>
    <td class="foot-os">Darwin</td>
  </tr>
</table>
</body>
</html>
