<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>DateTime(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DateTime(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DateTime(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
DateTime - A date and time object
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 1.06
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use DateTime;

  $dt = DateTime-&gt;new(
      year       =&gt; 1964,
      month      =&gt; 10,
      day        =&gt; 16,
      hour       =&gt; 16,
      minute     =&gt; 12,
      second     =&gt; 47,
      nanosecond =&gt; 500000000,
      time_zone  =&gt; 'Asia/Taipei',
  );

  $dt = DateTime-&gt;from_epoch( epoch =&gt; $epoch );
  $dt = DateTime-&gt;now; # same as ( epoch =&gt; time() )

  $year   = $dt-&gt;year;
  $month  = $dt-&gt;month;          # 1-12

  $day    = $dt-&gt;day;            # 1-31

  $dow    = $dt-&gt;day_of_week;    # 1-7 (Monday is 1)

  $hour   = $dt-&gt;hour;           # 0-23
  $minute = $dt-&gt;minute;         # 0-59

  $second = $dt-&gt;second;         # 0-61 (leap seconds!)

  $doy    = $dt-&gt;day_of_year;    # 1-366 (leap years)

  $doq    = $dt-&gt;day_of_quarter; # 1..

  $qtr    = $dt-&gt;quarter;        # 1-4

  # all of the start-at-1 methods above have corresponding start-at-0
  # methods, such as $dt-&gt;day_of_month_0, $dt-&gt;month_0 and so on

  $ymd    = $dt-&gt;ymd;           # 2002-12-06
  $ymd    = $dt-&gt;ymd('/');      # 2002/12/06

  $mdy    = $dt-&gt;mdy;           # 12-06-2002
  $mdy    = $dt-&gt;mdy('/');      # 12/06/2002

  $dmy    = $dt-&gt;dmy;           # 06-12-2002
  $dmy    = $dt-&gt;dmy('/');      # 06/12/2002

  $hms    = $dt-&gt;hms;           # 14:02:29
  $hms    = $dt-&gt;hms('!');      # 14!02!29

  $is_leap  = $dt-&gt;is_leap_year;

  # these are localizable, see Locales section
  $month_name  = $dt-&gt;month_name; # January, February, ...
  $month_abbr  = $dt-&gt;month_abbr; # Jan, Feb, ...
  $day_name    = $dt-&gt;day_name;   # Monday, Tuesday, ...
  $day_abbr    = $dt-&gt;day_abbr;   # Mon, Tue, ...

  # May not work for all possible datetime, see the docs on this
  # method for more details.
  $epoch_time  = $dt-&gt;epoch;

  $dt2 = $dt + $duration_object;

  $dt3 = $dt - $duration_object;

  $duration_object = $dt - $dt2;

  $dt-&gt;set( year =&gt; 1882 );

  $dt-&gt;set_time_zone( 'America/Chicago' );

  $dt-&gt;set_formatter( $formatter );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
DateTime is a class for the representation of date/time combinations, and is
  part of the Perl DateTime project. For details on this project please see
  &lt;http://datetime.perl.org/&gt;. The DateTime site has a FAQ which may help
  answer many &quot;how do I do X?&quot; questions. The FAQ is at
  &lt;http://datetime.perl.org/wiki/datetime/page/FAQ&gt;.
<p class="Pp">It represents the Gregorian calendar, extended backwards in time
    before its creation (in 1582). This is sometimes known as the
    &quot;proleptic Gregorian calendar&quot;. In this calendar, the first day of
    the calendar (the epoch), is the first day of year 1, which corresponds to
    the date which was (incorrectly) believed to be the birth of Jesus
  Christ.</p>
<p class="Pp">The calendar represented does have a year 0, and in that way
    differs from how dates are often written using &quot;BCE/CE&quot; or
    &quot;BC/AD&quot;.</p>
<p class="Pp">For infinite datetimes, please see the DateTime::Infinite
  module.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<section class="Ss">
<h2 class="Ss" id="0_-based_Versus_1_-based_Numbers"><a class="permalink" href="#0_-based_Versus_1_-based_Numbers">0-based
  Versus 1-based Numbers</a></h2>
The DateTime.pm module follows a simple consistent logic for determining whether
  or not a given number is 0-based or 1-based.
<p class="Pp">Month, day of month, day of week, and day of year are 1-based. Any
    method that is 1-based also has an equivalent 0-based method ending in
    &quot;_0&quot;. So for example, this class provides both
    <span class="Li">&quot;day_of_week()&quot;</span> and
    <span class="Li">&quot;day_of_week_0()&quot;</span> methods.</p>
<p class="Pp">The <span class="Li">&quot;day_of_week_0()&quot;</span> method
    still treats Monday as the first day of the week.</p>
<p class="Pp">All <i>time</i>-related numbers such as hour, minute, and second
    are 0-based.</p>
<p class="Pp">Years are neither, as they can be both positive or negative,
    unlike any other datetime component. There <i>is</i> a year 0.</p>
<p class="Pp">There is no <span class="Li">&quot;quarter_0()&quot;</span>
    method.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Error_Handling"><a class="permalink" href="#Error_Handling">Error
  Handling</a></h2>
Some errors may cause this module to die with an error string. This can only
  happen when calling constructor methods, methods that change the object, such
  as <span class="Li">&quot;set()&quot;</span>, or methods that take parameters.
  Methods that retrieve information about the object, such as
  <span class="Li">&quot;year()&quot;</span> or
  <span class="Li">&quot;epoch()&quot;</span>, will never die.
</section>
<section class="Ss">
<h2 class="Ss" id="Locales"><a class="permalink" href="#Locales">Locales</a></h2>
All the object methods which return names or abbreviations return data based on
  a locale. This is done by setting the locale when constructing a DateTime
  object. There is also a <span class="Li">&quot;DefaultLocale()&quot;</span>
  class method which may be used to set the default locale for all DateTime
  objects created. If this is not set, then &quot;en_US&quot; is used.
</section>
<section class="Ss">
<h2 class="Ss" id="Floating_DateTimes"><a class="permalink" href="#Floating_DateTimes">Floating
  DateTimes</a></h2>
The default time zone for new DateTime objects, except where stated otherwise,
  is the &quot;floating&quot; time zone. This concept comes from the iCal
  standard. A floating datetime is one which is not anchored to any particular
  time zone. In addition, floating datetimes do not include leap seconds, since
  we cannot apply them without knowing the datetime's time zone.
<p class="Pp">The results of date math and comparison between a floating
    datetime and one with a real time zone are not really valid, because one
    includes leap seconds and the other does not. Similarly, the results of
    datetime math between two floating datetimes and two datetimes with time
    zones are not really comparable.</p>
<p class="Pp">If you are planning to use any objects with a real time zone, it
    is strongly recommended that you <b>do not</b> mix these with floating
    datetimes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Math"><a class="permalink" href="#Math">Math</a></h2>
If you are going to be using doing date math, please read the section &quot;How
  DateTime Math Works&quot;.
</section>
<section class="Ss">
<h2 class="Ss" id="Time_Zone_Warnings"><a class="permalink" href="#Time_Zone_Warnings">Time
  Zone Warnings</a></h2>
Determining the local time zone for a system can be slow. If
  <span class="Li">$ENV{TZ}</span> is not set, it may involve reading a number
  of files in <i>/etc</i> or elsewhere. If you know that the local time zone
  won't change while your code is running, and you need to make many objects for
  the local time zone, it is strongly recommended that you retrieve the local
  time zone once and cache it:
<p class="Pp"><span class="Li"></span></p>
<pre>
  our $App::LocalTZ = DateTime::TimeZone-&gt;new( name =&gt; 'local' );

  ... # then everywhere else

  my $dt = DateTime-&gt;new( ..., time_zone =&gt; $App::LocalTZ );
</pre>
<p class="Pp">DateTime itself does not do this internally because local time
    zones can change, and there's no good way to determine if it's changed
    without doing all the work to look it up.</p>
<p class="Pp">Do not try to use named time zones (like
    &quot;America/Chicago&quot;) with dates very far in the future (thousands of
    years). The current implementation of
    <span class="Li">&quot;DateTime::TimeZone&quot;</span> will use a huge
    amount of memory calculating all the DST changes from now until the future
    date. Use UTC or the floating time zone and you will be safe.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
DateTime provide many methods. The documentation breaks them down into groups
  based on what they do (constructor, accessors, modifiers, etc.).
<section class="Ss">
<h2 class="Ss" id="Constructors"><a class="permalink" href="#Constructors">Constructors</a></h2>
All constructors can die when invalid parameters are given.
<p class="Pp"><i>DateTime-&gt;new( ... )</i></p>
<p class="Pp">This class method accepts parameters for each date and time
    component: &quot;year&quot;, &quot;month&quot;, &quot;day&quot;,
    &quot;hour&quot;, &quot;minute&quot;, &quot;second&quot;,
    &quot;nanosecond&quot;. It also accepts &quot;locale&quot;,
    &quot;time_zone&quot;, and &quot;formatter&quot; parameters.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year       =&gt; 1966,
      month      =&gt; 10,
      day        =&gt; 25,
      hour       =&gt; 7,
      minute     =&gt; 15,
      second     =&gt; 47,
      nanosecond =&gt; 500000000,
      time_zone  =&gt; 'America/Chicago',
  );
</pre>
<p class="Pp">DateTime validates the &quot;month&quot;, &quot;day&quot;,
    &quot;hour&quot;, &quot;minute&quot;, and &quot;second&quot;, and
    &quot;nanosecond&quot; parameters. The valid values for these parameters
    are:</p>
<ul class="Bl-bullet">
  <li>month
    <p class="Pp">An integer from 1-12.</p>
  </li>
  <li>day
    <p class="Pp">An integer from 1-31, and it must be within the valid range of
        days for the specified month.</p>
  </li>
  <li>hour
    <p class="Pp">An integer from 0-23.</p>
  </li>
  <li>minute
    <p class="Pp">An integer from 0-59.</p>
  </li>
  <li>second
    <p class="Pp">An integer from 0-61 (to allow for leap seconds). Values of 60
        or 61 are only allowed when they match actual leap seconds.</p>
  </li>
  <li>nanosecond
    <p class="Pp">An integer &gt;= 0. If this number is greater than 1 billion,
        it will be normalized into the second value for the DateTime object.</p>
  </li>
</ul>
<p class="Pp">Invalid parameter types (like an array reference) will cause the
    constructor to die.</p>
<p class="Pp">The value for seconds may be from 0 to 61, to account for leap
    seconds. If you give a value greater than 59, DateTime does check to see
    that it really matches a valid leap second.</p>
<p class="Pp">All of the parameters are optional except for &quot;year&quot;.
    The &quot;month&quot; and &quot;day&quot; parameters both default to 1,
    while the &quot;hour&quot;, &quot;minute&quot;, &quot;second&quot;, and
    &quot;nanosecond&quot; parameters all default to 0.</p>
<p class="Pp">The &quot;locale&quot; parameter should be a string matching one
    of the valid locales, or a
    <span class="Li">&quot;DateTime::Locale&quot;</span> object. See the
    DateTime::Locale documentation for details.</p>
<p class="Pp">The time_zone parameter can be either a scalar or a
    <span class="Li">&quot;DateTime::TimeZone&quot;</span> object. A string will
    simply be passed to the
    <span class="Li">&quot;DateTime::TimeZone-&gt;new&quot;</span> method as its
    &quot;name&quot; parameter. This string may be an Olson DB time zone name
    (&quot;America/Chicago&quot;), an offset string (&quot;+0630&quot;), or the
    words &quot;floating&quot; or &quot;local&quot;. See the
    <span class="Li">&quot;DateTime::TimeZone&quot;</span> documentation for
    more details.</p>
<p class="Pp">The default time zone is &quot;floating&quot;.</p>
<p class="Pp">The &quot;formatter&quot; can be either a scalar or an object, but
    the class specified by the scalar or the object must implement a
    <span class="Li">&quot;format_datetime()&quot;</span> method.</p>
<p class="Pp">Parsing Dates</p>
<p class="Pp"><b>This module does not parse dates!</b> That means there is no
    constructor to which you can pass things like &quot;March 3, 1970
    12:34&quot;.</p>
<p class="Pp">Instead, take a look at the various
    <span class="Li">&quot;DateTime::Format::*&quot;</span> modules on CPAN.
    These parse all sorts of different date formats, and you're bound to find
    something that can handle your particular needs.</p>
<p class="Pp">Ambiguous Local Times</p>
<p class="Pp">Because of Daylight Saving Time, it is possible to specify a local
    time that is ambiguous. For example, in the US in 2003, the transition from
    to saving to standard time occurred on October 26, at 02:00:00 local time.
    The local clock changed from 01:59:59 (saving time) to 01:00:00 (standard
    time). This means that the hour from 01:00:00 through 01:59:59 actually
    occurs twice, though the UTC time continues to move forward.</p>
<p class="Pp">If you specify an ambiguous time, then the latest UTC time is
    always used, in effect always choosing standard time. In this case, you can
    simply subtract an hour to the object in order to move to saving time, for
    example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  # This object represent 01:30:00 standard time
  my $dt = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 10,
      day       =&gt; 26,
      hour      =&gt; 1,
      minute    =&gt; 30,
      second    =&gt; 0,
      time_zone =&gt; 'America/Chicago',
  );

  print $dt-&gt;hms;  # prints 01:30:00

  # Now the object represent 01:30:00 saving time
  $dt-&gt;subtract( hours =&gt; 1 );

  print $dt-&gt;hms;  # still prints 01:30:00
</pre>
<p class="Pp">Alternately, you could create the object with the UTC time zone,
    and then call the <span class="Li">&quot;set_time_zone()&quot;</span> method
    to change the time zone. This is a good way to ensure that the time is not
    ambiguous.</p>
<p class="Pp">Invalid Local Times</p>
<p class="Pp">Another problem introduced by Daylight Saving Time is that certain
    local times just do not exist. For example, in the US in 2003, the
    transition from standard to saving time occurred on April 6, at the change
    to 2:00:00 local time. The local clock changes from 01:59:59 (standard time)
    to 03:00:00 (saving time). This means that there is no 02:00:00 through
    02:59:59 on April 6!</p>
<p class="Pp">Attempting to create an invalid time currently causes a fatal
    error. This may change in future version of this module.</p>
<p class="Pp"><i>DateTime-&gt;from_epoch( epoch =&gt; </i><i>$epoch</i><i>, ...
    )</i></p>
<p class="Pp">This class method can be used to construct a new DateTime object
    from an epoch time instead of components. Just as with the
    <span class="Li">&quot;new()&quot;</span> method, it accepts
    &quot;time_zone&quot;, &quot;locale&quot;, and &quot;formatter&quot;
    parameters.</p>
<p class="Pp">If the epoch value is not an integer, the part after the decimal
    will be converted to nanoseconds. This is done in order to be compatible
    with <span class="Li">&quot;Time::HiRes&quot;</span>. If the floating
    portion extends past 9 decimal places, it will be truncated to nine, so that
    1.1234567891 will become 1 second and 123,456,789 nanoseconds.</p>
<p class="Pp">By default, the returned object will be in the UTC time zone.</p>
<p class="Pp"><i>DateTime-&gt;now( ... )</i></p>
<p class="Pp">This class method is equivalent to calling
    <span class="Li">&quot;from_epoch()&quot;</span> with the value returned
    from Perl's <span class="Li">&quot;time()&quot;</span> function. Just as
    with the <span class="Li">&quot;new()&quot;</span> method, it accepts
    &quot;time_zone&quot; and &quot;locale&quot; parameters.</p>
<p class="Pp">By default, the returned object will be in the UTC time zone.</p>
<p class="Pp"><i>DateTime-&gt;today( ... )</i></p>
<p class="Pp">This class method is equivalent to:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  DateTime-&gt;now(@_)-&gt;truncate( to =&gt; 'day' );
</pre>
<p class="Pp"><i>DateTime-&gt;from_object( object =&gt; </i><i>$object</i><i>,
    ... )</i></p>
<p class="Pp">This class method can be used to construct a new DateTime object
    from any object that implements the
    <span class="Li">&quot;utc_rd_values()&quot;</span> method. All
    <span class="Li">&quot;DateTime::Calendar&quot;</span> modules must
    implement this method in order to provide cross-calendar compatibility. This
    method accepts a &quot;locale&quot; and &quot;formatter&quot; parameter</p>
<p class="Pp">If the object passed to this method has a
    <span class="Li">&quot;time_zone()&quot;</span> method, that is used to set
    the time zone of the newly created
    <span class="Li">&quot;DateTime.pm&quot;</span> object.</p>
<p class="Pp">Otherwise, the returned object will be in the floating time
  zone.</p>
<p class="Pp"><i>DateTime-&gt;last_day_of_month( ... )</i></p>
<p class="Pp">This constructor takes the same arguments as can be given to the
    <span class="Li">&quot;new()&quot;</span> method, except for
    &quot;day&quot;. Additionally, both &quot;year&quot; and &quot;month&quot;
    are required.</p>
<p class="Pp"><i>DateTime-&gt;from_day_of_year( ... )</i></p>
<p class="Pp">This constructor takes the same arguments as can be given to the
    <span class="Li">&quot;new()&quot;</span> method, except that it does not
    accept a &quot;month&quot; or &quot;day&quot; argument. Instead, it requires
    both &quot;year&quot; and &quot;day_of_year&quot;. The day of year must be
    between 1 and 366, and 366 is only allowed for leap years.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>clone()</i><i></i></p>
<p class="Pp">This object method returns a new object that is replica of the
    object upon which the method is called.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_Get__Methods"><a class="permalink" href="#_Get__Methods">&quot;Get&quot;
  Methods</a></h2>
This class has many methods for retrieving information about an object.
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>year()</i><i></i></p>
<p class="Pp">Returns the year.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>ce_year()</i><i></i></p>
<p class="Pp">Returns the year according to the BCE/CE numbering system. The
    year before year 1 in this system is year -1, aka &quot;1 BCE&quot;.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>era_name()</i><i></i></p>
<p class="Pp">Returns the long name of the current era, something like
    &quot;Before Christ&quot;. See the Locales section for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>era_abbr()</i><i></i></p>
<p class="Pp">Returns the abbreviated name of the current era, something like
    &quot;BC&quot;. See the Locales section for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>christian_era()</i><i></i></p>
<p class="Pp">Returns a string, either &quot;BC&quot; or &quot;AD&quot;,
    according to the year.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>secular_era()</i><i></i></p>
<p class="Pp">Returns a string, either &quot;BCE&quot; or &quot;CE&quot;,
    according to the year.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>year_with_era()</i><i></i></p>
<p class="Pp">Returns a string containing the year immediately followed by its
    era abbreviation. The year is the absolute value of
    <span class="Li">&quot;ce_year()&quot;</span>, so that year 1 is
    &quot;1AD&quot; and year 0 is &quot;1BC&quot;.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>year_with_christian_era()</i><i></i></p>
<p class="Pp">Like <span class="Li">&quot;year_with_era()&quot;</span>, but uses
    the <i>christian_era()</i> method to get the era name.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>year_with_secular_era()</i><i></i></p>
<p class="Pp">Like <span class="Li">&quot;year_with_era()&quot;</span>, but uses
    the <i>secular_era()</i> method to get the era name.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>month()</i><i></i></p>
<p class="Pp">Returns the month of the year, from 1..12.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;mon()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>month_name()</i><i></i></p>
<p class="Pp">Returns the name of the current month. See the Locales section for
    more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>month_abbr()</i><i></i></p>
<p class="Pp">Returns the abbreviated name of the current month. See the Locales
    section for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>day()</i><i></i></p>
<p class="Pp">Returns the day of the month, from 1..31.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;mday()&quot;</span> and
    <span class="Li">&quot;$dt-&gt;day_of_month()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>day_of_week()</i><i></i></p>
<p class="Pp">Returns the day of the week as a number, from 1..7, with 1 being
    Monday and 7 being Sunday.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;wday()&quot;</span> and
    <span class="Li">&quot;$dt-&gt;dow()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>local_day_of_week()</i><i></i></p>
<p class="Pp">Returns the day of the week as a number, from 1..7. The day
    corresponding to 1 will vary based on the locale.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>day_name()</i><i></i></p>
<p class="Pp">Returns the name of the current day of the week. See the Locales
    section for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>day_abbr()</i><i></i></p>
<p class="Pp">Returns the abbreviated name of the current day of the week. See
    the Locales section for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>day_of_year()</i><i></i></p>
<p class="Pp">Returns the day of the year.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;doy()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>quarter()</i><i></i></p>
<p class="Pp">Returns the quarter of the year, from 1..4.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>quarter_name()</i><i></i></p>
<p class="Pp">Returns the name of the current quarter. See the Locales section
    for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>quarter_abbr()</i><i></i></p>
<p class="Pp">Returns the abbreviated name of the current quarter. See the
    Locales section for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>day_of_quarter()</i><i></i></p>
<p class="Pp">Returns the day of the quarter.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;doq()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>weekday_of_month()</i><i></i></p>
<p class="Pp">Returns a number from 1..5 indicating which week day of the month
    this is. For example, June 9, 2003 is the second Monday of the month, and so
    this method returns 2 for that day.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;ymd( </i><i>$optional_separator</i><i> ),
    </i> <i>$dt</i><i>-&gt;mdy(...), </i><i>$dt</i><i>-&gt;dmy(...)</i></p>
<p class="Pp">Each method returns the year, month, and day, in the order
    indicated by the method name. Years are zero-padded to four digits. Months
    and days are 0-padded to two digits.</p>
<p class="Pp">By default, the values are separated by a dash (-), but this can
    be overridden by passing a value to the method.</p>
<p class="Pp">The <span class="Li">&quot;$dt-&gt;ymd()&quot;</span> method is
    also available as <span class="Li">&quot;$dt-&gt;date()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>hour()</i><i></i></p>
<p class="Pp">Returns the hour of the day, from 0..23.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>hour_1()</i><i></i></p>
<p class="Pp">Returns the hour of the day, from 1..24.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>hour_12()</i><i></i></p>
<p class="Pp">Returns the hour of the day, from 1..12.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>hour_12_0()</i><i></i></p>
<p class="Pp">Returns the hour of the day, from 0..11.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>am_or_pm()</i><i></i></p>
<p class="Pp">Returns the appropriate localized abbreviation, depending on the
    current hour.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>minute()</i><i></i></p>
<p class="Pp">Returns the minute of the hour, from 0..59.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;min()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>second()</i><i></i></p>
<p class="Pp">Returns the second, from 0..61. The values 60 and 61 are used for
    leap seconds.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;sec()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>fractional_second()</i><i></i></p>
<p class="Pp">Returns the second, as a real number from 0.0 until
  61.999999999</p>
<p class="Pp">The values 60 and 61 are used for leap seconds.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>millisecond()</i><i></i></p>
<p class="Pp">Returns the fractional part of the second as milliseconds (1E-3
    seconds).</p>
<p class="Pp">Half a second is 500 milliseconds.</p>
<p class="Pp">This value will always be rounded down to the nearest integer.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>microsecond()</i><i></i></p>
<p class="Pp">Returns the fractional part of the second as microseconds (1E-6
    seconds).</p>
<p class="Pp">Half a second is 500_000 microseconds.</p>
<p class="Pp">This value will always be rounded down to the nearest integer.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>nanosecond()</i><i></i></p>
<p class="Pp">Returns the fractional part of the second as nanoseconds (1E-9
    seconds).</p>
<p class="Pp">Half a second is 500_000_000 nanoseconds.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;hms( </i><i>$optional_separator</i><i>
    )</i></p>
<p class="Pp">Returns the hour, minute, and second, all zero-padded to two
    digits. If no separator is specified, a colon (:) is used by default.</p>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;time()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>datetime()</i><i></i></p>
<p class="Pp">This method is equivalent to:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $dt-&gt;ymd('-') . 'T' . $dt-&gt;hms(':')
</pre>
<p class="Pp">Also available as
    <span class="Li">&quot;$dt-&gt;iso8601()&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>is_leap_year()</i><i></i></p>
<p class="Pp">This method returns a true or false indicating whether or not the
    datetime object is in a leap year.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>week()</i><i></i></p>
<p class="Pp"><span class="Li"></span></p>
<pre>
 ($week_year, $week_number) = $dt-&gt;week;
</pre>
<p class="Pp">Returns information about the calendar week which contains this
    datetime object. The values returned by this method are also available
    separately through the week_year and week_number methods.</p>
<p class="Pp">The first week of the year is defined by ISO as the one which
    contains the fourth day of January, which is equivalent to saying that it's
    the first week to overlap the new year by at least four days.</p>
<p class="Pp">Typically the week year will be the same as the year that the
    object is in, but dates at the very beginning of a calendar year often end
    up in the last week of the prior year, and similarly, the final few days of
    the year may be placed in the first week of the next year.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>week_year()</i><i></i></p>
<p class="Pp">Returns the year of the week. See
    <span class="Li">&quot;$dt-&gt;week()&quot;</span> for details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>week_number()</i><i></i></p>
<p class="Pp">Returns the week of the year, from 1..53. See
    <span class="Li">&quot;$dt-&gt;week()&quot;</span> for details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>week_of_month()</i><i></i></p>
<p class="Pp">The week of the month, from 0..5. The first week of the month is
    the first week that contains a Thursday. This is based on the ICU definition
    of week of month, and correlates to the ISO8601 week of year definition. A
    day in the week <i>before</i> the week with the first Thursday will be week
    0.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>jd()</i><i>,
    </i><i>$dt</i><i>-&gt;</i><i>mjd()</i><i></i></p>
<p class="Pp">These return the Julian Day and Modified Julian Day, respectively.
    The value returned is a floating point number. The fractional portion of the
    number represents the time portion of the datetime.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>time_zone()</i><i></i></p>
<p class="Pp">This returns the
    <span class="Li">&quot;DateTime::TimeZone&quot;</span> object for the
    datetime object.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>offset()</i><i></i></p>
<p class="Pp">This returns the offset from UTC, in seconds, of the datetime
    object according to the time zone.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>is_dst()</i><i></i></p>
<p class="Pp">Returns a boolean indicating whether or not the datetime object is
    currently in Daylight Saving Time or not.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>time_zone_long_name()</i><i></i></p>
<p class="Pp">This is a shortcut for
    <span class="Li">&quot;$dt-&gt;time_zone-&gt;name&quot;</span>. It's
    provided so that one can use &quot;%{time_zone_long_name}&quot; as a
    strftime format specifier.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>time_zone_short_name()</i><i></i></p>
<p class="Pp">This method returns the time zone abbreviation for the current
    time zone, such as &quot;PST&quot; or &quot;GMT&quot;. These names are
    <b>not</b> definitive, and should not be used in any application intended
    for general use by users around the world.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;strftime( </i><i>$format</i><i>, ...
    )</i></p>
<p class="Pp">This method implements functionality similar to the
    <span class="Li">&quot;strftime()&quot;</span> method in C. However, if
    given multiple format strings, then it will return multiple scalars, one for
    each format string.</p>
<p class="Pp">See the &quot;strftime Patterns&quot; section for a list of all
    possible strftime patterns.</p>
<p class="Pp">If you give a pattern that doesn't exist, then it is simply
    treated as text.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;format_cldr( </i><i>$format</i><i>, ...
    )</i></p>
<p class="Pp">This method implements formatting based on the CLDR date patterns.
    If given multiple format strings, then it will return multiple scalars, one
    for each format string.</p>
<p class="Pp">See the &quot;CLDR Patterns&quot; section for a list of all
    possible CLDR patterns.</p>
<p class="Pp">If you give a pattern that doesn't exist, then it is simply
    treated as text.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>epoch()</i><i></i></p>
<p class="Pp">Return the UTC epoch value for the datetime object. Internally,
    this is implemented using <span class="Li">&quot;Time::Local&quot;</span>,
    which uses the Unix epoch even on machines with a different epoch (such as
    MacOS). Datetimes before the start of the epoch will be returned as a
    negative number.</p>
<p class="Pp">The return value from this method is always an integer.</p>
<p class="Pp">Since the epoch does not account for leap seconds, the epoch time
    for 1972-12-31T23:59:60 (UTC) is exactly the same as that for
    1973-01-01T00:00:00.</p>
<p class="Pp">This module uses <span class="Li">&quot;Time::Local&quot;</span>
    to calculate the epoch, which may or may not handle epochs before 1904 or
    after 2038 (depending on the size of your system's integers, and whether or
    not Perl was compiled with 64-bit int support).</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>hires_epoch()</i><i></i></p>
<p class="Pp">Returns the epoch as a floating point number. The floating point
    portion of the value represents the nanosecond value of the object. This
    method is provided for compatibility with the
    <span class="Li">&quot;Time::HiRes&quot;</span> module.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>is_finite()</i><i>,
    </i><i>$dt</i><i>-&gt;</i><i>is_infinite()</i><i></i></p>
<p class="Pp">These methods allow you to distinguish normal datetime objects
    from infinite ones. Infinite datetime objects are documented in
    DateTime::Infinite.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>utc_rd_values()</i><i></i></p>
<p class="Pp">Returns the current UTC Rata Die days, seconds, and nanoseconds as
    a three element list. This exists primarily to allow other calendar modules
    to create objects based on the values provided by this object.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>local_rd_values()</i><i></i></p>
<p class="Pp">Returns the current local Rata Die days, seconds, and nanoseconds
    as a three element list. This exists for the benefit of other modules which
    might want to use this information for date math, such as
    <span class="Li">&quot;DateTime::Event::Recurrence&quot;</span>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>leap_seconds()</i><i></i></p>
<p class="Pp">Returns the number of leap seconds that have happened up to the
    datetime represented by the object. For floating datetimes, this always
    returns 0.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>utc_rd_as_seconds()</i><i></i></p>
<p class="Pp">Returns the current UTC Rata Die days and seconds purely as
    seconds. This number ignores any fractional seconds stored in the object, as
    well as leap seconds.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>locale()</i><i></i></p>
<p class="Pp">Returns the current locale object.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>formatter()</i><i></i></p>
<p class="Pp">Returns current formatter object or class. See &quot;Formatters
    And Stringification&quot; for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_Set__Methods"><a class="permalink" href="#_Set__Methods">&quot;Set&quot;
  Methods</a></h2>
The remaining methods provided by
  <span class="Li">&quot;DateTime.pm&quot;</span>, except where otherwise
  specified, return the object itself, thus making method chaining possible. For
  example:
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;now-&gt;set_time_zone( 'Australia/Sydney' );

  my $first = DateTime
                -&gt;last_day_of_month( year =&gt; 2003, month =&gt; 3 )
                -&gt;add( days =&gt; 1 )
                -&gt;subtract( seconds =&gt; 1 );
</pre>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;set( .. )</i></p>
<p class="Pp">This method can be used to change the local components of a date
    time, or its locale. This method accepts any parameter allowed by the
    <span class="Li">&quot;new()&quot;</span> method except for
    &quot;time_zone&quot;. Time zones may be set using the
    <span class="Li">&quot;set_time_zone()&quot;</span> method.</p>
<p class="Pp">This method performs parameters validation just as is done in the
    <span class="Li">&quot;new()&quot;</span> method.</p>
<p class="Pp"><b>Do not use this method to do date math. Use the
    </b><b>&quot;add()&quot;</b><b> and </b><b>&quot;subtract()&quot;</b><b></b>
    <b>methods instead.</b></p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>set_year()</i><i>,
    </i><i>$dt</i><i>-&gt;</i><i>set_month()</i><i>, etc.</i></p>
<p class="Pp">DateTime has a <span class="Li">&quot;set_*&quot;</span> method
    for every item that can be passed to the constructor:</p>
<ul class="Bl-bullet">
  <li><span class="Li">$dt</span>-&gt;<i>set_year()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_month()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_day()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_hour()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_minute()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_second()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_nanosecond()</i></li>
  <li><span class="Li">$dt</span>-&gt;<i>set_locale()</i></li>
</ul>
<p class="Pp">These are shortcuts to calling
    <span class="Li">&quot;set()&quot;</span> with a single key. They all take a
    single parameter.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;truncate( to =&gt; ... )</i></p>
<p class="Pp">This method allows you to reset some of the local time components
    in the object to their &quot;zero&quot; values. The &quot;to&quot; parameter
    is used to specify which values to truncate, and it may be one of
    &quot;year&quot;, &quot;month&quot;, &quot;week&quot;,
    &quot;local_week&quot; &quot;day&quot;, &quot;hour&quot;,
    &quot;minute&quot;, or &quot;second&quot;. For example, if &quot;month&quot;
    is specified, then the local day becomes 1, and the hour, minute, and second
    all become 0.</p>
<p class="Pp">If &quot;week&quot; is given, then the datetime is set to the
    Monday of the week in which it occurs, and the time components are all set
    to 0. If you truncate to &quot;local_week&quot;, then the first day of the
    week is locale-dependent. For example, in the
    <span class="Li">&quot;en_US&quot;</span> locale, the first day of the week
    is Sunday.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;set_time_zone( </i><i>$tz</i><i>
  )</i></p>
<p class="Pp">This method accepts either a time zone object or a string that can
    be passed as the &quot;name&quot; parameter to
    <span class="Li">&quot;DateTime::TimeZone-&gt;new()&quot;</span>. If the new
    time zone's offset is different from the old time zone, then the
    <i>local</i> time is adjusted accordingly.</p>
<p class="Pp">For example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year      =&gt; 2000,
      month     =&gt; 5,
      day       =&gt; 10,
      hour      =&gt; 15,
      minute    =&gt; 15,
      time_zone =&gt; 'America/Los_Angeles',
  );

  print $dt-&gt;hour; # prints 15

  $dt-&gt;set_time_zone( 'America/Chicago' );

  print $dt-&gt;hour; # prints 17
</pre>
<p class="Pp">If the old time zone was a floating time zone, then no adjustments
    to the local time are made, except to account for leap seconds. If the new
    time zone is floating, then the <i>UTC</i> time is adjusted in order to
    leave the local time untouched.</p>
<p class="Pp">Fans of Tsai Ming-Liang's films will be happy to know that this
    does work:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;now( time_zone =&gt; 'Asia/Taipei' );

  $dt-&gt;set_time_zone( 'Europe/Paris' );
</pre>
<p class="Pp">Yes, now we can know &quot;ni3 na4 bian1 ji2dian3?&quot;</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;set_formatter( </i><i>$formatter</i><i>
    )</i></p>
<p class="Pp">Set the formatter for the object. See &quot;Formatters And
    Stringification&quot; for details.</p>
<p class="Pp">You can set this to <span class="Li">&quot;undef&quot;</span> to
    revert to the default formatter.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Math_Methods"><a class="permalink" href="#Math_Methods">Math
  Methods</a></h2>
Like the set methods, math related methods always return the object itself, to
  allow for chaining:
<p class="Pp"><span class="Li"></span></p>
<pre>
  $dt-&gt;add( days =&gt; 1 )-&gt;subtract( seconds =&gt; 1 );
</pre>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;</i><i>duration_class()</i><i></i></p>
<p class="Pp">This returns
    <span class="Li">&quot;DateTime::Duration&quot;</span>, but exists so that a
    subclass of <span class="Li">&quot;DateTime.pm&quot;</span> can provide a
    different value.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;add_duration(
    </i><i>$duration_object</i><i> )</i></p>
<p class="Pp">This method adds a
    <span class="Li">&quot;DateTime::Duration&quot;</span> to the current
    datetime. See the DateTime::Duration docs for more details.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;add( DateTime::Duration-&gt;new
    parameters )</i></p>
<p class="Pp">This method is syntactic sugar around the
    <span class="Li">&quot;add_duration()&quot;</span> method. It simply creates
    a new <span class="Li">&quot;DateTime::Duration&quot;</span> object using
    the parameters given, and then calls the
    <span class="Li">&quot;add_duration()&quot;</span> method.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;subtract_duration(
    </i><i>$duration_object</i><i> )</i></p>
<p class="Pp">When given a
    <span class="Li">&quot;DateTime::Duration&quot;</span> object, this method
    simply calls <span class="Li">&quot;invert()&quot;</span> on that object and
    passes that new duration to the
    <span class="Li">&quot;add_duration&quot;</span> method.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;subtract( DateTime::Duration-&gt;new
    parameters )</i></p>
<p class="Pp">Like <span class="Li">&quot;add()&quot;</span>, this is syntactic
    sugar for the <span class="Li">&quot;subtract_duration()&quot;</span>
    method.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;subtract_datetime(
    </i><i>$datetime</i><i> )</i></p>
<p class="Pp">This method returns a new
    <span class="Li">&quot;DateTime::Duration&quot;</span> object representing
    the difference between the two dates. The duration is <b>relative</b> to the
    object from which <span class="Li">$datetime</span> is subtracted. For
    example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    2003-03-15 00:00:00.00000000
 -  2003-02-15 00:00:00.00000000
 -------------------------------
 = 1 month
</pre>
<p class="Pp">Note that this duration is not an absolute measure of the amount
    of time between the two datetimes, because the length of a month varies, as
    well as due to the presence of leap seconds.</p>
<p class="Pp">The returned duration may have deltas for months, days, minutes,
    seconds, and nanoseconds.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;delta_md( </i><i>$datetime</i><i>
  )</i></p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;delta_days( </i><i>$datetime</i><i>
  )</i></p>
<p class="Pp">Each of these methods returns a new
    <span class="Li">&quot;DateTime::Duration&quot;</span> object representing
    some portion of the difference between two datetimes. The
    <span class="Li">&quot;delta_md()&quot;</span> method returns a duration
    which contains only the month and day portions of the duration is
    represented. The <span class="Li">&quot;delta_days()&quot;</span> method
    returns a duration which contains only days.</p>
<p class="Pp">The <span class="Li">&quot;delta_md&quot;</span> and
    <span class="Li">&quot;delta_days&quot;</span> methods truncate the duration
    so that any fractional portion of a day is ignored. Both of these methods
    operate on the date portion of a datetime only, and so effectively ignore
    the time zone.</p>
<p class="Pp">Unlike the subtraction methods, <b>these methods always return
    a</b> <b>positive (or zero) duration</b>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;delta_ms( </i><i>$datetime</i><i>
  )</i></p>
<p class="Pp">Returns a duration which contains only minutes and seconds. Any
    day and month differences to minutes are converted to minutes and seconds.
    This method also <b>always return a positive (or zero)</b>
  <b>duration</b>.</p>
<p class="Pp"><i></i><i>$dt</i><i>-&gt;subtract_datetime_absolute(
    </i><i>$datetime</i><i> )</i></p>
<p class="Pp">This method returns a new
    <span class="Li">&quot;DateTime::Duration&quot;</span> object representing
    the difference between the two dates in seconds and nanoseconds. This is the
    only way to accurately measure the absolute amount of time between two
    datetimes, since units larger than a second do not represent a fixed number
    of seconds.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Class_Methods"><a class="permalink" href="#Class_Methods">Class
  Methods</a></h2>
<i>DateTime-&gt;DefaultLocale( </i><i>$locale</i><i> )</i>
<p class="Pp">This can be used to specify the default locale to be used when
    creating DateTime objects. If unset, then &quot;en_US&quot; is used.</p>
<p class="Pp"><i>DateTime-&gt;compare( </i><i>$dt1</i><i>, </i><i>$dt2</i><i> ),
    DateTime-&gt;compare_ignore_floating( </i><i>$dt1</i><i>, </i><i>$dt2</i><i>
    )</i></p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $cmp = DateTime-&gt;compare( $dt1, $dt2 );

  $cmp = DateTime-&gt;compare_ignore_floating( $dt1, $dt2 );
</pre>
<p class="Pp">Compare two DateTime objects. The semantics are compatible with
    Perl's <span class="Li">&quot;sort()&quot;</span> function; it returns -1 if
    <span class="Li">$dt1</span> &lt; <span class="Li">$dt2</span>, 0 if
    <span class="Li">$dt1</span> == <span class="Li">$dt2</span>, 1 if
    <span class="Li">$dt1</span> &gt; <span class="Li">$dt2</span>.</p>
<p class="Pp">If one of the two DateTime objects has a floating time zone, it
    will first be converted to the time zone of the other object. This is what
    you want most of the time, but it can lead to inconsistent results when you
    compare a number of DateTime objects, some of which are floating, and some
    of which are in other time zones.</p>
<p class="Pp">If you want to have consistent results (because you want to sort a
    number of objects, for example), you can use the
    <span class="Li">&quot;compare_ignore_floating()&quot;</span> method:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  @dates = sort { DateTime-&gt;compare_ignore_floating($a, $b) } @dates;
</pre>
<p class="Pp">In this case, objects with a floating time zone will be sorted as
    if they were UTC times.</p>
<p class="Pp">Since DateTime objects overload comparison operators, this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  @dates = sort @dates;
</pre>
<p class="Pp">is equivalent to this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  @dates = sort { DateTime-&gt;compare($a, $b) } @dates;
</pre>
<p class="Pp">DateTime objects can be compared to any other calendar class that
    implements the <span class="Li">&quot;utc_rd_values()&quot;</span>
  method.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_DateTime_Math_Works"><a class="permalink" href="#How_DateTime_Math_Works">How
  DateTime Math Works</a></h2>
It's important to have some understanding of how datetime math is implemented in
  order to effectively use this module and
  <span class="Li">&quot;DateTime::Duration&quot;</span>.
<p class="Pp"><i>Making Things Simple</i></p>
<p class="Pp">If you want to simplify your life and not have to think too hard
    about the nitty-gritty of datetime math, I have several recommendations:</p>
<ul class="Bl-bullet">
  <li>use the floating time zone
    <p class="Pp">If you do not care about time zones or leap seconds, use the
        &quot;floating&quot; timezone:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $dt = DateTime-&gt;now( time_zone =&gt; 'floating' );
    </pre>
    <p class="Pp">Math done on two objects in the floating time zone produces
        very predictable results.</p>
    <p class="Pp">Note that in most cases you will want to start by creating an
        object in a specific zone and <i>then</i> convert it to the floating
        time zone. When an object goes from a real zone to the floating zone,
        the time for the object remains the same.</p>
    <p class="Pp">This means that passing the floating zone to a constructor may
        not do what you want.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $dt = DateTime-&gt;now( time_zone =&gt; 'floating' );
    </pre>
    <p class="Pp">is equivalent to</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $dt = DateTime-&gt;now( time_zone =&gt; 'UTC' )-&gt;set_time_zone('floating');
    </pre>
    <p class="Pp">This might not be what you wanted. Instead, you may prefer to
        do this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $dt = DateTime-&gt;now( time_zone =&gt; 'local' )-&gt;set_time_zone('floating');
    </pre>
  </li>
  <li>use UTC for all calculations
    <p class="Pp">If you do care about time zones (particularly DST) or leap
        seconds, try to use non-UTC time zones for presentation and user input
        only. Convert to UTC immediately and convert back to the local time zone
        for presentation:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $dt = DateTime-&gt;new( %user_input, time_zone =&gt; $user_tz );
  $dt-&gt;set_time_zone('UTC');

  # do various operations - store it, retrieve it, add, subtract, etc.

  $dt-&gt;set_time_zone($user_tz);
  print $dt-&gt;datetime;
    </pre>
  </li>
  <li>math on non-UTC time zones
    <p class="Pp">If you need to do date math on objects with non-UTC time
        zones, please read the caveats below carefully. The results
        <span class="Li">&quot;DateTime.pm&quot;</span> produces are predictable
        and correct, and mostly intuitive, but datetime math gets very ugly when
        time zones are involved, and there are a few strange corner cases
        involving subtraction of two datetimes across a DST change.</p>
    <p class="Pp">If you can always use the floating or UTC time zones, you can
        skip ahead to Leap Seconds and Date Math</p>
  </li>
  <li>date vs datetime math
    <p class="Pp">If you only care about the date (calendar) portion of a
        datetime, you should use either
        <span class="Li">&quot;delta_md()&quot;</span> or
        <span class="Li">&quot;delta_days()&quot;</span>, not
        <span class="Li">&quot;subtract_datetime()&quot;</span>. This will give
        predictable, unsurprising results, free from DST-related
      complications.</p>
  </li>
  <li><i>subtract_datetime()</i> and <i>add_duration()</i>
    <p class="Pp">You must convert your datetime objects to the UTC time zone
        before doing date math if you want to make sure that the following
        formulas are always true:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $dt2 - $dt1 = $dur
  $dt1 + $dur = $dt2
  $dt2 - $dur = $dt1
    </pre>
    <p class="Pp">Note that using <span class="Li">&quot;delta_days&quot;</span>
        ensures that this formula always works, regardless of the timezone of
        the objects involved, as does using
        <span class="Li">&quot;subtract_datetime_absolute()&quot;</span>. Other
        methods of subtraction are not always reversible.</p>
  </li>
</ul>
<p class="Pp"><i>Adding a Duration to a Datetime</i></p>
<p class="Pp">The parts of a duration can be broken down into five parts. These
    are months, days, minutes, seconds, and nanoseconds. Adding one month to a
    date is different than adding 4 weeks or 28, 29, 30, or 31 days. Similarly,
    due to DST and leap seconds, adding a day can be different than adding
    86,400 seconds, and adding a minute is not exactly the same as 60
  seconds.</p>
<p class="Pp">We cannot convert between these units, except for seconds and
    nanoseconds, because there is no fixed conversion between the two units,
    because of things like leap seconds, DST changes, etc.</p>
<p class="Pp"><span class="Li">&quot;DateTime.pm&quot;</span> always adds (or
    subtracts) days, then months, minutes, and then seconds and nanoseconds. If
    there are any boundary overflows, these are normalized at each step. For the
    days and months the local (not UTC) values are used. For minutes and
    seconds, the local values are used. This generally just works.</p>
<p class="Pp">This means that adding one month and one day to February 28, 2003
    will produce the date April 1, 2003, not March 29, 2003.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new( year =&gt; 2003, month =&gt; 2, day =&gt; 28 );

  $dt-&gt;add( months =&gt; 1, days =&gt; 1 );

  # 2003-04-01 - the result
</pre>
<p class="Pp">On the other hand, if we add months first, and then separately add
    days, we end up with March 29, 2003:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $dt-&gt;add( months =&gt; 1 )-&gt;add( days =&gt; 1 );

  # 2003-03-29
</pre>
<p class="Pp">We see similar strangeness when math crosses a DST boundary:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  $dt-&gt;add( days =&gt; 1, minutes =&gt; 3 );
  # 2003-04-06 02:01:00

  $dt-&gt;add( minutes =&gt; 3 )-&gt;add( days =&gt; 1 );
  # 2003-04-06 03:01:00
</pre>
<p class="Pp">Note that if you converted the datetime object to UTC first you
    would get predictable results.</p>
<p class="Pp">If you want to know how many seconds a duration object represents,
    you have to add it to a datetime to find out, so you could do:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
 my $now = DateTime-&gt;now( time_zone =&gt; 'UTC' );
 my $later = $now-&gt;clone-&gt;add_duration($duration);

 my $seconds_dur = $later-&gt;subtract_datetime_absolute($now);
</pre>
<p class="Pp">This returns a duration which only contains seconds and
    nanoseconds.</p>
<p class="Pp">If we were add the duration to a different datetime object we
    might get a different number of seconds.</p>
<p class="Pp">DateTime::Duration supports three different end-of-month
    algorithms for adding months. This comes into play when an addition results
    in a day past the end of the month (for example, adding one month to January
    30).</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
 # 2010-08-31 + 1 month = 2010-10-01
 $dt-&gt;add( months =&gt; 1, end_of_month =&gt; 'wrap' );

 # 2010-01-30 + 1 month = 2010-02-28
 $dt-&gt;add( months =&gt; 1, end_of_month =&gt; 'limit' );

 # 2010-04-30 + 1 month = 2010-05-31
 $dt-&gt;add( months =&gt; 1, end_of_month =&gt; 'preserve' );
</pre>
<p class="Pp">By default, it uses &quot;wrap&quot; for positive durations and
    &quot;preserve&quot; for negative durations. See DateTime::Duration for a
    detailed explanation of these algorithms.</p>
<p class="Pp">If you need to do lots of work with durations, take a look at Rick
    Measham's <span class="Li">&quot;DateTime::Format::Duration&quot;</span>
    module, which lets you present information from durations in many useful
    ways.</p>
<p class="Pp">There are other subtract/delta methods in DateTime.pm to generate
    different types of durations. These methods are
    <span class="Li">&quot;subtract_datetime()&quot;</span>,
    <span class="Li">&quot;subtract_datetime_absolute()&quot;</span>,
    <span class="Li">&quot;delta_md()&quot;</span>,
    <span class="Li">&quot;delta_days()&quot;</span>, and
    <span class="Li">&quot;delta_ms()&quot;</span>.</p>
<p class="Pp"><i>Datetime Subtraction</i></p>
<p class="Pp">Date subtraction is done solely based on the two object's local
    datetimes, with one exception to handle DST changes. Also, if the two
    datetime objects are in different time zones, one of them is converted to
    the other's time zone first before subtraction. This is best explained
    through examples:</p>
<p class="Pp">The first of these probably makes the most sense:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt1 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 5,
      day       =&gt; 6,
      time_zone =&gt; 'America/Chicago',
  );

  # not DST

  my $dt2 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 11,
      day       =&gt; 6,
      time_zone =&gt; 'America/Chicago',
  );

  # is DST

  my $dur = $dt2-&gt;subtract_datetime($dt1);
  # 6 months
</pre>
<p class="Pp">Nice and simple.</p>
<p class="Pp">This one is a little trickier, but still fairly logical:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt1 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  # is DST

  my $dt2 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 7,
      hour      =&gt; 2,
      minute    =&gt; 1,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  # not DST

  my $dur = $dt2-&gt;subtract_datetime($dt1);

  # 2 days and 3 minutes
</pre>
<p class="Pp">Which contradicts the result this one gives, even though they both
    make sense:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt1 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  # is DST

  my $dt2 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 6,
      hour      =&gt; 3,
      minute    =&gt; 1,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  # not DST

  my $dur = $dt2-&gt;subtract_datetime($dt1);

  # 1 day and 3 minutes
</pre>
<p class="Pp">This last example illustrates the &quot;DST&quot; exception
    mentioned earlier. The exception accounts for the fact 2003-04-06 only lasts
    23 hours.</p>
<p class="Pp">And finally:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt2 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 10,
      day       =&gt; 26,
      hour      =&gt; 1,
      time_zone =&gt; 'America/Chicago',
  );

  my $dt1 = $dt2-&gt;clone-&gt;subtract( hours =&gt; 1 );

  my $dur = $dt2-&gt;subtract_datetime($dt1);
  # 60 minutes
</pre>
<p class="Pp">This seems obvious until you realize that subtracting 60 minutes
    from <span class="Li">$dt2</span> in the above example still leaves the
    clock time at &quot;01:00:00&quot;. This time we are accounting for a 25
    hour day.</p>
<p class="Pp"><i>Reversibility</i></p>
<p class="Pp">Date math operations are not always reversible. This is because of
    the way that addition operations are ordered. As was discussed earlier,
    adding 1 day and 3 minutes in one call to
    <span class="Li">&quot;add()&quot;</span> is not the same as first adding 3
    minutes and 1 day in two separate calls.</p>
<p class="Pp">If we take a duration returned from
    <span class="Li">&quot;subtract_datetime()&quot;</span> and then try to add
    or subtract that duration from one of the datetimes we just used, we
    sometimes get interesting results:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt1 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 1,
      minute    =&gt; 58,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  my $dt2 = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 6,
      hour      =&gt; 3,
      minute    =&gt; 1,
      time_zone =&gt; &quot;America/Chicago&quot;,
  );

  my $dur = $dt2-&gt;subtract_datetime($dt1);
  # 1 day and 3 minutes

  $dt1-&gt;add_duration($dur);
  # gives us $dt2

  $dt2-&gt;subtract_duration($dur);
  # gives us 2003-04-05 02:58:00 - 1 hour later than $dt1
</pre>
<p class="Pp">The <span class="Li">&quot;subtract_duration()&quot;</span>
    operation gives us a (perhaps) unexpected answer because it first subtracts
    one day to get 2003-04-05T03:01:00 and then subtracts 3 minutes to get the
    final result.</p>
<p class="Pp">If we explicitly reverse the order we can get the original value
    of <span class="Li">$dt1</span>. This can be facilitated by
    <span class="Li">&quot;DateTime::Duration&quot;</span>'s
    <span class="Li">&quot;calendar_duration()&quot;</span> and
    <span class="Li">&quot;clock_duration()&quot;</span> methods:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $dt2-&gt;subtract_duration( $dur-&gt;clock_duration )
      -&gt;subtract_duration( $dur-&gt;calendar_duration );
</pre>
<p class="Pp"><i>Leap Seconds and Date Math</i></p>
<p class="Pp">The presence of leap seconds can cause even more anomalies in date
    math. For example, the following is a legal datetime:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year      =&gt; 1972,
      month     =&gt; 12,
      day       =&gt; 31,
      hour      =&gt; 23,
      minute    =&gt; 59,
      second    =&gt; 60,
      time_zone =&gt; 'UTC'
  );
</pre>
<p class="Pp">If we do the following:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
 $dt-&gt;add( months =&gt; 1 );
</pre>
<p class="Pp">Then the datetime is now &quot;1973-02-01 00:00:00&quot;, because
    there is no 23:59:60 on 1973-01-31.</p>
<p class="Pp">Leap seconds also force us to distinguish between minutes and
    seconds during date math. Given the following datetime:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year      =&gt; 1972,
      month     =&gt; 12,
      day       =&gt; 31,
      hour      =&gt; 23,
      minute    =&gt; 59,
      second    =&gt; 30,
      time_zone =&gt; 'UTC'
  );
</pre>
<p class="Pp">we will get different results when adding 1 minute than we get if
    we add 60 seconds. This is because in this case, the last minute of the day,
    beginning at 23:59:00, actually contains 61 seconds.</p>
<p class="Pp">Here are the results we get:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  # 1972-12-31 23:59:30 - our starting datetime

  $dt-&gt;clone-&gt;add( minutes =&gt; 1 );
  # 1973-01-01 00:00:30 - one minute later

  $dt-&gt;clone-&gt;add( seconds =&gt; 60 );
  # 1973-01-01 00:00:29 - 60 seconds later

  $dt-&gt;clone-&gt;add( seconds =&gt; 61 );
  # 1973-01-01 00:00:30 - 61 seconds later
</pre>
<p class="Pp"><i>Local vs. UTC and 24 hours vs. 1 day</i></p>
<p class="Pp">When math crosses a daylight saving boundary, a single day may
    have more or less than 24 hours.</p>
<p class="Pp">For example, if you do this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 2,
      time_zone =&gt; 'America/Chicago',
  );

  $dt-&gt;add( days =&gt; 1 );
</pre>
<p class="Pp">then you will produce an <i>invalid</i> local time, and therefore
    an exception will be thrown.</p>
<p class="Pp">However, this works:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $dt = DateTime-&gt;new(
      year      =&gt; 2003,
      month     =&gt; 4,
      day       =&gt; 5,
      hour      =&gt; 2,
      time_zone =&gt; 'America/Chicago',
  );

  $dt-&gt;add( hours =&gt; 24 );
</pre>
<p class="Pp">and produces a datetime with the local time of
  &quot;03:00&quot;.</p>
<p class="Pp">If all this makes your head hurt, there is a simple alternative.
    Just convert your datetime object to the &quot;UTC&quot; time zone before
    doing date math on it, and switch it back to the local time zone afterwards.
    This avoids the possibility of having date math throw an exception, and
    makes sure that 1 day equals 24 hours. Of course, this may not always be
    desirable, so caveat user!</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Overloading"><a class="permalink" href="#Overloading">Overloading</a></h2>
This module explicitly overloads the addition (+), subtraction (-), string and
  numeric comparison operators. This means that the following all do sensible
  things:
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $new_dt = $dt + $duration_obj;

  my $new_dt = $dt - $duration_obj;

  my $duration_obj = $dt - $new_dt;

  foreach my $dt ( sort @dts ) { ... }
</pre>
<p class="Pp">Additionally, the fallback parameter is set to true, so other
    derivable operators (+=, -=, etc.) will work properly. Do not expect
    increment (++) or decrement (--) to do anything useful.</p>
<p class="Pp">The string comparison operators,
    <span class="Li">&quot;eq&quot;</span> or
    <span class="Li">&quot;ne&quot;</span>, will use the string value to compare
    with non-DateTime objects.</p>
<p class="Pp">DateTime objects do not have a numeric value, using
    <span class="Li">&quot;==&quot;</span> or
    <span class="Li">&quot;&lt;=&gt;&quot;</span> to compare a DateTime object
    with a non-DateTime object will result in an exception. To safely sort mixed
    DateTime and non-DateTime objects, use <span class="Li">&quot;sort { $a cmp
    $b } @dates&quot;</span>.</p>
<p class="Pp">The module also overloads stringification using the object's
    formatter, defaulting to <span class="Li">&quot;iso8601()&quot;</span>
    method. See &quot;Formatters And Stringification&quot; for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Formatters_And_Stringification"><a class="permalink" href="#Formatters_And_Stringification">Formatters
  And Stringification</a></h2>
You can optionally specify a &quot;formatter&quot;, which is usually a
  DateTime::Format::* object/class, to control the stringification of the
  DateTime object.
<p class="Pp">Any of the constructor methods can accept a formatter
  argument:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $formatter = DateTime::Format::Strptime-&gt;new(...);
  my $dt = DateTime-&gt;new(year =&gt; 2004, formatter =&gt; $formatter);
</pre>
<p class="Pp">Or, you can set it afterwards:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $dt-&gt;set_formatter($formatter);
  $formatter = $dt-&gt;formatter();
</pre>
<p class="Pp">Once you set the formatter, the overloaded stringification method
    will use the formatter. If unspecified, the
    <span class="Li">&quot;iso8601()&quot;</span> method is used.</p>
<p class="Pp">A formatter can be handy when you know that in your application
    you want to stringify your DateTime objects into a special format all the
    time, for example to a different language.</p>
<p class="Pp">If you provide a formatter class name or object, it must implement
    a <span class="Li">&quot;format_datetime&quot;</span> method. This method
    will be called with just the DateTime object as its argument.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1CLDR_s0_Patterns"><a class="permalink" href="#_s-1CLDR_s0_Patterns">CLDR
  Patterns</a></h2>
The CLDR pattern language is both more powerful and more complex than strftime.
  Unlike strftime patterns, you often have to explicitly escape text that you do
  not want formatted, as the patterns are simply letters without any prefix.
<p class="Pp">For example, &quot;yyyy-MM-dd&quot; is a valid CLDR pattern. If
    you want to include any lower or upper case ASCII characters as-is, you can
    surround them with single quotes ('). If you want to include a single quote,
    you must escape it as two single quotes ('').</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  'Today is ' EEEE
  'It is now' h 'o''clock' a
</pre>
<p class="Pp">Spaces and any non-letter text will always be passed through
    as-is.</p>
<p class="Pp">Many CLDR patterns which produce numbers will pad the number with
    leading zeroes depending on the length of the format specifier. For example,
    &quot;h&quot; represents the current hour from 1-12. If you specify
    &quot;hh&quot; then the 1-9 will have a leading zero prepended.</p>
<p class="Pp">However, CLDR often uses five of a letter to represent the narrow
    form of a pattern. This inconsistency is necessary for backwards
    compatibility.</p>
<p class="Pp">CLDR often distinguishes between the &quot;format&quot; and
    &quot;stand-alone&quot; forms of a pattern. The format pattern is used when
    the thing in question is being placed into a larger string. The stand-alone
    form is used when displaying that item by itself, for example in a
  calendar.</p>
<p class="Pp">It also often provides three sizes for each item, wide (the full
    name), abbreviated, and narrow. The narrow form is often just a single
    character, for example &quot;T&quot; for &quot;Tuesday&quot;, and may not be
    unique.</p>
<p class="Pp">CLDR provides a fairly complex system for localizing time zones
    that we ignore entirely. The time zone patterns just use the information
    provided by <span class="Li">&quot;DateTime::TimeZone&quot;</span>, and
    <i>do not follow the CLDR spec</i>.</p>
<p class="Pp">The output of a CLDR pattern is always localized, when
  applicable.</p>
<p class="Pp">CLDR provides the following patterns:</p>
<ul class="Bl-bullet">
  <li>G{1,3}
    <p class="Pp">The abbreviated era (BC, AD).</p>
  </li>
  <li>GGGG
    <p class="Pp">The wide era (Before Christ, Anno Domini).</p>
  </li>
  <li>GGGGG
    <p class="Pp">The narrow era, if it exists (and it mostly doesn't).</p>
  </li>
  <li>y and y{3,}
    <p class="Pp">The year, zero-prefixed as needed. Negative years will start
        with a &quot;-&quot;, and this will be included in the length
        calculation.</p>
    <p class="Pp">In other, words the &quot;yyyyy&quot; pattern will format year
        -1234 as &quot;-1234&quot;, not &quot;-01234&quot;.</p>
  </li>
  <li>yy
    <p class="Pp">This is a special case. It always produces a two-digit year,
        so &quot;1976&quot; becomes &quot;76&quot;. Negative years will start
        with a &quot;-&quot;, making them one character longer.</p>
  </li>
  <li>Y{1,}
    <p class="Pp">The week of the year, from
        <span class="Li">&quot;$dt-&gt;week_year()&quot;</span>.</p>
  </li>
  <li>u{1,}
    <p class="Pp">Same as &quot;y&quot; except that &quot;uu&quot; is not a
        special case.</p>
  </li>
  <li>Q{1,2}
    <p class="Pp">The quarter as a number (1..4).</p>
  </li>
  <li>QQQ
    <p class="Pp">The abbreviated format form for the quarter.</p>
  </li>
  <li>QQQQ
    <p class="Pp">The wide format form for the quarter.</p>
  </li>
  <li>q{1,2}
    <p class="Pp">The quarter as a number (1..4).</p>
  </li>
  <li>qqq
    <p class="Pp">The abbreviated stand-alone form for the quarter.</p>
  </li>
  <li>qqqq
    <p class="Pp">The wide stand-alone form for the quarter.</p>
  </li>
  <li>M{1,2]
    <p class="Pp">The numerical month.</p>
  </li>
  <li>MMM
    <p class="Pp">The abbreviated format form for the month.</p>
  </li>
  <li>MMMM
    <p class="Pp">The wide format form for the month.</p>
  </li>
  <li>MMMMM
    <p class="Pp">The narrow format form for the month.</p>
  </li>
  <li>L{1,2]
    <p class="Pp">The numerical month.</p>
  </li>
  <li>LLL
    <p class="Pp">The abbreviated stand-alone form for the month.</p>
  </li>
  <li>LLLL
    <p class="Pp">The wide stand-alone form for the month.</p>
  </li>
  <li>LLLLL
    <p class="Pp">The narrow stand-alone form for the month.</p>
  </li>
  <li>w{1,2}
    <p class="Pp">The week of the year, from
        <span class="Li">&quot;$dt-&gt;week_number()&quot;</span>.</p>
  </li>
  <li>W
    <p class="Pp">The week of the month, from
        <span class="Li">&quot;$dt-&gt;week_of_month()&quot;</span>.</p>
  </li>
  <li>d{1,2}
    <p class="Pp">The numeric day of the month.</p>
  </li>
  <li>D{1,3}
    <p class="Pp">The numeric day of the year.</p>
  </li>
  <li>F
    <p class="Pp">The day of the week in the month, from
        <span class="Li">&quot;$dt-&gt;weekday_of_month()&quot;</span>.</p>
  </li>
  <li>g{1,}
    <p class="Pp">The modified Julian day, from
        <span class="Li">&quot;$dt-&gt;mjd()&quot;</span>.</p>
  </li>
  <li>E{1,3} and eee
    <p class="Pp">The abbreviated format form for the day of the week.</p>
  </li>
  <li>EEEE and eeee
    <p class="Pp">The wide format form for the day of the week.</p>
  </li>
  <li>EEEEE and eeeee
    <p class="Pp">The narrow format form for the day of the week.</p>
  </li>
  <li>e{1,2}
    <p class="Pp">The <i>local</i> numeric day of the week, from 1 to 7. This
        number depends on what day is considered the first day of the week,
        which varies by locale. For example, in the US, Sunday is the first day
        of the week, so this returns 2 for Monday.</p>
  </li>
  <li>c
    <p class="Pp">The numeric day of the week from 1 to 7, treating Monday as
        the first of the week, regardless of locale.</p>
  </li>
  <li>ccc
    <p class="Pp">The abbreviated stand-alone form for the day of the week.</p>
  </li>
  <li>cccc
    <p class="Pp">The wide stand-alone form for the day of the week.</p>
  </li>
  <li>ccccc
    <p class="Pp">The narrow format form for the day of the week.</p>
  </li>
  <li>a
    <p class="Pp">The localized form of AM or PM for the time.</p>
  </li>
  <li>h{1,2}
    <p class="Pp">The hour from 1-12.</p>
  </li>
  <li>H{1,2}
    <p class="Pp">The hour from 0-23.</p>
  </li>
  <li>K{1,2}
    <p class="Pp">The hour from 0-11.</p>
  </li>
  <li>k{1,2}
    <p class="Pp">The hour from 1-24.</p>
  </li>
  <li>j{1,2}
    <p class="Pp">The hour, in 12 or 24 hour form, based on the preferred form
        for the locale. In other words, this is equivalent to either
        &quot;h{1,2}&quot; or &quot;H{1,2}&quot;.</p>
  </li>
  <li>m{1,2}
    <p class="Pp">The minute.</p>
  </li>
  <li>s{1,2}
    <p class="Pp">The second.</p>
  </li>
  <li>S{1,}
    <p class="Pp">The fractional portion of the seconds, rounded based on the
        length of the specifier. This returned <i>without</i> a leading decimal
        point, but may have leading or trailing zeroes.</p>
  </li>
  <li>A{1,}
    <p class="Pp">The millisecond of the day, based on the current time. In
        other words, if it is 12:00:00.00, this returns 43200000.</p>
  </li>
  <li>z{1,3}
    <p class="Pp">The time zone short name.</p>
  </li>
  <li>zzzz
    <p class="Pp">The time zone long name.</p>
  </li>
  <li>Z{1,3}
    <p class="Pp">The time zone offset.</p>
  </li>
  <li>ZZZZ
    <p class="Pp">The time zone short name and the offset as one string, so
        something like &quot;CDT-0500&quot;.</p>
  </li>
  <li>ZZZZZ
    <p class="Pp">The time zone offset as a sexagesimal number, so something
        like &quot;-05:00&quot;. (This is useful for W3C format.)</p>
  </li>
  <li>v{1,3}
    <p class="Pp">The time zone short name.</p>
  </li>
  <li>vvvv
    <p class="Pp">The time zone long name.</p>
  </li>
  <li>V{1,3}
    <p class="Pp">The time zone short name.</p>
  </li>
  <li>VVVV
    <p class="Pp">The time zone long name.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="strftime_Patterns"><a class="permalink" href="#strftime_Patterns">strftime
  Patterns</a></h2>
The following patterns are allowed in the format string given to the
  <span class="Li">&quot;$dt-&gt;strftime()&quot;</span> method:
<ul class="Bl-bullet">
  <li><span class="Li">%a</span>
    <p class="Pp">The abbreviated weekday name.</p>
  </li>
  <li><span class="Li">%A</span>
    <p class="Pp">The full weekday name.</p>
  </li>
  <li><span class="Li">%b</span>
    <p class="Pp">The abbreviated month name.</p>
  </li>
  <li><span class="Li">%B</span>
    <p class="Pp">The full month name.</p>
  </li>
  <li><span class="Li">%c</span>
    <p class="Pp">The default datetime format for the object's locale.</p>
  </li>
  <li><span class="Li">%C</span>
    <p class="Pp">The century number (year/100) as a 2-digit integer.</p>
  </li>
  <li><span class="Li">%d</span>
    <p class="Pp">The day of the month as a decimal number (range 01 to 31).</p>
  </li>
  <li><span class="Li">%D</span>
    <p class="Pp">Equivalent to <span class="Li">%m</span>/%d/%y. This is not a
        good standard format if you want folks from both the United States and
        the rest of the world to understand the date!</p>
  </li>
  <li><span class="Li">%e</span>
    <p class="Pp">Like <span class="Li">%d</span>, the day of the month as a
        decimal number, but a leading zero is replaced by a space.</p>
  </li>
  <li><span class="Li">%F</span>
    <p class="Pp">Equivalent to <span class="Li">%Y</span>-%m-%d (the ISO 8601
        date format)</p>
  </li>
  <li><span class="Li">%G</span>
    <p class="Pp">The ISO 8601 year with century as a decimal number. The
        4-digit year corresponding to the ISO week number (see
        <span class="Li">%V</span>). This has the same format and value as
        <span class="Li">%Y</span>, except that if the ISO week number belongs
        to the previous or next year, that year is used instead. (TZ)</p>
  </li>
  <li><span class="Li">%g</span>
    <p class="Pp">Like <span class="Li">%G</span>, but without century, i.e.,
        with a 2-digit year (00-99).</p>
  </li>
  <li><span class="Li">%h</span>
    <p class="Pp">Equivalent to <span class="Li">%b</span>.</p>
  </li>
  <li><span class="Li">%H</span>
    <p class="Pp">The hour as a decimal number using a 24-hour clock (range 00
        to 23).</p>
  </li>
  <li><span class="Li">%I</span>
    <p class="Pp">The hour as a decimal number using a 12-hour clock (range 01
        to 12).</p>
  </li>
  <li><span class="Li">%j</span>
    <p class="Pp">The day of the year as a decimal number (range 001 to
      366).</p>
  </li>
  <li><span class="Li">%k</span>
    <p class="Pp">The hour (24-hour clock) as a decimal number (range 0 to 23);
        single digits are preceded by a blank. (See also
        <span class="Li">%H</span>.)</p>
  </li>
  <li><span class="Li">%l</span>
    <p class="Pp">The hour (12-hour clock) as a decimal number (range 1 to 12);
        single digits are preceded by a blank. (See also
        <span class="Li">%I</span>.)</p>
  </li>
  <li><span class="Li">%m</span>
    <p class="Pp">The month as a decimal number (range 01 to 12).</p>
  </li>
  <li><span class="Li">%M</span>
    <p class="Pp">The minute as a decimal number (range 00 to 59).</p>
  </li>
  <li><span class="Li">%n</span>
    <p class="Pp">A newline character.</p>
  </li>
  <li><span class="Li">%N</span>
    <p class="Pp">The fractional seconds digits. Default is 9 digits
        (nanoseconds).</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  %3N   milliseconds (3 digits)
  %6N   microseconds (6 digits)
  %9N   nanoseconds  (9 digits)
    </pre>
    <p class="Pp">This value will always be rounded down to the nearest
      integer.</p>
  </li>
  <li><span class="Li">%p</span>
    <p class="Pp">Either `AM' or `PM' according to the given time value, or the
        corresponding strings for the current locale. Noon is treated as `pm'
        and midnight as `am'.</p>
  </li>
  <li><span class="Li">%P</span>
    <p class="Pp">Like <span class="Li">%p</span> but in lowercase: `am' or `pm'
        or a corresponding string for the current locale.</p>
  </li>
  <li><span class="Li">%r</span>
    <p class="Pp">The time in a.m. or p.m. notation. In the POSIX locale this is
        equivalent to `%I:%M:%S <span class="Li">%p</span>'.</p>
  </li>
  <li><span class="Li">%R</span>
    <p class="Pp">The time in 24-hour notation (%H:%M). (SU) For a version
        including the seconds, see <span class="Li">%T</span> below.</p>
  </li>
  <li><span class="Li">%s</span>
    <p class="Pp">The number of seconds since the epoch.</p>
  </li>
  <li><span class="Li">%S</span>
    <p class="Pp">The second as a decimal number (range 00 to 61).</p>
  </li>
  <li><span class="Li">%t</span>
    <p class="Pp">A tab character.</p>
  </li>
  <li><span class="Li">%T</span>
    <p class="Pp">The time in 24-hour notation (%H:%M:%S).</p>
  </li>
  <li><span class="Li">%u</span>
    <p class="Pp">The day of the week as a decimal, range 1 to 7, Monday being
        1. See also <span class="Li">%w</span>.</p>
  </li>
  <li><span class="Li">%U</span>
    <p class="Pp">The week number of the current year as a decimal number, range
        00 to 53, starting with the first Sunday as the first day of week 01.
        See also <span class="Li">%V</span> and <span class="Li">%W</span>.</p>
  </li>
  <li><span class="Li">%V</span>
    <p class="Pp">The ISO 8601:1988 week number of the current year as a decimal
        number, range 01 to 53, where week 1 is the first week that has at least
        4 days in the current year, and with Monday as the first day of the
        week. See also <span class="Li">%U</span> and
        <span class="Li">%W</span>.</p>
  </li>
  <li><span class="Li">%w</span>
    <p class="Pp">The day of the week as a decimal, range 0 to 6, Sunday being
        0. See also <span class="Li">%u</span>.</p>
  </li>
  <li><span class="Li">%W</span>
    <p class="Pp">The week number of the current year as a decimal number, range
        00 to 53, starting with the first Monday as the first day of week
      01.</p>
  </li>
  <li><span class="Li">%x</span>
    <p class="Pp">The default date format for the object's locale.</p>
  </li>
  <li><span class="Li">%X</span>
    <p class="Pp">The default time format for the object's locale.</p>
  </li>
  <li><span class="Li">%y</span>
    <p class="Pp">The year as a decimal number without a century (range 00 to
        99).</p>
  </li>
  <li><span class="Li">%Y</span>
    <p class="Pp">The year as a decimal number including the century.</p>
  </li>
  <li><span class="Li">%z</span>
    <p class="Pp">The time-zone as hour offset from UTC. Required to emit
        RFC822-conformant dates (using &quot;%a, <span class="Li">%d</span>
        <span class="Li">%b</span> <span class="Li">%Y</span>
        <span class="Li">%H:</span>%M:%S <span class="Li">%z</span>&quot;).</p>
  </li>
  <li><span class="Li">%Z</span>
    <p class="Pp">The time zone or name or abbreviation.</p>
  </li>
  <li>%%
    <p class="Pp">A literal `%' character.</p>
  </li>
  <li>%{method}
    <p class="Pp">Any method name may be specified using the format
        <span class="Li">&quot;%{method}&quot;</span> name where
        &quot;method&quot; is a valid
        <span class="Li">&quot;DateTime.pm&quot;</span> object method.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime.pm_and_Storable"><a class="permalink" href="#DateTime.pm_and_Storable">DateTime.pm
  and Storable</a></h2>
DateTime implements Storable hooks in order to reduce the size of a serialized
  DateTime object.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="THE_DATETIME_PROJECT_ECOSYSTEM"><a class="permalink" href="#THE_DATETIME_PROJECT_ECOSYSTEM">THE
  DATETIME PROJECT ECOSYSTEM</a></h1>
This module is part of a larger ecosystem of modules in the DateTime family.
<section class="Ss">
<h2 class="Ss" id="DateTime::Set"><a class="permalink" href="#DateTime::Set">DateTime::Set</a></h2>
The DateTime::Set module represents sets (including recurrences) of datetimes.
  Many modules return sets or recurrences.
</section>
<section class="Ss">
<h2 class="Ss" id="Format_Modules"><a class="permalink" href="#Format_Modules">Format
  Modules</a></h2>
The various format modules exist to parse and format datetimes. For example,
  DateTime::Format::HTTP parses dates according to the RFC 1123 format:
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $datetime
      = DateTime::Format::HTTP-&gt;parse_datetime('Thu Feb  3 17:03:55 GMT 1994');

  print DateTime::Format::HTTP-&gt;format_datetime($datetime);
</pre>
<p class="Pp">Most format modules are suitable for use as a
    <span class="Li">&quot;formatter&quot;</span> with a DateTime object.</p>
<p class="Pp">All format modules start with
    <span class="Li">&quot;DateTime::Format::&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Calendar_Modules"><a class="permalink" href="#Calendar_Modules">Calendar
  Modules</a></h2>
There are a number of modules on CPAN that implement non-Gregorian calendars,
  such as the Chinese, Mayan, and Julian calendars.
<p class="Pp">All calendar modules start with
    <span class="Li">&quot;DateTime::Calendar::&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Event_Modules"><a class="permalink" href="#Event_Modules">Event
  Modules</a></h2>
There are a number of modules that calculate the dates for events, such as
  Easter, Sunrise, etc.
<p class="Pp">All event modules start with
    <span class="Li">&quot;DateTime::Event::&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Others"><a class="permalink" href="#Others">Others</a></h2>
There are many other modules that work with DateTime, including modules in the
  <span class="Li">&quot;DateTimeX&quot;</span> namespace, as well as others.
<p class="Pp">See the datetime wiki &lt;http://datetime.perl.org&gt; and
    search.cpan.org
    &lt;http://search.cpan.org/search?query=datetime&amp;mode=dist&gt; for more
    details.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="KNOWN_BUGS"><a class="permalink" href="#KNOWN_BUGS">KNOWN
  BUGS</a></h1>
The tests in <i>20infinite.t</i> seem to fail on some machines, particularly on
  Win32. This appears to be related to Perl's internal handling of IEEE infinity
  and NaN, and seems to be highly platform/compiler/phase of moon dependent.
<p class="Pp">If you don't plan to use infinite datetimes you can probably
    ignore this. This will be fixed (perhaps) in future versions.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
Support for this module is provided via the datetime@perl.org email list. See
  http://datetime.perl.org/wiki/datetime/page/Mailing_List for details.
<p class="Pp">Please submit bugs to the CPAN RT system at
    http://rt.cpan.org/NoAuth/Bugs.html?Dist=DateTime or via email at
    bug-datetime@rt.cpan.org.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DONATIONS"><a class="permalink" href="#DONATIONS">DONATIONS</a></h1>
If you'd like to thank me for the work I've done on this module, please consider
  making a &quot;donation&quot; to me via PayPal. I spend a lot of free time
  creating free software, and would appreciate any support you'd care to offer.
<p class="Pp">Please note that <b>I am not suggesting that you must do this</b>
    in order for me to continue working on this particular software. I will
    continue to do so, inasmuch as I have in the past, for as long as it
    interests me.</p>
<p class="Pp">Similarly, a donation made in this way will probably not make me
    work on this software much more, unless I get so many donations that I can
    consider working on free software full time, which seems unlikely at
  best.</p>
<p class="Pp">To donate, log into PayPal and send money to autarch@urth.org or
    use the button on this page:
    &lt;http://www.urth.org/~autarch/fs-donation.html&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
datetime@perl.org mailing list
<p class="Pp">http://datetime.perl.org/</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Dave Rolsky &lt;autarch@urth.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is Copyright (c) 2013 by Dave Rolsky.
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  The Artistic License 2.0 (GPL Compatible)
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-02-19</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
