<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>PERL581DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL581DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL581DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perl581delta - what is new for perl v5.8.1</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes differences between the 5.8.0 release and
    the 5.8.1 release.</p>
<p class="Pp">If you are upgrading from an earlier release such as 5.6.1, first
    read the perl58delta, which describes differences between 5.6.0 and
  5.8.0.</p>
<p class="Pp">In case you are wondering about 5.6.1, it was bug-fix-wise rather
    identical to the development release 5.7.1. Confused? This timeline
    hopefully helps a bit: it lists the new major releases, their maintenance
    releases, and the development releases.</p>
<p class="Pp"></p>
<pre>          New     Maintenance  Development
          5.6.0                             2000-Mar-22
                               5.7.0        2000-Sep-02
                  5.6.1                     2001-Apr-08
                               5.7.1        2001-Apr-09
                               5.7.2        2001-Jul-13
                               5.7.3        2002-Mar-05
          5.8.0                             2002-Jul-18
                  5.8.1                     2003-Sep-25
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Hash_Randomisation"><a class="permalink" href="#Hash_Randomisation">Hash
  Randomisation</a></h2>
<p class="Pp">Mainly due to security reasons, the &quot;random ordering&quot; of
    hashes has been made even more random. Previously while the order of hash
    elements from <b>keys()</b>, <b>values()</b>, and <b>each()</b> was
    essentially random, it was still repeatable. Now, however, the order varies
    between different runs of Perl.</p>
<p class="Pp"><b>Perl has never guaranteed any ordering of the hash keys</b>,
    and the ordering has already changed several times during the lifetime of
    Perl 5. Also, the ordering of hash keys has always been, and continues to
    be, affected by the insertion order.</p>
<p class="Pp">The added randomness may affect applications.</p>
<p class="Pp">One possible scenario is when output of an application has
    included hash data. For example, if you have used the Data::Dumper module to
    dump data into different files, and then compared the files to see whether
    the data has changed, now you will have false positives since the order in
    which hashes are dumped will vary. In general the cure is to sort the keys
    (or the values); in particular for Data::Dumper to use the
    <span class="Li">&quot;Sortkeys&quot;</span> option. If some particular
    order is really important, use tied hashes: for example the Tie::IxHash
    module which by default preserves the order in which the hash elements were
    added.</p>
<p class="Pp">More subtle problem is reliance on the order of &quot;global
    destruction&quot;. That is what happens at the end of execution: Perl
    destroys all data structures, including user data. If your destructors (the
    DESTROY subroutines) have assumed any particular ordering to the global
    destruction, there might be problems ahead. For example, in a destructor of
    one object you cannot assume that objects of any other class are still
    available, unless you hold a reference to them. If the environment variable
    PERL_DESTRUCT_LEVEL is set to a non-zero value, or if Perl is exiting a
    spawned thread, it will also destruct the ordinary references and the symbol
    tables that are no longer in use. You can't call a class method or an
    ordinary function on a class that has been collected that way.</p>
<p class="Pp">The hash randomisation is certain to reveal hidden assumptions
    about some particular ordering of hash elements, and outright bugs: it
    revealed a few bugs in the Perl core and core modules.</p>
<p class="Pp">To disable the hash randomisation in runtime, set the environment
    variable PERL_HASH_SEED to 0 (zero) before running Perl (for more
    information see &quot;PERL_HASH_SEED&quot; in perlrun), or to disable the
    feature completely in compile time, compile with
    <span class="Li">&quot;-DNO_HASH_SEED&quot;</span> (see <i>INSTALL</i>).</p>
<p class="Pp">See &quot;Algorithmic Complexity Attacks&quot; in perlsec for the
    original rationale behind this change.</p>
</section>
<section class="Ss">
<h2 class="Ss">UTF-8 On Filehandles No Longer Activated By Locale</h2>
<p class="Pp">In Perl 5.8.0 all filehandles, including the standard filehandles,
    were implicitly set to be in Unicode UTF-8 if the locale settings indicated
    the use of UTF-8. This feature caused too many problems, so the feature was
    turned off and redesigned: see &quot;Core Enhancements&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Single-number_v"><a class="permalink" href="#Single-number_v">Single-number
  v-strings are no longer v-strings before &quot;=&gt;&quot;</a></h2>
<p class="Pp">The version strings or v-strings (see &quot;Version Strings&quot;
    in perldata) feature introduced in Perl 5.6.0 has been a source of some
    confusion-- especially when the user did not want to use it, but Perl
    thought it knew better. Especially troublesome has been the feature that
    before a &quot;=&gt;&quot; a version string (a &quot;v&quot; followed by
    digits) has been interpreted as a v-string instead of a string literal. In
    other words:</p>
<p class="Pp"></p>
<pre>        %h = ( v65 =&gt; 42 );
</pre>
<p class="Pp">has meant since Perl 5.6.0</p>
<p class="Pp"></p>
<pre>        %h = ( 'A' =&gt; 42 );
</pre>
<p class="Pp">(at least in platforms of ASCII progeny) Perl 5.8.1 restores the
    more natural interpretation</p>
<p class="Pp"></p>
<pre>        %h = ( 'v65' =&gt; 42 );
</pre>
<p class="Pp">The multi-number v-strings like v65.66 and 65.66.67 still continue
    to be v-strings in Perl 5.8.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="(Win32)_The_"><a class="permalink" href="#(Win32)_The_">(Win32)
  The -C Switch Has Been Repurposed</a></h2>
<p class="Pp">The -C switch has changed in an incompatible way. The old
    semantics of this switch only made sense in Win32 and only in the &quot;use
    utf8&quot; universe in 5.6.x releases, and do not make sense for the Unicode
    implementation in 5.8.0. Since this switch could not have been used by
    anyone, it has been repurposed. The behavior that this switch enabled in
    5.6.x releases may be supported in a transparent, data-dependent fashion in
    a future release.</p>
<p class="Pp">For the new life of this switch, see &quot;UTF-8 no longer default
    under UTF-8 locales&quot;, and &quot;-C&quot; in perlrun.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="(Win32)_The_/d_Switch_Of_cmd.exe"><a class="permalink" href="#(Win32)_The_/d_Switch_Of_cmd.exe">(Win32)
  The /d Switch Of cmd.exe</a></h2>
<p class="Pp">Perl 5.8.1 uses the /d switch when running the cmd.exe shell
    internally for <b>system()</b>, backticks, and when opening pipes to
    external programs. The extra switch disables the execution of AutoRun
    commands from the registry, which is generally considered undesirable when
    running external programs. If you wish to retain compatibility with the
    older behavior, set PERL5SHELL in your environment to
    <span class="Li">&quot;cmd /x/c&quot;</span>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss">UTF-8 no longer default under UTF-8 locales</h2>
<p class="Pp">In Perl 5.8.0 many Unicode features were introduced. One of them
    was found to be of more nuisance than benefit: the automagic (and silent)
    &quot;UTF-8-ification&quot; of filehandles, including the standard
    filehandles, if the user's locale settings indicated use of UTF-8.</p>
<p class="Pp">For example, if you had
    <span class="Li">&quot;en_US.UTF-8&quot;</span> as your locale, your STDIN
    and STDOUT were automatically &quot;UTF-8&quot;, in other words an implicit
    binmode(..., &quot;:utf8&quot;) was made. This meant that trying to print,
    say, <b>chr</b>(0xff), ended up printing the bytes 0xc3 0xbf. Hardly what
    you had in mind unless you were aware of this feature of Perl 5.8.0. The
    problem is that the vast majority of people weren't: for example in RedHat
    releases 8 and 9 the <b>default</b> locale setting is UTF-8, so all RedHat
    users got UTF-8 filehandles, whether they wanted it or not. The pain was
    intensified by the Unicode implementation of Perl 5.8.0 (still) having nasty
    bugs, especially related to the use of s/// and tr///. (Bugs that have been
    fixed in 5.8.1)</p>
<p class="Pp">Therefore a decision was made to backtrack the feature and change
    it from implicit silent default to explicit conscious option. The new Perl
    command line option <span class="Li">&quot;-C&quot;</span> and its
    counterpart environment variable PERL_UNICODE can now be used to control how
    Perl and Unicode interact at interfaces like I/O and for example the command
    line arguments. See &quot;-C&quot; in perlrun and &quot;PERL_UNICODE&quot;
    in perlrun for more information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unsafe_signals_again_available"><a class="permalink" href="#Unsafe_signals_again_available">Unsafe
  signals again available</a></h2>
<p class="Pp">In Perl 5.8.0 the so-called &quot;safe signals&quot; were
    introduced. This means that Perl no longer handles signals immediately but
    instead &quot;between opcodes&quot;, when it is safe to do so. The earlier
    immediate handling easily could corrupt the internal state of Perl,
    resulting in mysterious crashes.</p>
<p class="Pp">However, the new safer model has its problems too. Because now an
    opcode, a basic unit of Perl execution, is never interrupted but instead let
    to run to completion, certain operations that can take a long time now
    really do take a long time. For example, certain network operations have
    their own blocking and timeout mechanisms, and being able to interrupt them
    immediately would be nice.</p>
<p class="Pp">Therefore perl 5.8.1 introduces a &quot;backdoor&quot; to restore
    the pre-5.8.0 (pre-5.7.3, really) signal behaviour. Just set the environment
    variable PERL_SIGNALS to <span class="Li">&quot;unsafe&quot;</span>, and the
    old immediate (and unsafe) signal handling behaviour returns. See
    &quot;PERL_SIGNALS&quot; in perlrun and &quot;Deferred Signals (Safe
    Signals)&quot; in perlipc.</p>
<p class="Pp">In completely unrelated news, you can now use safe signals with
    POSIX::SigAction. See &quot;POSIX::SigAction&quot; in POSIX.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Tied_Arrays_with_Negative_Array_Indices"><a class="permalink" href="#Tied_Arrays_with_Negative_Array_Indices">Tied
  Arrays with Negative Array Indices</a></h2>
<p class="Pp">Formerly, the indices passed to
    <span class="Li">&quot;FETCH&quot;</span>,
    <span class="Li">&quot;STORE&quot;</span>,
    <span class="Li">&quot;EXISTS&quot;</span>, and
    <span class="Li">&quot;DELETE&quot;</span> methods in tied array class were
    always non-negative. If the actual argument was negative, Perl would call
    FETCHSIZE implicitly and add the result to the index before passing the
    result to the tied array method. This behaviour is now optional. If the tied
    array class contains a package variable named
    <span class="Li">$NEGATIVE_INDICES</span> which is set to a true value,
    negative values will be passed to <span class="Li">&quot;FETCH&quot;</span>,
    <span class="Li">&quot;STORE&quot;</span>,
    <span class="Li">&quot;EXISTS&quot;</span>, and
    <span class="Li">&quot;DELETE&quot;</span> unchanged.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="local_$_$x_"><a class="permalink" href="#local_$_$x_">local
  ${$x}</a></h2>
<p class="Pp">The syntaxes</p>
<p class="Pp"></p>
<pre>        local ${$x}
        local @{$x}
        local %{$x}
</pre>
<p class="Pp">now do localise variables, given that the
    <span class="Li">$x</span> is a valid variable name.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_Character_Database_4.0.0"><a class="permalink" href="#Unicode_Character_Database_4.0.0">Unicode
  Character Database 4.0.0</a></h2>
<p class="Pp">The copy of the Unicode Character Database included in Perl 5.8
    has been updated to 4.0.0 from 3.2.0. This means for example that the
    Unicode character properties are as in Unicode 4.0.0.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Deprecation_Warnings"><a class="permalink" href="#Deprecation_Warnings">Deprecation
  Warnings</a></h2>
<p class="Pp">There is one new feature deprecation. Perl 5.8.0 forgot to add
    some deprecation warnings, these warnings have now been added. Finally, a
    reminder of an impending feature removal.</p>
<p class="Pp"><i>(Reminder) Pseudo-hashes are deprecated (really)</i></p>
<p class="Pp">Pseudo-hashes were deprecated in Perl 5.8.0 and will be removed in
    Perl 5.10.0, see perl58delta for details. Each attempt to access
    pseudo-hashes will trigger the warning <span class="Li">&quot;Pseudo-hashes
    are deprecated&quot;</span>. If you really want to continue using
    pseudo-hashes but not to see the deprecation warnings, use:</p>
<p class="Pp"></p>
<pre>    no warnings 'deprecated';
</pre>
<p class="Pp">Or you can continue to use the fields pragma, but please don't
    expect the data structures to be pseudohashes any more.</p>
<p class="Pp"><i>(Reminder) 5.005-style threads are deprecated (really)</i></p>
<p class="Pp">5.005-style threads (activated by <span class="Li">&quot;use
    Thread;&quot;</span>) were deprecated in Perl 5.8.0 and will be removed
    after Perl 5.8, see perl58delta for details. Each 5.005-style thread
    creation will trigger the warning <span class="Li">&quot;5.005 threads are
    deprecated&quot;</span>. If you really want to continue using the 5.005
    threads but not to see the deprecation warnings, use:</p>
<p class="Pp"></p>
<pre>    no warnings 'deprecated';
</pre>
<p class="Pp"><i>(Reminder) The $* variable is deprecated (really)</i></p>
<p class="Pp">The <span class="Li">$*</span> variable controlling multi-line
    matching has been deprecated and will be removed after 5.8. The variable has
    been deprecated for a long time, and a deprecation warning
    <span class="Li">&quot;Use of $* is deprecated&quot;</span> is given, now
    the variable will just finally be removed. The functionality has been
    supplanted by the <span class="Li">&quot;/s&quot;</span> and
    <span class="Li">&quot;/m&quot;</span> modifiers on pattern matching. If you
    really want to continue using the <span class="Li">$*</span>-variable but
    not to see the deprecation warnings, use:</p>
<p class="Pp"></p>
<pre>    no warnings 'deprecated';
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Miscellaneous_Enhancements"><a class="permalink" href="#Miscellaneous_Enhancements">Miscellaneous
  Enhancements</a></h2>
<p class="Pp"><span class="Li">&quot;map&quot;</span> in void context is no
    longer expensive. <span class="Li">&quot;map&quot;</span> is now context
    aware, and will not construct a list if called in void context.</p>
<p class="Pp">If a socket gets closed by the server while printing to it, the
    client now gets a SIGPIPE. While this new feature was not planned, it fell
    naturally out of PerlIO changes, and is to be considered an accidental
    feature.</p>
<p class="Pp">PerlIO::get_layers(FH) returns the names of the PerlIO layers
    active on a filehandle.</p>
<p class="Pp">PerlIO::via layers can now have an optional UTF8 method to
    indicate whether the layer wants to &quot;auto-:utf8&quot; the stream.</p>
<p class="Pp"><b>utf8::is_utf8()</b> has been added as a quick way to test
    whether a scalar is encoded internally in UTF-8 (Unicode).</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="Updated_Modules_And_Pragmata"><a class="permalink" href="#Updated_Modules_And_Pragmata">Updated
  Modules And Pragmata</a></h2>
<p class="Pp">The following modules and pragmata have been updated since Perl
    5.8.0:</p>
<dl class="Bl-tag">
  <dt id="base"><a class="permalink" href="#base">base</a></dt>
  <dd></dd>
  <dt id="B::Bytecode"><a class="permalink" href="#B::Bytecode">B::Bytecode</a></dt>
  <dd>In much better shape than it used to be. Still far from perfect, but maybe
      worth a try.</dd>
  <dt id="B::Concise"><a class="permalink" href="#B::Concise">B::Concise</a></dt>
  <dd></dd>
  <dt id="B::Deparse"><a class="permalink" href="#B::Deparse">B::Deparse</a></dt>
  <dd></dd>
  <dt id="Benchmark"><a class="permalink" href="#Benchmark">Benchmark</a></dt>
  <dd>An optional feature, <span class="Li">&quot;:hireswallclock&quot;</span>,
      now allows for high resolution wall clock times (uses Time::HiRes).</dd>
  <dt id="ByteLoader"><a class="permalink" href="#ByteLoader">ByteLoader</a></dt>
  <dd>See B::Bytecode.</dd>
  <dt id="bytes"><a class="permalink" href="#bytes">bytes</a></dt>
  <dd>Now has bytes::substr.</dd>
  <dt id="CGI"><a class="permalink" href="#CGI">CGI</a></dt>
  <dd></dd>
  <dt id="charnames"><a class="permalink" href="#charnames">charnames</a></dt>
  <dd>One can now have custom character name aliases.</dd>
  <dt id="CPAN"><a class="permalink" href="#CPAN">CPAN</a></dt>
  <dd>There is now a simple command line frontend to the CPAN.pm module called
      <i>cpan</i>.</dd>
  <dt id="Data::Dumper"><a class="permalink" href="#Data::Dumper">Data::Dumper</a></dt>
  <dd>A new option, Pair, allows choosing the separator between hash keys and
      values.</dd>
  <dt id="DB_File"><a class="permalink" href="#DB_File">DB_File</a></dt>
  <dd></dd>
  <dt id="Devel::PPPort"><a class="permalink" href="#Devel::PPPort">Devel::PPPort</a></dt>
  <dd></dd>
  <dt id="Digest::MD5"><a class="permalink" href="#Digest::MD5">Digest::MD5</a></dt>
  <dd></dd>
  <dt id="Encode"><a class="permalink" href="#Encode">Encode</a></dt>
  <dd>Significant updates on the encoding pragma functionality (tr/// and the
      DATA filehandle, formats).
    <p class="Pp">If a filehandle has been marked as to have an encoding,
        unmappable characters are detected already during input, not later (when
        the corrupted data is being used).</p>
    <p class="Pp">The ISO 8859-6 conversion table has been corrected (the
        0x30..0x39 erroneously mapped to U+0660..U+0669, instead of
        U+0030..U+0039). The GSM 03.38 conversion did not handle escape
        sequences correctly. The UTF-7 encoding has been added (making Encode
        feature-complete with Unicode::String).</p>
  </dd>
  <dt id="fields"><a class="permalink" href="#fields">fields</a></dt>
  <dd></dd>
  <dt id="libnet"><a class="permalink" href="#libnet">libnet</a></dt>
  <dd></dd>
  <dt id="Math::BigInt"><a class="permalink" href="#Math::BigInt">Math::BigInt</a></dt>
  <dd>A lot of bugs have been fixed since v1.60, the version included in Perl
      v5.8.0. Especially noteworthy are the bug in Calc that caused div and mod
      to fail for some large values, and the fixes to the handling of bad
      inputs.
    <p class="Pp">Some new features were added, e.g. the <b>broot()</b> method,
        you can now pass parameters to <b>config()</b> to change some settings
        at runtime, and it is now possible to trap the creation of NaN and
        infinity.</p>
    <p class="Pp">As usual, some optimizations took place and made the math
        overall a tad faster. In some cases, quite a lot faster, actually.
        Especially alternative libraries like Math::BigInt::GMP benefit from
        this. In addition, a lot of the quite clunky routines like
        <b>fsqrt()</b> and <b>flog()</b> are now much much faster.</p>
  </dd>
  <dt id="MIME::Base64"><a class="permalink" href="#MIME::Base64">MIME::Base64</a></dt>
  <dd></dd>
  <dt id="NEXT"><a class="permalink" href="#NEXT">NEXT</a></dt>
  <dd>Diamond inheritance now works.</dd>
  <dt id="Net::Ping"><a class="permalink" href="#Net::Ping">Net::Ping</a></dt>
  <dd></dd>
  <dt id="PerlIO::scalar"><a class="permalink" href="#PerlIO::scalar">PerlIO::scalar</a></dt>
  <dd>Reading from non-string scalars (like the special variables, see perlvar)
      now works.</dd>
  <dt id="podlators"><a class="permalink" href="#podlators">podlators</a></dt>
  <dd></dd>
  <dt id="Pod::LaTeX"><a class="permalink" href="#Pod::LaTeX">Pod::LaTeX</a></dt>
  <dd></dd>
  <dt id="PodParsers"><a class="permalink" href="#PodParsers">PodParsers</a></dt>
  <dd></dd>
  <dt id="Pod::Perldoc"><a class="permalink" href="#Pod::Perldoc">Pod::Perldoc</a></dt>
  <dd>Complete rewrite. As a side-effect, no longer refuses to startup when run
      by root.</dd>
  <dt id="Scalar::Util"><a class="permalink" href="#Scalar::Util">Scalar::Util</a></dt>
  <dd>New utilities: refaddr, isvstring, looks_like_number, set_prototype.</dd>
  <dt id="Storable"><a class="permalink" href="#Storable">Storable</a></dt>
  <dd>Can now store code references (via B::Deparse, so not foolproof).</dd>
  <dt id="strict"><a class="permalink" href="#strict">strict</a></dt>
  <dd>Earlier versions of the strict pragma did not check the parameters
      implicitly passed to its &quot;import&quot; (use) and &quot;unimport&quot;
      (no) routine. This caused the false idiom such as:
    <p class="Pp"></p>
    <pre>        use strict qw(@ISA);
        @ISA = qw(Foo);
    </pre>
    <p class="Pp">This however (probably) raised the false expectation that the
        strict refs, vars and subs were being enforced (and that
        <span class="Li">@ISA</span> was somehow &quot;declared&quot;). But the
        strict refs, vars, and subs are <b>not</b> enforced when using this
        false idiom.</p>
    <p class="Pp">Starting from Perl 5.8.1, the above <b>will</b> cause an error
        to be raised. This may cause programs which used to execute seemingly
        correctly without warnings and errors to fail when run under 5.8.1. This
        happens because</p>
    <p class="Pp"></p>
    <pre>        use strict qw(@ISA);
    </pre>
    <p class="Pp">will now fail with the error:</p>
    <p class="Pp"></p>
    <pre>        Unknown 'strict' tag(s) '@ISA'
    </pre>
    <p class="Pp">The remedy to this problem is to replace this code with the
        correct idiom:</p>
    <p class="Pp"></p>
    <pre>        use strict;
        use vars qw(@ISA);
        @ISA = qw(Foo);
    </pre>
  </dd>
  <dt id="Term::ANSIcolor"><a class="permalink" href="#Term::ANSIcolor">Term::ANSIcolor</a></dt>
  <dd></dd>
  <dt id="Test::Harness"><a class="permalink" href="#Test::Harness">Test::Harness</a></dt>
  <dd>Now much more picky about extra or missing output from test scripts.</dd>
  <dt id="Test::More"><a class="permalink" href="#Test::More">Test::More</a></dt>
  <dd></dd>
  <dt id="Test::Simple"><a class="permalink" href="#Test::Simple">Test::Simple</a></dt>
  <dd></dd>
  <dt id="Text::Balanced"><a class="permalink" href="#Text::Balanced">Text::Balanced</a></dt>
  <dd></dd>
  <dt id="Time::HiRes"><a class="permalink" href="#Time::HiRes">Time::HiRes</a></dt>
  <dd>Use of <b>nanosleep()</b>, if available, allows mixing subsecond sleeps
      with alarms.</dd>
  <dt id="threads"><a class="permalink" href="#threads">threads</a></dt>
  <dd>Several fixes, for example for <b>join()</b> problems and memory leaks. In
      some platforms (like Linux) that use glibc the minimum memory footprint of
      one ithread has been reduced by several hundred kilobytes.</dd>
  <dt id="threads::shared"><a class="permalink" href="#threads::shared">threads::shared</a></dt>
  <dd>Many memory leaks have been fixed.</dd>
  <dt id="Unicode::Collate"><a class="permalink" href="#Unicode::Collate">Unicode::Collate</a></dt>
  <dd></dd>
  <dt id="Unicode::Normalize"><a class="permalink" href="#Unicode::Normalize">Unicode::Normalize</a></dt>
  <dd></dd>
  <dt id="Win32::GetFolderPath"><a class="permalink" href="#Win32::GetFolderPath">Win32::GetFolderPath</a></dt>
  <dd></dd>
  <dt id="Win32::GetOSVersion"><a class="permalink" href="#Win32::GetOSVersion">Win32::GetOSVersion</a></dt>
  <dd>Now returns extra information.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<p class="Pp">The <span class="Li">&quot;h2xs&quot;</span> utility now produces
    a more modern layout: <i>Foo-Bar/lib/Foo/Bar.pm</i> instead of
    <i>Foo/Bar/Bar.pm</i>. Also, the boilerplate test is now called
    <i>t/Foo-Bar.t</i> instead of <i>t/1.t</i>.</p>
<p class="Pp">The Perl debugger (<i>lib/perl5db.pl</i>) has now been extensively
    documented and bugs found while documenting have been fixed.</p>
<p class="Pp"><span class="Li">&quot;perldoc&quot;</span> has been rewritten
    from scratch to be more robust and feature rich.</p>
<p class="Pp"><span class="Li">&quot;perlcc -B&quot;</span> works now at least
    somewhat better, while <span class="Li">&quot;perlcc -c&quot;</span> is
    rather more broken. (The Perl compiler suite as a whole continues to be
    experimental.)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="New_Documentation"><a class="permalink" href="#New_Documentation">New
  Documentation</a></h1>
<p class="Pp">perl573delta has been added to list the differences between the
    (now quite obsolete) development releases 5.7.2 and 5.7.3.</p>
<p class="Pp">perl58delta has been added: it is the perldelta of 5.8.0,
    detailing the differences between 5.6.0 and 5.8.0.</p>
<p class="Pp">perlartistic has been added: it is the Artistic License in pod
    format, making it easier for modules to refer to it.</p>
<p class="Pp">perlcheat has been added: it is a Perl cheat sheet.</p>
<p class="Pp">perlgpl has been added: it is the GNU General Public License in
    pod format, making it easier for modules to refer to it.</p>
<p class="Pp">perlmacosx has been added to tell about the installation and use
    of Perl in Mac OS X.</p>
<p class="Pp">perlos400 has been added to tell about the installation and use of
    Perl in OS/400 PASE.</p>
<p class="Pp">perlreref has been added: it is a regular expressions quick
    reference.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Installation_and_Configuration_Improvements"><a class="permalink" href="#Installation_and_Configuration_Improvements">Installation
  and Configuration Improvements</a></h1>
<p class="Pp">The Unix standard Perl location, <i>/usr/bin/perl</i>, is no
    longer overwritten by default if it exists. This change was very prudent
    because so many Unix vendors already provide a <i>/usr/bin/perl</i>, but
    simultaneously many system utilities may depend on that exact version of
    Perl, so better not to overwrite it.</p>
<p class="Pp">One can now specify installation directories for site and vendor
    man and HTML pages, and site and vendor scripts. See <i>INSTALL</i>.</p>
<p class="Pp">One can now specify a destination directory for Perl installation
    by specifying the DESTDIR variable for <span class="Li">&quot;make
    install&quot;</span>. (This feature is slightly different from the previous
    <span class="Li">&quot;Configure -Dinstallprefix=...&quot;</span>.) See
    <i>INSTALL</i>.</p>
<p class="Pp">gcc versions 3.x introduced a new warning that caused a lot of
    noise during Perl compilation: <span class="Li">&quot;gcc
    -Ialreadyknowndirectory (warning:</span> <span class="Li">changing search
    order)&quot;</span>. This warning has now been avoided by Configure weeding
    out such directories before the compilation.</p>
<p class="Pp">One can now build subsets of Perl core modules by using the
    Configure flags <span class="Li">&quot;-Dnoextensions=...&quot;</span> and
    <span class="Li">&quot;-Donlyextensions=...&quot;</span>, see
    <i>INSTALL</i>.</p>
<section class="Ss">
<h2 class="Ss" id="Platform-specific_enhancements"><a class="permalink" href="#Platform-specific_enhancements">Platform-specific
  enhancements</a></h2>
<p class="Pp">In Cygwin Perl can now be built with threads
    (<span class="Li">&quot;Configure -Duseithreads&quot;</span>). This works
    with both Cygwin 1.3.22 and Cygwin 1.5.3.</p>
<p class="Pp">In newer FreeBSD releases Perl 5.8.0 compilation failed because of
    trying to use <i>malloc.h</i>, which in FreeBSD is just a dummy file, and a
    fatal error to even try to use. Now <i>malloc.h</i> is not used.</p>
<p class="Pp">Perl is now known to build also in Hitachi HI-UXMPP.</p>
<p class="Pp">Perl is now known to build again in LynxOS.</p>
<p class="Pp">Mac OS X now installs with Perl version number embedded in
    installation directory names for easier upgrading of user-compiled Perl, and
    the installation directories in general are more standard. In other words,
    the default installation no longer breaks the Apple-provided Perl. On the
    other hand, with <span class="Li">&quot;Configure -Dprefix=/usr&quot;</span>
    you can now really replace the Apple-supplied Perl (<b>please be
    careful</b>).</p>
<p class="Pp">Mac OS X now builds Perl statically by default. This change was
    done mainly for faster startup times. The Apple-provided Perl is still
    dynamically linked and shared, and you can enable the sharedness for your
    own Perl builds by <span class="Li">&quot;Configure
    -Duseshrplib&quot;</span>.</p>
<p class="Pp">Perl has been ported to IBM's OS/400 PASE environment. The best
    way to build a Perl for PASE is to use an AIX host as a cross-compilation
    environment. See README.os400.</p>
<p class="Pp">Yet another cross-compilation option has been added: now Perl
    builds on OpenZaurus, a Linux distribution based on Mandrake + Embedix for
    the Sharp Zaurus PDA. See the Cross/README file.</p>
<p class="Pp">Tru64 when using gcc 3 drops the optimisation for <i>toke.c</i> to
    <span class="Li">&quot;-O2&quot;</span> because of gigantic memory use with
    the default <span class="Li">&quot;-O3&quot;</span>.</p>
<p class="Pp">Tru64 can now build Perl with the newer Berkeley DBs.</p>
<p class="Pp">Building Perl on WinCE has been much enhanced, see
    <i>README.ce</i> and <i>README.perlce</i>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Closures,_eval_and_lexicals"><a class="permalink" href="#Closures,_eval_and_lexicals">Closures,
  eval and lexicals</a></h2>
<p class="Pp">There have been many fixes in the area of anonymous subs, lexicals
    and closures. Although this means that Perl is now more &quot;correct&quot;,
    it is possible that some existing code will break that happens to rely on
    the faulty behaviour. In practice this is unlikely unless your code contains
    a very complex nesting of anonymous subs, evals and lexicals.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Generic_fixes"><a class="permalink" href="#Generic_fixes">Generic
  fixes</a></h2>
<p class="Pp">If an input filehandle is marked
    <span class="Li">&quot;:utf8&quot;</span> and Perl sees illegal UTF-8 coming
    in when doing <span class="Li">&quot;&lt;FH&gt;&quot;</span>, if warnings
    are enabled a warning is immediately given - instead of being silent about
    it and Perl being unhappy about the broken data later. (The
    <span class="Li">&quot;:encoding(utf8)&quot;</span> layer also works the
    same way.)</p>
<p class="Pp">binmode(SOCKET, &quot;:utf8&quot;) only worked on the input side,
    not on the output side of the socket. Now it works both ways.</p>
<p class="Pp">For threaded Perls certain system database functions like
    <b>getpwent()</b> and <b>getgrent()</b> now grow their result buffer
    dynamically, instead of failing. This means that at sites with lots of users
    and groups the functions no longer fail by returning only partial
  results.</p>
<p class="Pp">Perl 5.8.0 had accidentally broken the capability for users to
    define their own uppercase&lt;-&gt;lowercase Unicode mappings (as advertised
    by the Camel). This feature has been fixed and is also documented
  better.</p>
<p class="Pp">In 5.8.0 this</p>
<p class="Pp"></p>
<pre>        $some_unicode .= &lt;FH&gt;;
</pre>
<p class="Pp">didn't work correctly but instead corrupted the data. This has now
    been fixed.</p>
<p class="Pp">Tied methods like FETCH etc. may now safely access tied values,
    i.e. resulting in a recursive call to FETCH etc. Remember to break the
    recursion, though.</p>
<p class="Pp">At startup Perl blocks the SIGFPE signal away since there isn't
    much Perl can do about it. Previously this blocking was in effect also for
    programs executed from within Perl. Now Perl restores the original SIGFPE
    handling routine, whatever it was, before running external programs.</p>
<p class="Pp">Linenumbers in Perl scripts may now be greater than 65536, or
    2**16. (Perl scripts have always been able to be larger than that, it's just
    that the linenumber for reported errors and warnings have &quot;wrapped
    around&quot;.) While scripts that large usually indicate a need to rethink
    your code a bit, such Perl scripts do exist, for example as results from
    generated code. Now linenumbers can go all the way to 4294967296, or
  2**32.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Platform-specific_fixes"><a class="permalink" href="#Platform-specific_fixes">Platform-specific
  fixes</a></h2>
<p class="Pp">Linux</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Setting <span class="Li">$0</span> works again (with certain limitations
      that Perl cannot do much about: see &quot;$0&quot; in perlvar)</dd>
</dl>
<p class="Pp">HP-UX</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Setting <span class="Li">$0</span> now works.</dd>
</dl>
<p class="Pp">VMS</p>
<ul class="Bl-bullet">
  <li>Configuration now tests for the presence of
      <span class="Li">&quot;poll()&quot;</span>, and IO::Poll now uses the
      vendor-supplied function if detected.</li>
  <li>A rare access violation at Perl start-up could occur if the Perl image was
      installed with privileges or if there was an identifier with the subsystem
      attribute set in the process's rightslist. Either of these circumstances
      triggered tainting code that contained a pointer bug. The faulty pointer
      arithmetic has been fixed.</li>
  <li>The length limit on values (not keys) in the <span class="Li">%ENV</span>
      hash has been raised from 255 bytes to 32640 bytes (except when the
      PERL_ENV_TABLES setting overrides the default use of logical names for
      <span class="Li">%ENV</span>). If it is necessary to access these long
      values from outside Perl, be aware that they are implemented using search
      list logical names that store the value in pieces, each 255-byte piece (up
      to 128 of them) being an element in the search list. When doing a lookup
      in <span class="Li">%ENV</span> from within Perl, the elements are
      combined into a single value. The existing VMS-specific ability to access
      individual elements of a search list logical name via the
      <span class="Li">$ENV</span>{'foo;N'} syntax (where N is the search list
      index) is unimpaired.</li>
  <li>The piping implementation now uses local rather than global DCL symbols
      for inter-process communication.</li>
  <li>File::Find could become confused when navigating to a relative directory
      whose name collided with a logical name. This problem has been corrected
      by adding directory syntax to relative path names, thus preventing logical
      name translation.</li>
</ul>
<p class="Pp">Win32</p>
<ul class="Bl-bullet">
  <li>A memory leak in the <b>fork()</b> emulation has been fixed.</li>
  <li>The return value of the <b>ioctl()</b> built-in function was accidentally
      broken in 5.8.0. This has been corrected.</li>
  <li>The internal message loop executed by perl during blocking operations
      sometimes interfered with messages that were external to Perl. This often
      resulted in blocking operations terminating prematurely or returning
      incorrect results, when Perl was executing under environments that could
      generate Windows messages. This has been corrected.</li>
  <li>Pipes and sockets are now automatically in binary mode.</li>
  <li>The four-argument form of <b>select()</b> did not preserve $! (errno)
      properly when there were errors in the underlying call. This is now
    fixed.</li>
  <li>The &quot;CR CR LF&quot; problem of has been fixed, binmode(FH,
      &quot;:crlf&quot;) is now effectively a no-op.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="New_or_Changed_Diagnostics"><a class="permalink" href="#New_or_Changed_Diagnostics">New
  or Changed Diagnostics</a></h1>
<p class="Pp">All the warnings related to <b>pack()</b> and <b>unpack()</b> were
    made more informative and consistent.</p>
<section class="Ss">
<h2 class="Ss" id="Changed__A_thread_exited_while__d_threads_were_running_"><a class="permalink" href="#Changed__A_thread_exited_while__d_threads_were_running_">Changed
  &quot;A thread exited while %d threads were running&quot;</a></h2>
<p class="Pp">The old version</p>
<p class="Pp"></p>
<pre>    A thread exited while %d other threads were still running
</pre>
<p class="Pp">was misleading because the &quot;other&quot; included also the
    thread giving the warning.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Removed__Attempt_to_clear_a_restricted_hash_"><a class="permalink" href="#Removed__Attempt_to_clear_a_restricted_hash_">Removed
  &quot;Attempt to clear a restricted hash&quot;</a></h2>
<p class="Pp">It is not illegal to clear a restricted hash, so the warning was
    removed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Illegal_declaration_of_anonymous_subroutine_"><a class="permalink" href="#New__Illegal_declaration_of_anonymous_subroutine_">New
  &quot;Illegal declaration of anonymous subroutine&quot;</a></h2>
<p class="Pp">You must specify the block of code for
    <span class="Li">&quot;sub&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Changed__Invalid_range___s__in_transliteration_operator_"><a class="permalink" href="#Changed__Invalid_range___s__in_transliteration_operator_">Changed
  &quot;Invalid range &quot;%s&quot; in transliteration operator&quot;</a></h2>
<p class="Pp">The old version</p>
<p class="Pp"></p>
<pre>    Invalid [] range &quot;%s&quot; in transliteration operator
</pre>
<p class="Pp">was simply wrong because there are no &quot;[] ranges&quot; in
    tr///.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Missing_control_char_name_in_"><a class="permalink" href="#New__Missing_control_char_name_in_">New
  &quot;Missing control char name in \c&quot;</a></h2>
<p class="Pp">Self-explanatory.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Newline_in_left-justified_string_for__s_"><a class="permalink" href="#New__Newline_in_left-justified_string_for__s_">New
  &quot;Newline in left-justified string for %s&quot;</a></h2>
<p class="Pp">The padding spaces would appear after the newline, which is
    probably not what you had in mind.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Possible_precedence_problem_on_bitwise__c_operator_"><a class="permalink" href="#New__Possible_precedence_problem_on_bitwise__c_operator_">New
  &quot;Possible precedence problem on bitwise %c operator&quot;</a></h2>
<p class="Pp">If you think this</p>
<p class="Pp"></p>
<pre>    $x &amp; $y == 0
</pre>
<p class="Pp">tests whether the bitwise AND of <span class="Li">$x</span> and
    <span class="Li">$y</span> is zero, you will like this warning.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Pseudo-hashes_are_deprecated_"><a class="permalink" href="#New__Pseudo-hashes_are_deprecated_">New
  &quot;Pseudo-hashes are deprecated&quot;</a></h2>
<p class="Pp">This warning should have been already in 5.8.0, since they
  are.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__"><a class="permalink" href="#New__">New
  &quot;<b>read()</b> on %s filehandle %s&quot;</a></h2>
<p class="Pp">You cannot <b>read()</b> (or <b>sysread()</b>) from a closed or
    unopened filehandle.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__5.005_threads_are_deprecated_"><a class="permalink" href="#New__5.005_threads_are_deprecated_">New
  &quot;5.005 threads are deprecated&quot;</a></h2>
<p class="Pp">This warning should have been already in 5.8.0, since they
  are.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Tied_variable_freed_while_still_in_use_"><a class="permalink" href="#New__Tied_variable_freed_while_still_in_use_">New
  &quot;Tied variable freed while still in use&quot;</a></h2>
<p class="Pp">Something pulled the plug on a live tied variable, Perl plays safe
    by bailing out.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__To_s:_illegal_mapping_'_s'_"><a class="permalink" href="#New__To_s:_illegal_mapping_'_s'_">New
  &quot;To%s: illegal mapping '%s'&quot;</a></h2>
<p class="Pp">An illegal user-defined Unicode casemapping was specified.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__Use_of_freed_value_in_iteration_"><a class="permalink" href="#New__Use_of_freed_value_in_iteration_">New
  &quot;Use of freed value in iteration&quot;</a></h2>
<p class="Pp">Something modified the values being iterated over. This is not
    good.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Changed_Internals"><a class="permalink" href="#Changed_Internals">Changed
  Internals</a></h1>
<p class="Pp">These news matter to you only if you either write XS code or like
    to know about or hack Perl internals (using Devel::Peek or any of the
    <span class="Li">&quot;B::&quot;</span> modules counts), or like to run Perl
    with the <span class="Li">&quot;-D&quot;</span> option.</p>
<p class="Pp">The embedding examples of perlembed have been reviewed to be up to
    date and consistent: for example, the correct use of <b>PERL_SYS_INIT3()</b>
    and <b>PERL_SYS_TERM()</b>.</p>
<p class="Pp">Extensive reworking of the pad code (the code responsible for
    lexical variables) has been conducted by Dave Mitchell.</p>
<p class="Pp">Extensive work on the v-strings by John Peacock.</p>
<p class="Pp">UTF-8 length and position cache: to speed up the handling of
    Unicode (UTF-8) scalars, a cache was introduced. Potential problems exist if
    an extension bypasses the official APIs and directly modifies the PV of an
    SV: the UTF-8 cache does not get cleared as it should.</p>
<p class="Pp">APIs obsoleted in Perl 5.8.0, like sv_2pv, sv_catpvn, sv_catsv,
    sv_setsv, are again available.</p>
<p class="Pp">Certain Perl core C APIs like cxinc and regatom are no longer
    available at all to code outside the Perl core of the Perl core extensions.
    This is intentional. They never should have been available with the shorter
    names, and if you application depends on them, you should (be ashamed and)
    contact perl5-porters to discuss what are the proper APIs.</p>
<p class="Pp">Certain Perl core C APIs like
    <span class="Li">&quot;Perl_list&quot;</span> are no longer available
    without their <span class="Li">&quot;Perl_&quot;</span> prefix. If your XS
    module stops working because some functions cannot be found, in many cases a
    simple fix is to add the <span class="Li">&quot;Perl_&quot;</span> prefix to
    the function and the thread context
    <span class="Li">&quot;aTHX_&quot;</span> as the first argument of the
    function call. This is also how it should always have been done: letting the
    Perl_-less forms to leak from the core was an accident. For cleaner
    embedding you can also force this for all APIs by defining at compile time
    the cpp define PERL_NO_SHORT_NAMES.</p>
<p class="Pp"><b>Perl_save_bool()</b> has been added.</p>
<p class="Pp">Regexp objects (those created with
    <span class="Li">&quot;qr&quot;</span>) now have S-magic rather than
    R-magic. This fixed regexps of the form /...(??{...;$x})/ to no longer
    ignore changes made to <span class="Li">$x</span>. The S-magic avoids
    dropping the caching optimization and making (??{...}) constructs obscenely
    slow (and consequently useless). See also &quot;Magic Variables&quot; in
    perlguts. Regexp::Copy was affected by this change.</p>
<p class="Pp">The Perl internal debugging macros <b>DEBUG()</b> and <b>DEB()</b>
    have been renamed to <b>PERL_DEBUG()</b> and <b>PERL_DEB()</b> to avoid
    namespace conflicts.</p>
<p class="Pp"><span class="Li">&quot;-DL&quot;</span> removed (the leaktest had
    been broken and unsupported for years, use alternative debugging mallocs or
    tools like valgrind and Purify).</p>
<p class="Pp">Verbose modifier <span class="Li">&quot;v&quot;</span> added for
    <span class="Li">&quot;-DXv&quot;</span> and
    <span class="Li">&quot;-Dsv&quot;</span>, see perlrun.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="New_Tests"><a class="permalink" href="#New_Tests">New
  Tests</a></h1>
<p class="Pp">In Perl 5.8.0 there were about 69000 separate tests in about 700
    test files, in Perl 5.8.1 there are about 77000 separate tests in about 780
    test files. The exact numbers depend on the Perl configuration and on the
    operating system platform.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
<p class="Pp">The hash randomisation mentioned in &quot;Incompatible
    Changes&quot; is definitely problematic: it will wake dormant bugs and shake
    out bad assumptions.</p>
<p class="Pp">If you want to use mod_perl 2.x with Perl 5.8.1, you will need
    mod_perl-1.99_10 or higher. Earlier versions of mod_perl 2.x do not work
    with the randomised hashes. (mod_perl 1.x works fine.) You will also need
    Apache::Test 1.04 or higher.</p>
<p class="Pp">Many of the rarer platforms that worked 100% or pretty close to it
    with perl 5.8.0 have been left a little bit untended since their maintainers
    have been otherwise busy lately, and therefore there will be more failures
    on those platforms. Such platforms include Mac OS Classic, IBM z/OS (and
    other EBCDIC platforms), and NetWare. The most common Perl platforms (Unix
    and Unix-like, Microsoft platforms, and VMS) have large enough testing and
    expert population that they are doing well.</p>
<section class="Ss">
<h2 class="Ss" id="Tied_hashes_in_scalar_context"><a class="permalink" href="#Tied_hashes_in_scalar_context">Tied
  hashes in scalar context</a></h2>
<p class="Pp">Tied hashes do not currently return anything useful in scalar
    context, for example when used as boolean tests:</p>
<p class="Pp"></p>
<pre>        if (%tied_hash) { ... }
</pre>
<p class="Pp">The current nonsensical behaviour is always to return false,
    regardless of whether the hash is empty or has elements.</p>
<p class="Pp">The root cause is that there is no interface for the implementors
    of tied hashes to implement the behaviour of a hash in scalar context.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Net::Ping_450_service_and_510_ping_udp_failures"><a class="permalink" href="#Net::Ping_450_service_and_510_ping_udp_failures">Net::Ping
  450_service and 510_ping_udp failures</a></h2>
<p class="Pp">The subtests 9 and 18 of lib/Net/Ping/t/450_service.t, and the
    subtest 2 of lib/Net/Ping/t/510_ping_udp.t might fail if you have an unusual
    networking setup. For example in the latter case the test is trying to send
    a UDP ping to the IP address 127.0.0.1.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="B::C"><a class="permalink" href="#B::C">B::C</a></h2>
<p class="Pp">The C-generating compiler backend B::C (the frontend being
    <span class="Li">&quot;perlcc -c&quot;</span>) is even more broken than it
    used to be because of the extensive lexical variable changes. (The good news
    is that B::Bytecode and ByteLoader are better than they used to be.)</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Specific_Problems"><a class="permalink" href="#Platform_Specific_Problems">Platform
  Specific Problems</a></h1>
<section class="Ss">
<h2 class="Ss">EBCDIC Platforms</h2>
<p class="Pp">IBM z/OS and other EBCDIC platforms continue to be problematic
    regarding Unicode support. Many Unicode tests are skipped when they really
    should be fixed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Cygwin_1.5_problems"><a class="permalink" href="#Cygwin_1.5_problems">Cygwin
  1.5 problems</a></h2>
<p class="Pp">In Cygwin 1.5 the <i>io/tell</i> and <i>op/sysio</i> tests have
    failures for some yet unknown reason. In 1.5.5 the threads tests stress_cv,
    stress_re, and stress_string are failing unless the environment variable
    PERLIO is set to &quot;perlio&quot; (which makes also the io/tell failure go
    away).</p>
<p class="Pp">Perl 5.8.1 does build and work well with Cygwin 1.3: with (uname
    -a) <span class="Li">&quot;CYGWIN_NT-5.0 ... 1.3.22(0.78/3/2) 2003-03-18
    09:20 i686 ...&quot;</span> a 100% &quot;make test&quot; was achieved with
    <span class="Li">&quot;Configure -des -Duseithreads&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="HP-UX:_"><a class="permalink" href="#HP-UX:_">HP-UX: HP cc
  warnings about sendfile and sendpath</a></h2>
<p class="Pp">With certain HP C compiler releases (e.g. B.11.11.02) you will get
    many warnings like this (lines wrapped for easier reading):</p>
<p class="Pp"></p>
<pre>  cc: &quot;/usr/include/sys/socket.h&quot;, line 504: warning 562:
    Redeclaration of &quot;sendfile&quot; with a different storage class specifier:
      &quot;sendfile&quot; will have internal linkage.
  cc: &quot;/usr/include/sys/socket.h&quot;, line 505: warning 562:
    Redeclaration of &quot;sendpath&quot; with a different storage class specifier:
      &quot;sendpath&quot; will have internal linkage.
</pre>
<p class="Pp">The warnings show up both during the build of Perl and during
    certain lib/ExtUtils tests that invoke the C compiler. The warning, however,
    is not serious and can be ignored.</p>
</section>
<section class="Ss">
<h2 class="Ss">IRIX: t/uni/tr_7jis.t falsely failing</h2>
<p class="Pp">The test t/uni/tr_7jis.t is known to report failure under 'make
    test' or the test harness with certain releases of IRIX (at least IRIX 6.5
    and MIPSpro Compilers Version 7.3.1.1m), but if run manually the test fully
    passes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Mac_"><a class="permalink" href="#Mac_">Mac OS X: no
  usemymalloc</a></h2>
<p class="Pp">The Perl malloc
    (<span class="Li">&quot;-Dusemymalloc&quot;</span>) does not work at all in
    Mac OS X. This is not that serious, though, since the native malloc works
    just fine.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Tru64:_No_threaded_builds_with_"><a class="permalink" href="#Tru64:_No_threaded_builds_with_">Tru64:
  No threaded builds with GNU cc (gcc)</a></h2>
<p class="Pp">In the latest Tru64 releases (e.g. v5.1B or later) gcc cannot be
    used to compile a threaded Perl (-Duseithreads) because the system
    <span class="Li">&quot;&lt;pthread.h&gt;&quot;</span> file doesn't know
    about gcc.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Win32:_sysopen,_sysread,_syswrite"><a class="permalink" href="#Win32:_sysopen,_sysread,_syswrite">Win32:
  sysopen, sysread, syswrite</a></h2>
<p class="Pp">As of the 5.8.0 release,
    <b>sysopen()</b>/<b>sysread()</b>/<b>syswrite()</b> do not behave like they
    used to in 5.6.1 and earlier with respect to &quot;text&quot; mode. These
    built-ins now always operate in &quot;binary&quot; mode (even if
    <b>sysopen()</b> was passed the O_TEXT flag, or if <b>binmode()</b> was used
    on the file handle). Note that this issue should only make a difference for
    disk files, as sockets and pipes have always been in &quot;binary&quot; mode
    in the Windows port. As this behavior is currently considered a bug,
    compatible behavior may be re-introduced in a future release. Until then,
    the use of <b>sysopen()</b>, <b>sysread()</b> and <b>syswrite()</b> is not
    supported for &quot;text&quot; mode operations.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Future_Directions"><a class="permalink" href="#Future_Directions">Future
  Directions</a></h1>
<p class="Pp">The following things <b>might</b> happen in future. The first
    publicly available releases having these characteristics will be the
    developer releases Perl 5.9.x, culminating in the Perl 5.10.0 release. These
    are our best guesses at the moment: we reserve the right to rethink.</p>
<ul class="Bl-bullet">
  <li>PerlIO will become The Default. Currently (in Perl 5.8.x) the stdio
      library is still used if Perl thinks it can use certain tricks to make
      stdio go <b>really</b> fast. For future releases our goal is to make
      PerlIO go even faster.</li>
  <li>A new feature called <i>assertions</i> will be available. This means that
      one can have code called assertions sprinkled in the code: usually they
      are optimised away, but they can be enabled with the
      <span class="Li">&quot;-A&quot;</span> option.</li>
  <li>A new operator <span class="Li">&quot;//&quot;</span> (defined-or) will be
      available. This means that one will be able to say
    <p class="Pp"></p>
    <pre>    $a // $b
    </pre>
    <p class="Pp">instead of</p>
    <p class="Pp"></p>
    <pre>   defined $a ? $a : $b
    </pre>
    <p class="Pp">and</p>
    <p class="Pp"></p>
    <pre>   $c //= $d;
    </pre>
    <p class="Pp">instead of</p>
    <p class="Pp"></p>
    <pre>   $c = $d unless defined $c;
    </pre>
    <p class="Pp">The operator will have the same precedence and associativity
        as <span class="Li">&quot;||&quot;</span>. A source code patch against
        the Perl 5.8.1 sources will be available in CPAN as
        <i>authors/id/H/HM/HMBRAND/dor-5.8.1.diff</i>.</p>
  </li>
  <li><span class="Li">&quot;unpack()&quot;</span> will default to unpacking the
      <span class="Li">$_</span>.</li>
  <li>Various Copy-On-Write techniques will be investigated in hopes of speeding
      up Perl.</li>
  <li>CPANPLUS, Inline, and Module::Build will become core modules.</li>
  <li>The ability to write true lexically scoped pragmas will be
    introduced.</li>
  <li>Work will continue on the bytecompiler and byteloader.</li>
  <li>v-strings as they currently exist are scheduled to be deprecated. The
      v-less form (1.2.3) will become a &quot;version object&quot; when used
      with <span class="Li">&quot;use&quot;</span>,
      <span class="Li">&quot;require&quot;</span>, and
      <span class="Li">$VERSION</span>. $^V will also be a &quot;version
      object&quot; so the printf(&quot;%vd&quot;,...) construct will no longer
      be needed. The v-ful version (v1.2.3) will become obsolete. The
      equivalence of strings and v-strings (e.g. that currently 5.8.0 is equal
      to &quot;\5\8\0&quot;) will go away. <b>There may be no</b> <b>deprecation
      warning for v-strings</b>, though: it is quite hard to detect when
      v-strings are being used safely, and when they are not.</li>
  <li>5.005 Threads Will Be Removed</li>
  <li>The <span class="Li">$*</span> Variable Will Be Removed (it was deprecated
      a long time ago)</li>
  <li>Pseudohashes Will Be Removed</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
<p class="Pp">If you find what you think is a bug, you might check the articles
    recently posted to the comp.lang.perl.misc newsgroup and the perl bug
    database at http://bugs.perl.org/ . There may also be information at
    http://www.perl.com/ , the Perl Home Page.</p>
<p class="Pp">If you believe you have an unreported bug, please run the
    <b>perlbug</b> program included with your release. Be sure to trim your bug
    down to a tiny but sufficient test case. Your bug report, along with the
    output of <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team. You can browse and
    search the Perl 5 bugs at http://bugs.perl.org/</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The <i>Changes</i> file for exhaustive details on what
  changed.</p>
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-06-14</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
