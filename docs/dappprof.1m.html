<!DOCTYPE html>
<html>
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>dappprof(1m)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dappprof(1m)</td>
    <td class="head-vol">USER COMMANDS</td>
    <td class="head-rtitle">dappprof(1m)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">dappprof - profile user and lib function usage. Uses DTrace.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>dappprof</b> [-acehoTU] [-u lib] { -p PID | command }</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">dappprof prints details on user and library call times for
    processes as a summary style aggragation. By default the user fuctions are
    traced, options can be used to trace library activity. Output can include
    function counts, elapsed times and on cpu times.</p>
<p class="Pp">The elapsed times are interesting, to help identify functions that
    take some time to complete (during which the process may have slept). CPU
    time helps us identify syscalls that are consuming CPU cycles to run.</p>
<p class="Pp">Since this uses DTrace, only users with root privileges can run
    this command.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="a"><a class="permalink" href="#a">-a</a></dt>
  <dd>print all data</dd>
  <dt id="c"><a class="permalink" href="#c">-c</a></dt>
  <dd>print function counts</dd>
  <dt id="e"><a class="permalink" href="#e">-e</a></dt>
  <dd>print elapsed times, ns</dd>
  <dt id="o"><a class="permalink" href="#o">-o</a></dt>
  <dd>print CPU times, ns</dd>
  <dt id="T"><a class="permalink" href="#T">-T</a></dt>
  <dd>print totals</dd>
  <dt id="p"><a class="permalink" href="#p">-p PID</a></dt>
  <dd>examine this PID</dd>
  <dt id="u"><a class="permalink" href="#u">-u lib</a></dt>
  <dd>trace this library instead</dd>
  <dt id="U"><a class="permalink" href="#U">-U</a></dt>
  <dd>trace all library and user functions</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt id="run"><a class="permalink" href="#run">run and examine the &quot;df
    -h&quot; command,</a></dt>
  <dd># <b>dappprof</b> df -h</dd>
  <dt id="print"><a class="permalink" href="#print">print elapsed times, on-cpu
    times and counts for &quot;df -h&quot;,</a></dt>
  <dd># <b>dappprof</b> -ceo df -h</dd>
  <dt id="print~2"><a class="permalink" href="#print~2">print elapsed times for
    PID 1871,</a></dt>
  <dd># <b>dappprof</b> -p 1871</dd>
  <dt id="print~3"><a class="permalink" href="#print~3">print all data for PID
    1871,</a></dt>
  <dd># <b>dappprof</b> -ap 1871</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FIELDS"><a class="permalink" href="#FIELDS">FIELDS</a></h1>
<dl class="Bl-tag">
  <dt id="CALL"><a class="permalink" href="#CALL">CALL</a></dt>
  <dd>Function call name</dd>
  <dt id="ELAPSED"><a class="permalink" href="#ELAPSED">ELAPSED</a></dt>
  <dd>Total elapsed time, nanoseconds</dd>
  <dt id="CPU"><a class="permalink" href="#CPU">CPU</a></dt>
  <dd>Total on-cpu time, nanoseconds</dd>
  <dt id="COUNT"><a class="permalink" href="#COUNT">COUNT</a></dt>
  <dd>Number of occurrences</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DOCUMENTATION"><a class="permalink" href="#DOCUMENTATION">DOCUMENTATION</a></h1>
<p class="Pp">See the DTraceToolkit for further documentation under the Docs
    directory. The DTraceToolkit docs may include full worked examples with
    verbose descriptions explaining the output.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT"><a class="permalink" href="#EXIT">EXIT</a></h1>
<p class="Pp">dappprof will sample until Ctrl-C is hit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Brendan Gregg [Sydney, Australia]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">dapptrace(1M), dtrace(1M), apptrace(1)</p>
<p class="Pp"></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 14, 2005</td>
    <td class="foot-os">version 1.10</td>
  </tr>
</table>
</body>
</html>
