<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1993
  	The Regents of the University of California.  All rights reserved.
  
   This code is derived from software contributed to Berkeley by
   Paul Borman at Krystal Technologies.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. All advertising materials mentioning features or use of this software
      must display the following acknowledgement:
  	This product includes software developed by the University of
  	California, Berkeley and its contributors.
   4. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
  	@(#)rune.3	8.2 (Berkeley) 12/11/93
   $FreeBSD: src/lib/libc/locale/rune.3,v 1.22 2002/12/19 09:40:22 ru Exp $
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>RUNE(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RUNE(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">RUNE(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">setrunelocale</code>,
    <code class="Nm">setinvalidrune</code>, <code class="Nm">sgetrune</code>,
    <code class="Nm">sputrune</code>, <code class="Nm">fgetrune</code>,
    <code class="Nm">fungetrune</code>, <code class="Nm">fputrune</code>
    &#x2014; <span class="Nd">rune support for C</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp"><span class="Lb">Standard C&#x00A0;Library (libc, -lc)</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include &lt;<a class="In">rune.h</a>&gt;</code>
  <br/>
  <code class="In">#include &lt;<a class="In">errno.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">setrunelocale</code>(<var class="Fa" style="white-space: nowrap;">char
    *locale</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">setinvalidrune</code>(<var class="Fa" style="white-space: nowrap;">rune_t
    rune</var>);</p>
<p class="Pp"><var class="Ft">rune_t</var>
  <br/>
  <code class="Fn">sgetrune</code>(<var class="Fa" style="white-space: nowrap;">const
    char *string</var>, <var class="Fa" style="white-space: nowrap;">size_t
    n</var>, <var class="Fa" style="white-space: nowrap;">char const
    **result</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">sputrune</code>(<var class="Fa" style="white-space: nowrap;">rune_t
    rune</var>, <var class="Fa" style="white-space: nowrap;">char *string</var>,
    <var class="Fa" style="white-space: nowrap;">size_t n</var>,
    <var class="Fa" style="white-space: nowrap;">char **result</var>);</p>
<p class="Pp">
  <br/>
  <code class="In">#include &lt;<a class="In">stdio.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">long</var>
  <br/>
  <code class="Fn">fgetrune</code>(<var class="Fa" style="white-space: nowrap;">FILE
    *stream</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">fungetrune</code>(<var class="Fa" style="white-space: nowrap;">rune_t
    rune</var>, <var class="Fa" style="white-space: nowrap;">FILE
    *stream</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">fputrune</code>(<var class="Fa" style="white-space: nowrap;">rune_t
    rune</var>, <var class="Fa" style="white-space: nowrap;">FILE
    *stream</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<div class="Bf Em">The <span class="Ux">4.4BSD</span> &#x201C;rune&#x201D;
  functions have been deprecated in favour of the ISO C99 extended multibyte and
  wide character facilities and should not be used in new applications.</div>
<p class="Pp">Consider using <a class="Xr">setlocale(3)</a>,
    <a class="Xr">mbrtowc(3)</a>, <a class="Xr">wcrtomb(3)</a>,
    <a class="Xr">fgetwc(3)</a>, <a class="Xr">ungetwc(3)</a>, and
    <a class="Xr">fputwc(3)</a> instead.</p>
<p class="Pp" id="setrunelocale">The
    <a class="permalink" href="#setrunelocale"><code class="Fn">setrunelocale</code></a>()
    controls the type of encoding used to represent runes as multibyte strings
    as well as the properties of the runes as defined in
    &#x27E8;<span class="Pa">ctype.h</span>&#x27E9;. The
    <var class="Fa">locale</var> argument indicates which locale to load. If the
    locale is successfully loaded, <code class="Dv">0</code> is returned,
    otherwise an errno value is returned to indicate the type of error.</p>
<p class="Pp" id="setinvalidrune">The
    <a class="permalink" href="#setinvalidrune"><code class="Fn">setinvalidrune</code></a>()
    function sets the value of the global value
    <code class="Dv">_INVALID_RUNE</code> to be <var class="Fa">rune</var>.</p>
<p class="Pp" id="sgetrune">The
    <a class="permalink" href="#sgetrune"><code class="Fn">sgetrune</code></a>()
    function tries to read a single multibyte character from
    <var class="Fa">string</var>, which is at most <var class="Fa">n</var> bytes
    long. If <code class="Fn">sgetrune</code>() is successful, the rune is
    returned. If <var class="Fa">result</var> is not
    <code class="Dv">NULL</code>, <var class="Fa">*result</var> will point to
    the first byte which was not converted in <var class="Fa">string</var>. If
    the first <var class="Fa">n</var> bytes of <var class="Fa">string</var> do
    not describe a full multibyte character,
    <code class="Dv">_INVALID_RUNE</code> is returned and
    <var class="Fa">*result</var> will point to <var class="Fa">string</var>. If
    there is an encoding error at the start of <var class="Fa">string</var>,
    <code class="Dv">_INVALID_RUNE</code> is returned and
    <var class="Fa">*result</var> will point to the second character of
    <var class="Fa">string</var>.</p>
<p class="Pp" id="sputrune">the
    <a class="permalink" href="#sputrune"><code class="Fn">sputrune</code></a>()
    function tries to encode <var class="Fa">rune</var> as a multibyte string
    and store it at <var class="Fa">string</var>, but no more than
    <var class="Fa">n</var> bytes will be stored. If
    <var class="Fa">result</var> is not <code class="Dv">NULL</code>,
    <var class="Fa">*result</var> will be set to point to the first byte in
    string following the new multibyte character. If
    <var class="Fa">string</var> is <code class="Dv">NULL</code>,
    <var class="Fa">*result</var> will point to <code class="Dv">(char *)0
    +</code> <var class="Fa">x</var>, where <var class="Fa">x</var> is the
    number of bytes that would be needed to store the multibyte value. If the
    multibyte character would consist of more than <var class="Fa">n</var> bytes
    and <var class="Fa">result</var> is not <code class="Dv">NULL</code>,
    <var class="Fa">*result</var> will be set to <code class="Dv">NULL</code>.
    In all cases, <code class="Fn">sputrune</code>() will return the number of
    bytes which would be needed to store <var class="Fa">rune</var> as a
    multibyte character.</p>
<p class="Pp" id="fgetrune">The
    <a class="permalink" href="#fgetrune"><code class="Fn">fgetrune</code></a>()
    function operates the same as <code class="Fn">sgetrune</code>() with the
    exception that it attempts to read enough bytes from
    <var class="Fa">stream</var> to decode a single rune. It returns either
    <code class="Dv">EOF</code> on end of file,
    <code class="Dv">_INVALID_RUNE</code> on an encoding error, or the rune
    decoded if all went well.</p>
<p class="Pp" id="fungetrune">The
    <a class="permalink" href="#fungetrune"><code class="Fn">fungetrune</code></a>()
    function pushes the multibyte encoding, as provided by
    <code class="Fn">sputrune</code>(), of <var class="Fa">rune</var> onto
    <var class="Fa">stream</var> such that the next
    <code class="Fn">fgetrune</code>() call will return
    <var class="Fa">rune</var>. It returns <code class="Dv">EOF</code> if it
    fails and <code class="Dv">0</code> on success.</p>
<p class="Pp" id="fputrune">The
    <a class="permalink" href="#fputrune"><code class="Fn">fputrune</code></a>()
    function writes the multibyte encoding of <var class="Fa">rune</var>, as
    provided by <code class="Fn">sputrune</code>(), onto
    <var class="Fa">stream</var>. It returns <code class="Dv">EOF</code> on
    failure and <code class="Dv">0</code> on success.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp">The <code class="Fn">setrunelocale</code>() function returns one
    of the following values:</p>
<dl class="Bl-tag">
  <dt><code class="Er">0</code></dt>
  <dd>The <code class="Fn">setrunelocale</code>() function was successful.</dd>
  <dt>[<code class="Er">EINVAL</code>]</dt>
  <dd>The <var class="Fa">locale</var> name was incorrect.</dd>
  <dt>[<code class="Er">ENOENT</code>]</dt>
  <dd>The locale could not be found.</dd>
  <dt>[<code class="Er">EFTYPE</code>]</dt>
  <dd>The file found was not a valid file.</dd>
</dl>
<p class="Pp">The <code class="Fn">sgetrune</code>() function either returns the
    rune read or <code class="Dv">_INVALID_RUNE</code>. The
    <code class="Fn">sputrune</code>() function returns the number of bytes
    needed to store <var class="Fa">rune</var> as a multibyte string.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt><span class="Pa">$PATH_LOCALE/</span><i class="Em">locale</i>/LC_CTYPE</dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt><span class="Pa">/usr/share/locale/</span><i class="Em">locale</i>/LC_CTYPE</dt>
  <dd>binary LC_CTYPE file for the locale <i class="Em">locale</i>.</dd>
  <dt><span class="Pa">/usr/local/share/locale/</span><i class="Em">locale</i>/LC_CTYPE</dt>
  <dd>binary LC_CTYPE file for the locale <i class="Em">locale</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">mbrune(3)</a>, <a class="Xr">setlocale(3)</a>,
    <a class="Xr">euc(4)</a>, <a class="Xr">utf2(4)</a>,
    <a class="Xr">utf8(5)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">These functions first appeared in
  <span class="Ux">4.4BSD</span>.</p>
<p class="Pp" id="Plan">The <code class="Fn">setrunelocale</code>() function and
    the other non-ANSI rune functions were inspired by
    <a class="permalink" href="#Plan"><b class="Sy">Plan 9 from Bell
    Labs</b></a>.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 6, 2002</td>
    <td class="foot-os">Mac OS X 12</td>
  </tr>
</table>
</body>
</html>
