<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Syslog(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Syslog(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Syslog(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Unix::Syslog - Perl interface to the UNIX syslog(3) calls
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
 use Unix::Syslog qw(:macros);  # Syslog macros
 use Unix::Syslog qw(:subs);    # Syslog functions

 openlog $ident, $option, $facility;
 syslog $priority, $format, @formatargs;
 closelog;
 $oldmask = setlogmask $mask_priority;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module provides an interface to the system logger <b>syslogd</b>(8) via
  Perl's XSUBs. The implementation attempts to resemble the native
  libc-functions of your system, so that anyone being familiar with
  <i>syslog.h</i> should be able to use this module right away.
<p class="Pp">In contrary to <b>Sys::Syslog</b>(3), this modules does not open a
    network connection to send the messages. This can help you to avoid opening
    security holes in your computer (see &quot;FAQ&quot;).</p>
<p class="Pp">The subs imported by the tag
    <span class="Li">&quot;macros&quot;</span> are simply wrappers around the
    most important <span class="Li">&quot;#defines&quot;</span> in your system's
    C header file <i>syslog.h</i>. The macros return integer values that are
    used to specify options, facilities and priorities in a more or less
    portable way. They also provide general information about your local syslog
    mechanism. Check <b>syslog</b>(3) and your local <i>syslog.h</i> for
    information about the macros, options and facilities available on your
    system.</p>
<p class="Pp">The following functions are provided:</p>
<dl class="Bl-tag">
  <dt>openlog $ident, $option, $facility</dt>
  <dd>opens a connection to the system logger. <i></i><i>$ident</i><i></i> is an
      identifier string that <b>syslogd</b>(8) prints into every message. It
      usually equals the process name. <i></i><i>$option</i><i></i> is an
      integer value that is the result of ORed options.
      <i></i><i>$facility</i><i></i> is an integer value that specifies the part
      of the system the message should be associated with (e.g. kernel message,
      mail subsystem).</dd>
  <dt>syslog $priority, $format, @formatargs</dt>
  <dd>Generates a log message and passes it to the system logger. If
      <span class="Li">&quot;syslog()&quot;</span> is called without calling
      <span class="Li">&quot;openlog()&quot;</span> first, probably system
      dependent default values will be used as arguments for an implicit call to
      <span class="Li">&quot;openlog()&quot;</span>.
    <p class="Pp"><i></i><i>$priority</i><i></i> is an integer value that
        specifies the priority of the message. Alternatively
        <i></i><i>$priority</i> <i></i> can be the ORed value of a priority and
        a facility. In that case a previously selected facility will be
        overridden.</p>
    <p class="Pp">In the case that <span class="Li">&quot;syslog()&quot;</span>
        is called without calling <span class="Li">&quot;openlog()&quot;</span>
        first and <i>priority</i> does not specify both a priority <i>and</i> a
        facility, a default facility will be used. This behaviour is most likely
        system dependent and the user should not rely on any particular value in
        that case.</p>
    <p class="Pp"><i></i><i>$format</i><i></i> is a format string in the style
        of <b>printf</b>(3). Additionally to the usual printf directives
        <span class="Li">%m</span> can be specified in the string. It will be
        replaced implicitly by the contents of the Perl variable
        <span class="Li">$!</span> (<span class="Li">$ERRNO</span>).
        <i></i><i>@formatargs</i><i></i> is a list of values that the format
        directives will be replaced with subsequently.</p>
  </dd>
  <dt>closelog</dt>
  <dd>closes the connection to the system logger.</dd>
  <dt>setlogmask $mask_priority</dt>
  <dd>sets the priority mask and returns the old mask. Logging is enabled for
      the priorities indicated by the bits in the mask that are set and is
      disabled where the bits are not set. Macros are provided to specify valid
      and portable arguments to
      <span class="Li">&quot;setlogmask()&quot;</span>. Usually the default log
      mask allows all messages to be logged.</dd>
  <dt>priorityname $priority</dt>
  <dd>returns a string containing the name of <i></i><i>$priority</i><i></i> as
      string. If this functionality has not been enabled at installation, the
      function returns <i>undef</i>.</dd>
  <dt>facilityname $facility</dt>
  <dd>returns a string containing the name of <i></i><i>$facility</i><i></i> as
      string. If this functionality has not been enabled at installation, the
      function returns <i>undef</i>.</dd>
</dl>
<p class="Pp"><b>NOTE</b>: The behaviour of this module is system dependent. It
    is highly recommended to consult your system manual for available macros and
    the behaviour of the provided functions.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
The functions <b>openlog()</b>, <b>syslog()</b> and <b>closelog()</b> return the
  undefined value. The function setlogmask returns the previous mask value.
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
Open a channel to syslogd specifying an identifier (usually the process name)
  some options and the facility:
 <span class="Li">&quot;openlog &quot;test.pl&quot;, LOG_PID | LOG_PERROR,
  LOG_LOCAL7;&quot;</span>
<p class="Pp">Generate log message of specified priority using a printf-type
    formatted string:
   <span class="Li">&quot;syslog LOG_INFO, &quot;This is message number
    %d&quot;, 42;&quot;</span></p>
<p class="Pp">Set log priority mask to block all messages but those of priority
    <span class="Li">&quot;LOG_DEBUG&quot;</span>:
   <span class="Li">&quot;$oldmask =
    setlogmask(LOG_MASK(LOG_DEBUG))&quot;</span></p>
<p class="Pp">Set log priority mask to block all messages with a higher priority
    than <span class="Li">&quot;LOG_ERR&quot;</span>:
   <span class="Li">&quot;$oldmask =
  setlogmask(LOG_UPTO(LOG_ERR))&quot;</span></p>
<p class="Pp">Close channel to syslogd:
   <span class="Li">&quot;closelog;&quot;</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="FAQ"><a class="permalink" href="#FAQ">FAQ</a></h1>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>What is the benefit of using this module instead of Sys::Syslog?
    <p class="Pp">Sys::Syslog always opens a network connection to the syslog
        service. At least on Linux systems this may lead to some trouble,
        because</p>
  </dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Linux syslogd (from package sysklogd) does not listen to the network by
      default. Most people working on stand-alone machines (including me) didn't
      see any reason why to enable this option. Others didn't enable it for
      security reasons.
    <p class="Pp">OS-independent, some sysadmins may run a firewall on their
        network that blocks connections to port 514/udp.</p>
  </li>
  <li>By default Linux syslogd doesn't forward messages which have already
      already received from the network to other log hosts. There are reasons
      not to enable this option unless it is really necessary. Looping messages
      resulting from a misconfiguration may break down your (log-)system.</li>
</ul>
</div>
<div class="Bd-indent">
<p class="Pp">Peter Stamfest &lt;peter.stamfest@eunet.at&gt; pointed out some
    other advantages of Unix::Syslog, I didn't came across my self.</p>
<ul class="Bl-bullet">
  <li>LOG_PERROR works.</li>
  <li>works with perl -Tw without warnings and problems due to tainted data as
      it is the case for Sys::Syslog in some special applications. [Especially
      when running a script as root]</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>2.</dt>
  <dd>Well, is there any reason to use Sys::Syslog any longer?
    <p class="Pp">Yes! In contrary to Unix::Syslog, Sys::Syslog works even if
        you don't have a syslog daemon running on your system as long as you are
        connected to a log host via a network and have access to the
        <i>syslog.h</i> header file of your log host to generate the initial
        files for Sys::Syslog (see <b>Sys::Syslog</b>(3) for details).
        Unix::Syslog only logs to your local syslog daemon which in turn may be
        configured to distribute the message over the network.</p>
  </dd>
  <dt>3.</dt>
  <dd>Are calls to the functions provided by Unix::Syslog compatible to those of
      Sys::Syslog?
    <p class="Pp">Currently not. Sys::Syslog requires strings to specify many of
        the arguments to the functions, while Unix::Syslog uses numeric
        constants accessed via macros as defined in <i>syslog.h</i>. Although
        the strings used by Sys::Syslog are also defined in <i>syslog.h</i>, it
        seems that most people got used to the numeric arguments. I will
        implement the string based calls if there are enough people
        (<i></i><i>$min_people</i><i></i> &gt; 10**40) complaining about the
        lack of compatibility.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>syslog</b>(3), <b>Sys::Syslog</b>(3), <b>syslogd</b>(8), <b>perl</b>(1)
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Marcus Harnisch &lt;marcus.harnisch@gmx.net&gt;
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2008-05-18</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
