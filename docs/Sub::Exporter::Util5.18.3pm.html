<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Sub::Exporter::Util(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Sub::Exporter::Util(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Sub::Exporter::Util(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Sub::Exporter::Util - utilities to make Sub::Exporter easier
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 0.987
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module provides a number of utility functions for performing common or
  useful operations when setting up a Sub::Exporter configuration. All of the
  utilities may be exported, but none are by default.
</section>
<section class="Sh">
<h1 class="Sh" id="THE_UTILITIES"><a class="permalink" href="#THE_UTILITIES">THE
  UTILITIES</a></h1>
<section class="Ss">
<h2 class="Ss" id="curry_method"><a class="permalink" href="#curry_method">curry_method</a></h2>
<span class="Li"></span>
<pre>
  exports =&gt; {
    some_method =&gt; curry_method,
  }
</pre>
<p class="Pp">This utility returns a generator which will produce an
    invocant-curried version of a method. In other words, it will export a
    method call with the exporting class built in as the invocant.</p>
<p class="Pp">A module importing the code some the above example might do
  this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Some::Module qw(some_method);

  my $x = some_method;
</pre>
<p class="Pp">This would be equivalent to:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Some::Module;

  my $x = Some::Module-&gt;some_method;
</pre>
<p class="Pp">If Some::Module is subclassed and the subclass's import method is
    called to import <span class="Li">&quot;some_method&quot;</span>, the
    subclass will be curried in as the invocant.</p>
<p class="Pp">If an argument is provided for
    <span class="Li">&quot;curry_method&quot;</span> it is used as the name of
    the curried method to export. This means you could export a Widget
    constructor like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  exports =&gt; { widget =&gt; curry_method('new') }
</pre>
<p class="Pp">This utility may also be called as
    <span class="Li">&quot;curry_class&quot;</span>, for backwards
    compatibility.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="curry_chain"><a class="permalink" href="#curry_chain">curry_chain</a></h2>
<span class="Li">&quot;curry_chain&quot;</span> behaves like
  <span class="Li">&quot;curry_method&quot;</span>, but is meant for generating
  exports that will call several methods in succession.
<p class="Pp"><span class="Li"></span></p>
<pre>
  exports =&gt; {
    reticulate =&gt; curry_chain(
      new =&gt; gather_data =&gt; analyze =&gt; [ detail =&gt; 100 ] =&gt; 'results'
    ),
  }
</pre>
<p class="Pp">If imported from Spliner, calling the
    <span class="Li">&quot;reticulate&quot;</span> routine will be equivalent
    to:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  Spliner-&gt;new-&gt;gather_data-&gt;analyze(detail =&gt; 100)-&gt;results;
</pre>
<p class="Pp">If any method returns something on which methods may not be
    called, the routine croaks.</p>
<p class="Pp">The arguments to <span class="Li">&quot;curry_chain&quot;</span>
    form an optlist. The names are methods to be called and the arguments, if
    given, are arrayrefs to be dereferenced and passed as arguments to those
    methods. <span class="Li">&quot;curry_chain&quot;</span> returns a generator
    like those expected by Sub::Exporter.</p>
<p class="Pp"><b>Achtung!</b> at present, there is no way to pass arguments from
    the generated routine to the method calls. This will probably be solved in
    future revisions by allowing the opt list's values to be subroutines that
    will be called with the generated routine's stack.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="merge_col"><a class="permalink" href="#merge_col">merge_col</a></h2>
<span class="Li"></span>
<pre>
  exports =&gt; {
    merge_col(defaults =&gt; {
      twiddle =&gt; \'_twiddle_gen',
      tweak   =&gt; \&amp;_tweak_gen,
    }),
  }
</pre>
<p class="Pp">This utility wraps the given generator in one that will merge the
    named collection into its args before calling it. This means that you can
    support a &quot;default&quot; collector in multiple exports without writing
    the code each time.</p>
<p class="Pp">You can specify as many pairs of collection names and generators
    as you like.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="mixin_installer"><a class="permalink" href="#mixin_installer">mixin_installer</a></h2>
<span class="Li"></span>
<pre>
  use Sub::Exporter -setup =&gt; {
    installer =&gt; Sub::Exporter::Util::mixin_installer,
    exports   =&gt; [ qw(foo bar baz) ],
  };
</pre>
<p class="Pp">This utility returns an installer that will install into a
    superclass and adjust the ISA importing class to include the newly generated
    superclass.</p>
<p class="Pp">If the target of importing is an object, the hierarchy is
    reversed: the new class will be ISA the object's class, and the object will
    be reblessed.</p>
<p class="Pp"><b>Prerequisites</b>: This utility requires that
    Package::Generator be installed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="like"><a class="permalink" href="#like">like</a></h2>
It's a collector that adds imports for anything like given regex.
<p class="Pp">If you provide this configuration:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  exports    =&gt; [ qw(igrep imap islurp exhausted) ],
  collectors =&gt; { -like =&gt; Sub::Exporter::Util::like },
</pre>
<p class="Pp">A user may import from your module like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Your::Iterator -like =&gt; qr/^i/; # imports igre, imap, islurp
</pre>
<p class="Pp">or</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Your::Iterator -like =&gt; [ qr/^i/ =&gt; { -prefix =&gt; 'your_' } ];
</pre>
<p class="Pp">The group-like prefix and suffix arguments are respected; other
    arguments are passed on to the generators for matching exports.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Ricardo Signes &lt;rjbs@cpan.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is copyright (c) 2007 by Ricardo Signes.
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-10-18</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
