<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Generated from file '/Library/Caches/com.apple.xbs/Sources/tcl/tcl-129/tcl_ext/tcllib/tcllib/modules/tepam/tepam_procedure.man' by tcllib/doctools with format 'nroff'
   Copyright (c) 2009/2010, Andreas Drollinger
  
   The definitions below are for supplemental macros used in Tcl/Tk
   manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO
  	Start of list of standard options for a Tk widget.  The
  	options follow on successive lines, in four columns separated
  	by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   RCS: @(#) $Id: man.macros,v 1.1 2009/01/30 04:56:47 andreas_kupries Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
  	# Start an argument description
  .b
  	# define tabbing values for .AP
  
  	# BS - start boxed text
  	# ^y = starting y location
  	# ^b = 1
  	# BE - end boxed text (draw box now)
  	Draw four-sided box normally, but don't draw top of
  	box if the box started on an earlier page.
  	# VS - start vertical sidebar
  	# ^Y = starting y location
  	# ^v = 1 (for troff;  for nroff this doesn't matter)
  	# VE - end of vertical sidebar
  	# Special macro to handle page bottom:  finish off current
  	# box/sidebar if in box/sidebar mode, then invoked standard
  	# page bottom macro.
  	Draw three-sided box if this is the box's first page,
  	draw two sides but no top otherwise.
  	# DS - begin display
  	# DE - end display
  	# SO - start of list of standard options
  	# SE - end of list of standard options
  	# OP - start of full description for a single option
  	# CS - begin code excerpt
  	# CE - end code excerpt
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>tepam::procedure(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">tepam::procedure(n)</td>
    <td class="head-vol">Tcl's Enhanced Procedure and Argument Manager</td>
    <td class="head-rtitle">tepam::procedure(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>

</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
tepam::procedure - TEPAM procedure, reference manual
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
package require <b>Tcl 8.3</b>
<p class="Pp">package require <b>tepam ?0.1?</b></p>
<p class="Pp"><b>tepam::procedure</b> <i>name</i> <i>attributes</i>
  <i>body</i></p>
<p class="Pp"></p>
<pre>

</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This package provides an alternative way to declare Tcl procedures and to manage
  its arguments. There is a lot of benefit to declare a procedure with TEPAM
  rather than with the Tcl standard command <b>proc</b>: TEPAM allows specifying
  inside the procedure declaration in a natural syntax all information that is
  required to generate comprehensive documentations and help support. The
  information is also used by an automatically invoked argument checker that is
  validating the provided procedure arguments before the procedure body is
  executed. Finally, a procedure can be called interactively which will open a
  form into which the arguments can be entered interactively.
<p class="Pp">TEPAM simplifies also the handling of the different types of
    argument, like the <i>named arguments</i> (often also called <i>options</i>)
    and the <i>unnamed arguments</i>. TEPAM supports the <i>named first, unnamed
    later</i> style (used by many Tcl commands) as well as also the <i>unnamed
    first, named later</i> style (used by many Tk commands). TEPAM reduces the
    effort to use default values, optional arguments, multiple applicable
    arguments, etc. to a simply definition of an argument attributes.</p>
<p class="Pp">An informal overview of all the TEPAM procedure declaration and
    calling features as well as an informal introduction into TEPAM is provided
    by <i>tepam(n)</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="TERMINOLOGY"><a class="permalink" href="#TERMINOLOGY">TERMINOLOGY</a></h1>
The exact meaning of several terms that are used in this document will be
  shortly explained to avoid any ambiguities and misunderstandings.
<dl class="Bl-tag">
  <dt><i>Subcommand</i></dt>
  <dd>The usage of subcommands is heavily used in the Tcl language. Several
      commands are incorporated into a single main command and are selectable
      via the first argument.
    <p class="Pp">The <b>string</b> command is an example of such a command that
        implements for example subcommands to check a character string's length,
        to compare strings, to extract substrings, etc:</p>
    <pre>
<b>string length</b> <i>string</i>
<b>string compare</b> <i>string</i> <i>string</i>
<b>string range</b> <i>string</i> <i>first</i> <i>last</i>
    </pre>
    <p class="Pp">TEPAM provides a framework that allows implementing easily
        such subcommands in form of Tcl procedures. It allows not only defining
        a first level of subcommands, but also a higher level of subcommands.
        The <b>string</b> command's class check could be implemented as
        independent sub-sub-commands of the <b>string</b> command:</p>
    <pre>
<b>string is alnum</b> <i>string</i>
<b>string is integer</b> <i>string</i>
<b>string is double</b> <i>string</i>
    </pre>
  </dd>
  <dt><i>Procedure attribute</i></dt>
  <dd>TEPAM allows attaching to a declared procedure many kind of attributes.
      Some of these attributes are <i>just</i> used for documentation purposes,
      but other attributes specify the way how the procedure has to be called.
      Also the procedure arguments are defined in form of a procedure
    attribute.</dd>
  <dt><i>Argument</i></dt>
  <dd>TEPAM uses the term <i>argument</i> for the parameters of a procedure.
    <p class="Pp">The following example calls the subcommand <b>string
        compare</b> with several arguments:</p>
    <pre>
<b>string compare</b> <i>-nocase -length 3 &quot;emphasized&quot; &quot;emphasised&quot;</i>
    </pre>
    The following paragraphs discuss these different argument types.</dd>
  <dt><i>Named argument</i></dt>
  <dd>Some parameters, as <i>-length 3</i> of the subcommand <b>string
      compare</b> have to be provided as pairs of argument names and argument
      values. This parameter type is often also called <i>option</i>.
    <p class="Pp">TEPAM uses the term <i>named argument</i> for such options as
        well as for the flags (see next item).</p>
  </dd>
  <dt><i>Flag, switch</i></dt>
  <dd>Another parameter type is the <i>flag</i> or the <i>switch</i>. Flags are
      provided simply by naming the flag leading with the '-' character. The
      <i>-nocase</i> of the previous <b>string compare</b> example is such a
      flag.
    <p class="Pp"><i>Flags</i> are considered by TEPAM like a special form of
        <i>named arguments</i>.</p>
  </dd>
  <dt><i>Unnamed argument</i></dt>
  <dd>For the other parameters, e.g. the ones for which the argument name has
      not to be mentioned, TEPAM uses the term <i>unnamed argument</i>. The
      previous <b>string compare</b> example uses for the two provided character
      strings two <i>unnamed arguments</i>.</dd>
  <dt><i>Argument attribute</i></dt>
  <dd>TEPAM allows describing the purpose of each procedure argument with
      <i>argument attributes</i>. While some of them are just documenting the
      attributes, most attributes are used by an argument manager to control and
      validate the arguments that are provided during a procedure call. Argument
      attributes are used to specify default values, parameter classes (integer,
      xdigit, font, ...), valid choices, value ranges, etc.</dd>
  <dt><i>Named arguments first, unnamed arguments later</i></dt>
  <dd>The <b>string compare</b> command of the previous example requires that
      the <i>named arguments</i> (options, flags) are provided first. The two
      mandatory (unnamed) arguments have to be provided as last argument.
    <p class="Pp">This is the usual Tcl style (exceptions exist) which is
        referred in the TEPAM documentation as <i>named arguments first, unnamed
        arguments later style</i>.</p>
  </dd>
  <dt><i>Unnamed arguments first, named arguments later</i></dt>
  <dd>In contrast to most Tcl commands, Tk uses generally (exceptions exist also
      here) a different calling style where the <i>unnamed arguments</i> have to
      be provided first, before the <i>named arguments</i> have to be provided:
    <pre>
<b>pack</b> <i>.ent1 .ent2 -fill x -expand yes -side left</i>
    </pre>
    This style is referred in the TEPAM documentation as <i>unnamed arguments
      first, named arguments later style</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="PROCEDURE_DECLARATION"><a class="permalink" href="#PROCEDURE_DECLARATION">PROCEDURE
  DECLARATION</a></h1>
TEPAM allows declaring new Tcl procedures with the command
  <b>tepam::procedure</b> that similar to the standard Tcl command <b>proc</b>
  also 3 arguments:
<dl class="Bl-tag">
  <dt><b>tepam::procedure</b> <i>name</i> <i>attributes</i> <i>body</i></dt>
  <dd></dd>
</dl>
<p class="Pp">The TEPAM procedure declaration syntax is demonstrated by the
    following example:</p>
<pre>
<b>tepam::procedure</b> {display message} {
   -short_description
      &quot;Displays a simple message box&quot;
   -description
      &quot;This procedure allows displaying a configurable\
       message box. The default message type that is\
       created is a warning, but also errors and info can\
       be generated.
       The procedure accepts multiple text lines.&quot;
   -example
      {display message -mtype Warning &quot;Save first your job&quot;}
   -args {
      {-mtype -choices {Info Warning Error} \
              -default Warning -description &quot;Message type&quot;}
      {text   -type string -multiple \
              -description &quot;Multiple text lines to display&quot;}
   }
} {
   puts &quot;Message type: $mtype&quot;
   puts &quot;Message: $text&quot;
}
</pre>
The 3 arguments of <b>procedure</b> are:
<dl class="Bl-tag">
  <dt><i>name</i></dt>
  <dd>The procedure name can be used in very flexible ways. Not only that
      namespaces are fully supported. By providing a two element name list as
      procedure name, a subcommand of a procedure will be declared. It is even
      possible to declare sub-sub-commands of a procedure by providing name
      lists with three elements.
    <p class="Pp">Here are some valid procedure declarations using different
        procedure names (the attribute and body arguments are empty for
        simplicity):</p>
    <pre>
<i># Simple procedure name:</i>
tepam::procedure <b>display_message</b> {} {}
<i></i>
<i># Procedure declared in the main namespace:</i>
tepam::procedure <b>::display_message</b> {} {}
<i></i>
<i># Procedure in the namespace</i> <b>::ns</b><i>:</i>
tepam::procedure <b>::ns::display_message</b> {} {}
<i></i>
<i># Declaration of the subcommand</i> <b>message</b> <i>of the procedure</i> <b>display</b><i>:</i>
tepam::procedure <b>{display message}</b> {} {}
    </pre>
  </dd>
  <dt><i>attributes</i></dt>
  <dd>All procedure attributes are provided in form of an option list that
      contains pairs of option names and option data. The example above has as
      procedure attribute a short and a normal description, but also the
      procedure arguments are defined in form of a procedure attribute.
    <p class="Pp">Most procedure attributes are providing information for
        documentation purposes. But some of them affect also the way how the
        procedure can be called. The section <b>Procedure Attributes</b>
        discuses in detail the available procedure attributes.</p>
    <p class="Pp">The procedure arguments are defined in form of a special
        procedure attribute. Most of the information provided in the argument
        definition is not just used for documentation purposes. This information
        is in fact used by the TEPAM argument manager to handle and validate the
        various forms of arguments that are provided during the procedure calls.
        The section <b>Argument Declaration</b> discusses in detail all the
        argument definition attributes.</p>
  </dd>
  <dt><i>body</i></dt>
  <dd>This is the normal procedure body. The declared arguments will be
      available to the procedure body in form of variables.
    <p class="Pp">The procedure body will only be executed if the provided set
        of arguments could be validated by the TEPAM argument manager.</p>
    <pre>
tepam::procedure {display_message} {
   -args {
      {-<b>mtype</b> -default Warning -choices {Warning Error}}
      {<b>text</b> -type string}
   }
} {
   puts &quot;Message type: <b>$mtype</b>&quot;
   puts &quot;Message: <b>$text</b>&quot;
}
    </pre>
  </dd>
</dl>
<p class="Pp">The commands <b>procedure</b> as well as <b>argument_dialogbox</b>
    are exported from the namespace <b>tepam</b>. To use these commands without
    the <b>tepam::</b> namespace prefix, it is sufficient to import them into
    the main namespace:</p>
<pre>
<b>namespace import tepam::*</b>
<b>procedure</b> {display_message} {
   -args {
      ...
</pre>
<section class="Ss">
<h2 class="Ss" id="PROCEDURE_ATTRIBUTES"><a class="permalink" href="#PROCEDURE_ATTRIBUTES">PROCEDURE
  ATTRIBUTES</a></h2>
The first group of procedure attributes is not affecting the behavior of the
  declared procedure. These attributes are just used for the purpose of
  documentation and help text generation:
<dl class="Bl-tag">
  <dt>-category <i>string</i></dt>
  <dd>A category can be assigned to a procedure for documentation purposes. Any
      string is accepted as category.</dd>
  <dt>-short_description <i>string</i></dt>
  <dd>The short description of a procedure is used in the documentation summary
      of a generated procedure list as well as in the NAME section of a
      generated procedure manual page.</dd>
  <dt>-description <i>string</i></dt>
  <dd>The (full) description assigned to a procedure is used to create user
      manual and help pages.</dd>
  <dt>-return <i>string</i></dt>
  <dd>The <i>-return</i> attribute allows defining the expected return value of
      a procedure (user for documentation purposes).</dd>
  <dt>-example <i>string</i></dt>
  <dd>A help text or manual page of a procedure can be enriched with eventual
      examples, using the <i>-example</i> attribute.</dd>
</dl>
<p class="Pp">The following attributes are not relevant for the documentation
    and help text generation, but they affect the behavior of the declared
    procedure:</p>
<dl class="Bl-tag">
  <dt>-named_arguments_first <b>0</b>|<b>1</b></dt>
  <dd>This attribute defines the calling style of a procedure. TEPAM uses by
      default the <i>named arguments first, unnamed arguments later</i> style
      (Tcl). This default behavior can globally be changed by setting the
      variable <b>tepam::named_arguments_first</b> to <b>0</b>. This global
      calling style can be changed individually for a procedure with the
      <i>-named_arguments_first</i> attribute.</dd>
  <dt>-auto_argument_name_completion <b>0</b>|<b>1</b></dt>
  <dd>The declared procedures will by default automatically try to match
      eventually abbreviated argument names to the defined arguments names. This
      default behavior can globally be changed by setting the variable
      <b>tepam::auto_argument_name_completion</b> to <b>0</b>. This global
      setting of the automatic argument name completion can be changed
      individually for a procedure with the
      <i>-auto_argument_name_completion</i> attribute.</dd>
  <dt>-interactive_display_format <b>extended</b>|<b>short</b></dt>
  <dd>A procedure declared with the TEPAM <b>procedure</b> command can always be
      called with the <b>-interactive</b> option. By doing so, a graphical form
      will be generated that allows entering interactively all procedure
      arguments. There are two display modes for these interactive forms. While
      the <i>extended</i> mode is more adapted for small procedure argument
      sets, the <b>short</b> form is more adequate for huge procedure argument
      sets.
    <p class="Pp">The choice to use short or extended forms can globally be
        configured via the variable <b>tepam::interactive_display_format</b>.
        This global setting can then be changed individually for a procedure
        with the <i>-interactive_display_format</i> attribute.</p>
  </dd>
  <dt>-args <i>list</i></dt>
  <dd>The procedure's arguments are declared via the <i>-args</i> attribute. An
      argument is defined via a list having as first element the argument name,
      followed by eventual argument attributes. All these argument definition
      lists are packaged themselves into a global list that is assigned to the
      procedure's <i>-args</i> attribute.
    <p class="Pp">The next sub section describes in detail the argument
        definition syntax.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="ARGUMENT_DECLARATION"><a class="permalink" href="#ARGUMENT_DECLARATION">ARGUMENT
  DECLARATION</a></h2>
The following example highlights the structure that is used for the argument
  definitions in the context of a procedure declaration:
<pre>
tepam::procedure {display_message} {
   -args <b>{</b>
<b>      {-mtype -default Warning -choices {Info Warning Error} -description &quot;Message type&quot;}</b>
<b>      {-font -type font -default {Arial 10 italic} -description &quot;Message text font&quot;}</b>
<b>      {-level -type integer -optional -range {1 10} -description &quot;Message level&quot;}</b>
<b>      {-fg -type color -optional -description &quot;Message color&quot;}</b>
<b>      {-log_file -type file -optional -description &quot;Optional message log file&quot;}</b>
<b>      {text -type string -multiple -description &quot;Multiple text lines to display&quot;}</b>
<b>   }</b>
} {
}
</pre>
So, each of the procedure arguments is declared with a list that has as first
  element the argument name, followed by eventual attributes. The argument
  definition syntax can be formalized in the following way:
<pre>
tepam::procedure &lt;name&gt; {
   -args <b>{</b>
<b>      {&lt;argument_name_1&gt; &lt;arg_attr_name_1a&gt; &lt;arg_attr_data_1a&gt; \</b>
<b>                         &lt;arg_attr_name_1b&gt; &lt;arg_attr_data_1b&gt; ...}</b>
<b>      {&lt;argument_name_2&gt; &lt;arg_attr_name_2a&gt; &lt;arg_attr_data_2a&gt; \</b>
<b>                         &lt;arg_attr_name_2b&gt; &lt;arg_attr_data_2b&gt; ...}</b>
<b>      ...</b>
<b>   }</b>
} &lt;body&gt;
</pre>
The argument names and attributes have to be used in the following way:
<dl class="Bl-tag">
  <dt>Argument name (<i>&lt;argument_name_&lt;n&gt;&gt;</i>)</dt>
  <dd>The provided argument name specifies if the argument is an <i>unnamed
      argument</i> or a <i>named argument/option</i>. In addition to this, an
      argument name can also be blank to indicate an argument comment, or it can
      start with # to indicate a section comment.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><i>&quot;&lt;Name&gt;&quot;</i></dt>
  <dd>This is the simplest form of an argument name: An argument whose name is
      not starting with '-' is an unnamed argument. The parameter provided
      during a procedure call will be assigned to a variable with the name
      <i>&lt;Name&gt;</i>.
    <pre>
tepam::procedure {print_string} {
   -args {
      {<b>text</b> -type string -description &quot;This is an unnamed argument&quot;}
   }
} {
   puts <b>$text</b>
}
print_string <b>&quot;Hello&quot;</b>
<i> -&gt; Hello</i>
    </pre>
  </dd>
  <dt><i>&quot;-&lt;Name&gt;&quot;</i></dt>
  <dd>An argument whose name starts with '-' is a named argument (also called
      <i>option</i>). The parameter provided during a procedure call will be
      assigned to a variable with the name <i>&lt;Name&gt;</i> (not
      <i>-&lt;Name&gt;</i>).
    <pre>
tepam::procedure {print_string} {
   -args {
      {<b>-text</b> -type string -description &quot;This is a named argument&quot;}
   }
} {
   puts <b>$text</b>
}
print_string <b>-text &quot;Hello&quot;</b>
<i> -&gt; Hello</i>
    </pre>
  </dd>
  <dt><i>&quot;--&quot;</i></dt>
  <dd>This flag allows clearly specifying the end of the named arguments and the
      begin of the unnamed arguments, in case the <i>named arguments first,
      unnamed arguments later style (Tcl)</i> has been selected.
    <p class="Pp">If the <i>unnamed arguments first, named arguments later style
        (Tk)</i> style is selected, this flag is ignored when the unnamed
        arguments have already been parsed. Otherwise it will be assigned to the
        corresponding unnamed argument.</p>
  </dd>
  <dt><i>&quot;-&quot;</i> or <i>&quot;&quot;</i></dt>
  <dd>A blank argument name (either '-' or <i>''</i>) indicates an argument
      comment. All remaining characters of the argument definition list will be
      considered as a comment that will be attributed to the following
      attribute.
    <pre>
tepam::procedure {print_time} {
   -args {
      {hours -type integer -description &quot;Hour&quot;}
      {minutes -type integer -description &quot;Minute&quot;}
      <b>{- The following arguments are optional:}</b>
      {seconds -type integer -default 0 -description &quot;Seconds&quot;}
      {milliseconds -type integer -default 0 -description &quot;Milliseconds&quot;}
   }
} {
   puts &quot;${hour}h${minutes}:[expr $seconds+0.001*$milliseconds]&quot;
}
    </pre>
    Argument comments are basically used in the interactive argument definition
      forms, when a procedure is called interactively.</dd>
  <dt><i>&quot;#*&quot;</i></dt>
  <dd>An argument definition list that starts with '#' is considered as a
      section comment. The argument definition list will be trimmed from the '#'
      characters and the remaining string will be used as section comment.
    <p class="Pp">Section comments can be used to structure visually the
        argument definition code. Section comments are also used to structure
        the generated help texts and the interactive argument definition
      forms.</p>
    <pre>
tepam::procedure {complex_multiply} {
   -description &quot;This function perform a complex multiplication&quot;
   -args {
      <b>{#### First complex number ####}</b>
      {-r0 -type double -description &quot;First number's real part&quot;}
      {-i0 -type double -description &quot;First number's imaginary part&quot;}
      <b>{#### Second complex number ####}</b>
      {-r1 -type double -description &quot;Second number's real part&quot;}
      {-i1 -type double -description &quot;Second number's imaginary part&quot;}
   }
} {
   return [expr $r0*$r1 - $i0*$i1]
}
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt>Argument attributes (<i>&lt;arg_attr_name_&lt;mn&gt;&gt;
    &lt;arg_attr_data_&lt;mn&gt;&gt;</i>)</dt>
  <dd>The following argument attributes are supported:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>-description <i>string</i></dt>
  <dd>The description argument attribute is used for documentation purpose.
      Interactive argument definition forms use this attribute to provide
      comprehensible explanations for an argument.</dd>
  <dt>-type <i>type</i></dt>
  <dd>The type argument attribute allows assigning the argument either to a
      predefined data type, or to a application specific data type. The argument
      data that are provided during a procedure call are automatically checked
      for consistency with the defined argument type.
    <p class="Pp">Section <b>ARGUMENT TYPES</b> provides a list of predefined
        data types and explains how application specific types can be
      specified.</p>
    <p class="Pp">The argument type <i>none</i> has a special meaning. An
        argument that has the type <i>none</i> is handled as a <i>flag</i>. A
        flag is always optional and its related variable contains the logical
        value <b>0</b> if the flag has been used during the procedure call, or
        otherwise <b>1</b>.</p>
  </dd>
  <dt>-default <i>value</i></dt>
  <dd>Eventual default values can be defined with the -default argument
      attribute. Arguments with default values are automatically optional
      arguments.</dd>
  <dt>-optional|-mandatory</dt>
  <dd>Arguments are by default mandatory, unless a default value is defined. The
      flag <i>-optional</i> transforms an argument into an optional argument.
    <p class="Pp">In case an optional argument is not defined during a procedure
        call, the corresponding variable will not be defined. The flag
        <i>-mandatory</i> is the opposite to <i>-optional</i>. This flag exists
        only for completion reason, since an argument is anyway mandatory by
        default.</p>
  </dd>
  <dt>-multiple</dt>
  <dd>Arguments that have the <i>-multiple</i> attribute can be defined multiple
      times during a procedure call. The data that are provided during a
      procedure call for such an argument are stored in a list. This is even the
      case if such an argument is only defined once during a procedure call.
    <p class="Pp">The <i>-multiple</i> attribute can be attributed to unnamed
        arguments and to named arguments. The pair of argument name/argument
        data has to be repeated for each provided data value in case of a named
        argument. In case the argument with the <i>-multiple</i> attribute is an
        unnamed argument, this one has to be the absolute last one of all
        unnamed arguments.</p>
  </dd>
  <dt>-choices <i>list</i></dt>
  <dd>A possible set of valid argument values can be attributed to an argument
      via the <i>-choices</i> attribute. The argument data provided during a
      procedure call will be checked against the provided choice values.</dd>
  <dt>-choicelabels <i>list</i></dt>
  <dd>An evanutal short description can be attributed to each choice option with
      the <i>-choicelabels</i> attribute. These descriptions will be used in the
      generated help texts and as radio and check box labels for the interactive
      calls.
    <p class="Pp">The <i>-choicelabels</i> attribute is optional, but if it is
        defined, its list needs to have the identical size as the
        <i>-choices</i> argument list.</p>
  </dd>
  <dt>-range <i>{double double}</i></dt>
  <dd>Another argument constraint can be defined with the <i>-range</i>
      attribute. The valid range is defined with a list containing the minimum
      valid value and a maximum valid value. The <i>-range</i> attribute has to
      be used only for numerical arguments, like integers and doubles.</dd>
  <dt>-validatecommand <i>script</i></dt>
  <dd>Eventual more complex argument data validations can be performed via
      specific validation commands that are assigned to the
      <i>validatecommand</i> attribute. The provided validation command can be a
      complete script in which the pattern <i>%P</i> is replaced by the argument
      data that has to be validated. An example of a validation command
      declaration is:
    <pre>
tepam::procedure {display_message} {
   -args {
      {text -type string -description &quot;Message text&quot; \
            <b>-validatecommand &quot;IllegalWordDetector %P&quot;</b>}
} {
}
    </pre>
  </dd>
  <dt>-auxargs <i>list</i></dt>
  <dd>In case a procedure is called interactively, additional argument
      attributes can be provided to the interactive argument definition form via
      the <i>-auxargs</i> attribute that is itself a list of attribute
      name/attribute data pairs:
    <pre>
-auxargs {-&lt;arg_attr_name_1a&gt; &lt;arg_attr_data_1a&gt; \
          -&lt;arg_attr_name_1b&gt; &lt;arg_attr_data_1b&gt;
          ...
}
    </pre>
    For example, if a procedure takes as argument a file name it may be
      beneficial to specify the required file type for the interactive argument
      definition form. This information can be provided via the <i>-auxargs</i>
      attribute to the argument definition form:
    <pre>
tepam::procedure LoadPicture {
   -args {
      {FileName -type existingfile -description &quot;Picture file&quot; \
                 <b>-auxargs {-filetypes {{&quot;GIF&quot; {*.gif}} {&quot;JPG&quot; {*.jpg}} }}</b>}
   }
} {
}
    </pre>
  </dd>
  <dt>-auxargs_commands <i>script</i></dt>
  <dd>If the auxiliary argument attributes are not static but have to be
      dynamically adaptable, the <i>-auxargs_commands</i> allows defining them
      via commands that are executed during a procedure call. A list of pairs of
      auxiliary attribute names and commands have to be provided to the
      <i>-auxargs_commands</i> attribute. The provided commands are executed in
      the context of the calling procedure.
    <pre>
-auxargs_commands {-&lt;arg_attr_name_1a&gt; &lt;arg_attr_command_1a&gt; \
                   -&lt;arg_attr_name_1b&gt; &lt;arg_attr_command_1b&gt;
                   ...
}
    </pre>
  </dd>
</dl>
</div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="VARIABLES"><a class="permalink" href="#VARIABLES">VARIABLES</a></h1>
Several variables defined inside the <b>::tepam</b> namespace are impacting the
  procedures and the way how they have to be called.
<dl class="Bl-tag">
  <dt><b>named_arguments_first</b></dt>
  <dd>This variable defines the general calling style of the procedures. It is
      by default set to <b>1</b> which selects the <i>named arguments first,
      unnamed arguments later</i> style (Tcl).
    <p class="Pp">By setting this variable to <b>0</b>, the <i>named arguments
        first, unnamed arguments later</i> style (Tk) is globally selected:</p>
    <pre>
set tepam::named_arguments_first 0
    </pre>
    <p class="Pp">While this variable defines globally the calling style, the
        procedure attribute <i>-named_arguments_first</i> can adapt this style
        individually for each procedure.</p>
  </dd>
  <dt><b>auto_argument_name_completion</b></dt>
  <dd>This variable controls globally the automatic argument name matching mode.
      By default it is set to <b>1</b>, meaning that the called procedures are
      trying to match eventually abbreviated argument names with the declared
      argument names.
    <p class="Pp">By setting this variable to <b>0</b> the automatic argument
        name matching mode is disabled:</p>
    <pre>
set tepam::auto_argument_name_completion 0
    </pre>
    <p class="Pp">While this variable defines globally the matching mode, the
        procedure attribute <i>-auto_argument_name_completion</i> can adapt this
        mode individually for each procedure.</p>
  </dd>
  <dt><b>interactive_display_format</b></dt>
  <dd>A procedure declared via the TEPAM <b>procedure</b> command can always be
      called with the <b>-interactive</b> switch. By doing so, a graphical form
      will be generated that allows entering interactively all procedure
      arguments.
    <p class="Pp">There are two display modes for these interactive forms. The
        <i>extended</i> mode which is the default mode is more adapted for small
        procedure argument sets, while the <b>short</b> form is more adequate
        for huge procedure argument sets:</p>
    <pre>
set tepam::interactive_display_format &quot;short&quot;
    </pre>
    <p class="Pp">The choice to use short or extended forms can globally be
        configured via this variable <b>interactive_display_format</b>. This
        global setting can be changed individually for a procedure with the
        procedure attribute <i>-interactive_display_format</i>.</p>
  </dd>
  <dt><b>help_line_length</b></dt>
  <dd>The maximum line length used by the procedure help text generator can be
      specified with this variable. The default length which is set to 80
      (characters) can easily be adapted to the need of an application:
    <pre>
set tepam::help_line_length 120
    </pre>
    Since this variable is applied directly during the help text generation, its
      value can continuously be adapted to the current need.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ARGUMENT_TYPES"><a class="permalink" href="#ARGUMENT_TYPES">ARGUMENT
  TYPES</a></h1>
Many argument types are predefined by TEPAM that can be used in the procedure
  argument definition section as argument type. In case a special application
  specific type is missing, it is easy to add the necessary support for such a
  type.
<section class="Ss">
<h2 class="Ss" id="PREDEFINED_ARGUMENT_TYPES"><a class="permalink" href="#PREDEFINED_ARGUMENT_TYPES">PREDEFINED
  ARGUMENT TYPES</a></h2>
To remember, a type can be assigned to each specified procedure argument:
<pre>
tepam::procedure {warning} {
   -args {
      {-font <b>-type font</b> -default {Arial 10 italic}}
      {-severity_level <b>-type integer</b> -optional -range {1 10}}
      {-fg <b>-type color</b> -optional -description &quot;Message color&quot;}
      {text <b>-type string</b> -multiple -description &quot;Multiple text lines to display&quot;}
   }
} {
   ...
}
</pre>
There are some <i>special purpose types</i> that are building the first category
  of predefined argument types:
<ul class="Bl-bullet">
  <li><b>none</b>
    <p class="Pp"><i>Flags</i>, also called <i>switches</i>, are defined by
        specifying a named argument with the type <b>none</b>. Flags are always
        optional and the default value of the assigned variable is set to
        <b>0</b>. In contrast to the (normal) named arguments no argument data
        has to be provided to a flag.</p>
    <pre>
tepam::procedure flag_test {
   -args {
      <b>{-flag -type none -description &quot;This is a flag&quot;}</b>
   }
} {
   puts <b>$flag</b>
}
flag_test
<i>-&gt; 0</i>
flag_test -flag
<i>-&gt; 1</i>
    </pre>
    <p class="Pp">Since no argument data has to be provided to a flag, also no
        data checks are performed for this argument type.</p>
  </li>
  <li><b>string</b>
    <p class="Pp"><b>String</b> is a generic argument data type. Any data string
        can be provided to a string type argument and no data type checks are
        therefore performed.</p>
  </li>
  <li><b>{}</b>
    <p class="Pp">A <b>blank</b> argument type signifies an undefined argument
        type. This is the default argument type that is used when no type has
        been explicitly specified. An argument that has a <b>blank</b> type
        behaves identically than an argument that has a <b>string</b> type, e.g.
        no argument data checks are performed. The only difference is that the
        data type <b>string</b> is mentioned in the generated help
        documentation, while this is not the case for <b>blank</b> type.</p>
  </li>
</ul>
<p class="Pp">Several <i>numerical types</i> are defined by TEPAM. The type
    validation procedures are not using only the <b>string is &lt;type&gt;</b>
    commands to check the validity of the provided arguments, but they assure
    also that no empty strings are provided as argument data (the <b>string is
    &lt;type&gt;</b> commands are considering an empty string as a valid
    numerical parameter). The common type validation expression is
  therefore:</p>
<pre>
expr [string length <i>&lt;argument_data&gt;</i>]&gt;0 &amp;&amp; [string is <b>&lt;type_to_check&gt;</b> <i>&lt;argument_data&gt;</i>]
</pre>
<ul class="Bl-bullet">
  <li><i>boolean</i>
    <p class="Pp"></p>
  </li>
  <li><i>integer</i>
    <p class="Pp"></p>
  </li>
  <li><i>double</i>
    <p class="Pp"></p>
  </li>
</ul>
<p class="Pp">The verification of all <i>alpha numeric types</i> is directly
    performed with the standard Tcl string type verification command:</p>
<pre>
string is <i>&lt;type_to_check&gt;</i> <i>&lt;argument_data&gt;</i>
</pre>
The following types are verified in this way:
<ul class="Bl-bullet">
  <li><i>alnum</i>
    <p class="Pp"></p>
  </li>
  <li><i>alpha</i>
    <p class="Pp"></p>
  </li>
  <li><i>ascii</i>
    <p class="Pp"></p>
  </li>
  <li><i>control</i>
    <p class="Pp"></p>
  </li>
  <li><i>digit</i>
    <p class="Pp"></p>
  </li>
  <li><i>graph</i>
    <p class="Pp"></p>
  </li>
  <li><i>lower</i>
    <p class="Pp"></p>
  </li>
  <li><i>print</i>
    <p class="Pp"></p>
  </li>
  <li><i>punct</i>
    <p class="Pp"></p>
  </li>
  <li><i>space</i>
    <p class="Pp"></p>
  </li>
  <li><i>upper</i>
    <p class="Pp"></p>
  </li>
  <li><i>wordchar</i>
    <p class="Pp"></p>
  </li>
  <li><i>xdigit</i>
    <p class="Pp"></p>
  </li>
</ul>
<p class="Pp">In addition to the data types checked with the <b>string is
    &lt;type&gt;</b> commands, TEPAM specifies some other useful data types:</p>
<ul class="Bl-bullet">
  <li><i>char</i>
    <p class="Pp">Each string that has a length of 1 character meets the
        <i>character</i> type. The type check is made with the following
        expression:</p>
    <pre>
expr [string length <i>&lt;argument_data&gt;</i>]==1
    </pre>
  </li>
  <li><i>color</i>
    <p class="Pp">Any character strings that are accepted by Tk as a color are
        considered as valid color argument. Please note that the Tk package has
        to be loaded to use the <i>color</i> type. TEPAM is using the following
        command to validate the color type:</p>
    <pre>
expr ![catch {winfo rgb . <i>&lt;argument_data&gt;</i>}]
    </pre>
  </li>
  <li><i>font</i>
    <p class="Pp">Any character strings that are accepted by Tk as a font are
        considered as valid font argument. Please note that the Tk package uas
        to be loaded to use the <i>font</i> type. TEPAM is using the following
        command to validate the color type:</p>
    <pre>
expr ![catch {font measure &lt;argument_data&gt; &quot;&quot;}]
    </pre>
  </li>
  <li><i>file</i>
    <p class="Pp">Any strings that are not containing one of the following
        characters are considered as valid file name: * ? &quot; &lt; &gt;. It
        is not necessary that the file or its containing directory is existing.
        Zero-length strings are not considered as valid file names.</p>
    <p class="Pp">The following expression is used to validate the file
      names:</p>
    <pre>
expr [string length &lt;argument_data&gt;]&gt;0 &amp;&amp; ![regexp {[\&quot;*?&lt;&gt;:]} &lt;argument_data&gt;]
    </pre>
  </li>
  <li><i>existingfile</i>
    <p class="Pp">The argument is valid if it matches with an existing file. The
        following check is performed to validate the arguments of this type:</p>
    <pre>
file exists &lt;argument_data&gt;
    </pre>
  </li>
  <li><i>directory</i>
    <p class="Pp">The directory argument is validated exactly in the same way as
        the file arguments.</p>
  </li>
  <li><i>existingdirectory</i>
    <p class="Pp">The argument is valid if it matches with an existing
        directory. The following check is performed to validate the arguments of
        this type:</p>
    <pre>
file isdirectory &lt;argument_data&gt;
    </pre>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="DEFINING_APPLICATION_SPECIFIC_ARGUMENT_TYPES"><a class="permalink" href="#DEFINING_APPLICATION_SPECIFIC_ARGUMENT_TYPES">DEFINING
  APPLICATION SPECIFIC ARGUMENT TYPES</a></h2>
Nothing is easier than adding support for a new application specific argument
  type. It is just necessary to add into the namespace <b>tepam</b> a validation
  function <b>Validation(&lt;type&gt;)</b> that has one argument and that
  returns <b>1</b> if the provided argument matches with the relevant data type.
  The function has to return otherwise <b>0</b>.
<p class="Pp">The validation command section of the &quot;<i>tepam.tcl</i>&quot;
    package provides sufficient examples of validation functions, since it
    implements the ones for the standard TEPAM types.</p>
<p class="Pp">The following additional code snippet shows the validation
    function for a custom argument type that has to correspond to a character
    string with a length of 2:</p>
<pre>
proc tepam::Validate(two_char) {v} {expr [string length $v]==2}
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="PROCEDURE_CALLS"><a class="permalink" href="#PROCEDURE_CALLS">PROCEDURE
  CALLS</a></h1>
<section class="Ss">
<h2 class="Ss" id="HELP"><a class="permalink" href="#HELP">HELP</a></h2>
Each procedure can be called with the <i>-help</i> flag. The procedure will then
  print a generated help text to <i>stdout</i> and will then return without
  performing any additional actions.
<p class="Pp">Taking the first procedure declared in <b>PROCEDURE CALLS</b>, the
    help request and the printed help text would be:</p>
<pre>
<b>display message -help</b>
<i>-&gt;</i>
<i>NAME</i>
<i>      display message - Displays a simple message box</i>
<i>SYNOPSIS</i>
<i>      display message</i>
<i>            [-mtype &lt;mtype&gt;]</i>
<i>               Message type, default: &quot;Warning&quot;, choices: {Info, Warning, Error}</i>
<i>            &lt;text&gt;</i>
<i>               Multiple text lines to display, type: string</i>
<i>DESCRIPTION</i>
<i>      This procedure allows displaying a configurable message box. The default</i>
<i>      message type that is created is a warning, but also errors and info can</i>
<i>      be generated.</i>
<i>      The procedure accepts multiple text lines.</i>
<i>EXAMPLE</i>
<i>      display message -mtype Warning &quot;Save first your job&quot;</i>
</pre>
The argument manager is checking if the last provided argument is <i>-help</i>
  and generates the requested help message if this is the case. So, also the
  following example will print the help message:
<pre>
<b>display message -mtype Info &quot;It is 7:00&quot; -help</b>
</pre>
On the other hand, the following call will result in an error:
<pre>
<b>display message -help -mtype Info &quot;It is 7:00&quot;</b>
<i>-&gt;</i>
<i>display message: Argument '-help' not known</i>
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="INTERACTIVE_PROCEDURE_CALL"><a class="permalink" href="#INTERACTIVE_PROCEDURE_CALL">INTERACTIVE
  PROCEDURE CALL</a></h2>
Calling a procedure with the <i>-interactive</i> flag will open a graphical form
  that allows specifying interactively all procedure arguments. The Tk library
  has to be loaded to use the interactive call. The following example assures
  that the Tk library is loaded and shows the command line to call interactively
  the procedure declared in <b>PROCEDURE CALLS</b>:
<pre>
package require Tk
<b>display message -interactive</b>
</pre>
Also the <i>-interactive</i> flag has to be placed at the last argument position
  as this is also required for the <i>-help</i> flag. Arguments defined before
  the <i>-interactive</i> flag will be ignored. The following example is
  therefore also a valid interactive procedure call:
<pre>
<b>display message</b> -mtype Info &quot;It is 7:00&quot; <b>-interactive</b>
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="UNNAMED_ARGUMENTS"><a class="permalink" href="#UNNAMED_ARGUMENTS">UNNAMED
  ARGUMENTS</a></h2>
Unnamed arguments are typically provided to the called procedure as simple
  parameters. This procedure calling form requires that the provided arguments
  are strictly following the order of the specified arguments. Several
  parameters can be assigned to the last argument if this one has the
  <i>-multiple</i> attribute. So, the following declared procedure ...
<pre>
tepam::procedure {display_message} {
   -args {
      {mtype -choices {Info Warning Error}}
      {text -type string -multiple}
   }
} {
   puts &quot;$mtype: [join $text]&quot;
}
</pre>
<pre>
<b>display_message Info &quot;It is PM 7:00.&quot;</b>
<i>-&gt; Info: It is PM 7:00.</i>
<b>display_message Info &quot;It is PM 7:00.&quot; &quot;You should go home.&quot;</b>
<i>-&gt; Info: It is PM 7:00. You should go home.</i>
</pre>
The nice thing is that unnamed arguments can also be called as named arguments,
  which can be handy, for example if the exact specified argument order is not
  known to a user:
<pre>
<b>display_message -mtype Info -text &quot;It is PM 7:00.&quot;</b>
<i>-&gt; Info: It is PM 7:00.</i>
<b>display_message -text &quot;It is PM 7:00.&quot; -mtype Info</b>
<i>-&gt; Info: It is PM 7:00.</i>
<b>display_message -mtype Info -text &quot;It is PM 7:00.&quot; -text &quot;You should go home.&quot;</b>
<i>-&gt; Info: It is PM 7:00. You should go home.</i>
<b>display_message -text &quot;It is PM 7:00.&quot; -text &quot;You should go home.&quot; -mtype Info</b>
<i>-&gt; Info: It is PM 7:00. You should go home.</i>
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="NAMED_ARGUMENTS"><a class="permalink" href="#NAMED_ARGUMENTS">NAMED
  ARGUMENTS</a></h2>
Named arguments have to be provided to a procedure in form of a parameter pairs
  composed by the argument names and the argument data. The order how they are
  provided during a procedure call is irrelevant and has not to match with the
  argument specification order.
<p class="Pp">The following declared procedure ...</p>
<pre>
tepam::procedure {display_message} {
   -args {
      {-mtype -choices {Info Warning Error}}
      {-text -type string -multiple}
   }
} {
   puts &quot;$mtype: [join $text]&quot;
}
</pre>
<pre>
<b>display_message -mtype Info -text &quot;It is PM 7:00.&quot;</b>
<i>-&gt; Info: It is PM 7:00.</i>
<b>display_message -text &quot;It is PM 7:00.&quot; -mtype Info</b>
<i>-&gt; Info: It is PM 7:00.</i>
<b>display_message -mtype Info -text &quot;It is PM 7:00.&quot; -text &quot;You should go home.&quot;</b>
<i>-&gt; Info: It is PM 7:00. You should go home.</i>
<b>display_message -text &quot;It is PM 7:00.&quot; -text &quot;You should go home.&quot; -mtype Info</b>
<i>-&gt; Info: It is PM 7:00. You should go home.</i>
</pre>
Also named arguments that have not the <i>-multiple</i> attribute can be
  provided multiple times. Only the last provided argument will be retained in
  such a case:
<pre>
<b>display_message -mtype Info -text &quot;It is PM 7:00.&quot; -mtype Warning</b>
<i>-&gt; Warning: It is PM 7:00.</i>
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="UNNAMED_ARGUMENTS_FIRST,_NAMED_ARGUMENTS_LATER_(TK_STYLE)"><a class="permalink" href="#UNNAMED_ARGUMENTS_FIRST,_NAMED_ARGUMENTS_LATER_(TK_STYLE)">UNNAMED
  ARGUMENTS FIRST, NAMED ARGUMENTS LATER (TK STYLE)</a></h2>
A procedure that has been defined while the variable
  <b>tepam::named_arguments_first</b> was set to 1, or with the procedure
  attribute <i>-named_arguments_first</i> set to 1 has to be called in the Tcl
  style. The following procedure declaration will be used in this section to
  illustrate the meaning of this calling style:
<pre>
<b>set tepam::named_arguments_first 1</b>
tepam::procedure my_proc {
   -args {
      {-n1 -default &quot;&quot;}
      {-n2 -default &quot;&quot;}
      {u1 -default &quot;&quot;}
      {u2 -default &quot;&quot;}
   }
} {
   puts &quot;n1:'$n1', n2:'$n2', u1:'$u1', u2:'$u2'&quot;
}
</pre>
The unnamed arguments are placed at the end of procedure call, after the named
  arguments:
<pre>
my_proc <b>-n1 N1 -n2 N2 U1 U2</b>
<i>-&gt; n1:'N1', n2:'N2', u1:'U1', u2:'U2'</i>
</pre>
The argument parser considers the first argument that doesn't start with the '-'
  character as well as all following arguments as unnamed argument:
<pre>
my_proc <b>U1 U2</b>
<i>-&gt; n1:'', n2:'', u1:'U1', u2:'U2'</i>
</pre>
Named arguments can be defined multiple times. If the named argument has the
  <i>-multiply</i> attribute, all argument data will be collected in a list.
  Otherwise, only the last provided attribute data will be retained:
<pre>
my_proc <b>-n1 N1 -n2 N2 -n1 M1 U1 U2</b>
<i>-&gt; n1:'M1', n2:'N2', u1:'U1', u2:'U2'</i>
</pre>
The name of the first unnamed argument has therefore not to start with the '-'
  character. The unnamed argument is otherwise considered as name of another
  named argument. This is especially important if the first unnamed argument is
  given by a variable that can contain any character strings:
<pre>
my_proc <b>-n1 N1 -n2 N2 &quot;-&gt;&quot; &quot;&lt;-&quot;</b>
<i>-&gt; my_proc: Argument '-&gt;' not known</i>
set U1 &quot;-&gt;&quot;
my_proc -n1 N1 -n2 N2 $U1 U2}]
my_proc: Argument '-&gt;' not known
</pre>
The '--' flag allows separating unambiguously the unnamed arguments from the
  named arguments. All data after the '--' flag will be considered as unnamed
  argument:
<pre>
my_proc <b>-n1 N1 -n2 N2 -- &quot;-&gt;&quot; &quot;&lt;-&quot;</b>
<i>-&gt; n1:'N1', n2:'N2', u1:'-&gt;', u2:'&lt;-'</i>
set U1 &quot;-&gt;&quot;
my_proc <b>-n1 N1 -n2 N2 -- $U1 U2</b>
<i>-&gt; n1:'N1', n2:'N2', u1:'-&gt;', u2:'&lt;-'</i>
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="NAMED_ARGUMENTS_FIRST,_UNNAMED_ARGUMENTS_LATER_(TCL_STYLE)"><a class="permalink" href="#NAMED_ARGUMENTS_FIRST,_UNNAMED_ARGUMENTS_LATER_(TCL_STYLE)">NAMED
  ARGUMENTS FIRST, UNNAMED ARGUMENTS LATER (TCL STYLE)</a></h2>
The Tk calling style is selected when a procedure is defined while the variable
  <b>tepam::named_arguments_first</b> is set to 0, or when the procedure
  attribute <i>-named_arguments_first</i> has been set to 0. The following
  procedure will be used in this section to illustrate this calling style:
<pre>
<b>set tepam::named_arguments_first 0</b>
tepam::procedure my_proc {
   -args {
      {-n1 -default &quot;&quot;}
      {-n2 -default &quot;&quot;}
      {u1}
      {u2 -default &quot;&quot; -multiple}
   }
} {
   puts &quot;n1:'$n1', n2:'$n2', u1:'$u1', u2:'$u2'&quot;
}
</pre>
The unnamed arguments have to be provided first in this case. The named
  arguments are provided afterwards:
<pre>
my_proc <b>U1 U2 -n1 N1 -n2 N2</b>
<i>-&gt; n1:'N1', n1:'N1', u1:'U1', u2:'U2'</i>
</pre>
The argument parser will assign to each defined unnamed argument an argument
  data before it switches to read the named arguments. This default behavior
  changes a bit if there are unnamed arguments that are optional or that can
  take multiple values.
<p class="Pp">An argument data will only be assigned to an unnamed argument that
    is optional (that has either the <i>-optional</i> attribute or that has a
    default value), when the data is not beginning with the '-' character or
    when no named arguments are defined. The data that starts with '-' is
    otherwise considered as the name of a named argument.</p>
<p class="Pp">Argument data are assigned to an argument that has the
    <i>-multiple</i> attribute as long as the parameter value doesn't starts
    with the '-' character.</p>
<p class="Pp">This constraint that parameter values that start with the '-'
    character cannot be assigned to optional unnamed arguments makes the Tcl
    procedure calling style not suitable for all situations. The Tk style may be
    preferable in some cases, since it allows separating unambiguously the named
    arguments from the unnamed ones with the '--' flag.</p>
<p class="Pp">Let's explore in a bit less theoretically the ways how the
    previously defined procedure can be called: The first example calls the
    procedure without any parameters, which leads to an error since <i>u1</i> is
    a mandatory argument:</p>
<pre>
my_proc
<i>-&gt; my_proc: Required argument is missing: u1</i>
</pre>
The procedure call is valid if one parameter is provided for <i>u1</i>:
<pre>
my_proc <b>U1</b>
<i>-&gt; n1:'', n2:'', u1:'U1', u2:''</i>
</pre>
When more parameters are provided that are not starting with the '-' character,
  then they will be attributed to the unnamed arguments. <i>U2</i> will receive
  3 of these parameters, since it accepts multiple values:
<pre>
my_proc <b>U1 U2 U3 U4</b>
<i>-&gt; n1:'', n2:'', u1:'U1', u2:'U2 U3 U4'</i>
</pre>
As soon as one parameter starts with '-' and all unnamed arguments have been
  served, the argument manager tries to interpret the parameter as name of a
  named argument. The procedure call will fail if the intend was to attribute
  the parameter beginning with '-' to an unnamed argument:
<pre>
my_proc <b>U1 U2 U3 U4 -U5</b>
<i>-&gt; my_proc: Argument '-U5' not known</i>
</pre>
The attribution of a parameter to a named argument will fail if there are
  undefined unnamed (non optional) arguments. The name specification will in
  this case simply be considered as a parameter value that is attributed to the
  <i>next</i> unnamed argument. This was certainly not the intention in the
  following example:
<pre>
my_proc <b>-n1 N1</b>
<i>-&gt; n1:'', n2:'', u1:'-n1', u2:'N1'</i>
</pre>
The situation is completely different if values have already been attributed to
  all mandatory unnamed arguments. A parameter beginning with the '-' character
  will in this case be considered as a name identifier for a named argument:
<pre>
my_proc <b>U1 -n1 N1</b>
<i>-&gt; n1:'N1', n2:'', u1:'U1', u2:''</i>
</pre>
No unnamed arguments are allowed behind the named arguments:
<pre>
my_proc <b>U1 -n1 N1 U2</b>
<i>-&gt; my_proc: Argument 'U2' is not an option</i>
</pre>
The '--' flag has no special meaning if not all mandatory arguments have got
  assigned a value. This flag will simply be attributed to one of the unnamed
  arguments:
<pre>
my_proc <b>-- -n1 N1</b>
<i>-&gt; n1:'N1', n2:'', u1:'--', u2:''</i>
</pre>
But the '--' flag is simply ignored if the argument parser has started to handle
  the named arguments:
<pre>
my_proc <b>U1 -- -n1 N1</b>
<i>-&gt; n1:'N1', n2:'', u1:'U1', u2:''</i>
my_proc <b>U1 -n1 N1 -- -n2 N2</b>
<i>-&gt; n1:'N1', n2:'N2', u1:'U1', u2:''</i>
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="RAW_ARGUMENT_LIST"><a class="permalink" href="#RAW_ARGUMENT_LIST">RAW
  ARGUMENT LIST</a></h2>
It may be necessary sometimes that the procedure body is able to access the
  entire list of arguments provided during a procedure call. This can happen via
  the <b>args</b> variable that contains always to unprocessed argument list:
<pre>
tepam::procedure {display_message} {
   -args {
      {-mtype -choices {Warning Error} -default Warning}
      {text -type string -multiple}
   }
} {
   puts &quot;args: <b>$args</b>&quot;
}
display_message -mtype Warning &quot;It is 7:00&quot;
<i>-&gt; args: -mtype Warning {It is 7:00}</i>
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
tepam_introduction(n), tepam_procedure(n)
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
argument integrity, argument validation, arguments, procedure, subcommand
</section>
<section class="Sh">
<h1 class="Sh" id="CATEGORY"><a class="permalink" href="#CATEGORY">CATEGORY</a></h1>
Procedures, arguments, parameters, options
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<pre>
Copyright (c) 2009/2010, Andreas Drollinger
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">0.1.0</td>
    <td class="foot-os">tepam</td>
  </tr>
</table>
</body>
</html>
