<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>PERLSYMBIAN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLSYMBIAN(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLSYMBIAN(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
perlsymbian - Perl version 5 on Symbian OS
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This document describes various features of the Symbian operating system that
  will affect how Perl version 5 (hereafter just Perl) is compiled and/or runs.
<p class="Pp"><b>NOTE: this port (as of 0.4.1) does not compile into a
    Symbian</b> <b>OS GUI application, but instead it results in a Symbian
    DLL.</b> The DLL includes a C++ class called CPerlBase, which one can then
    (derive from and) use to embed Perl into applications, see
    <i>symbian/README</i>.</p>
<p class="Pp">The base port of Perl to Symbian only implements the basic
    POSIX-like functionality; it does not implement any further Symbian or
    Series 60, Series 80, or UIQ bindings for Perl.</p>
<p class="Pp">It is also possible to generate Symbian executables for
    &quot;miniperl&quot; and &quot;perl&quot;, but since there is no standard
    command line interface for Symbian (nor full keyboards in the devices),
    these are useful mainly as demonstrations.</p>
<section class="Ss">
<h2 class="Ss" id="Compiling_Perl_on_Symbian"><a class="permalink" href="#Compiling_Perl_on_Symbian">Compiling
  Perl on Symbian</a></h2>
(0) You need to have the appropriate Symbian SDK installed.
<p class="Pp">These instructions have been tested under various Nokia Series 60
    Symbian SDKs (1.2 to 2.6, 2.8 should also work, 1.2 compiles but does not
    work), Series 80 2.0, and Nokia 7710 (Series 90) SDK. You can get the SDKs
    from Forum Nokia (&lt;http://www.forum.nokia.com/&gt;). A very rough port
    (&quot;it compiles&quot;) to UIQ 2.1 has also been made.</p>
<p class="Pp">A prerequisite for any of the SDKs is to install ActivePerl from
    ActiveState, &lt;http://www.activestate.com/Products/ActivePerl/&gt;</p>
<p class="Pp">Having the SDK installed also means that you need to have either
    the Metrowerks CodeWarrior installed (2.8 and 3.0 were used in testing) or
    the Microsoft Visual C++ 6.0 installed (SP3 minimum, SP5 recommended).</p>
<p class="Pp">Note that for example the Series 60 2.0 VC SDK installation talks
    about ActivePerl build 518, which does no more (as of mid-2005) exist at the
    ActiveState website. The ActivePerl 5.8.4 build 810 was used successfully
    for compiling Perl on Symbian. The 5.6.x ActivePerls do not work.</p>
<p class="Pp">Other SDKs or compilers like Visual.NET, command-line-only
    Visual.NET, Borland, GnuPoc, or sdk2unix have not been tried.</p>
<p class="Pp">These instructions almost certainly won't work with older Symbian
    releases or other SDKs. Patches to get this port running in other releases,
    SDKs, compilers, platforms, or devices are naturally welcome.</p>
<p class="Pp">(1) Get a Perl source code distribution (for example the file
    perl-5.9.2.tar.gz is fine) from &lt;http://www.cpan.org/src/&gt; and unpack
    it in your the C:/Symbian directory of your Windows system.</p>
<p class="Pp">(2) Change to the perl source directory.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    cd c:\Symbian\perl-5.x.x
</pre>
<p class="Pp">(3) Run the following script using the perl coming with the
  SDK</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    perl symbian\config.pl
</pre>
<p class="Pp">You must use the cmd.exe, the Cygwin shell will not work. The PATH
    must include the SDK tools, including a Perl, which should be the case under
    cmd.exe. If you do not have that, see the end of symbian\sdk.pl for notes of
    how your environment should be set up for Symbian compiles.</p>
<p class="Pp">(4) Build the project, either by</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make all
</pre>
<p class="Pp">in cmd.exe or by using either the Metrowerks CodeWarrior or the
    Visual C++ 6.0, or the Visual Studio 8 (the Visual C++ 2005 Express Edition
    works fine).</p>
<p class="Pp">If you use the VC IDE, you will have to run
    <i>symbian\config.pl</i> first using the cmd.exe, and then run 'make win.mf
    vc6.mf' to generate the VC6 makefiles and workspaces. &quot;make vc6&quot;
    will compile for the VC6, and &quot;make cw&quot; for the CodeWarrior.</p>
<p class="Pp">The following SDK and compiler configurations and Nokia phones
    were tested at some point in time (+ = compiled and PerlApp run, - = not),
    both for Perl 5.8.x and 5.9.x:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     SDK     | VC | CW |
     --------+----+----+---
     S60 1.2 | +  | +  | 3650 (*)
     S60 2.0 | +  | +  | 6600
     S60 2.1 | -  | +  | 6670
     S60 2.6 | +  | +  | 6630
     S60 2.8 | +  | +  | (not tested in a device)
     S80 2.6 | -  | +  | 9300
     S90 1.1 | +  | -  | 7710
     UIQ 2.1 | -  | +  | (not tested in a device)

 (*) Compiles but does not work, unfortunately, a problem with Symbian.
</pre>
<p class="Pp">If you are using the 'make' directly, it is the GNU make from the
    SDKs, and it will invoke the right make commands for the Windows emulator
    build and the Arm target builds ('thumb' by default) as necessary.</p>
<p class="Pp">The build scripts assume the 'absolute style' SDK installs under
    C:, the 'subst style' will not work.</p>
<p class="Pp">If using the VC IDE, to build use for example the File-&gt;Open
    Workspace-&gt;
    C:\Symbian\8.0a\S60_2nd_FP2\epoc32\build\symbian\perl\perl\wins\perl.dsw The
    emulator binaries will appear in the same directory.</p>
<p class="Pp">If using the VC IDE, you will a lot of warnings in the beginning
    of the build because a lot of headers mentioned by the source cannot be
    found, but this is not serious since those headers are not used.</p>
<p class="Pp">The Metrowerks will give a lot of warnings about unused variables
    and empty declarations, you can ignore those.</p>
<p class="Pp">When the Windows and Arm DLLs are built do not be scared by a very
    long messages whizzing by: it is the &quot;export freeze&quot; phase where
    the whole (rather large) API of Perl is listed.</p>
<p class="Pp">Once the build is completed you need to create the DLL SIS file
  by</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make perldll.sis
</pre>
<p class="Pp">which will create the file perlXYZ.sis (the XYZ being the Perl
    version) which you can then install into your Symbian device: an easy way to
    do this is to send them via Bluetooth or infrared and just open the
    messages.</p>
<p class="Pp">Since the total size of all Perl SIS files once installed is over
    2 MB, it is recommended to do the installation into a memory card (drive E:)
    instead of the C: drive.</p>
<p class="Pp">The size of the perlXYZ.SIS is about 370 kB but once it is in the
    device it is about one 750 kB (according to the application manager).</p>
<p class="Pp">The perlXYZ.sis includes only the Perl DLL: to create an
    additional SIS file which includes some of the standard (pure) Perl
    libraries, issue the command</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make perllib.sis
</pre>
<p class="Pp">Some of the standard Perl libraries are included, but not all: see
    &quot;HISTORY&quot; or <i>symbian\install.cfg</i> for more details (250 kB
    -&gt; 700 kB).</p>
<p class="Pp">Some of the standard Perl XS extensions (see &quot;HISTORY&quot;
    are also available:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make perlext.sis
</pre>
<p class="Pp">which will create perlXYZext.sis (290 kB -&gt; 770 kB).</p>
<p class="Pp">To compile the demonstration application PerlApp you need first to
    install the Perl headers under the SDK.</p>
<p class="Pp">To install the Perl headers and the class CPerlBase documentation
    so that you no more need the Perl sources around to compile Perl
    applications using the SDK:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make sdkinstall
</pre>
<p class="Pp">The destination directory is C:\Symbian\perl\X.Y.Z. For more
    details, see <i>symbian\PerlBase.pod</i>.</p>
<p class="Pp">Once the headers have been installed, you can create a SIS for the
    PerlApp:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make perlapp.sis
</pre>
<p class="Pp">The perlapp.sis (11 kB -&gt; 16 kB) will be built in the symbian
    subdirectory, but a copy will also be made to the main directory.</p>
<p class="Pp">If you want to package the Perl DLLs (one for WINS, one for ARMI),
    the headers, and the documentation:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make perlsdk.zip
</pre>
<p class="Pp">which will create perlXYZsdk.zip that can be used in another
    Windows system with the SDK, without having to compile Perl in that
  system.</p>
<p class="Pp">If you want to package the PerlApp sources:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make perlapp.zip
</pre>
<p class="Pp">If you want to package the perl.exe and miniperl.exe, you can use
    the perlexe.sis and miniperlexe.sis make targets. You also probably want the
    perllib.sis for the libraries and maybe even the perlapp.sis for the
    recognizer.</p>
<p class="Pp">The make target 'allsis' combines all the above SIS targets.</p>
<p class="Pp">To clean up after compilation you can use either of</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     make clean
     make distclean
</pre>
<p class="Pp">depending on how clean you want to be.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Compilation_problems"><a class="permalink" href="#Compilation_problems">Compilation
  problems</a></h2>
If you see right after &quot;make&quot; this
<p class="Pp"><span class="Li"></span></p>
<pre>
    cat makefile.sh &gt;makefile
    'cat' is not recognized as an internal or external command,
    operable program or batch file.
</pre>
<p class="Pp">it means you need to (re)run the <i>symbian\config.pl</i>.</p>
<p class="Pp">If you get the error</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
        'perl' is not recognized as an internal or external command,
        operable program or batch file.
</pre>
<p class="Pp">you may need to reinstall the ActivePerl.</p>
<p class="Pp">If you see this</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    ren makedef.pl nomakedef.pl
    The system cannot find the file specified.
    C:\Symbian\...\make.exe: [rename_makedef] Error 1 (ignored)
</pre>
<p class="Pp">please ignore it since it is nothing serious (the build process of
    renames the Perl makedef.pl as nomakedef.pl to avoid confusing it with a
    makedef.pl of the SDK).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="PerlApp"><a class="permalink" href="#PerlApp">PerlApp</a></h2>
The PerlApp application demonstrates how to embed Perl interpreters to a Symbian
  application. The &quot;Time&quot; menu item runs the following Perl code:
  <span class="Li">&quot;print &quot;Running in &quot;, $^O, &quot;\n&quot;,
  scalar localtime&quot;</span>, the &quot;Oneliner&quot; allows one to type in
  Perl code, and the &quot;Run&quot; opens a file chooser for selecting a Perl
  file to run.
<p class="Pp">The PerlApp also is started when the &quot;Perl recognizer&quot;
    (also included and installed) detects a Perl file being activated through
    the GUI, and offers either to install it under \Perl (if the Perl file is in
    the inbox of the messaging application) or to run it (if the Perl file is
    under \Perl).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="sisify.pl"><a class="permalink" href="#sisify.pl">sisify.pl</a></h2>
In the symbian subdirectory there is <i>sisify.pl</i> utility which can be used
  to package Perl scripts and/or Perl library directories into SIS files, which
  can be installed to the device. To run the sisify.pl utility, you will need to
  have the 'makesis' and 'uidcrc' utilities already installed. If you don't have
  the Win32 SDKs, you may try for example &lt;http://gnupoc.sourceforge.net/&gt;
  or &lt;http://symbianos.org/~andreh/&gt;.
</section>
<section class="Ss">
<h2 class="Ss" id="Using_Perl_in_Symbian"><a class="permalink" href="#Using_Perl_in_Symbian">Using
  Perl in Symbian</a></h2>
First of all note that you have full access to the Symbian device when using
  Perl: you can do a lot of damage to your device (like removing system files)
  unless you are careful. Please do take backups before doing anything.
<p class="Pp">The Perl port has been done for the most part using the Symbian
    standard POSIX-ish STDLIB library. It is a reasonably complete library, but
    certain corners of such emulation libraries that tend to be left
    unimplemented on non-UNIX platforms have been left unimplemented also this
    time: <b>fork()</b>, <b>signals()</b>, user/group ids, <b>select()</b>
    working for sockets, non-blocking sockets, and so forth. See the file
    <i>symbian/config.sh</i> and look for 'undef' to find the unsupported APIs
    (or from Perl use Config).</p>
<p class="Pp">The filesystem of Symbian devices uses DOSish syntax,
    &quot;drives&quot; separated from paths by a colon, and backslashes for the
    path. The exact assignment of the drives probably varies between platforms,
    but for example in Series 60 you might see C: as the (flash) main memory, D:
    as the RAM drive, E: as the memory card (MMC), Z: as the ROM. In Series 80
    D: is the memory card. As far the devices go the NUL: is the bit bucket, the
    COMx: are the serial lines, IRCOMx: are the IR ports, TMP: might be
    C:\System\Temp. Remember to double those backslashes in doublequoted
    strings.</p>
<p class="Pp">The Perl DLL is installed in \System\Libs\. The Perl libraries and
    extension DLLs are installed in \System\Libs\Perl\X.Y.Z\. The PerlApp is
    installed in \System\Apps\, and the SIS also installs a couple of demo
    scripts in \Perl\ (C:\Mydocs\Perl\ on Nokia 7710).</p>
<p class="Pp">Note that the Symbian filesystem is very picky: it strongly
    prefers the \ instead of the /.</p>
<p class="Pp">When doing XS / Symbian C++ programming include first the Symbian
    headers, then any standard C/POSIX headers, then Perl headers, and finally
    any application headers.</p>
<p class="Pp"><b>New()</b> and <b>Copy()</b> are unfortunately used by both
    Symbian and Perl code so you'll have to play cpp games if you need them.
    PerlBase.h undefines the Perl definitions and redefines them as
    <b>PerlNew()</b> and <b>PerlCopy()</b>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="TO_DO"><a class="permalink" href="#TO_DO">TO DO</a></h1>
Lots. See <i>symbian/TODO</i>.
</section>
<section class="Sh">
<h1 class="Sh" id="WARNING"><a class="permalink" href="#WARNING">WARNING</a></h1>
As of Perl Symbian port version 0.4.1 any part of Perl's standard regression
  test suite has not been run on a real Symbian device using the ported Perl, so
  innumerable bugs may lie in wait. Therefore there is absolutely no warranty.
</section>
<section class="Sh">
<h1 class="Sh" id="NOTE"><a class="permalink" href="#NOTE">NOTE</a></h1>
When creating and extending application programming interfaces (APIs) for
  Symbian or Series 60 or Series 80 or Series 90 it is suggested that
  trademarks, registered trademarks, or trade names are not used in the API
  names. Instead, developers should consider basing the API naming in the
  existing (C++, or maybe Java) public component and API naming, modified as
  appropriate by the rules of the programming language the new APIs are for.
<p class="Pp">Nokia is a registered trademark of Nokia Corporation. Nokia's
    product names are trademarks or registered trademarks of Nokia. Other
    product and company names mentioned herein may be trademarks or trade names
    of their respective owners.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Jarkko Hietaniemi
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2004-2005 Nokia. All rights reserved.
<p class="Pp">Copyright (c) 2006-2007 Jarkko Hietaniemi.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
The Symbian port is licensed under the same terms as Perl itself.
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<ul class="Bl-bullet">
  <li>0.1.0: April 2005
    <p class="Pp">(This will show as &quot;0.01&quot; in the Symbian
      Installer.)</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
 - The console window is a very simple console indeed: one can
   get the newline with &quot;000&quot; and the &quot;C&quot; button is a backspace.
   Do not expect a terminal capable of vt100 or ANSI sequences.
   The console is also &quot;ASCII&quot;, you cannot input e.g. any accented
   letters.  Because of obvious physical constraints the console is
   also very small: (in Nokia 6600) 22 columns, 17 rows.
 - The following libraries are available:
   AnyDBM_File AutoLoader base Carp Config Cwd constant
   DynaLoader Exporter File::Spec integer lib strict Symbol
   vars warnings XSLoader
 - The following extensions are available:
   attributes Compress::Zlib Cwd Data::Dumper Devel::Peek
   Digest::MD5 DynaLoader Fcntl File::Glob Filter::Util::Call
   IO List::Util MIME::Base64
   PerlIO::scalar PerlIO::via SDBM_File Socket Storable Time::HiRes
 - The following extensions are missing for various technical
   reasons:
   B ByteLoader Devel::DProf Devel::PPPort Encode GDBM_File
   IPC::SysV NDBM_File Opcode PerlIO::encoding POSIX
   re Safe Sys::Hostname Sys::Syslog
   threads threads::shared Unicode::Normalize
 - Using MakeMaker or the Module::* to build and install modules
   is not supported.
 - Building XS other than the ones in the core is not supported.
    </pre>
    <p class="Pp">Since this is 0.something release, any future releases are
        almost guaranteed to be binary incompatible. As a sign of this the
        Symbian symbol exports are kept unfrozen and the .def files fully
        rebuilt every time.</p>
  </li>
  <li>0.2.0: October 2005
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  - Perl 5.9.3 (patch level 25741)
  - Compress::Zlib and IO::Zlib supported
  - sisify.pl added
    </pre>
    <p class="Pp">We maintain the binary incompatibility.</p>
  </li>
  <li>0.3.0: October 2005
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  - Perl 5.9.3 (patch level 25911)
  - Series 80 2.0 and UIQ 2.1 support
    </pre>
    <p class="Pp">We maintain the binary incompatibility.</p>
  </li>
  <li>0.4.0: November 2005
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  - Perl 5.9.3 (patch level 26052)
  - adding a sample Symbian extension
    </pre>
    <p class="Pp">We maintain the binary incompatibility.</p>
  </li>
  <li>0.4.1: December 2006
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  - Perl 5.9.5-to-be (patch level 30002)
  - added extensions: Compress/Raw/Zlib, Digest/SHA,
    Hash/Util, Math/BigInt/FastCalc, Text/Soundex, Time/Piece
  - port to S90 1.1 by alexander smishlajev
    </pre>
    <p class="Pp">We maintain the binary incompatibility.</p>
  </li>
  <li>0.4.2: March 2007
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  - catchup with Perl 5.9.5-to-be (patch level 30812)
  - tested to build with Microsoft Visual C++ 2005 Express Edition
    (which uses Microsoft Visual C 8, instead of the old VC6),
    SDK used for testing S60_2nd_FP3 aka 8.1a
    </pre>
    <p class="Pp">We maintain the binary incompatibility.</p>
  </li>
</ul>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-24</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
