<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>File::ShareDir(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">File::ShareDir(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">File::ShareDir(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
File::ShareDir - Locate per-dist and per-module shared files
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use File::ShareDir ':ALL';
  
  # Where are distribution-level shared data files kept
  $dir = dist_dir('File-ShareDir');
  
  # Where are module-level shared data files kept
  $dir = module_dir('File::ShareDir');
  
  # Find a specific file in our dist/module shared dir
  $file = dist_file(  'File-ShareDir',  'file/name.txt');
  $file = module_file('File::ShareDir', 'file/name.txt');
  
  # Like module_file, but search up the inheritance tree
  $file = class_file( 'Foo::Bar', 'file/name.txt' );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The intent of File::ShareDir is to provide a companion to Class::Inspector and
  File::HomeDir, modules that take a process that is well-known by advanced Perl
  developers but gets a little tricky, and make it more available to the larger
  Perl community.
<p class="Pp">Quite often you want or need your Perl module (CPAN or otherwise)
    to have access to a large amount of read-only data that is stored on the
    file-system at run-time.</p>
<p class="Pp">On a linux-like system, this would be in a place such as
    /usr/share, however Perl runs on a wide variety of different systems, and so
    the use of any one location is unreliable.</p>
<p class="Pp">Perl provides a little-known method for doing this, but almost
    nobody is aware that it exists. As a result, module authors often go through
    some very strange ways to make the data available to their code.</p>
<p class="Pp">The most common of these is to dump the data out to an enormous
    Perl data structure and save it into the module itself. The result are
    enormous multi-megabyte .pm files that chew up a lot of memory
  needlessly.</p>
<p class="Pp">Another method is to put the data &quot;file&quot; after the
    __DATA__ compiler tag and limit yourself to access as a filehandle.</p>
<p class="Pp">The problem to solve is really quite simple.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  1. Write the data files to the system at install time.
  
  2. Know where you put them at run-time.
</pre>
<p class="Pp">Perl's install system creates an &quot;auto&quot; directory for
    both every distribution and for every module file.</p>
<p class="Pp">These are used by a couple of different auto-loading systems to
    store code fragments generated at install time, and various other modules
    written by the Perl &quot;ancient masters&quot;.</p>
<p class="Pp">But the same mechanism is available to any dist or module to store
    any sort of data.</p>
<section class="Ss">
<h2 class="Ss" id="Using_Data_in_your_Module"><a class="permalink" href="#Using_Data_in_your_Module">Using
  Data in your Module</a></h2>
<span class="Li">&quot;File::ShareDir&quot;</span> forms one half of a two part
  solution.
<p class="Pp">Once the files have been installed to the correct directory, you
    can use <span class="Li">&quot;File::ShareDir&quot;</span> to find your
    files again after the installation.</p>
<p class="Pp">For the installation half of the solution, see
    File::ShareDir::Install and its
    <span class="Li">&quot;install_share&quot;</span> directive.</p>
<p class="Pp">Using File::ShareDir::Install together with File::ShareDir allows
    one to rely on the files in appropriate
    <span class="Li">&quot;dist_dir()&quot;</span> or
    <span class="Li">&quot;module_dir()&quot;</span> in development phase,
  too.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<span class="Li">&quot;File::ShareDir&quot;</span> provides four functions for
  locating files and directories.
<p class="Pp">For greater maintainability, none of these are exported by default
    and you are expected to name the ones you want at use-time, or provide the
    <span class="Li">':ALL'</span> tag. All of the following are equivalent.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  # Load but don't import, and then call directly
  use File::ShareDir;
  $dir = File::ShareDir::dist_dir('My-Dist');
  
  # Import a single function
  use File::ShareDir 'dist_dir';
  dist_dir('My-Dist');
  
  # Import all the functions
  use File::ShareDir ':ALL';
  dist_dir('My-Dist');
</pre>
<p class="Pp">All of the functions will check for you that the dir/file actually
    exists, and that you have read permissions, or they will throw an
  exception.</p>
<section class="Ss">
<h2 class="Ss" id="dist_dir"><a class="permalink" href="#dist_dir">dist_dir</a></h2>
<span class="Li"></span>
<pre>
  # Get a distribution's shared files directory
  my $dir = dist_dir('My-Distribution');
</pre>
<p class="Pp">The <span class="Li">&quot;dist_dir&quot;</span> function takes a
    single parameter of the name of an installed (CPAN or otherwise)
    distribution, and locates the shared data directory created at install time
    for it.</p>
<p class="Pp">Returns the directory path as a string, or dies if it cannot be
    located or is not readable.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="module_dir"><a class="permalink" href="#module_dir">module_dir</a></h2>
<span class="Li"></span>
<pre>
  # Get a module's shared files directory
  my $dir = module_dir('My::Module');
</pre>
<p class="Pp">The <span class="Li">&quot;module_dir&quot;</span> function takes
    a single parameter of the name of an installed (CPAN or otherwise) module,
    and locates the shared data directory created at install time for it.</p>
<p class="Pp">In order to find the directory, the module <b>must</b> be loaded
    when calling this function.</p>
<p class="Pp">Returns the directory path as a string, or dies if it cannot be
    located or is not readable.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="dist_file"><a class="permalink" href="#dist_file">dist_file</a></h2>
<span class="Li"></span>
<pre>
  # Find a file in our distribution shared dir
  my $dir = dist_file('My-Distribution', 'file/name.txt');
</pre>
<p class="Pp">The <span class="Li">&quot;dist_file&quot;</span> function takes
    two parameters of the distribution name and file name, locates the dist
    directory, and then finds the file within it, verifying that the file
    actually exists, and that it is readable.</p>
<p class="Pp">The filename should be a relative path in the format of your local
    filesystem. It will simply added to the directory using File::Spec's
    <span class="Li">&quot;catfile&quot;</span> method.</p>
<p class="Pp">Returns the file path as a string, or dies if the file or the
    dist's directory cannot be located, or the file is not readable.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="module_file"><a class="permalink" href="#module_file">module_file</a></h2>
<span class="Li"></span>
<pre>
  # Find a file in our module shared dir
  my $dir = module_file('My::Module', 'file/name.txt');
</pre>
<p class="Pp">The <span class="Li">&quot;module_file&quot;</span> function takes
    two parameters of the module name and file name. It locates the module
    directory, and then finds the file within it, verifying that the file
    actually exists, and that it is readable.</p>
<p class="Pp">In order to find the directory, the module <b>must</b> be loaded
    when calling this function.</p>
<p class="Pp">The filename should be a relative path in the format of your local
    filesystem. It will simply added to the directory using File::Spec's
    <span class="Li">&quot;catfile&quot;</span> method.</p>
<p class="Pp">Returns the file path as a string, or dies if the file or the
    dist's directory cannot be located, or the file is not readable.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="class_file"><a class="permalink" href="#class_file">class_file</a></h2>
<span class="Li"></span>
<pre>
  # Find a file in our module shared dir, or in our parent class
  my $dir = class_file('My::Module', 'file/name.txt');
</pre>
<p class="Pp">The <span class="Li">&quot;module_file&quot;</span> function takes
    two parameters of the module name and file name. It locates the module
    directory, and then finds the file within it, verifying that the file
    actually exists, and that it is readable.</p>
<p class="Pp">In order to find the directory, the module <b>must</b> be loaded
    when calling this function.</p>
<p class="Pp">The filename should be a relative path in the format of your local
    filesystem. It will simply added to the directory using File::Spec's
    <span class="Li">&quot;catfile&quot;</span> method.</p>
<p class="Pp">If the file is NOT found for that module,
    <span class="Li">&quot;class_file&quot;</span> will scan up the module's
    <span class="Li">@ISA</span> tree, looking for the file in all of the parent
    classes.</p>
<p class="Pp">This allows you to, in effect, &quot;subclass&quot; shared
  files.</p>
<p class="Pp">Returns the file path as a string, or dies if the file or the
    dist's directory cannot be located, or the file is not readable.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTENDING"><a class="permalink" href="#EXTENDING">EXTENDING</a></h1>
<section class="Ss">
<h2 class="Ss" id="Overriding_Directory_Resolution"><a class="permalink" href="#Overriding_Directory_Resolution">Overriding
  Directory Resolution</a></h2>
<span class="Li">&quot;File::ShareDir&quot;</span> has two convenience hashes
  for people who have advanced usage requirements of
  <span class="Li">&quot;File::ShareDir&quot;</span> such as using uninstalled
  <span class="Li">&quot;share&quot;</span> directories during development.
<p class="Pp"><span class="Li"></span></p>
<pre>
  #
  # Dist-Name =&gt; /absolute/path/for/DistName/share/dir
  #
  %File::ShareDir::DIST_SHARE

  #
  # Module::Name =&gt; /absolute/path/for/Module/Name/share/dir
  #
  %File::ShareDir::MODULE_SHARE
</pre>
<p class="Pp">Setting these values any time before the corresponding calls</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  dist_dir('Dist-Name')
  dist_file('Dist-Name','some/file');

  module_dir('Module::Name');
  module_file('Module::Name','some/file');
</pre>
<p class="Pp">Will override the base directory for resolving those calls.</p>
<p class="Pp">An example of where this would be useful is in a test for a module
    that depends on files installed into a share directory, to enable the tests
    to use the development copy without needing to install them first.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use File::ShareDir;
  use Cwd qw( getcwd );
  use File::Spec::Functions qw( rel2abs catdir );

  $File::ShareDir::MODULE_SHARE{'Foo::Module'} = rel2abs(catfile(getcwd,'share'));

  use Foo::Module;

  # interal calls in Foo::Module to module_file('Foo::Module','bar') now resolves to
  # the source trees share/ directory instead of something in @INC
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
Bugs should always be submitted via the CPAN request tracker, see below.
<p class="Pp">You can find documentation for this module with the perldoc
    command.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    perldoc File::ShareDir
</pre>
<p class="Pp">You can also look for information at:</p>
<ul class="Bl-bullet">
  <li>RT: CPAN's request tracker
    <p class="Pp">&lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=File-ShareDir&gt;</p>
  </li>
  <li>AnnoCPAN: Annotated CPAN documentation
    <p class="Pp">&lt;http://annocpan.org/dist/File-ShareDir&gt;</p>
  </li>
  <li>CPAN Ratings
    <p class="Pp">&lt;http://cpanratings.perl.org/s/File-ShareDir&gt;</p>
  </li>
  <li>CPAN Search
    <p class="Pp">&lt;http://search.cpan.org/dist/File-ShareDir/&gt;</p>
  </li>
</ul>
<section class="Ss">
<h2 class="Ss" id="Where_can_I_go_for_other_help?"><a class="permalink" href="#Where_can_I_go_for_other_help?">Where
  can I go for other help?</a></h2>
If you have a bug report, a patch or a suggestion, please open a new report
  ticket at CPAN (but please check previous reports first in case your issue has
  already been addressed).
<p class="Pp">Report tickets should contain a detailed description of the bug or
    enhancement request and at least an easily verifiable way of reproducing the
    issue or fix. Patches are always welcome, too.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Where_can_I_go_for_help_with_a_concrete_version?"><a class="permalink" href="#Where_can_I_go_for_help_with_a_concrete_version?">Where
  can I go for help with a concrete version?</a></h2>
Bugs and feature requests are accepted against the latest version only. To get
  patches for earlier versions, you need to get an agreement with a developer of
  your choice - who may or not report the issue and a suggested fix upstream
  (depends on the license you have chosen).
</section>
<section class="Ss">
<h2 class="Ss" id="Business_support_and_maintenance"><a class="permalink" href="#Business_support_and_maintenance">Business
  support and maintenance</a></h2>
For business support you can contact the maintainer via his CPAN email address.
  Please keep in mind that business support is neither available for free nor
  are you eligible to receive any support based on the license distributed with
  this package.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Adam Kennedy &lt;adamk@cpan.org&gt;
<section class="Ss">
<h2 class="Ss" id="_s-1MAINTAINER_s0"><a class="permalink" href="#_s-1MAINTAINER_s0">MAINTAINER</a></h2>
Jens Rehsack &lt;rehsack@cpan.org&gt;
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
File::ShareDir::Install, File::ConfigDir, File::HomeDir, Module::Install,
  Module::Install::Share, File::ShareDir::PAR, Dist::Zilla::Plugin::ShareDir
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2005 - 2011 Adam Kennedy, Copyright 2014 - 2018 Jens Rehsack.
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">The full text of the license can be found in the LICENSE file
    included with this module.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-06-24</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
