<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>PERLAMIGA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLAMIGA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLAMIGA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perlamiga - Perl under AmigaOS 4.1</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTE"><a class="permalink" href="#NOTE">NOTE</a></h1>
<p class="Pp">This is a port of Perl 5.22.1, it is a fresh port and not in any
    way compatible with my previous ports of Perl 5.8 and 5.16.3. This means you
    will need to reinstall / rebuild any third party modules you have
  installed.</p>
<p class="Pp">newlib.library version 53.28 or greater is required.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">Once perl is installed you can read this document in the following
    way</p>
<p class="Pp"></p>
<pre>        sh -c &quot;perldoc perlamiga&quot;
</pre>
<p class="Pp">or you may read <i>as is</i>: either as <i>README.amiga</i>, or
    <i>pod/perlamiga.pod</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<section class="Ss">
<h2 class="Ss" id="Prerequisites_for_running_Perl_5.22.1_under_AmigaOS_4.1"><a class="permalink" href="#Prerequisites_for_running_Perl_5.22.1_under_AmigaOS_4.1">Prerequisites
  for running Perl 5.22.1 under AmigaOS 4.1</a></h2>
<dl class="Bl-tag">
  <dt id="AmigaOS"><a class="permalink" href="#AmigaOS"><b>AmigaOS 4.1 update 6
    with all updates applied as of 9th October 2013</b></a></dt>
  <dd>The most important of which is:</dd>
  <dt id="newlib.library"><a class="permalink" href="#newlib.library"><b>newlib.library
    version 53.28 or greater</b></a></dt>
  <dd></dd>
  <dt id="AmigaOS~2"><a class="permalink" href="#AmigaOS~2"><b>AmigaOS
    SDK</b></a></dt>
  <dd>Perl installs into the SDK directory structure and expects many of the
      build tools present in the SDK to be available. So for the best results
      install the SDK first.</dd>
  <dt id="abc-shell"><a class="permalink" href="#abc-shell"><b>abc-shell</b></a></dt>
  <dd>If you do not have the SDK installed you must at least have abc-shell
      installed or some other suitable sh port. This is required to run external
      commands and should be available as 'sh' in your path.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Starting_Perl_programs_under_AmigaOS_4.1"><a class="permalink" href="#Starting_Perl_programs_under_AmigaOS_4.1">Starting
  Perl programs under AmigaOS 4.1</a></h2>
<p class="Pp">Perl may be run from the AmigaOS shell but for best results should
    be run under abc-shell. (abc-shell handles file globbing, pattern expansion,
    and sets up environment variables in the UN*Xy way that Perl expects.)</p>
<p class="Pp">For example:</p>
<p class="Pp"></p>
<pre>        New Shell process 10
        10.AmigaOS4:&gt; sh
        /AmigaOS4&gt;perl path:to/myprog arg1 arrg2 arg3
</pre>
<p class="Pp">Abc-shell can also launch programs via the #! syntax at the start
    of the program file, it's best use the form #!SDK:Local/C/perl so that the
    AmigaOS shell may also find perl in the same way. AmigaOS requires the
    script bit to be set for this to work</p>
<p class="Pp"></p>
<pre>        10.AmigaOS4:&gt; sh
        /AmigaOS4&gt;myprog arg1 arrg2 arg3
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Limitations_of_Perl_under_AmigaOS_4.1"><a class="permalink" href="#Limitations_of_Perl_under_AmigaOS_4.1">Limitations
  of Perl under AmigaOS 4.1</a></h2>
<dl class="Bl-tag">
  <dt id="Nested"><a class="permalink" href="#Nested"><b>Nested Piped programs
    can crash when run from older abc-shells</b></a></dt>
  <dd>abc-shell version 53.2 has a bug that can cause crashes in the
      subprocesses used to run piped programs, if a later version is available
      you should install it instead.</dd>
  <dt id="Incorrect"><a class="permalink" href="#Incorrect"><b>Incorrect or
    unexpected command line unescaping</b></a></dt>
  <dd>newlib.library 53.30 and earlier incorrectly unescape slashed escape
      sequences e.g. \&quot; \n \t etc requiring unusual extra escaping.</dd>
  <dt id="Starting"><a class="permalink" href="#Starting"><b>Starting
    subprocesses via open has limitations</b></a></dt>
  <dd>
    <pre>        open FH, &quot;command |&quot;
    </pre>
    <p class="Pp">Subprocesses started with open use a minimal <b>popen()</b>
        routine and therefore they do not return pids usable with waitpid
      etc.</p>
  </dd>
  <dt id="If"><a class="permalink" href="#If">If you find any other limitations
    or bugs then let me know.</a></dt>
  <dd>Please report bugs in this version of perl to andy@broad.ology.org.uk in
      the first instance.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="INSTALLATION"><a class="permalink" href="#INSTALLATION">INSTALLATION</a></h1>
<p class="Pp">This guide assumes you have obtained a prebuilt archive from
    os4depot.net.</p>
<p class="Pp">Unpack the main archive to a temporary location (RAM: is
  fine).</p>
<p class="Pp">Execute the provided install script from shell or via its
  icon.</p>
<p class="Pp">You <b>must not</b> attempt to install by hand.</p>
<p class="Pp">Once installed you may delete the temporary archive.</p>
<p class="Pp">This approach will preserve links in the installation without
    creating duplicate binaries.</p>
<p class="Pp">If you have the earlier ports perl 5.16 or 5.8 installed you may
    like to rename your perl executable to perl516 or perl58 or something
    similar before the installation of 5.22.1, this will allow you to use both
    versions at the same time.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Amiga_Specific_Modules"><a class="permalink" href="#Amiga_Specific_Modules">Amiga
  Specific Modules</a></h1>
<section class="Ss">
<h2 class="Ss" id="Amiga::ARexx"><a class="permalink" href="#Amiga::ARexx">Amiga::ARexx</a></h2>
<p class="Pp">The Amiga::ARexx module allows you to easily create a perl based
    ARexx host or to send ARexx commands to other programs.</p>
<p class="Pp">Try <span class="Li">&quot;perldoc Amiga::ARexx&quot;</span> for
    more info.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Amiga::Exec"><a class="permalink" href="#Amiga::Exec">Amiga::Exec</a></h2>
<p class="Pp">The Amiga::Exec module introduces support for <b>Wait()</b>.</p>
<p class="Pp">Try <span class="Li">&quot;perldoc Amiga::Exec&quot;</span> for
    more info.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="BUILDING"><a class="permalink" href="#BUILDING">BUILDING</a></h1>
<p class="Pp">To build perl under AmigaOS from the patched sources you will need
    to have a recent version of the SDK. Version 53.29 is recommended, earlier
    versions will probably work too.</p>
<p class="Pp">With the help of Jarkko Hietaniemi the Configure system has been
    tweaked to run under abc-shell so the recommend build process is as
  follows.</p>
<p class="Pp"></p>
<pre>        stack 2000000
        sh Configure -de
        gmake
</pre>
<p class="Pp">This will build the default setup that installs under
    SDK:local/newlib/lib/</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CHANGES"><a class="permalink" href="#CHANGES">CHANGES</a></h1>
<dl class="Bl-tag">
  <dt id="August"><a class="permalink" href="#August"><b>August
    2015</b></a></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Port"><a class="permalink" href="#Port">Port to Perl 5.22</a></dt>
  <dd></dd>
  <dt id="Add"><a class="permalink" href="#Add">Add handling of NIL: to
    <b>afstat()</b></a></dt>
  <dd></dd>
  <dt id="Fix"><a class="permalink" href="#Fix">Fix inheritance of environment
    variables by subprocesses.</a></dt>
  <dd></dd>
  <dt id="Fix~2"><a class="permalink" href="#Fix~2">Fix exec, and exit in
    &quot;forked&quot; subprocesses.</a></dt>
  <dd></dd>
  <dt id="Fix~3"><a class="permalink" href="#Fix~3">Fix issue with newlib's
    unlink, which could cause infinite loops.</a></dt>
  <dd></dd>
  <dt id="Add~2"><a class="permalink" href="#Add~2">Add <b>flock()</b> emulation
    using IDOS-&gt;LockRecord thanks to Tony Cook for the suggestion.</a></dt>
  <dd></dd>
  <dt id="Fix~4"><a class="permalink" href="#Fix~4">Fix issue where kill was
    using the wrong kind of process ID</a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt><b>27th November 2013</b></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Create"><a class="permalink" href="#Create">Create new installation
    system based on installperl links and Amiga protection bits now set
    correctly.</a></dt>
  <dd></dd>
  <dt id="Pod"><a class="permalink" href="#Pod">Pod now defaults to
    text.</a></dt>
  <dd></dd>
  <dt id="File::Spec"><a class="permalink" href="#File::Spec">File::Spec should
    now recognise an Amiga style absolute path as well as an Unix style one.
    Relative paths must always be Unix style.</a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt><b>20th November 2013</b></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Configured"><a class="permalink" href="#Configured">Configured to use
    SDK:Local/C/perl to start standard scripts</a></dt>
  <dd></dd>
  <dt id="Added"><a class="permalink" href="#Added">Added Amiga::Exec module
    with support for <b>Wait()</b> and AmigaOS signal numbers.</a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt><b>10th October 13</b></dt>
  <dd>First release of port to 5.16.3.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">You like this port? See
    &lt;http://www.broad.ology.org.uk/amiga/&gt; for how you can help.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
