<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from curl_easy_header.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>curl_easy_header(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">curl_easy_header(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">curl_easy_header(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">curl_easy_header - get an HTTP header</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLHcode curl_easy_header(CURL *easy,
<br/>
                           const char *name,
<br/>
                           size_t index,
<br/>
                           unsigned int origin,
<br/>
                           int request,
<br/>
                           struct curl_header **hout);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><i>curl_easy_header(3)</i> returns a pointer to a
    &quot;curl_header&quot; struct in <b>hout</b> with data for the HTTP
    response header <i>name</i>. The case insensitive null-terminated header
    name should be specified without colon.</p>
<p class="Pp"><i>index</i> 0 means asking for the first instance of the header.
    If the returned header struct has <b>amount</b> set larger than 1, it means
    there are more instances of the same header name available to get. Asking
    for a too big index makes <b>CURLHE_BADINDEX</b> get returned.</p>
<p class="Pp">The <i>origin</i> argument is for specifying which headers to
    receive, as a single HTTP transfer might provide headers from several
    different places and they may then have different importance to the user and
    headers using the same name might be used. The <i>origin</i> is a bitmask
    for what header sources you want. See the descriptions below.</p>
<p class="Pp">The <i>request</i> argument tells libcurl from which request you
    want headers from. A single transfer might consist of a series of HTTP
    requests and this argument lets you specify which particular individual
    request you want the headers from. 0 being the first request and then the
    number increases for further redirects or when multi-state authentication is
    used. Passing in -1 is a shortcut to &quot;the last&quot; request in the
    series, independently of the actual amount of requests used.</p>
<p class="Pp">libcurl stores and provides the actually used &quot;correct&quot;
    headers. If for example two headers with the same name arrive and the latter
    overrides the former, then only the latter is provided. If the first header
    survives the second, then only the first one is provided. An application
    using this API does not have to bother about multiple headers used
  wrongly.</p>
<p class="Pp">The memory for the returned struct is associated with the easy
    handle and subsequent calls to <i>curl_easy_header(3)</i> clobber the struct
    used in the previous calls for the same easy handle. Applications need to
    copy the data if it wants to keep it around. The memory used for the struct
    gets freed with calling <i>curl_easy_cleanup(3)</i> of the easy handle.</p>
<p class="Pp">The first line in an HTTP response is called the status line. It
    is not considered a header by this function. Headers are the &quot;name:
    value&quot; lines following the status.</p>
<p class="Pp">This function can be used before (all) headers have been received
    and is fine to call from within libcurl callbacks. It returns the state of
    the headers at the time it is called.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="The_header_struct"><a class="permalink" href="#The_header_struct">The
  header struct</a></h1>
<pre>struct curl_header {
<br/>
   char *name;
<br/>
   char *value;
<br/>
   size_t amount;
<br/>
   size_t index;
<br/>
   unsigned int origin;
<br/>
   void *anchor;
};</pre>
<p class="Pp">The data <b>name</b> field points to, is the same as the requested
    name, but might have a different case.</p>
<p class="Pp">The data <b>value</b> field points to, comes exactly as delivered
    over the network but with leading and trailing whitespace and newlines
    stripped off. The <i>value</i> data is null-terminated. For legacy HTTP/1
    &quot;folded headers&quot;, this API provides the full single value in an
    unfolded manner with a single whitespace between the lines.</p>
<p class="Pp"><b>amount</b> is how many headers using this name that exist,
    within the origin and request scope asked for.</p>
<p class="Pp"><b>index</b> is the zero based entry number of this particular
    header, which in case this header was used more than once in the requested
    scope can be larger than 0 but is always less than <b>amount</b>.</p>
<p class="Pp">The <b>origin</b> field in the &quot;curl_header&quot; struct has
    one of the origin bits set, indicating where from the header originates. At
    the time of this writing, there are 5 bits with defined use. The
    undocumented 27 remaining bits are reserved for future use and must not be
    assumed to have any particular value.</p>
<p class="Pp"><b>anchor</b> is a private handle used by libcurl internals. Do
    not modify.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ORIGINS"><a class="permalink" href="#ORIGINS">ORIGINS</a></h1>
<dl class="Bl-tag">
  <dt id="CURLH_HEADER"><a class="permalink" href="#CURLH_HEADER">CURLH_HEADER</a></dt>
  <dd>The header arrived as a header from the server.</dd>
  <dt id="CURLH_TRAILER"><a class="permalink" href="#CURLH_TRAILER">CURLH_TRAILER</a></dt>
  <dd>The header arrived as a trailer. A header that arrives after the
    body.</dd>
  <dt id="CURLH_CONNECT"><a class="permalink" href="#CURLH_CONNECT">CURLH_CONNECT</a></dt>
  <dd>The header arrived in a CONNECT response. A CONNECT request is being done
      to setup a transfer &quot;through&quot; an HTTP(S) proxy.</dd>
  <dt id="CURLH_1XX"><a class="permalink" href="#CURLH_1XX">CURLH_1XX</a></dt>
  <dd>The header arrived in an HTTP 1xx response. A 1xx response is an
      &quot;intermediate&quot; response that might happen before the
      &quot;real&quot; response.</dd>
  <dt id="CURLH_PSEUDO"><a class="permalink" href="#CURLH_PSEUDO">CURLH_PSEUDO</a></dt>
  <dd>The header is an HTTP/2 or HTTP/3 pseudo header</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
<br/>
  struct curl_header *type;
<br/>
  CURL *curl = curl_easy_init();
<br/>
  if(curl) {
<br/>
    CURLHcode h;
<br/>
    curl_easy_setopt(curl, CURLOPT_URL, &quot;https://example.com&quot;);
<br/>
    curl_easy_perform(curl);
<br/>
    h = curl_easy_header(curl, &quot;Content-Type&quot;, 0, CURLH_HEADER, -1, &amp;type);
<br/>
    curl_easy_cleanup(curl);
<br/>
  }
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Added in 7.83.0. Officially supported since 7.84.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">This function returns a CURLHcode indicating success or error.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLINFO_CONTENT_TYPE</b>(3), <b>CURLOPT_HEADERFUNCTION</b>(3),
    <b>curl_easy_nextheader</b>(3), <b>curl_easy_perform</b>(3),
    <b>libcurl-errors</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 12 2024</td>
    <td class="foot-os">libcurl</td>
  </tr>
</table>
</body>
</html>
