<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Net::LDAP::Util(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Net::LDAP::Util(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Net::LDAP::Util(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Net::LDAP::Util - Utility functions
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Net::LDAP::Util qw(ldap_error_text
                         ldap_error_name
                         ldap_error_desc
                        );

  $mesg = $ldap-&gt;search( .... );

  die &quot;Error &quot;,ldap_error_name($mesg)  if $mesg-&gt;code;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Net::LDAP::Util</b> is a collection of utility functions for use with the
  Net::LDAP modules.
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<dl class="Bl-tag">
  <dt>ldap_error_name ( ERR )</dt>
  <dd>Returns the name corresponding with ERR. ERR can either be an LDAP error
      number, or a <span class="Li">&quot;Net::LDAP::Message&quot;</span> object
      containing an error code. If the error is not known the a string in the
      form <span class="Li">&quot;LDAP error</span> <span class="Li">code
      %d(0x%02X)&quot;</span> is returned.</dd>
  <dt>ldap_error_text ( ERR )</dt>
  <dd>Returns the text from the POD description for the given error. ERR can
      either be an LDAP error code, or a
      <span class="Li">&quot;Net::LDAP::Message&quot;</span> object containing
      an LDAP error code. If the error code given is unknown then
      <span class="Li">&quot;undef&quot;</span> is returned.</dd>
  <dt>ldap_error_desc ( ERR )</dt>
  <dd>Returns a short text description of the error. ERR can either be an LDAP
      error code or a <span class="Li">&quot;Net::LDAP::Message&quot;</span>
      object containing an LDAP error code.</dd>
  <dt>canonical_dn ( DN [ , OPTIONS ] )</dt>
  <dd>Returns the given <b>DN</b> in a canonical form. Returns undef if
      <b>DN</b> is not a valid Distinguished Name. (Note: The empty string
      &quot;&quot; is a valid DN.) <b>DN</b> can either be a string or reference
      to an array of hashes as returned by ldap_explode_dn, which is useful when
      constructing a DN.
    <p class="Pp">It performs the following operations on the given
      <b>DN</b>:</p>
  </dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Removes the leading 'OID.' characters if the type is an OID instead of a
      name.</li>
  <li>Escapes all RFC 4514 special characters (&quot;,&quot;, &quot;+&quot;,
      &quot;&quot;&quot;, &quot;\&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;,
      &quot;;&quot;, &quot;#&quot;, &quot;=&quot;, &quot; &quot;), slashes
      (&quot;/&quot;), and any other character where the ASCII code is &lt; 32
      as \hexpair.</li>
  <li>Converts all leading and trailing spaces in values to be \20.</li>
  <li>If an RDN contains multiple parts, the parts are re-ordered so that the
      attribute type names are in alphabetical order.</li>
</ul>
</div>
<div class="Bd-indent">
<p class="Pp"><b>OPTIONS</b> is a list of name/value pairs, valid options
  are:</p>
<dl class="Bl-tag">
  <dt>casefold</dt>
  <dd>Controls case folding of attribute type names. Attribute values are not
      affected by this option. The default is to uppercase. Valid values
    are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>lower</dt>
  <dd>Lowercase attribute type names.</dd>
  <dt>upper</dt>
  <dd>Uppercase attribute type names. This is the default.</dd>
  <dt>none</dt>
  <dd>Do not change attribute type names.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>mbcescape</dt>
  <dd>If TRUE, characters that are encoded as a multi-octet UTF-8 sequence will
      be escaped as \(hexpair){2,*}.</dd>
  <dt>reverse</dt>
  <dd>If TRUE, the RDN sequence is reversed.</dd>
  <dt>separator</dt>
  <dd>Separator to use between RDNs. Defaults to comma (',').</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>ldap_explode_dn ( DN [ , OPTIONS ] )</dt>
  <dd>Explodes the given <b>DN</b> into an array of hashes and returns a
      reference to this array. Returns undef if <b>DN</b> is not a valid
      Distinguished Name.
    <p class="Pp">A Distinguished Name is a sequence of Relative Distinguished
        Names (RDNs), which themselves are sets of Attributes. For each RDN a
        hash is constructed with the attribute type names as keys and the
        attribute values as corresponding values. These hashes are then stored
        in an array in the order in which they appear in the DN.</p>
    <p class="Pp">For example, the DN 'OU=Sales+CN=J. Smith,DC=example,DC=net'
        is exploded to:
       [
       {
       'OU' =&gt; 'Sales',
       'CN' =&gt; 'J. Smith'
       },
       {
       'DC' =&gt; 'example'
       },
       {
       'DC' =&gt; 'net'
       }
       ]</p>
    <p class="Pp">(RFC4514 string) DNs might also contain values, which are the
        bytes of the BER encoding of the X.500 AttributeValue rather than some
        LDAP string syntax. These values are hex-encoded and prefixed with a #.
        To distinguish such BER values, ldap_explode_dn uses references to the
        actual values, e.g. '1.3.6.1.4.1.1466.0=#04024869,DC=example,DC=com' is
        exploded to:
       [
       {
       '1.3.6.1.4.1.1466.0' =&gt; &quot;\004\002Hi&quot;
       },
       {
       'DC' =&gt; 'example'
       },
       {
       'DC' =&gt; 'com'
       }
       ];</p>
    <p class="Pp">It also performs the following operations on the given DN:</p>
  </dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Unescape &quot;\&quot; followed by &quot;,&quot;, &quot;+&quot;,
      &quot;&quot;&quot;, &quot;\&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;,
      &quot;;&quot;, &quot;#&quot;, &quot;=&quot;, &quot; &quot;, or a hexpair
      and strings beginning with &quot;#&quot;.</li>
  <li>Removes the leading 'OID.' characters if the type is an OID instead of a
      name.</li>
</ul>
</div>
<div class="Bd-indent">
<p class="Pp"><b>OPTIONS</b> is a list of name/value pairs, valid options
  are:</p>
<dl class="Bl-tag">
  <dt>casefold</dt>
  <dd>Controls case folding of attribute types names. Attribute values are not
      affected by this option. The default is to uppercase. Valid values
    are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>lower</dt>
  <dd>Lowercase attribute types names.</dd>
  <dt>upper</dt>
  <dd>Uppercase attribute type names. This is the default.</dd>
  <dt>none</dt>
  <dd>Do not change attribute type names.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>reverse</dt>
  <dd>If TRUE, the RDN sequence is reversed.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>escape_filter_value ( VALUES )</dt>
  <dd>Escapes the given <b>VALUES</b> according to RFC 4515 so that they can be
      safely used in LDAP filters.
    <p class="Pp">Any control characters with an ASCII code &lt; 32 as well as
        the characters with special meaning in LDAP filters &quot;*&quot;,
        &quot;(&quot;, &quot;)&quot;, and &quot;\&quot; the backslash are
        converted into the representation of a backslash followed by two hex
        digits representing the hexadecimal value of the character.</p>
    <p class="Pp">Returns the converted list in list mode and the first element
        in scalar mode.</p>
  </dd>
  <dt>unescape_filter_value ( VALUES )</dt>
  <dd>Undoes the conversion done by <b></b><b>escape_filter_value()</b><b></b>.
    <p class="Pp">Converts any sequences of a backslash followed by two hex
        digits into the corresponding character.</p>
    <p class="Pp">Returns the converted list in list mode and the first element
        in scalar mode.</p>
  </dd>
  <dt>escape_dn_value ( VALUES )</dt>
  <dd>Escapes the given <b>VALUES</b> according to RFC 4514 so that they can be
      safely used in LDAP DNs.
    <p class="Pp">The characters &quot;,&quot;, &quot;+&quot;,
        &quot;&quot;&quot;, &quot;\&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;,
        &quot;;&quot;, &quot;#&quot;, &quot;=&quot; with a special meaning in
        section 2.4 of RFC 4514 are preceded by a backslash. Control characters
        with an ASCII code &lt; 32 are represented as \hexpair. Finally all
        leading and trailing spaces are converted to sequences of \20.</p>
    <p class="Pp">Returns the converted list in list mode and the first element
        in scalar mode.</p>
  </dd>
  <dt>unescape_dn_value ( VALUES )</dt>
  <dd>Undoes the conversion done by <b></b><b>escape_dn_value()</b><b></b>.
    <p class="Pp">Any escape sequence starting with a backslash - hexpair or
        special character - will be transformed back to the corresponding
        character.</p>
    <p class="Pp">Returns the converted list in list mode and the first element
        in scalar mode.</p>
  </dd>
  <dt>ldap_url_parse ( LDAP-URL [, OPTIONS ] )</dt>
  <dd>Parse an <b>LDAP-URL</b> conforming to RFC 4516 into a hash containing its
      elements.
    <p class="Pp">For easy cooperation with LDAP queries, the hash keys for the
        elements used in LDAP search operations are named after the parameters
        to &quot;search&quot; in Net::LDAP.</p>
    <p class="Pp">In extension to RFC 4516, the socket path for URLs with the
        scheme <span class="Li">&quot;ldapi&quot;</span> will be stored in the
        hash key named <span class="Li">&quot;path&quot;</span>.</p>
    <p class="Pp">If any element is omitted, the result depends on the setting
        of the option <span class="Li">&quot;defaults&quot;</span>.</p>
    <p class="Pp"><b>OPTIONS</b> is a list of key/value pairs with the following
        keys recognized:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>defaults</dt>
  <dd>A Boolean option that determines whether default values according to RFC
      4516 shall be returned for missing URL elements.
    <p class="Pp">If set to TRUE, default values are returned, with
        <span class="Li">&quot;ldap_url_parse&quot;</span> using the following
        defaults in extension to RFC 4516.</p>
  </dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>The default port for <span class="Li">&quot;ldaps&quot;</span> URLs is
      <span class="Li">636</span>.</li>
  <li>The default path for <span class="Li">&quot;ldapi&quot;</span> URLs is the
      contents of the environment variable
      <span class="Li">&quot;LDAPI_SOCK&quot;</span>. If that is not defined or
      empty, then <span class="Li">&quot;/var/run/ldapi&quot;</span> is used.
    <p class="Pp">This is consistent with the behaviour of &quot;new&quot; in
        Net::LDAP.</p>
  </li>
  <li>The default <span class="Li">&quot;host&quot;</span> name for
      <span class="Li">&quot;ldap&quot;</span> and
      <span class="Li">&quot;ldaps&quot;</span> URLs is
      <span class="Li">&quot;localhost&quot;</span>.</li>
</ul>
</div>
<div class="Bd-indent">
<p class="Pp">When set to FALSE, no default values are used.</p>
<p class="Pp">This leaves all keys in the resulting hash undefined where the
    corresponding URL element is empty.</p>
<p class="Pp">To distinguish between an empty base DN and an undefined base DN,
    <span class="Li">&quot;ldap_url_parse&quot;</span> uses the slash between
    the host:port resp. path part of the URL and the base DN part of the URL.
    With the slash present, the hash key
    <span class="Li">&quot;base&quot;</span> is set to the empty string, without
    it, it is left undefined.</p>
<p class="Pp">Leaving away the <span class="Li">&quot;defaults&quot;</span>
    option entirely is equivalent to setting it to TRUE.</p>
</div>
</div>
<div class="Bd-indent">
<p class="Pp">Returns the hash in list mode, or the reference to the hash in
    scalar mode.</p>
</div>
<dl class="Bl-tag">
  <dt>generalizedTime_to_time ( GENERALIZEDTIME )</dt>
  <dd>Convert the generalizedTime string <b>GENERALIZEDTIME</b>, which is
      expected to match the template
      <span class="Li">&quot;YYYYmmddHH[MM[SS]][(./,)d...](Z|(+/-)HH[MM])&quot;</span>
      to a floating point number compatible with UNIX time (i.e. the integral
      part of the number is a UNIX time).
    <p class="Pp">Returns an extended UNIX time or
        <span class="Li">&quot;undef&quot;</span> on error.</p>
    <p class="Pp">Times in years smaller than 1000 will lead to
        <span class="Li">&quot;undef&quot;</span> being returned. This
        restriction is a direct effect of the year value interpretation rules in
        Time::Local.</p>
    <p class="Pp"><b>Note:</b> this function depends on Perl's implementation of
        time and Time::Local. See &quot;Limits of time_t&quot; in Time::Local,
        &quot;Negative Epoch Values&quot; in Time::Local, and &quot;gmtime&quot;
        in perlport for restrictions in older versions of Perl.</p>
  </dd>
  <dt>time_to_generalizedTime ( TIME [, OPTIONS ] )</dt>
  <dd>Convert the UNIX time <b>TIME</b> to a generalizedTime string.
    <p class="Pp">In extension to UNIX times, <b>TIME</b> may be a floating
        point number, the decimal part will be used for the resulting
        generalizedTime.</p>
    <p class="Pp"><b>OPTIONS</b> is a list of key/value pairs. The following
        keys are recognized:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>AD</dt>
  <dd>Take care of an ActiveDirectory peculiarity to always require
    decimals.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">Returns the generalizedTime string, or
    <span class="Li">&quot;undef&quot;</span> on error.</p>
<p class="Pp">Times before BC or after year 9999 result in
    <span class="Li">&quot;undef&quot;</span> as they cannot be represented in
    the generalizedTime format.</p>
<p class="Pp"><b>Note:</b> this function depends on Perl's implementation of
    gmtime. See &quot;Limits of time_t&quot; in Time::Local, &quot;Negative
    Epoch Values&quot; in Time::Local, and &quot;gmtime&quot; in perlport for
    restrictions in older versions of Perl.</p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Graham Barr &lt;gbarr@pobox.com&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 1999-2004 Graham Barr. All rights reserved. This program is free
  software; you can redistribute it and/or modify it under the same terms as
  Perl itself.
<p class="Pp">ldap_explode_dn and canonical_dn also</p>
<p class="Pp">(c) 2002 Norbert Klasen, norbert.klasen@daasi.de, All Rights
    Reserved.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-04-16</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
