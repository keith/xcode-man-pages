<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1989, 1991, 1993
  	The Regents of the University of California.  All rights reserved.
  
   This code is derived from software contributed to Berkeley by
   Arthur Olson.
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   4. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
       From: @(#)ctime.3	8.1 (Berkeley) 6/4/93
   $FreeBSD: src/lib/libc/stdtime/ctime.3,v 1.24 2007/01/09 00:28:11 imp Exp $
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>CTIME(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CTIME(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CTIME(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">asctime</code>,
    <code class="Nm">asctime_r</code>, <code class="Nm">ctime</code>,
    <code class="Nm">ctime_r</code>, <code class="Nm">difftime</code>,
    <code class="Nm">gmtime</code>, <code class="Nm">gmtime_r</code>,
    <code class="Nm">localtime</code>, <code class="Nm">localtime_r</code>,
    <code class="Nm">mktime</code>, <code class="Nm">timegm</code>,
    <code class="Nm">timelocal</code> &#x2014; <span class="Nd">transform binary
    date and time values</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp"><span class="Lb">Standard C&#x00A0;Library (libc, -lc)</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
  &lt;<a class="In">time.h</a>&gt;</code></p>
<p class="Pp"><var class="Vt">extern char *tzname[2]</var>;</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">asctime</code>(<var class="Fa" style="white-space: nowrap;">const
    struct tm *timeptr</var>);</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">asctime_r</code>(<var class="Fa" style="white-space: nowrap;">const
    struct tm *restrict timeptr</var>,
    <var class="Fa" style="white-space: nowrap;">char *restrict buf</var>);</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">ctime</code>(<var class="Fa" style="white-space: nowrap;">const
    time_t *clock</var>);</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">ctime_r</code>(<var class="Fa" style="white-space: nowrap;">const
    time_t *clock</var>, <var class="Fa" style="white-space: nowrap;">char
    *buf</var>);</p>
<p class="Pp"><var class="Ft">double</var>
  <br/>
  <code class="Fn">difftime</code>(<var class="Fa" style="white-space: nowrap;">time_t
    time1</var>, <var class="Fa" style="white-space: nowrap;">time_t
    time0</var>);</p>
<p class="Pp"><var class="Ft">struct tm *</var>
  <br/>
  <code class="Fn">gmtime</code>(<var class="Fa" style="white-space: nowrap;">const
    time_t *clock</var>);</p>
<p class="Pp"><var class="Ft">struct tm *</var>
  <br/>
  <code class="Fn">gmtime_r</code>(<var class="Fa" style="white-space: nowrap;">const
    time_t *clock</var>, <var class="Fa" style="white-space: nowrap;">struct tm
    *result</var>);</p>
<p class="Pp"><var class="Ft">struct tm *</var>
  <br/>
  <code class="Fn">localtime</code>(<var class="Fa" style="white-space: nowrap;">const
    time_t *clock</var>);</p>
<p class="Pp"><var class="Ft">struct tm *</var>
  <br/>
  <code class="Fn">localtime_r</code>(<var class="Fa" style="white-space: nowrap;">const
    time_t *clock</var>, <var class="Fa" style="white-space: nowrap;">struct tm
    *result</var>);</p>
<p class="Pp"><var class="Ft">time_t</var>
  <br/>
  <code class="Fn">mktime</code>(<var class="Fa" style="white-space: nowrap;">struct
    tm *timeptr</var>);</p>
<p class="Pp"><var class="Ft">time_t</var>
  <br/>
  <code class="Fn">timegm</code>(<var class="Fa" style="white-space: nowrap;">struct
    tm *timeptr</var>);</p>
<p class="Pp"><var class="Ft">time_t</var>
  <br/>
  <code class="Fn">timelocal</code>(<var class="Fa" style="white-space: nowrap;">struct
    tm *timeptr</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The functions
    <a class="permalink" href="#ctime"><code class="Fn" id="ctime">ctime</code></a>(),
    <code class="Fn">gmtime</code>(), and <code class="Fn">localtime</code>()
    all take as an argument a time value representing the time in seconds since
    the Epoch (00:00:00 UTC, January 1, 1970; see <a class="Xr">time(3)</a>).
    When encountering an error, these functions return
    <code class="Dv">NULL</code> and set <code class="Dv">errno</code> to an
    appropriate value.</p>
<p class="Pp" id="localtime">The function
    <a class="permalink" href="#localtime"><code class="Fn">localtime</code></a>()
    converts the time value pointed at by <var class="Fa">clock</var>. It
    returns a pointer to a &#x201C;<var class="Fa">struct tm</var>&#x201D;
    (described below), which contains the broken-out time information for the
    value after adjusting for the current time zone (and any other factors such
    as Daylight Saving Time). Time zone adjustments are performed as specified
    by the <code class="Ev">TZ</code> environment variable (see
    <a class="Xr">tzset(3)</a>). The function
    <code class="Fn">localtime</code>() uses <a class="Xr">tzset(3)</a> to
    initialize time conversion information, if <a class="Xr">tzset(3)</a> has
    not already been called by the process.</p>
<p class="Pp" id="localtime~2">After filling in the tm structure,
    <a class="permalink" href="#localtime~2"><code class="Fn">localtime</code></a>()
    sets the <var class="Fa">tm_isdst</var>'th element of
    <var class="Fa">tzname</var> to a pointer to an ASCII string containing the
    time zone abbreviation to be used with <code class="Fn">localtime</code>()'s
    return value.</p>
<p class="Pp" id="gmtime">The function
    <a class="permalink" href="#gmtime"><code class="Fn">gmtime</code></a>()
    also converts the time value, but makes no time zone adjustment. It returns
    a pointer to a tm structure (described below).</p>
<p class="Pp" id="ctime~2">The
    <a class="permalink" href="#ctime~2"><code class="Fn">ctime</code></a>()
    function adjusts the time value for the current time zone, in the same
    manner as <code class="Fn">localtime</code>(). It returns a pointer to a
    26-character string of the form:</p>
<div class="Bd Pp Bd-indent Li">
<pre>Thu Nov 24 18:22:48 1986\n\0</pre>
</div>
<p class="Pp">All of the fields have constant width.</p>
<p class="Pp" id="ctime_r">The
    <a class="permalink" href="#ctime_r"><code class="Fn">ctime_r</code></a>()
    function provides the same functionality as <code class="Fn">ctime</code>(),
    except that the caller must provide the output buffer
    <var class="Fa">buf</var> (which must be at least 26 characters long) to
    store the result. The
    <a class="permalink" href="#localtime_r"><code class="Fn" id="localtime_r">localtime_r</code></a>()
    and
    <a class="permalink" href="#gmtime_r"><code class="Fn" id="gmtime_r">gmtime_r</code></a>()
    functions provide the same functionality as
    <code class="Fn">localtime</code>() and <code class="Fn">gmtime</code>(),
    respectively, except the caller must provide the output buffer
    <var class="Fa">result</var>.</p>
<p class="Pp" id="asctime">The
    <a class="permalink" href="#asctime"><code class="Fn">asctime</code></a>()
    function converts the broken-out time in the structure
    <var class="Fa">tm</var> (pointed at by <var class="Fa">*timeptr</var>) to
    the form shown in the example above.</p>
<p class="Pp" id="asctime_r">The
    <a class="permalink" href="#asctime_r"><code class="Fn">asctime_r</code></a>()
    function provides the same functionality as
    <code class="Fn">asctime</code>(), except that the caller provides the
    output buffer <var class="Fa">buf</var> (which must be at least 26
    characters long) to store the result.</p>
<p class="Pp" id="mktime">The functions
    <a class="permalink" href="#mktime"><code class="Fn">mktime</code></a>() and
    <a class="permalink" href="#timegm"><code class="Fn" id="timegm">timegm</code></a>()
    convert the broken-out time (in the structure pointed to by
    <var class="Fa">*timeptr</var>) into a time value with the same encoding as
    that of the values returned by the <a class="Xr">time(3)</a> function (that
    is, seconds from the Epoch, UTC). The <code class="Fn">mktime</code>()
    function interprets the input structure according to the current timezone
    setting (see <a class="Xr">tzset(3)</a>). The
    <code class="Fn">timegm</code>() function interprets the input structure as
    representing Universal Coordinated Time (UTC).</p>
<p class="Pp" id="timelocal">The
    <a class="permalink" href="#timelocal"><code class="Fn">timelocal</code></a>()
    function is like
    <a class="permalink" href="#timegm~2"><code class="Fn" id="timegm~2">timegm</code></a>(),
    but uses the current timezone setting. This makes
    <code class="Fn">timelocal</code>() equivalent to
    <code class="Fn">mktime</code>().</p>
<p class="Pp" id="mktime~2">The original values of the
    <var class="Fa">tm_wday</var> and <var class="Fa">tm_yday</var> components
    of the structure are ignored. The original values of the other components
    are not restricted to their normal ranges and will be normalized, if need
    be. For example, October 40 is changed into November 9, a
    <var class="Fa">tm_hour</var> of -1 means 1 hour before midnight,
    <var class="Fa">tm_mday</var> of 0 means the day preceding the current
    month, and <var class="Fa">tm_mon</var> of -2 means 2 months before January
    of <var class="Fa">tm_year</var>. (A positive or zero value for
    <var class="Fa">tm_isdst</var> causes
    <a class="permalink" href="#mktime~2"><code class="Fn">mktime</code></a>()
    to presume initially that summer time (for example, Daylight Saving Time) is
    or is not (respectively) in effect for the specified time. A negative value
    for <var class="Fa">tm_isdst</var> causes the
    <code class="Fn">mktime</code>() function to attempt to divine whether
    summer time is in effect for the specified time. The
    <var class="Fa">tm_isdst</var> and <var class="Fa">tm_gmtoff</var> members
    are forced to zero by <code class="Fn">timegm</code>().)</p>
<p class="Pp" id="mktime~3">On successful completion, the values of the
    <var class="Fa">tm_wday</var> and <var class="Fa">tm_yday</var> components
    of the structure are set appropriately, and the other components are set to
    represent the specified calendar time, but with their values forced to their
    normal ranges; the final value of <var class="Fa">tm_mday</var> is not set
    until <var class="Fa">tm_mon</var> and <var class="Fa">tm_year</var> are
    determined. The
    <a class="permalink" href="#mktime~3"><code class="Fn">mktime</code></a>()
    function returns the specified calendar time; if the calendar time cannot be
    represented, it returns -1;</p>
<p class="Pp" id="difftime">The
    <a class="permalink" href="#difftime"><code class="Fn">difftime</code></a>()
    function returns the difference between two calendar times,
    (<var class="Fa">time1</var> - <var class="Fa">time0</var>), expressed in
    seconds.</p>
<p class="Pp">External declarations, as well as the tm structure definition, are
    contained in the <code class="In">&lt;<a class="In">time.h</a>&gt;</code>
    include file. The tm structure includes at least the following fields:</p>
<div class="Bd Pp Bd-indent Li">
<pre>int tm_sec;	/&#x2217; seconds (0 - 60) &#x2217;/
int tm_min;	/&#x2217; minutes (0 - 59) &#x2217;/
int tm_hour;	/&#x2217; hours (0 - 23) &#x2217;/
int tm_mday;	/&#x2217; day of month (1 - 31) &#x2217;/
int tm_mon;	/&#x2217; month of year (0 - 11) &#x2217;/
int tm_year;	/&#x2217; year - 1900 &#x2217;/
int tm_wday;	/&#x2217; day of week (Sunday = 0) &#x2217;/
int tm_yday;	/&#x2217; day of year (0 - 365) &#x2217;/
int tm_isdst;	/&#x2217; is summer time in effect? &#x2217;/
char &#x2217;tm_zone;	/&#x2217; abbreviation of timezone name &#x2217;/
long tm_gmtoff;	/&#x2217; offset from UTC in seconds &#x2217;/</pre>
</div>
<p class="Pp">The field <var class="Fa">tm_isdst</var> is non-zero if summer
    (i.e., Daylight Saving) time is in effect.</p>
<p class="Pp">The field <var class="Fa">tm_gmtoff</var> is the offset (in
    seconds) of the time represented from UTC, with positive values indicating
    locations east of the Prime Meridian.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">date(1)</a>, <a class="Xr">gettimeofday(2)</a>,
    <a class="Xr">getenv(3)</a>, <a class="Xr">time(3)</a>,
    <a class="Xr">tzset(3)</a>, <a class="Xr">tzfile(5)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp">The <code class="Fn">asctime</code>(),
    <code class="Fn">ctime</code>(), <code class="Fn">difftime</code>(),
    <code class="Fn">gmtime</code>(), <code class="Fn">localtime</code>(), and
    <code class="Fn">mktime</code>() functions conform to
    <span class="St">ISO/IEC 9899:1990 (&#x201C;ISO&#x00A0;C90&#x201D;)</span>,
    and conform to <span class="St">ISO/IEC 9945-1:1996
    (&#x201C;POSIX.1&#x201D;)</span> provided the selected local timezone does
    not contain a leap-second table (see <a class="Xr">zic(8)</a>).</p>
<p class="Pp">The <code class="Fn">asctime_r</code>(),
    <code class="Fn">ctime_r</code>(), <code class="Fn">gmtime_r</code>(), and
    <code class="Fn">localtime_r</code>() functions are expected to conform to
    <span class="St">ISO/IEC 9945-1:1996 (&#x201C;POSIX.1&#x201D;)</span> (again
    provided the selected local timezone does not contain a leap-second
  table).</p>
<p class="Pp">The <code class="Fn">timegm</code>() function is not specified by
    any standard; its function cannot be completely emulated using the standard
    functions described above.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">This manual page is derived from the time package contributed to
    Berkeley by <span class="An">Arthur Olson</span> and which appeared in
    <span class="Ux">4.3BSD</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Except for <code class="Fn">difftime</code>(),
    <code class="Fn">mktime</code>(), and the <code class="Fn">_r</code>()
    variants of the other functions, these functions leaves their result in an
    internal static object and return a pointer to that object. Subsequent calls
    to these function will modify the same object.</p>
<p class="Pp">The C Standard provides no mechanism for a program to modify its
    current local timezone setting, and the
    POSIX<span class="No">-standard</span> method is not reentrant. (However,
    thread-safe implementations are provided in the POSIX threaded
  environment.)</p>
<p class="Pp">The <var class="Va">tm_zone</var> field of a returned
    <var class="Vt">tm</var> structure points to a static array of characters,
    which will also be overwritten by any subsequent calls (as well as by
    subsequent calls to <a class="Xr">tzset(3)</a> and
    <a class="Xr">tzsetwall(3)</a>).</p>
<p class="Pp">Use of the external variable <var class="Fa">tzname</var> is
    discouraged; the <var class="Fa">tm_zone</var> entry in the tm structure is
    preferred.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 2, 1999</td>
    <td class="foot-os">Mac OS X 12</td>
  </tr>
</table>
</body>
</html>
