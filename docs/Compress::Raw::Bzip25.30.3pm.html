<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Compress::Raw::Bzip2(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Compress::Raw::Bzip2(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Compress::Raw::Bzip2(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Compress::Raw::Bzip2 - Low-Level Interface to bzip2 compression library
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use Compress::Raw::Bzip2 ;

    my ($bz, $status) = new Compress::Raw::Bzip2 [OPTS]
        or die &quot;Cannot create bzip2 object: $bzerno\n&quot;;
    
    $status = $bz-&gt;bzdeflate($input, $output);
    $status = $bz-&gt;bzflush($output);
    $status = $bz-&gt;bzclose($output);

    my ($bz, $status) = new Compress::Raw::Bunzip2 [OPTS]
        or die &quot;Cannot create bunzip2 object: $bzerno\n&quot;;
    
    $status = $bz-&gt;bzinflate($input, $output);

    my $version = Compress::Raw::Bzip2::bzlibversion();
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<span class="Li">&quot;Compress::Raw::Bzip2&quot;</span> provides an interface
  to the in-memory compression/uncompression functions from the bzip2
  compression library.
<p class="Pp">Although the primary purpose for the existence of
    <span class="Li">&quot;Compress::Raw::Bzip2&quot;</span> is for use by the
    <span class="Li">&quot;IO::Compress::Bzip2&quot;</span> and
    <span class="Li">&quot;IO::Compress::Bunzip2&quot;</span> modules, it can be
    used on its own for simple compression/uncompression tasks.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Compression"><a class="permalink" href="#Compression">Compression</a></h1>
<section class="Ss">
<h2 class="Ss" id="($z,_$status)_=_new_Compress::Raw::Bzip2_$appendOutput,_$blockSize100k,_$workfactor;"><a class="permalink" href="#($z,_$status)_=_new_Compress::Raw::Bzip2_$appendOutput,_$blockSize100k,_$workfactor;">($z,
  $status) = new Compress::Raw::Bzip2 $appendOutput, $blockSize100k,
  $workfactor;</a></h2>
Creates a new compression object.
<p class="Pp">If successful, it will return the initialised compression object,
    <span class="Li">$z</span> and a <span class="Li">$status</span> of
    <span class="Li">&quot;BZ_OK&quot;</span> in a list context. In scalar
    context it returns the deflation object, <span class="Li">$z</span>,
  only.</p>
<p class="Pp">If not successful, the returned compression object,
    <span class="Li">$z</span>, will be <i>undef</i> and
    <span class="Li">$status</span> will hold the a <i>bzip2</i> error code.</p>
<p class="Pp">Below is a list of the valid options:</p>
<dl class="Bl-tag">
  <dt><b></b><b>$appendOutput</b><b></b></dt>
  <dd>Controls whether the compressed data is appended to the output buffer in
      the <span class="Li">&quot;bzdeflate&quot;</span>,
      <span class="Li">&quot;bzflush&quot;</span> and
      <span class="Li">&quot;bzclose&quot;</span> methods.
    <p class="Pp">Defaults to 1.</p>
  </dd>
  <dt><b></b><b>$blockSize100k</b><b></b></dt>
  <dd>To quote the bzip2 documentation
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    blockSize100k specifies the block size to be used for compression. It
    should be a value between 1 and 9 inclusive, and the actual block size
    used is 100000 x this figure. 9 gives the best compression but takes
    most memory.
    </pre>
    <p class="Pp">Defaults to 1.</p>
  </dd>
  <dt><b></b><b>$workfactor</b><b></b></dt>
  <dd>To quote the bzip2 documentation
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    This parameter controls how the compression phase behaves when
    presented with worst case, highly repetitive, input data. If
    compression runs into difficulties caused by repetitive data, the
    library switches from the standard sorting algorithm to a fallback
    algorithm. The fallback is slower than the standard algorithm by
    perhaps a factor of three, but always behaves reasonably, no matter how
    bad the input.

    Lower values of workFactor reduce the amount of effort the standard
    algorithm will expend before resorting to the fallback. You should set
    this parameter carefully; too low, and many inputs will be handled by
    the fallback algorithm and so compress rather slowly, too high, and
    your average-to-worst case compression times can become very large. The
    default value of 30 gives reasonable behaviour over a wide range of
    circumstances.

    Allowable values range from 0 to 250 inclusive. 0 is a special case,
    equivalent to using the default value of 30.
    </pre>
    <p class="Pp">Defaults to 0.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="$status_=_$bz_-_bzdeflate($input,_$output);"><a class="permalink" href="#$status_=_$bz_-_bzdeflate($input,_$output);">$status
  = $bz-&gt;bzdeflate($input, $output);</a></h2>
Reads the contents of <span class="Li">$input</span>, compresses it and writes
  the compressed data to <span class="Li">$output</span>.
<p class="Pp">Returns <span class="Li">&quot;BZ_RUN_OK&quot;</span> on success
    and a <span class="Li">&quot;bzip2&quot;</span> error code on failure.</p>
<p class="Pp">If <span class="Li">&quot;appendOutput&quot;</span> is enabled in
    the constructor for the bzip2 object, the compressed data will be appended
    to <span class="Li">$output</span>. If not enabled,
    <span class="Li">$output</span> will be truncated before the compressed data
    is written to it.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$status_=_$bz_-_bzflush($output);"><a class="permalink" href="#$status_=_$bz_-_bzflush($output);">$status
  = $bz-&gt;bzflush($output);</a></h2>
Flushes any pending compressed data to <span class="Li">$output</span>.
<p class="Pp">Returns <span class="Li">&quot;BZ_RUN_OK&quot;</span> on success
    and a <span class="Li">&quot;bzip2&quot;</span> error code on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$status_=_$bz_-_bzclose($output);"><a class="permalink" href="#$status_=_$bz_-_bzclose($output);">$status
  = $bz-&gt;bzclose($output);</a></h2>
Terminates the compressed data stream and flushes any pending compressed data to
  <span class="Li">$output</span>.
<p class="Pp">Returns <span class="Li">&quot;BZ_STREAM_END&quot;</span> on
    success and a <span class="Li">&quot;bzip2&quot;</span> error code on
    failure.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Example"><a class="permalink" href="#Example">Example</a></h2>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Uncompression"><a class="permalink" href="#Uncompression">Uncompression</a></h1>
<section class="Ss">
<h2 class="Ss" id="($z,_$status)_=_new_Compress::Raw::Bunzip2_$appendOutput,_$consumeInput,_$small,_$verbosity,_$limitOutput;"><a class="permalink" href="#($z,_$status)_=_new_Compress::Raw::Bunzip2_$appendOutput,_$consumeInput,_$small,_$verbosity,_$limitOutput;">($z,
  $status) = new Compress::Raw::Bunzip2 $appendOutput, $consumeInput, $small,
  $verbosity, $limitOutput;</a></h2>
If successful, it will return the initialised uncompression object,
  <span class="Li">$z</span> and a <span class="Li">$status</span> of
  <span class="Li">&quot;BZ_OK&quot;</span> in a list context. In scalar context
  it returns the deflation object, <span class="Li">$z</span>, only.
<p class="Pp">If not successful, the returned uncompression object,
    <span class="Li">$z</span>, will be <i>undef</i> and
    <span class="Li">$status</span> will hold the a <i>bzip2</i> error code.</p>
<p class="Pp">Below is a list of the valid options:</p>
<dl class="Bl-tag">
  <dt><b></b><b>$appendOutput</b><b></b></dt>
  <dd>Controls whether the compressed data is appended to the output buffer in
      the <span class="Li">&quot;bzinflate&quot;</span>,
      <span class="Li">&quot;bzflush&quot;</span> and
      <span class="Li">&quot;bzclose&quot;</span> methods.
    <p class="Pp">Defaults to 1.</p>
  </dd>
  <dt><b></b><b>$consumeInput</b><b></b></dt>
  <dd></dd>
  <dt><b></b><b>$small</b><b></b></dt>
  <dd>To quote the bzip2 documentation
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    If small is nonzero, the library will use an alternative decompression
    algorithm which uses less memory but at the cost of decompressing more
    slowly (roughly speaking, half the speed, but the maximum memory
    requirement drops to around 2300k).
    </pre>
    <p class="Pp">Defaults to 0.</p>
  </dd>
  <dt><b></b><b>$limitOutput</b><b></b></dt>
  <dd>The <span class="Li">&quot;LimitOutput&quot;</span> option changes the
      behavior of the <span class="Li">&quot;$i-&gt;bzinflate&quot;</span>
      method so that the amount of memory used by the output buffer can be
      limited.
    <p class="Pp">When <span class="Li">&quot;LimitOutput&quot;</span> is used
        the size of the output buffer used will either be the 16k or the amount
        of memory already allocated to <span class="Li">$output</span>,
        whichever is larger. Predicting the output size available is tricky, so
        don't rely on getting an exact output buffer size.</p>
    <p class="Pp">When <span class="Li">&quot;LimitOutout&quot;</span> is not
        specified <span class="Li">&quot;$i-&gt;bzinflate&quot;</span> will use
        as much memory as it takes to write all the uncompressed data it creates
        by uncompressing the input buffer.</p>
    <p class="Pp">If <span class="Li">&quot;LimitOutput&quot;</span> is enabled,
        the <span class="Li">&quot;ConsumeInput&quot;</span> option will also be
        enabled.</p>
    <p class="Pp">This option defaults to false.</p>
  </dd>
  <dt><b></b><b>$verbosity</b><b></b></dt>
  <dd>This parameter is ignored.
    <p class="Pp">Defaults to 0.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="$status_=_$z_-_bzinflate($input,_$output);"><a class="permalink" href="#$status_=_$z_-_bzinflate($input,_$output);">$status
  = $z-&gt;bzinflate($input, $output);</a></h2>
Uncompresses <span class="Li">$input</span> and writes the uncompressed data to
  <span class="Li">$output</span>.
<p class="Pp">Returns <span class="Li">&quot;BZ_OK&quot;</span> if the
    uncompression was successful, but the end of the compressed data stream has
    not been reached. Returns <span class="Li">&quot;BZ_STREAM_END&quot;</span>
    on successful uncompression and the end of the compression stream has been
    reached.</p>
<p class="Pp">If <span class="Li">&quot;consumeInput&quot;</span> is enabled in
    the constructor for the bunzip2 object, <span class="Li">$input</span> will
    have all compressed data removed from it after uncompression. On
    <span class="Li">&quot;BZ_OK&quot;</span> return this will mean that
    <span class="Li">$input</span> will be an empty string; when
    <span class="Li">&quot;BZ_STREAM_END&quot;</span>
    <span class="Li">$input</span> will either be an empty string or will
    contain whatever data immediately followed the compressed data stream.</p>
<p class="Pp">If <span class="Li">&quot;appendOutput&quot;</span> is enabled in
    the constructor for the bunzip2 object, the uncompressed data will be
    appended to <span class="Li">$output</span>. If not enabled,
    <span class="Li">$output</span> will be truncated before the uncompressed
    data is written to it.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Misc"><a class="permalink" href="#Misc">Misc</a></h1>
<section class="Ss">
<h2 class="Ss" id="my_$version_=__fBCompress::Raw::Bzip2::bzlibversion()_fP;"><a class="permalink" href="#my_$version_=__fBCompress::Raw::Bzip2::bzlibversion()_fP;">my
  $version = <b>Compress::Raw::Bzip2::bzlibversion()</b>;</a></h2>
Returns the version of the underlying bzip2 library.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Constants"><a class="permalink" href="#Constants">Constants</a></h1>
The following bzip2 constants are exported by this module
<p class="Pp"><span class="Li"></span></p>
<pre>
                BZ_RUN
                BZ_FLUSH
                BZ_FINISH

                BZ_OK
                BZ_RUN_OK
                BZ_FLUSH_OK
                BZ_FINISH_OK
                BZ_STREAM_END
                BZ_SEQUENCE_ERROR
                BZ_PARAM_ERROR
                BZ_MEM_ERROR
                BZ_DATA_ERROR
                BZ_DATA_ERROR_MAGIC
                BZ_IO_ERROR
                BZ_UNEXPECTED_EOF
                BZ_OUTBUFF_FULL
                BZ_CONFIG_ERROR
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
General feedback/questions/bug reports should be sent to
  &lt;https://github.com/pmqs/Compress-Raw-Bzip2/issues&gt; (preferred) or
  &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Compress-Raw-Bzip2&gt;.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Compress::Zlib, IO::Compress::Gzip, IO::Uncompress::Gunzip,
  IO::Compress::Deflate, IO::Uncompress::Inflate, IO::Compress::RawDeflate,
  IO::Uncompress::RawInflate, IO::Compress::Bzip2, IO::Uncompress::Bunzip2,
  IO::Compress::Lzma, IO::Uncompress::UnLzma, IO::Compress::Xz,
  IO::Uncompress::UnXz, IO::Compress::Lzip, IO::Uncompress::UnLzip,
  IO::Compress::Lzop, IO::Uncompress::UnLzop, IO::Compress::Lzf,
  IO::Uncompress::UnLzf, IO::Compress::Zstd, IO::Uncompress::UnZstd,
  IO::Uncompress::AnyInflate, IO::Uncompress::AnyUncompress
<p class="Pp">IO::Compress::FAQ</p>
<p class="Pp">File::GlobMapper, Archive::Zip, Archive::Tar, IO::Zlib</p>
<p class="Pp">The primary site for the bzip2 program is
    &lt;https://sourceware.org/bzip2/&gt;.</p>
<p class="Pp">See the module Compress::Bzip2</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
This module was written by Paul Marquess,
  <span class="Li">&quot;pmqs@cpan.org&quot;</span>.
</section>
<section class="Sh">
<h1 class="Sh" id="MODIFICATION_HISTORY"><a class="permalink" href="#MODIFICATION_HISTORY">MODIFICATION
  HISTORY</a></h1>
See the Changes file.
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
Copyright (c) 2005-2019 Paul Marquess. All rights reserved.
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-02-29</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
