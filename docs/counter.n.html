<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   The definitions below are for supplemental macros used in Tcl/Tk
   manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO
  	Start of list of standard options for a Tk widget.  The
  	options follow on successive lines, in four columns separated
  	by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   RCS: @(#) $Id: man.macros,v 1.1 2009/01/30 04:56:47 andreas_kupries Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>counter(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">counter(n)</td>
    <td class="head-vol">Counters and Histograms</td>
    <td class="head-rtitle">counter(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>
</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">counter - Procedures for counters and histograms</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">package require <b>Tcl 8</b></p>
<p class="Pp">package require <b>counter ?2.0.4?</b></p>
<p class="Pp"><b>::counter::init</b> <i>tag args</i></p>
<p class="Pp"><b>::counter::count</b> <i>tag</i> ?<i>delta</i>?
    ?<i>instance</i>?</p>
<p class="Pp"><b>::counter::start</b> <i>tag instance</i></p>
<p class="Pp"><b>::counter::stop</b> <i>tag instance</i></p>
<p class="Pp"><b>::counter::get</b> <i>tag args</i></p>
<p class="Pp"><b>::counter::exists</b> <i>tag</i></p>
<p class="Pp"><b>::counter::names</b></p>
<p class="Pp"><b>::counter::histHtmlDisplay</b> <i>tag args</i></p>
<p class="Pp"><b>::counter::reset</b> <i>tag args</i></p>
<p class="Pp"></p>
<pre>
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <b>counter</b> package provides a counter facility and can
    compute statistics and histograms over the collected data.</p>
<dl class="Bl-tag">
  <dt><b>::counter::init</b> <i>tag args</i></dt>
  <dd>This defines a counter with the name <i>tag</i>. The <i>args</i>
      determines the characteristics of the counter. The <i>args</i> are</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="group"><a class="permalink" href="#group"><b>-group</b>
    <i>name</i></a></dt>
  <dd>Keep a grouped counter where the name of the histogram bucket is passed
      into <b>::counter::count</b>.</dd>
  <dt id="hist"><a class="permalink" href="#hist"><b>-hist</b>
    <i>bucketsize</i></a></dt>
  <dd>Accumulate the counter into histogram buckets of size <i>bucketsize</i>.
      For example, if the samples are millisecond time values and
      <i>bucketsize</i> is 10, then each histogram bucket represents time values
      of 0 to 10 msec, 10 to 20 msec, 20 to 30 msec, and so on.</dd>
  <dt id="hist2x"><a class="permalink" href="#hist2x"><b>-hist2x</b>
    <i>bucketsize</i></a></dt>
  <dd>Accumulate the statistic into histogram buckets. The size of the first
      bucket is <i>bucketsize</i>, each other bucket holds values 2 times the
      size of the previous bucket. For example, if <i>bucketsize</i> is 10, then
      each histogram bucket represents time values of 0 to 10 msec, 10 to 20
      msec, 20 to 40 msec, 40 to 80 msec, and so on.</dd>
  <dt id="hist10x"><a class="permalink" href="#hist10x"><b>-hist10x</b>
    <i>bucketsize</i></a></dt>
  <dd>Accumulate the statistic into histogram buckets. The size of the first
      bucket is <i>bucketsize</i>, each other bucket holds values 10 times the
      size of the previous bucket. For example, if <i>bucketsize</i> is 10, then
      each histogram bucket represents time values of 0 to 10 msec, 10 to 100
      msec, 100 to 1000 msec, and so on.</dd>
  <dt id="lastn"><a class="permalink" href="#lastn"><b>-lastn</b>
    <i>N</i></a></dt>
  <dd>Save the last <i>N</i> values of the counter to maintain a &quot;running
      average&quot; over the last <i>N</i> values.</dd>
  <dt id="timehist"><a class="permalink" href="#timehist"><b>-timehist</b>
    <i>secsPerMinute</i></a></dt>
  <dd>Keep a time-based histogram. The counter is summed into a histogram bucket
      based on the current time. There are 60 per-minute buckets that have a
      size determined by <i>secsPerMinute</i>, which is normally 60, but for
      testing purposes can be less. Every &quot;hour&quot; (i.e., 60
      &quot;minutes&quot;) the contents of the per-minute buckets are summed
      into the next hourly bucket. Every 24 &quot;hours&quot; the contents of
      the per-hour buckets are summed into the next daily bucket. The counter
      package keeps all time-based histograms in sync, so the first
      <i>secsPerMinute</i> value seen by the package is used for all subsequent
      time-based histograms.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><b>::counter::count</b> <i>tag</i> ?<i>delta</i>? ?<i>instance</i>?</dt>
  <dd>Increment the counter identified by <i>tag</i>. The default increment is
      1, although you can increment by any value, integer or real, by specifying
      <i>delta</i>. You must declare each counter with <b>::counter::init</b> to
      define the characteristics of counter before you start to use it. If the
      counter type is <b>-group</b>, then the counter identified by
      <i>instance</i> is incremented.</dd>
  <dt><b>::counter::start</b> <i>tag instance</i></dt>
  <dd>Record the starting time of an interval. The <i>tag</i> is the name of the
      counter defined as a <b>-hist</b> value-based histogram. The
      <i>instance</i> is used to distinguish this interval from any other
      intervals that might be overlapping this one.</dd>
  <dt><b>::counter::stop</b> <i>tag instance</i></dt>
  <dd>Record the ending time of an interval. The delta time since the
      corresponding <b>::counter::start</b> call for <i>instance</i> is recorded
      in the histogram identified by <i>tag</i>.</dd>
  <dt><b>::counter::get</b> <i>tag args</i></dt>
  <dd>Return statistics about a counter identified by <i>tag</i>. The
      <i>args</i> determine what value to return:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="total"><a class="permalink" href="#total"><b>-total</b></a></dt>
  <dd>Return the total value of the counter. This is the default if <i>args</i>
      is not specified.</dd>
  <dt id="totalVar"><a class="permalink" href="#totalVar"><b>-totalVar</b></a></dt>
  <dd>Return the name of the total variable. Useful for specifying with
      -textvariable in a Tk widget.</dd>
  <dt id="N"><a class="permalink" href="#N"><b>-N</b></a></dt>
  <dd>Return the number of samples accumulated into the counter.</dd>
  <dt id="avg"><a class="permalink" href="#avg"><b>-avg</b></a></dt>
  <dd>Return the average of samples accumulated into the counter.</dd>
  <dt id="avgn"><a class="permalink" href="#avgn"><b>-avgn</b></a></dt>
  <dd>Return the average over the last <i>N</i> samples taken. The <i>N</i>
      value is set in the <b>::counter::init</b> call.</dd>
  <dt id="hist~2"><a class="permalink" href="#hist~2"><b>-hist</b>
    <i>bucket</i></a></dt>
  <dd>If <i>bucket</i> is specified, then the value in that bucket of the
      histogram is returned. Otherwise the complete histogram is returned in
      array get format sorted by bucket.</dd>
  <dt id="histVar"><a class="permalink" href="#histVar"><b>-histVar</b></a></dt>
  <dd>Return the name of the histogram array variable.</dd>
  <dt id="histHour"><a class="permalink" href="#histHour"><b>-histHour</b></a></dt>
  <dd>Return the complete hourly histogram in array get format sorted by
    bucket.</dd>
  <dt id="histHourVar"><a class="permalink" href="#histHourVar"><b>-histHourVar</b></a></dt>
  <dd>Return the name of the hourly histogram array variable.</dd>
  <dt id="histDay"><a class="permalink" href="#histDay"><b>-histDay</b></a></dt>
  <dd>Return the complete daily histogram in array get format sorted by
    bucket.</dd>
  <dt id="histDayVar"><a class="permalink" href="#histDayVar"><b>-histDayVar</b></a></dt>
  <dd>Return the name of the daily histogram array variable.</dd>
  <dt id="resetDate"><a class="permalink" href="#resetDate"><b>-resetDate</b></a></dt>
  <dd>Return the clock seconds value recorded when the counter was last
    reset.</dd>
  <dt id="all"><a class="permalink" href="#all"><b>-all</b></a></dt>
  <dd>Return an array get of the array used to store the counter. This includes
      the total, the number of samples (N), and any type-specific information.
      This does not include the histogram array.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><b>::counter::exists</b> <i>tag</i></dt>
  <dd>Returns 1 if the counter is defined.</dd>
  <dt><b>::counter::names</b></dt>
  <dd>Returns a list of all counters defined.</dd>
  <dt><b>::counter::histHtmlDisplay</b> <i>tag args</i></dt>
  <dd>Generate HTML to display a histogram for a counter. The <i>args</i>
      control the format of the display. They are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="title"><a class="permalink" href="#title"><b>-title</b>
    <i>string</i></a></dt>
  <dd>Label to display above bar chart</dd>
  <dt id="unit"><a class="permalink" href="#unit"><b>-unit</b>
    <i>unit</i></a></dt>
  <dd>Specify <b>minutes</b>, <b>hours</b>, or <b>days</b> for the time-base
      histograms. For value-based histograms, the <i>unit</i> is used in the
      title.</dd>
  <dt id="images"><a class="permalink" href="#images"><b>-images</b>
    <i>url</i></a></dt>
  <dd>URL of /images directory.</dd>
  <dt id="gif"><a class="permalink" href="#gif"><b>-gif</b>
    <i>filename</i></a></dt>
  <dd>Image for normal histogram bars. The <i>filename</i> is relative to the
      <b>-images</b> directory.</dd>
  <dt id="ongif"><a class="permalink" href="#ongif"><b>-ongif</b>
    <i>filename</i></a></dt>
  <dd>Image for the active histogram bar. The <i>filename</i> is relative to the
      <b>-images</b> directory.</dd>
  <dt id="max"><a class="permalink" href="#max"><b>-max</b> <i>N</i></a></dt>
  <dd>Maximum number of value-based buckets to display.</dd>
  <dt id="height"><a class="permalink" href="#height"><b>-height</b>
    <i>N</i></a></dt>
  <dd>Pixel height of the highest bar.</dd>
  <dt id="width"><a class="permalink" href="#width"><b>-width</b>
    <i>N</i></a></dt>
  <dd>Pixel width of each bar.</dd>
  <dt id="skip"><a class="permalink" href="#skip"><b>-skip</b> <i>N</i></a></dt>
  <dd>Buckets to skip when labeling value-based histograms.</dd>
  <dt id="format"><a class="permalink" href="#format"><b>-format</b>
    <i>string</i></a></dt>
  <dd>Format used to display labels of buckets.</dd>
  <dt id="text"><a class="permalink" href="#text"><b>-text</b>
    <i>boolean</i></a></dt>
  <dd>If 1, a text version of the histogram is dumped, otherwise a graphical one
      is generated.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><b>::counter::reset</b> <i>tag args</i></dt>
  <dd>Resets the counter with the name <i>tag</i> to an initial state. The
      <i>args</i> determine the new characteristics of the counter. They have
      the same meaning as described for <b>::counter::init</b>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS,_IDEAS,_FEEDBACK"><a class="permalink" href="#BUGS,_IDEAS,_FEEDBACK">BUGS,
  IDEAS, FEEDBACK</a></h1>
<p class="Pp">This document, and the package it describes, will undoubtedly
    contain bugs and other problems. Please report such in the category
    <i>counter</i> of the <i>Tcllib SF Trackers</i>
    [http://sourceforge.net/tracker/?group_id=12883]. Please also report any
    ideas for enhancements you may have for either package and/or
  documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
<p class="Pp">counting, histogram, statistics, tallying</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CATEGORY"><a class="permalink" href="#CATEGORY">CATEGORY</a></h1>
<p class="Pp">Data structures</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2.0.4</td>
    <td class="foot-os">counter</td>
  </tr>
</table>
</body>
</html>
