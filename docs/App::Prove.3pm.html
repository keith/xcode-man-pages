<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>App::Prove(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">App::Prove(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">App::Prove(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
App::Prove - Implements the &quot;prove&quot; command.
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
Version 3.26
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Test::Harness provides a command, <span class="Li">&quot;prove&quot;</span>,
  which runs a TAP based test suite and prints a report. The
  <span class="Li">&quot;prove&quot;</span> command is a minimal wrapper around
  an instance of this module.
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use App::Prove;

    my $app = App::Prove-&gt;new;
    $app-&gt;process_args(@ARGV);
    $app-&gt;run;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Class_Methods"><a class="permalink" href="#Class_Methods">Class
  Methods</a></h2>
<i></i><i>&quot;new&quot;</i><i></i>
<p class="Pp">Create a new <span class="Li">&quot;App::Prove&quot;</span>.
    Optionally a hash ref of attribute initializers may be passed.</p>
<p class="Pp"><i></i><i>&quot;state_class&quot;</i><i></i></p>
<p class="Pp">Getter/setter for the name of the class used for maintaining
    state. This class should either subclass from
    <span class="Li">&quot;App::Prove::State&quot;</span> or provide an
    identical interface.</p>
<p class="Pp"><i></i><i>&quot;state_manager&quot;</i><i></i></p>
<p class="Pp">Getter/setter for the instance of the
    <span class="Li">&quot;state_class&quot;</span>.</p>
<p class="Pp"><i></i><i>&quot;add_rc_file&quot;</i><i></i></p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $prove-&gt;add_rc_file('myproj/.proverc');
</pre>
<p class="Pp">Called before <span class="Li">&quot;process_args&quot;</span> to
    prepend the contents of an rc file to the options.</p>
<p class="Pp"><i></i><i>&quot;process_args&quot;</i><i></i></p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $prove-&gt;process_args(@args);
</pre>
<p class="Pp">Processes the command-line arguments. Attributes will be set
    appropriately. Any filenames may be found in the
    <span class="Li">&quot;argv&quot;</span> attribute.</p>
<p class="Pp">Dies on invalid arguments.</p>
<p class="Pp"><i></i><i>&quot;run&quot;</i><i></i></p>
<p class="Pp">Perform whatever actions the command line args specified. The
    <span class="Li">&quot;prove&quot;</span> command line tool consists of the
    following code:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use App::Prove;

    my $app = App::Prove-&gt;new;
    $app-&gt;process_args(@ARGV);
    exit( $app-&gt;run ? 0 : 1 );  # if you need the exit code
</pre>
<p class="Pp"><i></i><i>&quot;require_harness&quot;</i><i></i></p>
<p class="Pp">Load a harness replacement class.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $prove-&gt;require_harness($for =&gt; $class_name);
</pre>
<p class="Pp"><i></i><i>&quot;print_version&quot;</i><i></i></p>
<p class="Pp">Display the version numbers of the loaded TAP::Harness and the
    current Perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Attributes"><a class="permalink" href="#Attributes">Attributes</a></h2>
After command line parsing the following attributes reflect the values of the
  corresponding command line switches. They may be altered before calling
  <span class="Li">&quot;run&quot;</span>.
<dl class="Bl-tag">
  <dt>&quot;archive&quot;</dt>
  <dd></dd>
  <dt>&quot;argv&quot;</dt>
  <dd></dd>
  <dt>&quot;backwards&quot;</dt>
  <dd></dd>
  <dt>&quot;blib&quot;</dt>
  <dd></dd>
  <dt>&quot;color&quot;</dt>
  <dd></dd>
  <dt>&quot;directives&quot;</dt>
  <dd></dd>
  <dt>&quot;dry&quot;</dt>
  <dd></dd>
  <dt>&quot;exec&quot;</dt>
  <dd></dd>
  <dt>&quot;extensions&quot;</dt>
  <dd></dd>
  <dt>&quot;failures&quot;</dt>
  <dd></dd>
  <dt>&quot;comments&quot;</dt>
  <dd></dd>
  <dt>&quot;formatter&quot;</dt>
  <dd></dd>
  <dt>&quot;harness&quot;</dt>
  <dd></dd>
  <dt>&quot;ignore_exit&quot;</dt>
  <dd></dd>
  <dt>&quot;includes&quot;</dt>
  <dd></dd>
  <dt>&quot;jobs&quot;</dt>
  <dd></dd>
  <dt>&quot;lib&quot;</dt>
  <dd></dd>
  <dt>&quot;merge&quot;</dt>
  <dd></dd>
  <dt>&quot;modules&quot;</dt>
  <dd></dd>
  <dt>&quot;parse&quot;</dt>
  <dd></dd>
  <dt>&quot;plugins&quot;</dt>
  <dd></dd>
  <dt>&quot;quiet&quot;</dt>
  <dd></dd>
  <dt>&quot;really_quiet&quot;</dt>
  <dd></dd>
  <dt>&quot;recurse&quot;</dt>
  <dd></dd>
  <dt>&quot;rules&quot;</dt>
  <dd></dd>
  <dt>&quot;show_count&quot;</dt>
  <dd></dd>
  <dt>&quot;show_help&quot;</dt>
  <dd></dd>
  <dt>&quot;show_man&quot;</dt>
  <dd></dd>
  <dt>&quot;show_version&quot;</dt>
  <dd></dd>
  <dt>&quot;shuffle&quot;</dt>
  <dd></dd>
  <dt>&quot;state&quot;</dt>
  <dd></dd>
  <dt>&quot;state_class&quot;</dt>
  <dd></dd>
  <dt>&quot;taint_fail&quot;</dt>
  <dd></dd>
  <dt>&quot;taint_warn&quot;</dt>
  <dd></dd>
  <dt>&quot;test_args&quot;</dt>
  <dd></dd>
  <dt>&quot;timer&quot;</dt>
  <dd></dd>
  <dt>&quot;verbose&quot;</dt>
  <dd></dd>
  <dt>&quot;warnings_fail&quot;</dt>
  <dd></dd>
  <dt>&quot;warnings_warn&quot;</dt>
  <dd></dd>
  <dt>&quot;tapversion&quot;</dt>
  <dd></dd>
  <dt>&quot;trap&quot;</dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="PLUGINS"><a class="permalink" href="#PLUGINS">PLUGINS</a></h1>
<span class="Li">&quot;App::Prove&quot;</span> provides support for 3rd-party
  plugins. These are currently loaded at run-time, <i>after</i> arguments have
  been parsed (so you can not change the way arguments are processed, sorry),
  typically with the
  <span class="Li">&quot;-P</span><i>plugin</i><span class="Li">&quot;</span>
  switch, eg:
<p class="Pp"><span class="Li"></span></p>
<pre>
  prove -PMyPlugin
</pre>
<p class="Pp">This will search for a module named
    <span class="Li">&quot;App::Prove::Plugin::MyPlugin&quot;</span>, or failing
    that, <span class="Li">&quot;MyPlugin&quot;</span>. If the plugin can't be
    found, <span class="Li">&quot;prove&quot;</span> will complain &amp;
  exit.</p>
<p class="Pp">You can pass an argument to your plugin by appending an
    <span class="Li">&quot;=&quot;</span> after the plugin name, eg
    <span class="Li">&quot;-PMyPlugin=foo&quot;</span>. You can pass multiple
    arguments using commas:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  prove -PMyPlugin=foo,bar,baz
</pre>
<p class="Pp">These are passed in to your plugin's
    <span class="Li">&quot;load()&quot;</span> class method (if it has one),
    along with a reference to the <span class="Li">&quot;App::Prove&quot;</span>
    object that is invoking your plugin:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  sub load {
      my ($class, $p) = @_;

      my @args = @{ $p-&gt;{args} };
      # @args will contain ( 'foo', 'bar', 'baz' )
      $p-&gt;{app_prove}-&gt;do_something;
      ...
  }
</pre>
<p class="Pp">Note that the user's arguments are also passed to your plugin's
    <span class="Li">&quot;import()&quot;</span> function as a list, eg:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  sub import {
      my ($class, @args) = @_;
      # @args will contain ( 'foo', 'bar', 'baz' )
      ...
  }
</pre>
<p class="Pp">This is for backwards compatibility, and may be deprecated in the
    future.</p>
<section class="Ss">
<h2 class="Ss" id="Sample_Plugin"><a class="permalink" href="#Sample_Plugin">Sample
  Plugin</a></h2>
Here's a sample plugin, for your reference:
<p class="Pp"><span class="Li"></span></p>
<pre>
  package App::Prove::Plugin::Foo;

  # Sample plugin, try running with:
  # prove -PFoo=bar -r -j3
  # prove -PFoo -Q
  # prove -PFoo=bar,My::Formatter

  use strict;
  use warnings;

  sub load {
      my ($class, $p) = @_;
      my @args = @{ $p-&gt;{args} };
      my $app  = $p-&gt;{app_prove};

      print &quot;loading plugin: $class, args: &quot;, join(', ', @args ), &quot;\n&quot;;

      # turn on verbosity
      $app-&gt;verbose( 1 );

      # set the formatter?
      $app-&gt;formatter( $args[1] ) if @args &gt; 1;

      # print some of App::Prove's state:
      for my $attr (qw( jobs quiet really_quiet recurse verbose )) {
          my $val = $app-&gt;$attr;
          $val    = 'undef' unless defined( $val );
          print &quot;$attr: $val\n&quot;;
      }

      return 1;
  }

  1;
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
prove, TAP::Harness
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
