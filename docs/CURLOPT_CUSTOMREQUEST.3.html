<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from CURLOPT_CUSTOMREQUEST.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>CURLOPT_CUSTOMREQUEST(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLOPT_CUSTOMREQUEST(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CURLOPT_CUSTOMREQUEST(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLOPT_CUSTOMREQUEST - custom request method</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_CUSTOMREQUEST, char *method);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Pass a pointer to a null-terminated string as parameter.</p>
<p class="Pp">When changing the request <i>method</i> by setting
    <i>CURLOPT_CUSTOMREQUEST(3)</i>, you do not actually change how libcurl
    behaves or acts: you only change the actual string sent in the request.</p>
<p class="Pp">libcurl passes on the verbatim string in its request without any
    filter or other safe guards. That includes white space and control
    characters.</p>
<p class="Pp">Restore to the internal default by setting this to NULL.</p>
<p class="Pp">This option can be used to specify the request:</p>
<dl class="Bl-tag">
  <dt id="HTTP"><a class="permalink" href="#HTTP">HTTP</a></dt>
  <dd>Instead of GET or HEAD when performing HTTP based requests. This is
      particularly useful, for example, for performing an HTTP DELETE request.
    <p class="Pp">For example:</p>
    <p class="Pp">When you tell libcurl to do a HEAD request, but then specify a
        GET though a custom request libcurl still acts as if it sent a HEAD. To
        switch to a proper HEAD use <i>CURLOPT_NOBODY(3)</i>, to switch to a
        proper POST use <i>CURLOPT_POST(3)</i> or <i>CURLOPT_POSTFIELDS(3)</i>
        and to switch to a proper GET use <i>CURLOPT_HTTPGET(3)</i>.</p>
    <p class="Pp">Many people have wrongly used this option to replace the
        entire request with their own, including multiple headers and POST
        contents. While that might work in many cases, it might cause libcurl to
        send invalid requests and it could possibly confuse the remote server
        badly. Use <i>CURLOPT_POST(3)</i> and <i>CURLOPT_POSTFIELDS(3)</i> to
        set POST data. Use <i>CURLOPT_HTTPHEADER(3)</i> to replace or extend the
        set of headers sent by libcurl. Use <i>CURLOPT_HTTP_VERSION(3)</i> to
        change HTTP version.</p>
  </dd>
  <dt id="FTP"><a class="permalink" href="#FTP">FTP</a></dt>
  <dd>Instead of LIST and NLST when performing FTP directory listings.</dd>
  <dt id="IMAP"><a class="permalink" href="#IMAP">IMAP</a></dt>
  <dd>Instead of LIST when issuing IMAP based requests.</dd>
  <dt id="POP3"><a class="permalink" href="#POP3">POP3</a></dt>
  <dd>Instead of LIST and RETR when issuing POP3 based requests.
    <p class="Pp">For example:</p>
    <p class="Pp">When you tell libcurl to use a custom request it behaves like
        a LIST or RETR command was sent where it expects data to be returned by
        the server. As such <i>CURLOPT_NOBODY(3)</i> should be used when
        specifying commands such as <b>DELE</b> and <b>NOOP</b> for example.</p>
  </dd>
  <dt id="SMTP"><a class="permalink" href="#SMTP">SMTP</a></dt>
  <dd>Instead of a <b>HELP</b> or <b>VRFY</b> when issuing SMTP based requests.
    <p class="Pp">For example:</p>
    <p class="Pp">Normally a multi line response is returned which can be used,
        in conjunction with <i>CURLOPT_MAIL_RCPT(3)</i>, to specify an EXPN
        request. If the <i>CURLOPT_NOBODY(3)</i> option is specified then the
        request can be used to issue <b>NOOP</b> and <b>RSET</b> commands.</p>
    <p class="Pp">The application does not have to keep the string around after
        setting this option.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">NULL</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">HTTP, FTP, IMAP, POP3 and SMTP</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
<br/>
  CURL *curl = curl_easy_init();
<br/>
  if(curl) {
<br/>
    CURLcode res;
<br/>
    curl_easy_setopt(curl, CURLOPT_URL, &quot;https://example.com/foo.bin&quot;);
<br/>
    /* DELETE the given path */
<br/>
    curl_easy_setopt(curl, CURLOPT_CUSTOMREQUEST, &quot;DELETE&quot;);
<br/>
    res = curl_easy_perform(curl);
<br/>
    curl_easy_cleanup(curl);
<br/>
  }
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">IMAP is supported since 7.30.0, POP3 since 7.26.0 and SMTP since
    7.34.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLE_OK if the option is supported, CURLE_UNKNOWN_OPTION
    if not, or CURLE_OUT_OF_MEMORY if there was insufficient heap space.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLINFO_EFFECTIVE_METHOD</b>(3), <b>CURLOPT_HTTPHEADER</b>(3),
    <b>CURLOPT_NOBODY</b>(3), <b>CURLOPT_REQUEST_TARGET</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 26, 2023</td>
    <td class="foot-os">ibcurl 8.4.0</td>
  </tr>
</table>
</body>
</html>
