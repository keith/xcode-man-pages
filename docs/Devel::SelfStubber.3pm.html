<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Devel::SelfStubber(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Devel::SelfStubber(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Devel::SelfStubber(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Devel::SelfStubber - generate stubs for a SelfLoading module
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
To generate just the stubs:
<p class="Pp"><span class="Li"></span></p>
<pre>
    use Devel::SelfStubber;
    Devel::SelfStubber-&gt;stub('MODULENAME','MY_LIB_DIR');
</pre>
<p class="Pp">or to generate the whole module with stubs inserted correctly</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use Devel::SelfStubber;
    $Devel::SelfStubber::JUST_STUBS=0;
    Devel::SelfStubber-&gt;stub('MODULENAME','MY_LIB_DIR');
</pre>
<p class="Pp">MODULENAME is the Perl module name, e.g. Devel::SelfStubber, NOT
    'Devel/SelfStubber' or 'Devel/SelfStubber.pm'.</p>
<p class="Pp">MY_LIB_DIR defaults to '.' if not present.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Devel::SelfStubber prints the stubs you need to put in the module before the
  __DATA__ token (or you can get it to print the entire module with stubs
  correctly placed). The stubs ensure that if a method is called, it will get
  loaded. They are needed specifically for inherited autoloaded methods.
<p class="Pp">This is best explained using the following example:</p>
<p class="Pp">Assume four classes, A,B,C &amp; D.</p>
<p class="Pp">A is the root class, B is a subclass of A, C is a subclass of B,
    and D is another subclass of A.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
                        A
                       / \
                      B   D
                     /
                    C
</pre>
<p class="Pp">If D calls an autoloaded method 'foo' which is defined in class A,
    then the method is loaded into class A, then executed. If C then calls
    method 'foo', and that method was reimplemented in class B, but set to be
    autoloaded, then the lookup mechanism never gets to the AUTOLOAD mechanism
    in B because it first finds the method already loaded in A, and so
    erroneously uses that. If the method foo had been stubbed in B, then the
    lookup mechanism would have found the stub, and correctly loaded and used
    the sub from B.</p>
<p class="Pp">So, for classes and subclasses to have inheritance correctly work
    with autoloading, you need to ensure stubs are loaded.</p>
<p class="Pp">The SelfLoader can load stubs automatically at module
    initialization with the statement 'SelfLoader-&gt;<i>load_stubs()</i>';, but
    you may wish to avoid having the stub loading overhead associated with your
    initialization (though note that the SelfLoader::load_stubs method will be
    called sooner or later - at latest when the first sub is being autoloaded).
    In this case, you can put the sub stubs before the __DATA__ token. This can
    be done manually, but this module allows automatic generation of the
  stubs.</p>
<p class="Pp">By default it just prints the stubs, but you can set the global
    <span class="Li">$Devel::SelfStubber::JUST_STUBS</span> to 0 and it will
    print out the entire module with the stubs positioned correctly.</p>
<p class="Pp">At the very least, this is useful to see what the SelfLoader
    thinks are stubs - in order to ensure future versions of the SelfStubber
    remain in step with the SelfLoader, the SelfStubber actually uses the
    SelfLoader to determine which stubs are needed.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-31</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
