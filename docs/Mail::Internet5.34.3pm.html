<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Mail::Internet(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Mail::Internet(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Mail::Internet(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Mail::Internet - manipulate email messages</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  use Mail::Internet;
  my $msg = Mail::Internet-&gt;new(\*STDIN);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This package implements reading, creating, manipulating, and
    writing email messages. Sometimes, the implementation tries to be too smart,
    but in the general case it works as expected.</p>
<p class="Pp">If you start writing a <b>new application</b>, you should use the
    Mail::Box distribution, which has more features and handles messages much
    better according to the RFCs. See &lt;http://perl.overmeer.net/mailbox/&gt;.
    You may also chose MIME::Entity, to get at least some multipart support in
    your application.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Constructors"><a class="permalink" href="#Constructors">Constructors</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>dup</b>()</dt>
  <dd>Duplicate the message as a whole. Both header and body will be
      deep-copied: a new Mail::Internet object is returned.</dd>
  <dt>$obj-&gt;<b>extract</b>(\@lines)</dt>
  <dd>Extract header and body from an ARRAY of message lines. Requires an object
      already created with <b>new()</b>, which contents will get
    overwritten.</dd>
  <dt>$obj-&gt;<b>new</b>( [$arg], [%options] )</dt>
  <dd></dd>
  <dt id="Mail::Internet"><a class="permalink" href="#Mail::Internet">Mail::Internet-&gt;<b>new</b>(
    [$arg], [%options] )</a></dt>
  <dd><span class="Li">$arg</span> is optional and may be either a file
      descriptor (reference to a GLOB) or a reference to an array. If given the
      new object will be initialized with headers and body either from the array
      of read from the file descriptor.
    <p class="Pp">The <b>Mail::Header::new()</b>
        <span class="Li">%options</span>
        <span class="Li">&quot;Modify&quot;</span>,
        <span class="Li">&quot;MailFrom&quot;</span> and
        <span class="Li">&quot;FoldLength&quot;</span> may also be given.</p>
    <p class="Pp"></p>
    <pre> -Option--Default
  Body    []
  Header  undef
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Body"><a class="permalink" href="#Body">Body =&gt;
    ARRAY-of-LINES</a></dt>
  <dd>The value of this option should be a reference to an array which contains
      the lines for the body of the message. Each line should be terminated with
      <span class="Li">&quot;\n&quot;</span> (LF). If Body is given then
      <span class="Li">&quot;Mail::Internet&quot;</span> will not attempt to
      read the body from <span class="Li">$arg</span> (even if it is
    specified).</dd>
  <dt id="Header"><a class="permalink" href="#Header">Header =&gt;
    Mail::Header</a></dt>
  <dd>The value of this option should be a Mail::Header object. If given then
      <span class="Li">&quot;Mail::Internet&quot;</span> will not attempt to
      read a mail header from <span class="Li">$arg</span>, if it was
    specified.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>read</b>($fh)</dt>
  <dd>Read a message from the <span class="Li">$fh</span> into an already
      existing message object. Better use <b>new()</b> with the
      <span class="Li">$fh</span> as first argument.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Accessors"><a class="permalink" href="#Accessors">Accessors</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>body</b>( [$body] )</dt>
  <dd>Returns the body of the message. This is a reference to an array. Each
      entry in the array represents a single line in the message.
    <p class="Pp">If <i></i><span class="Li"><i>$body</i></span><i></i> is
        given, it can be a reference to an array or an array, then the body will
        be replaced. If a reference is passed, it is used directly and not
        copied, so any subsequent changes to the array will change the contents
        of the body.</p>
  </dd>
  <dt>$obj-&gt;<b>head</b>()</dt>
  <dd>Returns the <span class="Li">&quot;Mail::Header&quot;</span> object which
      holds the headers for the current message</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_the_message_as_a_whole"><a class="permalink" href="#Processing_the_message_as_a_whole">Processing
  the message as a whole</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>as_mbox_string</b>( [$already_escaped] )</dt>
  <dd>Returns the message as a string in mbox format.
      <span class="Li">$already_escaped</span>, if given and true, indicates
      that <b>escape_from()</b> has already been called on this object.</dd>
  <dt>$obj-&gt;<b>as_string</b>()</dt>
  <dd>Returns the message as a single string.</dd>
  <dt>$obj-&gt;<b>print</b>( [$fh] )</dt>
  <dd>Print the header, body or whole message to file descriptor
      <i></i><span class="Li"><i>$fh</i></span><i></i>.
      <i></i><span class="Li"><i>$fd</i></span><i></i> should be a reference to
      a GLOB. If <i></i><span class="Li"><i>$fh</i></span><i></i> is not given
      the output will be sent to STDOUT.
    <p class="Pp">example:</p>
    <p class="Pp"></p>
    <pre>    $mail-&gt;print( \*STDOUT );  # Print message to STDOUT
    </pre>
  </dd>
  <dt>$obj-&gt;<b>print_body</b>( [$fh] )</dt>
  <dd>Print only the body to the <span class="Li">$fh</span> (default
    STDOUT).</dd>
  <dt>$obj-&gt;<b>print_header</b>( [$fh] )</dt>
  <dd>Print only the header to the <span class="Li">$fh</span> (default
    STDOUT).</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_the_header"><a class="permalink" href="#Processing_the_header">Processing
  the header</a></h2>
<p class="Pp">Most of these methods are simply wrappers around methods provided
    by Mail::Header.</p>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>add</b>(PAIRS)</dt>
  <dd>The PAIRS are field-name and field-content. For each PAIR,
      <b>Mail::Header::add()</b> is called. All fields are added after existing
      fields. The last addition is returned.</dd>
  <dt>$obj-&gt;<b>combine</b>( $tag, [$with] )</dt>
  <dd>See <b>Mail::Header::combine()</b>.</dd>
  <dt>$obj-&gt;<b>delete</b>( $tag, [$tags] )</dt>
  <dd>Delete all fields with the name <span class="Li">$tag</span>.
      <b>Mail::Header::delete()</b> is doing the work.</dd>
  <dt>$obj-&gt;<b>fold</b>( [$length] )</dt>
  <dd>See <b>Mail::Header::fold()</b>.</dd>
  <dt>$obj-&gt;<b>fold_length</b>( [$tag], [$length] )</dt>
  <dd>See <b>Mail::Header::fold_length()</b>.</dd>
  <dt>$obj-&gt;<b>get</b>( $tag, [$tags] )</dt>
  <dd>In LIST context, all fields with the name <span class="Li">$tag</span> are
      returned. In SCALAR context, only the first field which matches the
      earliest <span class="Li">$tag</span> is returned.
      <b>Mail::Header::get()</b> is called to collect the data.</dd>
  <dt>$obj-&gt;<b>header</b>(\@lines)</dt>
  <dd>See <b>Mail::Header::header()</b>.</dd>
  <dt>$obj-&gt;<b>replace</b>(PAIRS)</dt>
  <dd>The PAIRS are field-name and field-content. For each PAIR,
      <b>Mail::Header::replace()</b> is called with index 0. If a
      <span class="Li">$field</span> is already in the header, it will be
      removed first. Do not specified the same field-name twice.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_the_body"><a class="permalink" href="#Processing_the_body">Processing
  the body</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>remove_sig</b>( [$nlines] )</dt>
  <dd>Attempts to remove a user's signature from the body of a message. It does
      this by looking for a line equal to <span class="Li">'-- '</span> within
      the last <span class="Li">$nlines</span> of the message. If found then
      that line and all lines after it will be removed. If
      <span class="Li">$nlines</span> is not given a default value of 10 will be
      used. This would be of most use in auto-reply scripts.</dd>
  <dt>$obj-&gt;<b>sign</b>(%options)</dt>
  <dd>Add your signature to the body. <b>remove_sig()</b> will strip existing
      signatures first.
    <p class="Pp"></p>
    <pre> -Option   --Default
  File       undef
  Signature  []
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="File"><a class="permalink" href="#File">File =&gt; FILEHANDLE</a></dt>
  <dd>Take from the FILEHANDLE all lines starting from the first
      <span class="Li">&quot;--&quot;</span>.</dd>
  <dt id="Signature"><a class="permalink" href="#Signature">Signature =&gt;
    STRING|ARRAY-of-LINES</a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>tidy_body</b>()</dt>
  <dd>Removes all leading and trailing lines from the body that only contain
      white spaces.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="High-level_functionality"><a class="permalink" href="#High-level_functionality">High-level
  functionality</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>escape_from</b>()</dt>
  <dd>It can cause problems with some applications if a message contains a line
      starting with <span class="Li">`From '</span>, in particular when
      attempting to split a folder. This method inserts a leading
      <span class="Li">&quot;`&quot;</span>'&gt; on any line that matches the
      regular expression <span class="Li">&quot;/^&quot;</span>*From/&gt;</dd>
  <dt>$obj-&gt;<b>nntppost</b>( [%options] )</dt>
  <dd>Post an article via NNTP. Requires Net::NNTP to be installed.
    <p class="Pp"></p>
    <pre> -Option--Default
  Debug   &lt;false&gt;
  Host    &lt;required&gt;
  Port    119
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Debug"><a class="permalink" href="#Debug">Debug =&gt; BOOLEAN</a></dt>
  <dd>Debug value to pass to Net::NNTP, see Net::NNTP</dd>
  <dt id="Host"><a class="permalink" href="#Host">Host =&gt; HOSTNAME|Net::NNTP
    object</a></dt>
  <dd>Name of NNTP server to connect to, or a Net::NNTP object to use.</dd>
  <dt id="Port"><a class="permalink" href="#Port">Port =&gt; INTEGER</a></dt>
  <dd>Port number to connect to on remote host</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>reply</b>(%options)</dt>
  <dd>Create a new object with header initialised for a reply to the current
      object. And the body will be a copy of the current message indented.
    <p class="Pp">The <span class="Li">&quot;.mailhdr&quot;</span> file in your
        home directory (if exists) will be read first, to provide defaults.</p>
    <p class="Pp"></p>
    <pre> -Option  --Default
  Exclude   []
  Indent    '&gt;'
  Keep      []
  ReplyAll  false
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Exclude"><a class="permalink" href="#Exclude">Exclude =&gt;
    ARRAY-of-FIELDS</a></dt>
  <dd>Remove the listed FIELDS from the produced message.</dd>
  <dt id="Indent"><a class="permalink" href="#Indent">Indent =&gt;
    STRING</a></dt>
  <dd>Use as indentation string. The string may contain
      <span class="Li">&quot;%%&quot;</span> to get a single
      <span class="Li">&quot;%&quot;</span>, <span class="Li">%f</span> to get
      the first from name, <span class="Li">%F</span> is the first character of
      <span class="Li">%f</span>, <span class="Li">%l</span> is the last name,
      <span class="Li">%L</span> its first character, <span class="Li">%n</span>
      the whole from string, and <span class="Li">%I</span> the first character
      of each of the names in the from string.</dd>
  <dt id="Keep"><a class="permalink" href="#Keep">Keep =&gt;
    ARRAY-of-FIELDS</a></dt>
  <dd>Copy the listed FIELDS from the original message.</dd>
  <dt id="ReplyAll"><a class="permalink" href="#ReplyAll">ReplyAll =&gt;
    BOOLEAN</a></dt>
  <dd>Automatically include all To and Cc addresses of the original mail,
      excluding those mentioned in the Bcc list.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>send</b>( [$type, [$args...]] )</dt>
  <dd>Send a Mail::Internet message using Mail::Mailer.
      <span class="Li">$type</span> and <span class="Li">$args</span> are passed
      on to <b>Mail::Mailer::new()</b>.</dd>
  <dt>$obj-&gt;<b>smtpsend</b>( [%options] )</dt>
  <dd>Send a Mail::Internet message using direct SMTP to the given ADDRESSES,
      each can be either a string or a reference to a list of email addresses.
      If none of <span class="Li">&quot;To&quot;</span>, &lt;Cc&gt; or
      <span class="Li">&quot;Bcc&quot;</span> are given then the addresses are
      extracted from the message being sent.
    <p class="Pp">The return value will be a list of email addresses that the
        message was sent to. If the message was not sent the list will be
      empty.</p>
    <p class="Pp">Requires Net::SMTP and Net::Domain to be installed.</p>
    <p class="Pp"></p>
    <pre> -Option  --Default
  Bcc       undef
  Cc        undef
  Debug     &lt;false&gt;
  Hello     localhost.localdomain
  Host      $ENV{SMTPHOSTS}
  MailFrom  Mail::Util::mailaddress()
  Port      25
  To        undef
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Bcc"><a class="permalink" href="#Bcc">Bcc =&gt; ADDRESSES</a></dt>
  <dd></dd>
  <dt id="Cc"><a class="permalink" href="#Cc">Cc =&gt; ADDRESSES</a></dt>
  <dd></dd>
  <dt id="Debug~2"><a class="permalink" href="#Debug~2">Debug =&gt;
    BOOLEAN</a></dt>
  <dd>Debug value to pass to Net::SMTP, see &lt;Net::SMTP&gt;</dd>
  <dt id="Hello"><a class="permalink" href="#Hello">Hello =&gt; STRING</a></dt>
  <dd>Send a HELO (or EHLO) command to the server with the given name.</dd>
  <dt id="Host~2"><a class="permalink" href="#Host~2">Host =&gt;
    HOSTNAME</a></dt>
  <dd>Name of the SMTP server to connect to, or a Net::SMTP object to use
    <p class="Pp">If <span class="Li">&quot;Host&quot;</span> is not given then
        the SMTP host is found by attempting connections first to hosts
        specified in <span class="Li">$ENV{SMTPHOSTS}</span>, a colon separated
        list, then <span class="Li">&quot;mailhost&quot;</span> and
        <span class="Li">&quot;localhost&quot;</span>.</p>
  </dd>
  <dt id="MailFrom"><a class="permalink" href="#MailFrom">MailFrom =&gt;
    ADDRESS</a></dt>
  <dd>The e-mail address which is used as sender. By default,
      <b>Mail::Util::mailaddress()</b> provides the address of the sender.</dd>
  <dt id="Port~2"><a class="permalink" href="#Port~2">Port =&gt;
    INTEGER</a></dt>
  <dd>Port number to connect to on remote host</dd>
  <dt id="To"><a class="permalink" href="#To">To =&gt; ADDRESSES</a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>unescape_from</b>(())</dt>
  <dd>Remove the escaping added by <b>escape_from()</b>.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">This module is part of the MailTools distribution,
    <i>http://perl.overmeer.net/mailtools/</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">The MailTools bundle was developed by Graham Barr. Later, Mark
    Overmeer took over maintenance without commitment to further
  development.</p>
<p class="Pp">Mail::Cap by Gisle Aas &lt;aas@oslonett.no&gt;.
    Mail::Field::AddrList by Peter Orbaek &lt;poe@cit.dk&gt;. Mail::Mailer and
    Mail::Send by Tim Bunce &lt;Tim.Bunce@ig.co.uk&gt;. For other contributors
    see ChangeLog.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">Copyrights 1995-2000 Graham Barr &lt;gbarr@pobox.com&gt; and
    2001-2017 Mark Overmeer &lt;perl@overmeer.net&gt;.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself. See
    <i>http://www.perl.com/perl/misc/Artistic.html</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-05-21</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
