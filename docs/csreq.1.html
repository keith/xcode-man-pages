<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>CSREQ(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CSREQ(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">CSREQ(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">csreq</code> &#x2014;
<div class="Nd">Expert tool for manipulating Code Signing Requirement data</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">csreq</code></td>
    <td>[<code class="Fl">-v</code>] <var class="Ar">-r requirement-input</var>
      <var class="Ar">-t</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">csreq</code></td>
    <td>[<code class="Fl">-v</code>] <var class="Ar">-r requirement-input</var>
      <var class="Ar">-b outputfile</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <code class="Nm">csreq</code> command manipulates Code Signing Requirement
  data. It reads one requirement from a file or command arguments, converts it
  into internal form, checks it, and then optionally outputs it in a different
  form.
<p class="Pp">The options are as follows:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#b"><code class="Fl" id="b">-b</code></a>
    <var class="Ar">path</var></dt>
  <dd>Requests that the requirement read be written in binary form to the path
      given.</dd>
  <dt><a class="permalink" href="#r"><code class="Fl" id="r">-r</code></a>
    <var class="Ar">requirement-input</var></dt>
  <dd>Specifies the input requirement. See &quot;specifying requirements&quot;
      below. This is exactly the same format as is accepted by the -r and -R
      options of the codesign(1) command.</dd>
  <dt><a class="permalink" href="#t"><code class="Fl" id="t">-t</code></a></dt>
  <dd>Requests that the requirement read be written as text to standard
    output.</dd>
  <dt><a class="permalink" href="#v"><code class="Fl" id="v">-v</code></a></dt>
  <dd>Increases the verbosity of output. Multiple instances of -v produce
      increasing levels of commentary output.</dd>
</dl>
<p class="Pp">In the first synopsis form, <code class="Nm">csreq</code> reads a
    Code Requirement and writes it to standard output as canonical source text.
    Note that with text input, this actually compiles the requirement into
    internal form and then converts it back to text, giving you the system's
    view of the requirement code.</p>
<p class="Pp">In the second synopsis form, <code class="Nm">csreq</code> reads a
    Code Requirement and writes its binary representation to a file. This is the
    same form produced by the SecRequirementCopyData API, and is readily
    acceptable as input to Code Signing verification APIs. It can also be used
    as input to subsequent invocations of <code class="Nm">csreq</code> by
    passing the filename to the -r option.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SPECIFYING_REQUIREMENTS"><a class="permalink" href="#SPECIFYING_REQUIREMENTS">SPECIFYING
  REQUIREMENTS</a></h1>
The <var class="Ar">requirement</var> argument (-r) can be given in various
  forms. A plain text argument is taken to be a path to a file containing the
  requirement. This program will accept both binary files containing properly
  compiled requirements code, and source files that are automatically compiled
  for use. An argument of &quot;-&quot; requests that the requirement(s) are
  read from standard input. Again, standard input can contain either binary form
  or text. Finally, an argument that begins with an equal sign &quot;=&quot; is
  taken as a literal requirements source text, and is compiled accordingly for
  use.
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
To compile an explicit requirement program and write its binary form to file
  &quot;output&quot;:
<div class="Bd Bd-indent"><code class="Li">csreq -r=&quot;identifier
  com.foo.test&quot; -b output.csreq</code></div>
<p class="Pp">To display the requirement program embedded at offset 1234 of file
    &quot;foo&quot;:</p>
<div class="Bd Bd-indent"><code class="Li">tail -b 1234 foo | csreq -r-
  -t</code></div>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The <code class="Nm">csreq</code> program exits 0 on success or 1 on failure.
  Errors in arguments yield exit code 2.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">codesign(1)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">csreq</code> command first appeared in Mac OS 10.5.0 .
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 1, 2006</td>
    <td class="foot-os">Mac OS X 10.15</td>
  </tr>
</table>
</body>
</html>
