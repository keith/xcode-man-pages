<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>ExtUtils::Install(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ExtUtils::Install(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">ExtUtils::Install(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">ExtUtils::Install - install files from here to there</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  use ExtUtils::Install;
  install({ 'blib/lib' =&gt; 'some/install/dir' } );
  uninstall($packlist);
  pm_to_blib({ 'lib/Foo/Bar.pm' =&gt; 'blib/lib/Foo/Bar.pm' });
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">2.20</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Handles the installing and uninstalling of perl modules, scripts,
    man pages, etc...</p>
<p class="Pp">Both <b>install()</b> and <b>uninstall()</b> are specific to the
    way ExtUtils::MakeMaker handles the installation and deinstallation of perl
    modules. They are not designed as general purpose tools.</p>
<p class="Pp">On some operating systems such as Win32 installation may not be
    possible until after a reboot has occurred. This can have varying
    consequences: removing an old DLL does not impact programs using the new
    one, but if a new DLL cannot be installed properly until reboot then
    anything depending on it must wait. The package variable</p>
<p class="Pp"></p>
<pre>  $ExtUtils::Install::MUST_REBOOT
</pre>
<p class="Pp">is used to store this status.</p>
<p class="Pp">If this variable is true then such an operation has occurred and
    anything depending on this module cannot proceed until a reboot has
    occurred.</p>
<p class="Pp">If this value is defined but false then such an operation has
    occurred, but should not impact later operations.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Functions"><a class="permalink" href="#Functions">Functions</a></h1>
<section class="Ss">
<h2 class="Ss" id="install"><a class="permalink" href="#install">install</a></h2>
<pre>    # deprecated forms
    install(\%from_to);
    install(\%from_to, $verbose, $dry_run, $uninstall_shadows,
                $skip, $always_copy, \%result);
    # recommended form as of 1.47
    install([
        from_to =&gt; \%from_to,
        verbose =&gt; 1,
        dry_run =&gt; 0,
        uninstall_shadows =&gt; 1,
        skip =&gt; undef,
        always_copy =&gt; 1,
        result =&gt; \%install_results,
    ]);
</pre>
<p class="Pp">Copies each directory tree of <span class="Li">%from_to</span> to
    its corresponding value preserving timestamps and permissions.</p>
<p class="Pp">There are two keys with a special meaning in the hash:
    &quot;read&quot; and &quot;write&quot;. These contain packlist files. After
    the copying is done, <b>install()</b> will write the list of target files to
    <span class="Li">$from_to</span>{write}. If
    <span class="Li">$from_to</span>{read} is given the contents of this file
    will be merged into the written file. The read and the written file may be
    identical, but on AFS it is quite likely that people are installing to a
    different directory than the one where the files later appear.</p>
<p class="Pp">If <span class="Li">$verbose</span> is true, will print out each
    file removed. Default is false. This is &quot;make install VERBINST=1&quot;.
    <span class="Li">$verbose</span> values going up to 5 show increasingly more
    diagnostics output.</p>
<p class="Pp">If <span class="Li">$dry_run</span> is true it will only print
    what it was going to do without actually doing it. Default is false.</p>
<p class="Pp">If <span class="Li">$uninstall_shadows</span> is true any
    differing versions throughout <span class="Li">@INC</span> will be
    uninstalled. This is &quot;make install UNINST=1&quot;</p>
<p class="Pp">As of 1.37_02 <b>install()</b> supports the use of a list of
    patterns to filter out files that shouldn't be installed. If
    <span class="Li">$skip</span> is omitted or undefined then install will try
    to read the list from INSTALL.SKIP in the CWD. This file is a list of
    regular expressions and is just like the MANIFEST.SKIP file used by
    ExtUtils::Manifest.</p>
<p class="Pp">A default site INSTALL.SKIP may be provided by setting then
    environment variable EU_INSTALL_SITE_SKIPFILE, this will only be used when
    there isn't a distribution specific INSTALL.SKIP. If the environment
    variable EU_INSTALL_IGNORE_SKIP is true then no install file filtering will
    be performed.</p>
<p class="Pp">If <span class="Li">$skip</span> is undefined then the skip file
    will be autodetected and used if it is found. If
    <span class="Li">$skip</span> is a reference to an array then it is assumed
    the array contains the list of patterns, if <span class="Li">$skip</span> is
    a true non reference it is assumed to be the filename holding the list of
    patterns, any other value of <span class="Li">$skip</span> is taken to mean
    that no install filtering should occur.</p>
<p class="Pp"><b>Changes As of Version 1.47</b></p>
<p class="Pp">As of version 1.47 the following additions were made to the
    install interface. Note that the new argument style and use of the
    <span class="Li">%result</span> hash is recommended.</p>
<p class="Pp">The <span class="Li">$always_copy</span> parameter which when true
    causes files to be updated regardless as to whether they have changed, if it
    is defined but false then copies are made only if the files have changed, if
    it is undefined then the value of the environment variable
    EU_INSTALL_ALWAYS_COPY is used as default.</p>
<p class="Pp">The <span class="Li">%result</span> hash will be populated with
    the various keys/subhashes reflecting the install. Currently these keys and
    their structure are:</p>
<p class="Pp"></p>
<pre>    install             =&gt; { $target    =&gt; $source },
    install_fail        =&gt; { $target    =&gt; $source },
    install_unchanged   =&gt; { $target    =&gt; $source },
    install_filtered    =&gt; { $source    =&gt; $pattern },
    uninstall           =&gt; { $uninstalled =&gt; $source },
    uninstall_fail      =&gt; { $uninstalled =&gt; $source },
</pre>
<p class="Pp">where <span class="Li">$source</span> is the filespec of the file
    being installed. <span class="Li">$target</span> is where it is being
    installed to, and <span class="Li">$uninstalled</span> is any shadow file
    that is in <span class="Li">@INC</span> or
    <span class="Li">$ENV{PERL5LIB}</span> or other standard locations, and
    <span class="Li">$pattern</span> is the pattern that caused a source file to
    be skipped. In future more keys will be added, such as to show created
    directories, however this requires changes in other modules and must
    therefore wait.</p>
<p class="Pp">These keys will be populated before any exceptions are thrown
    should there be an error.</p>
<p class="Pp">Note that all updates of the <span class="Li">%result</span> are
    additive, the hash will not be cleared before use, thus allowing status
    results of many installs to be easily aggregated.</p>
<p class="Pp"><b>NEW ARGUMENT STYLE</b></p>
<p class="Pp">If there is only one argument and it is a reference to an array
    then the array is assumed to contain a list of key-value pairs specifying
    the options. In this case the option &quot;from_to&quot; is mandatory. This
    style means that you do not have to supply a cryptic list of arguments and
    can use a self documenting argument list that is easier to understand.</p>
<p class="Pp">This is now the recommended interface to <b>install()</b>.</p>
<p class="Pp"><b>RETURN</b></p>
<p class="Pp">If all actions were successful install will return a hashref of
    the results as described above for the <span class="Li">$result</span>
    parameter. If any action is a failure then install will die, therefore it is
    recommended to pass in the <span class="Li">$result</span> parameter instead
    of using the return value. If the result parameter is provided then the
    returned hashref will be the passed in hashref.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="install_default"><a class="permalink" href="#install_default">install_default</a></h2>
<p class="Pp"><i>DISCOURAGED</i></p>
<p class="Pp"></p>
<pre>    install_default();
    install_default($fullext);
</pre>
<p class="Pp">Calls <b>install()</b> with arguments to copy a module from blib/
    to the default site installation location.</p>
<p class="Pp"><span class="Li">$fullext</span> is the name of the module
    converted to a directory (ie. Foo::Bar would be Foo/Bar). If
    <span class="Li">$fullext</span> is not specified, it will attempt to read
    it from <span class="Li">@ARGV</span>.</p>
<p class="Pp">This is primarily useful for install scripts.</p>
<p class="Pp"><b>NOTE</b> This function is not really useful because of the
    hard-coded install location with no way to control site vs core vs vendor
    directories and the strange way in which the module name is given. Consider
    its use discouraged.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="uninstall"><a class="permalink" href="#uninstall">uninstall</a></h2>
<pre>    uninstall($packlist_file);
    uninstall($packlist_file, $verbose, $dont_execute);
</pre>
<p class="Pp">Removes the files listed in a
    <span class="Li">$packlist_file</span>.</p>
<p class="Pp">If <span class="Li">$verbose</span> is true, will print out each
    file removed. Default is false.</p>
<p class="Pp">If <span class="Li">$dont_execute</span> is true it will only
    print what it was going to do without actually doing it. Default is
  false.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="pm_to_blib"><a class="permalink" href="#pm_to_blib">pm_to_blib</a></h2>
<pre>    pm_to_blib(\%from_to);
    pm_to_blib(\%from_to, $autosplit_dir);
    pm_to_blib(\%from_to, $autosplit_dir, $filter_cmd);
</pre>
<p class="Pp">Copies each key of <span class="Li">%from_to</span> to its
    corresponding value efficiently. If an
    <span class="Li">$autosplit_dir</span> is provided, all .pm files will be
    autosplit into it. Any destination directories are created.</p>
<p class="Pp"><span class="Li">$filter_cmd</span> is an optional shell command
    to run each .pm file through prior to splitting and copying. Input is the
    contents of the module, output the new module contents.</p>
<p class="Pp">You can have an environment variable PERL_INSTALL_ROOT set which
    will be prepended as a directory to each installed file (and directory).</p>
<p class="Pp">By default verbose output is generated, setting the
    PERL_INSTALL_QUIET environment variable will silence this output.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt id="PERL_INSTALL_ROOT"><a class="permalink" href="#PERL_INSTALL_ROOT"><b>PERL_INSTALL_ROOT</b></a></dt>
  <dd>Will be prepended to each install path.</dd>
  <dt id="EU_INSTALL_IGNORE_SKIP"><a class="permalink" href="#EU_INSTALL_IGNORE_SKIP"><b>EU_INSTALL_IGNORE_SKIP</b></a></dt>
  <dd>Will prevent the automatic use of INSTALL.SKIP as the install skip
    file.</dd>
  <dt id="EU_INSTALL_SITE_SKIPFILE"><a class="permalink" href="#EU_INSTALL_SITE_SKIPFILE"><b>EU_INSTALL_SITE_SKIPFILE</b></a></dt>
  <dd>If there is no INSTALL.SKIP file in the make directory then this value can
      be used to provide a default.</dd>
  <dt id="EU_INSTALL_ALWAYS_COPY"><a class="permalink" href="#EU_INSTALL_ALWAYS_COPY"><b>EU_INSTALL_ALWAYS_COPY</b></a></dt>
  <dd>If this environment variable is true then normal install processes will
      always overwrite older identical files during the install process.
    <p class="Pp">Note that the alias EU_ALWAYS_COPY will be supported if
        EU_INSTALL_ALWAYS_COPY is not defined until at least the 1.50 release.
        Please ensure you use the correct EU_INSTALL_ALWAYS_COPY.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Original author lost in the mists of time. Probably the same as
    Makemaker.</p>
<p class="Pp">Production release currently maintained by demerphq
    <span class="Li">&quot;yves at cpan.org&quot;</span>, extensive changes by
    Michael G. Schwern.</p>
<p class="Pp">Send bug reports via http://rt.cpan.org/. Please send your
    generated Makefile along with your report.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See &lt;http://www.perl.com/perl/misc/Artistic.html&gt;</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2021-01-20</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
