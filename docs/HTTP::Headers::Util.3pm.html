<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>HTTP::Headers::Util(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HTTP::Headers::Util(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">HTTP::Headers::Util(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
HTTP::Headers::Util - Header value parsing utility functions
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use HTTP::Headers::Util qw(split_header_words);
  @values = split_header_words($h-&gt;header(&quot;Content-Type&quot;));
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module provides a few functions that helps parsing and construction of
  valid HTTP header values. None of the functions are exported by default.
<p class="Pp">The following functions are available:</p>
<dl class="Bl-tag">
  <dt>split_header_words( @header_values )</dt>
  <dd>This function will parse the header values given as argument into a list
      of anonymous arrays containing key/value pairs. The function knows how to
      deal with &quot;,&quot;, &quot;;&quot; and &quot;=&quot; as well as quoted
      values after &quot;=&quot;. A list of space separated tokens are parsed as
      if they were separated by &quot;;&quot;.
    <p class="Pp">If the <span class="Li">@header_values</span> passed as
        argument contains multiple values, then they are treated as if they were
        a single value separated by comma &quot;,&quot;.</p>
    <p class="Pp">This means that this function is useful for parsing header
        fields that follow this syntax (BNF as from the HTTP/1.1 specification,
        but we relax the requirement for tokens).</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  headers           = #header
  header            = (token | parameter) *( [&quot;;&quot;] (token | parameter))

  token             = 1*&lt;any CHAR except CTLs or separators&gt;
  separators        = &quot;(&quot; | &quot;)&quot; | &quot;&lt;&quot; | &quot;&gt;&quot; | &quot;@&quot;
                    | &quot;,&quot; | &quot;;&quot; | &quot;:&quot; | &quot;\&quot; | &lt;&quot;&gt;
                    | &quot;/&quot; | &quot;[&quot; | &quot;]&quot; | &quot;?&quot; | &quot;=&quot;
                    | &quot;{&quot; | &quot;}&quot; | SP | HT

  quoted-string     = ( &lt;&quot;&gt; *(qdtext | quoted-pair ) &lt;&quot;&gt; )
  qdtext            = &lt;any TEXT except &lt;&quot;&gt;&gt;
  quoted-pair       = &quot;\&quot; CHAR

  parameter         = attribute &quot;=&quot; value
  attribute         = token
  value             = token | quoted-string
    </pre>
    <p class="Pp">Each <i>header</i> is represented by an anonymous array of
        key/value pairs. The keys will be all be forced to lower case. The value
        for a simple token (not part of a parameter) is
        <span class="Li">&quot;undef&quot;</span>. Syntactically incorrect
        headers will not necessarily be parsed as you would want.</p>
    <p class="Pp">This is easier to describe with some examples:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   split_header_words('foo=&quot;bar&quot;; port=&quot;80,81&quot;; DISCARD, BAR=baz');
   split_header_words('text/html; charset=&quot;iso-8859-1&quot;');
   split_header_words('Basic realm=&quot;\\&quot;foo\\\\bar\\&quot;&quot;');
    </pre>
    <p class="Pp">will return</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   [foo=&gt;'bar', port=&gt;'80,81', discard=&gt; undef], [bar=&gt;'baz' ]
   ['text/html' =&gt; undef, charset =&gt; 'iso-8859-1']
   [basic =&gt; undef, realm =&gt; &quot;\&quot;foo\\bar\&quot;&quot;]
    </pre>
    <p class="Pp">If you don't want the function to convert tokens and attribute
        keys to lower case you can call it as
        <span class="Li">&quot;_split_header_words&quot;</span> instead (with a
        leading underscore).</p>
  </dd>
  <dt>join_header_words( @arrays )</dt>
  <dd>This will do the opposite of the conversion done by
      <i>split_header_words()</i>. It takes a list of anonymous arrays as
      arguments (or a list of key/value pairs) and produces a single header
      value. Attribute values are quoted if needed.
    <p class="Pp">Example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   join_header_words([&quot;text/plain&quot; =&gt; undef, charset =&gt; &quot;iso-8859/1&quot;]);
   join_header_words(&quot;text/plain&quot; =&gt; undef, charset =&gt; &quot;iso-8859/1&quot;);
    </pre>
    <p class="Pp">will both return the string:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   text/plain; charset=&quot;iso-8859/1&quot;
    </pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 1997-1998, Gisle Aas
<p class="Pp">This library is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-02-16</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
