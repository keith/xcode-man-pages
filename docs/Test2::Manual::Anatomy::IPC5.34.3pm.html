<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Test2::Manual::Anatomy::IPC(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Test2::Manual::Anatomy::IPC(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Test2::Manual::Anatomy::IPC(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Test2::Manual::Anatomy::IPC - Manual for the IPC system.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes the IPC system.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="WHAT_IS_THE_IPC_SYSTEM"><a class="permalink" href="#WHAT_IS_THE_IPC_SYSTEM">WHAT
  IS THE IPC SYSTEM</a></h1>
<p class="Pp">The IPC system is activated by loading Test2::IPC. This makes hubs
    process/thread aware, and makes them forward events along to the parent
    process/thread as necessary.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HOW_DOES_THE_IPC_SYSTEM_EFFECT_EVERYTHING?"><a class="permalink" href="#HOW_DOES_THE_IPC_SYSTEM_EFFECT_EVERYTHING?">HOW
  DOES THE IPC SYSTEM EFFECT EVERYTHING?</a></h1>
<p class="Pp">Test2::API and Test2::API::Instance have some behaviors that
    trigger if Test2::IPC is loaded before the global state is initialized.
    Mainly an IPC driver will be initiated and stored in the global state.</p>
<p class="Pp">If an IPC driver is initialized then all hubs will be initialized
    with a reference to the driver instance. If a hub has an IPC driver instance
    it will use it to forward events to parent processes and threads.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="WHAT_DOES_AN_IPC_DRIVER_DO?"><a class="permalink" href="#WHAT_DOES_AN_IPC_DRIVER_DO?">WHAT
  DOES AN IPC DRIVER DO?</a></h1>
<p class="Pp">An Test2::IPC::Driver provides a way to send event data to a
    destination process+thread+hub (or to all globally). The driver must also
    provide a way for a process/thread/hub to read in any pending events that
    have been sent to it.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HOW_DOES_THE_DEFAULT_IPC_DRIVER_WORK?"><a class="permalink" href="#HOW_DOES_THE_DEFAULT_IPC_DRIVER_WORK?">HOW
  DOES THE DEFAULT IPC DRIVER WORK?</a></h1>
<p class="Pp">The default IPC driver is Test2::API::Driver::Files. This default
    driver, when initialized, starts by creating a temporary directory. Any time
    an event needs to be sent to another process/thread/hub, the event will be
    written to a file using Storable. The file is written with the destination
    process, thread, and hub as part of the filename. All hubs will regularly
    check for pending IPC events and will process them.</p>
<p class="Pp">This driver is further optimized using a small chunk of SHM. Any
    time a new event is sent via IPC the shm is updated to have a new value.
    Hubs will not bother checking for new IPC events unless the shm value has
    changed since their last poll. A result of this is that the IPC system is
    surprisingly fast, and does not waste time polling the hard drive when there
    are no pending events.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Test2::Manual - Primary index of the manual.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
<p class="Pp">The source code repository for Test2-Manual can be found at
    <i>https://github.com/Test-More/Test2-Suite/</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">MAINTAINERS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad"><a class="permalink" href="#Chad">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad~2"><a class="permalink" href="#Chad~2">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 2018 Chad Granum &lt;exodist@cpan.org&gt;.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See <i>http://dev.perl.org/licenses/</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-22</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
