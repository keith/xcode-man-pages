<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2011-2016 Apple Inc. All rights reserved.
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>stringdups(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">stringdups(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">stringdups(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">stringdups</code> &#x2014;
<div class="Nd">Identify duplicate strings or other objects in malloc blocks of
  a target process</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">stringdups</code></td>
    <td>[<code class="Fl">-minimumCount</code> <var class="Ar">count</var>]
      [<code class="Fl">-stringsOnly</code>] [<code class="Fl">-nostacks</code>]
      [<code class="Fl">-callTrees</code>]
      [<code class="Fl">-invertCallTrees</code>] <var class="Ar">pid</var> |
      <var class="Ar">partial-executable-name</var> |
      <var class="Ar">memory-graph-file</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">stringdups</code> examines the content of malloc blocks in the
  specified target process. For all blocks which have the same content, it shows
  a line with the number of such blocks, their total allocated size (the total
  size in the malloc heap, not just the specific size of their content), and the
  average allocated size.
<p class="Pp"><code class="Nm">stringdups</code> requires one argument -- either
    the process ID or the full or partial executable name of the process to
    examine, or the pathname of a memory graph file generated by
    <code class="Nm">leaks.</code> When generating a memory graph with
    <code class="Nm">leaks</code> for use with
    <code class="Nm">stringdups</code> it is necessary to use the
    <code class="Fl">-fullContent</code> argument to include labels describing
    the contents of memory.</p>
<p class="Pp">If the MallocStackLogging environment variable was set when the
    target process was launched, <code class="Nm">stringdups</code> also
    displays stack backtraces or call trees showing where all the blocks with a
    particular grouping of content were allocated.</p>
<p class="Pp"><code class="Nm">stringdups</code> gathers the content of blocks
    of various types including:</p>
<p class="Pp"></p>
<ul class="Bl-bullet Bl-compact">
  <li>C strings (composed of UTF8 characters, null terminated, of any
    length)</li>
  <li>Pascal strings (composed of UTF8 characters with length byte at start, no
      longer than 255 characters, not necessarily null terminated)</li>
  <li>NSString of all types (immutable, mutable, UTF8, Unicode). Malloc blocks
      which are the storage blocks for non-inline or mutable NSString's are
      listed separately. The string content is shown for both but the block
      sizes accurately show what is allocated in the malloc heap for that
      particular chunk of storage.</li>
  <li>NSDate</li>
  <li>NSNumber</li>
  <li>NSPathStore2 (Cocoa's representation of file paths)</li>
  <li>__NSMallocBlock__ For these, <code class="Nm">stringdups</code> shows the
      symbol name of the code block (^) that this storage is associated with. If
      debug information is available, the source path and line number of the
      code block are also shown.</li>
  <li>item counts for collection classes such as NSArray, NSSet, and
      NSDictionary</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#minimumCount"><code class="Fl" id="minimumCount">-minimumCount</code></a>
    <var class="Ar">count</var></dt>
  <dd>Only print information for object descriptions which appear at least
      <var class="Ar">count</var> times in the target process. The default
      minimum count is 2. To see all strings in the target process, use 1 or use
      'heap &lt;pid&gt; -addresses all'.</dd>
  <dt><a class="permalink" href="#stringsOnly"><code class="Fl" id="stringsOnly">-stringsOnly</code></a></dt>
  <dd>Only print information for objects that have string content such as C or
      Pascal strings, or NSString.</dd>
  <dt><a class="permalink" href="#nostacks"><code class="Fl" id="nostacks">-nostacks</code></a></dt>
  <dd>Do not print stack backtraces or call trees even if the target process has
      the MallocStackLogging environment variable set.</dd>
  <dt><a class="permalink" href="#callTrees"><code class="Fl" id="callTrees">-callTrees</code></a></dt>
  <dd>If stack backtraces are available, then by default all the object
      descriptions for a particular stack backtrace are consolidated together.
      However if this argument is passed then the output is consolidated by each
      particular string and a call tree is displayed showing the allocation
      backtraces of all occurrences of objects with that description. This
      output can be very lengthy if minimumCount is a low value, because the
      same call tree may be displayed many times.</dd>
  <dt><a class="permalink" href="#invertCallTrees"><code class="Fl" id="invertCallTrees">-invertCallTrees</code></a></dt>
  <dd>Same as <code class="Fl">-callTrees</code> except that the call trees are
      printed from hottest to coldest stack frame, so the leaf malloc call
      appears first.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">heap(1)</a>, <a class="Xr">leaks(1)</a>,
  <a class="Xr">malloc_history(1)</a>, <a class="Xr">vmmap(1)</a>,
  <a class="Xr">DevToolsSecurity(1)</a>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 2, 2016</td>
    <td class="foot-os">Mac OS X 10.15</td>
  </tr>
</table>
</body>
</html>
