<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from CURLOPT_HTTPPROXYTUNNEL.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>CURLOPT_HTTPPROXYTUNNEL(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLOPT_HTTPPROXYTUNNEL(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CURLOPT_HTTPPROXYTUNNEL(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLOPT_HTTPPROXYTUNNEL - tunnel through HTTP proxy</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_HTTPPROXYTUNNEL, long tunnel);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Set the <b>tunnel</b> parameter to 1L to make libcurl tunnel all
    operations through the HTTP proxy (set with <i>CURLOPT_PROXY(3)</i>). There
    is a big difference between using a proxy and to tunnel through it.</p>
<p class="Pp">Tunneling means that an HTTP CONNECT request is sent to the proxy,
    asking it to connect to a remote host on a specific port number and then the
    traffic is just passed through the proxy. Proxies tend to white-list
    specific port numbers it allows CONNECT requests to and often only port 80
    and 443 are allowed.</p>
<p class="Pp">To suppress proxy CONNECT response headers from user callbacks use
    <i>CURLOPT_SUPPRESS_CONNECT_HEADERS(3)</i>.</p>
<p class="Pp">HTTP proxies can generally only speak HTTP (for obvious reasons),
    which makes libcurl convert non-HTTP requests to HTTP when using an HTTP
    proxy without this tunnel option set. For example, asking for an FTP URL and
    specifying an HTTP proxy makes libcurl send an FTP URL in an HTTP GET
    request to the proxy. By instead tunneling through the proxy, you avoid that
    conversion (that rarely works through the proxy anyway).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">All network protocols</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
<br/>
  CURL *curl = curl_easy_init();
<br/>
  if(curl) {
<br/>
    curl_easy_setopt(curl, CURLOPT_URL, &quot;ftp://example.com/file.txt&quot;);
<br/>
    curl_easy_setopt(curl, CURLOPT_PROXY, &quot;http://127.0.0.1:80&quot;);
<br/>
    curl_easy_setopt(curl, CURLOPT_HTTPPROXYTUNNEL, 1L);
<br/>
    curl_easy_perform(curl);
<br/>
  }
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Always</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLE_OK</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLOPT_PROXY</b>(3), <b>CURLOPT_PROXYPORT</b>(3),
    <b>CURLOPT_PROXYTYPE</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 12 2024</td>
    <td class="foot-os">libcurl</td>
  </tr>
</table>
</body>
</html>
