<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from CURLOPT_CONNECT_ONLY.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>CURLOPT_CONNECT_ONLY(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLOPT_CONNECT_ONLY(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CURLOPT_CONNECT_ONLY(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLOPT_CONNECT_ONLY - stop when connected to target server</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_CONNECT_ONLY, long only);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Pass a long. If the parameter equals 1, it tells the library to
    perform all the required proxy authentication and connection setup, but no
    data transfer, and then return.</p>
<p class="Pp">The option can be used to simply test a connection to a server,
    but is more useful when used with the <i>CURLINFO_ACTIVESOCKET(3)</i> option
    to <i>curl_easy_getinfo(3)</i> as the library can set up the connection and
    then the application can obtain the most recently used socket for special
    data transfers.</p>
<p class="Pp">Since 7.86.0, this option can be set to '2' and if HTTP or
    WebSocket are used, libcurl performs the request and reads all response
    headers before handing over control to the application.</p>
<p class="Pp">Transfers marked connect only do not reuse any existing
    connections and connections marked connect only are not allowed to get
    reused.</p>
<p class="Pp">If the connect only transfer is done using the multi interface,
    the particular easy handle must remain added to the multi handle for as long
    as the application wants to use it. Once it has been removed with
    <i>curl_multi_remove_handle(3)</i>, <i>curl_easy_send(3)</i> and
    <i>curl_easy_recv(3)</i> do not function.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">HTTP, SMTP, POP3 and IMAP. For WS and WSS starting in 7.86.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
<br/>
  CURL *curl = curl_easy_init();
<br/>
  if(curl) {
<br/>
    CURLcode ret;
<br/>
    curl_easy_setopt(curl, CURLOPT_URL, &quot;https://example.com/&quot;);
<br/>
    curl_easy_setopt(curl, CURLOPT_CONNECT_ONLY, 1L);
<br/>
    ret = curl_easy_perform(curl);
<br/>
    if(ret == CURLE_OK) {
<br/>
      /* only connected! */
<br/>
    }
<br/>
  }
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Added in 7.15.2</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLE_OK if the option is supported, and
    CURLE_UNKNOWN_OPTION if not.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLOPT_HTTPPROXYTUNNEL</b>(3), <b>CURLOPT_VERBOSE</b>(3),
    <b>curl_easy_recv</b>(3), <b>curl_easy_send</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 12 2024</td>
    <td class="foot-os">libcurl</td>
  </tr>
</table>
</body>
</html>
