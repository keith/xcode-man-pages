<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from curl_multi_add_handle.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>curl_multi_add_handle(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">curl_multi_add_handle(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">curl_multi_add_handle(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">curl_multi_add_handle - add an easy handle to a multi session</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLMcode curl_multi_add_handle(CURLM *multi_handle, CURL *easy_handle);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Adds the <i>easy handle</i> to the <i>multi_handle</i>.</p>
<p class="Pp">While an easy handle is added to a multi stack, you cannot and you
    must not use <i>curl_easy_perform(3)</i> on that handle. After having
    removed the easy handle from the multi stack again, it is perfectly fine to
    use it with the easy interface again.</p>
<p class="Pp">If the easy handle is not set to use a shared
    (<i>CURLOPT_SHARE(3)</i>) cache, it is made to use a DNS cache that is
    shared between all easy handles within the multi handle when
    <i>curl_multi_add_handle(3)</i> is called.</p>
<p class="Pp">When an easy interface is added to a multi handle, it is set to
    use a shared connection cache owned by the multi handle. Removing and adding
    new easy handles does not affect the pool of connections or the ability to
    do connection reuse.</p>
<p class="Pp">If you have <i>CURLMOPT_TIMERFUNCTION(3)</i> set in the multi
    handle (as you should if you are working event-based with
    <i>curl_multi_socket_action(3)</i> and friends), that callback is called
    from within this function to ask for an updated timer so that your main
    event loop gets the activity on this handle to get started.</p>
<p class="Pp">The easy handle remains added to the multi handle until you remove
    it again with <i>curl_multi_remove_handle(3)</i> - even when a transfer with
    that specific easy handle is completed.</p>
<p class="Pp">You should remove the easy handle from the multi stack before you
    terminate first the easy handle and then the multi handle:</p>
<p class="Pp">1 - <i>curl_multi_remove_handle(3)</i></p>
<p class="Pp">2 - <i>curl_easy_cleanup(3)</i></p>
<p class="Pp">3 - <i>curl_multi_cleanup(3)</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
<br/>
  /* init a multi stack */
<br/>
  CURLM *multi = curl_multi_init();
<br/>
  /* create two easy handles */
<br/>
  CURL *http_handle = curl_easy_init();
<br/>
  CURL *http_handle2 = curl_easy_init();
<br/>
  /* add individual transfers */
<br/>
  curl_multi_add_handle(multi, http_handle);
<br/>
  curl_multi_add_handle(multi, http_handle2);
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Added in 7.9.6</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">CURLMcode type, general libcurl multi interface error code.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>curl_multi_cleanup</b>(3), <b>curl_multi_get_handles</b>(3),
    <b>curl_multi_init</b>(3), <b>curl_multi_setopt</b>(3),
    <b>curl_multi_socket_action</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 26, 2023</td>
    <td class="foot-os">libcurl 8.4.0</td>
  </tr>
</table>
</body>
</html>
