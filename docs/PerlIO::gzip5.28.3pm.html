<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>gzip(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">gzip(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">gzip(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
PerlIO::gzip - Perl extension to provide a PerlIO layer to gzip/gunzip
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use PerlIO::gzip;
  open FOO, &quot;&lt;:gzip&quot;, &quot;file.gz&quot; or die $!;
  print while &lt;FOO&gt;; # And it will be uncompressed...

  binmode FOO, &quot;:gzip(none)&quot; # Starts reading deflate stream from here on
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
PerlIO::gzip provides a PerlIO layer that manipulates files in the format used
  by the <span class="Li">&quot;gzip&quot;</span> program. Compression and
  Decompression are implemented, but not together. If you attempt to open a file
  for reading and writing the open will fail.
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORT"><a class="permalink" href="#EXPORT">EXPORT</a></h1>
PerlIO::gzip exports no subroutines or symbols, just a perl layer
  <span class="Li">&quot;gzip&quot;</span>
</section>
<section class="Sh">
<h1 class="Sh" id="LAYER_ARGUMENTS"><a class="permalink" href="#LAYER_ARGUMENTS">LAYER
  ARGUMENTS</a></h1>
The <span class="Li">&quot;gzip&quot;</span> layer takes a comma separated list
  of arguments. 4 exclusive options choose the header checking mode:
<dl class="Bl-tag">
  <dt>gzip</dt>
  <dd>The default. Expects a standard gzip file header for reading, writes a
      standard gzip file header.</dd>
  <dt>none</dt>
  <dd>Expects or writes no file header; assumes the file handle is immediately a
      deflate stream (eg as would be found inside a
      <span class="Li">&quot;zip&quot;</span> file)</dd>
  <dt>auto</dt>
  <dd>Potentially dangerous. If the first two bytes match the
      <span class="Li">&quot;gzip&quot;</span> header &quot;\x1f\x8b&quot; then
      a gzip header is assumed (and checked) else a deflate stream is assumed.
      No different from gzip on writing.</dd>
  <dt>autopop</dt>
  <dd>Potentially dangerous. If the first two bytes match the
      <span class="Li">&quot;gzip&quot;</span> header &quot;\x1f\x8b&quot; then
      a gzip header is assumed (and checked) else the layer is silently popped.
      This results in gzip files being transparently decompressed, other files
      being treated normally. Of course, this has sides effects such as
      File::Copy becoming gunzip, and File::Compare comparing the uncompressed
      contents of files.
    <p class="Pp">In autopop mode Opening a handle for writing (or reading and
        writing) will cause the gzip layer to automatically be popped.</p>
  </dd>
</dl>
<p class="Pp">Optionally you can add this flag:</p>
<dl class="Bl-tag">
  <dt>lazy</dt>
  <dd>For reading, defer header checking until the first read. For writing,
      don't write a header until the first buffer empty of compressed data to
      disk. (and don't write anything at all if no data was written to the
      handle)
    <p class="Pp">By default, gzip header checking is done before the
        <span class="Li">&quot;open&quot;</span> (or
        <span class="Li">&quot;binmode&quot;</span>) returns, so if an error is
        detected in the gzip header the <span class="Li">&quot;open&quot;</span>
        or <span class="Li">&quot;binmode&quot;</span> will fail. However, this
        will require reading some data, or writing a header. With lazy set on a
        file opened for reading the check is deferred until the first read so
        the <span class="Li">&quot;open&quot;</span> should always succeed, but
        any problems with the header will cause an error on read.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  open FOO, &quot;&lt;:gzip(lazy)&quot;, &quot;file.gz&quot; or die $!; # Dangerous.
  while (&lt;FOO&gt;) {
    print;
  } # Whoa. Bad. You're not distinguishing between errors and EOF.
    </pre>
    <p class="Pp">If you're not careful you won't spot the errors - like the
        example above you'll think you got end of file.</p>
    <p class="Pp">lazy is ignored if you are in autopop mode.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Nicholas Clark, &lt;nwc10+perlio-gzip@colon.colondot.net&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
perl, gzip, rfc 1952 &lt;http://www.ietf.org/rfc/rfc1952.txt&gt; (the gzip file
  format specification), rfc 1951 &lt;http://www.ietf.org/rfc/rfc1951.txt&gt;
  (DEFLATE compressed data format specification)
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-06-21</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
