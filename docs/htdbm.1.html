<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   DO NOT EDIT! Generated from XML source.
   XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   Subsection
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>HTDBM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HTDBM(1)</td>
    <td class="head-vol">htdbm</td>
    <td class="head-rtitle">HTDBM(1)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">htdbm - Manipulate DBM password databases</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b></b><b>htdbm</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>i</b> ] [
    -<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [
    -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ] <i>filename</i>
    <i>username</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>b</b> [ -<b>T</b><i>DBTYPE</i> ] [
    -<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [
    -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ] <i>filename</i>
    <i>username</i> <i>password</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>n</b> [ -<b>i</b> ] [ -<b>c</b> ] [
    -<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b>
    <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ] <i>username</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>nb</b> [ -<b>c</b> ] [ -<b>m</b> |
    -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [
    -<b>t</b> ] [ -<b>v</b> ] <i>username</i> <i>password</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>v</b> [ -<b>T</b><i>DBTYPE</i> ] [
    -<b>i</b> ] [ -<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> |
    -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ]
    <i>filename</i> <i>username</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>vb</b> [ -<b>T</b><i>DBTYPE</i> ] [
    -<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [
    -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ] <i>filename</i>
    <i>username</i> <i>password</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>x</b> [ -<b>T</b><i>DBTYPE</i> ]
    <i>filename</i> <i>username</i></p>
<p class="Pp"></p>
<p class="Pp"><b></b><b>htdbm</b> -<b>l</b> [ -<b>T</b><i>DBTYPE</i> ] </p>
<p class="Pp"></p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SUMMARY"><a class="permalink" href="#SUMMARY">SUMMARY</a></h1>
<p class="Pp"><b>htdbm</b> is used to manipulate the DBM format files used to
    store usernames and password for basic authentication of HTTP users via
    mod_authn_dbm. See the dbmmanage documentation for more information about
    these DBM files.</p>
<p class="Pp"></p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="b"><a class="permalink" href="#b"><b>-b</b></a></dt>
  <dd>Use batch mode; <i>i.e.</i>, get the password from the command line rather
      than prompting for it. This option should be used with extreme care, since
      <b>the password is clearly visible</b> on the command line. For script use
      see the <b>-i</b> option.</dd>
  <dt id="i"><a class="permalink" href="#i"><b>-i</b></a></dt>
  <dd>Read the password from stdin without verification (for script usage).</dd>
  <dt id="c"><a class="permalink" href="#c"><b>-c</b></a></dt>
  <dd>Create the <i>passwdfile</i>. If <i>passwdfile</i> already exists, it is
      rewritten and truncated. This option cannot be combined with the <b>-n</b>
      option.</dd>
  <dt id="n"><a class="permalink" href="#n"><b>-n</b></a></dt>
  <dd>Display the results on standard output rather than updating a database.
      This option changes the syntax of the command line, since the
      <i>passwdfile</i> argument (usually the first one) is omitted. It cannot
      be combined with the <b>-c</b> option.</dd>
  <dt id="m"><a class="permalink" href="#m"><b>-m</b></a></dt>
  <dd>Use MD5 hashing for passwords. On Windows and Netware, this is the
      default.</dd>
  <dt id="B"><a class="permalink" href="#B"><b>-B</b></a></dt>
  <dd>Use bcrypt hashing for passwords. This is currently considered to be very
      secure.</dd>
  <dt id="C"><a class="permalink" href="#C"><b>-C</b></a></dt>
  <dd>This flag is only allowed in combination with <b>-B</b> (bcrypt hashing).
      It sets the computing time used for the bcrypt algorithm (higher is more
      secure but slower, default: 5, valid: 4 to 31).</dd>
  <dt id="d"><a class="permalink" href="#d"><b>-d</b></a></dt>
  <dd>Use <b>crypt()</b> hashing for passwords. The default on all platforms but
      Windows and Netware. Though possibly supported by <b>htdbm</b> on all
      platforms, it is not supported by the httpd server on Windows and Netware.
      This algorithm is <b>insecure</b> by today's standards.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s</b></a></dt>
  <dd>Use SHA hashing for passwords. Facilitates migration from/to Netscape
      servers using the LDAP Directory Interchange Format (ldif). This algorithm
      is <b>insecure</b> by today's standards.</dd>
  <dt id="p"><a class="permalink" href="#p"><b>-p</b></a></dt>
  <dd>Use plaintext passwords. Though <b>htdbm</b> will support creation on all
      platforms, the httpd daemon will only accept plain text passwords on
      Windows and Netware.</dd>
  <dt id="l"><a class="permalink" href="#l"><b>-l</b></a></dt>
  <dd>Print each of the usernames and comments from the database on stdout.</dd>
  <dt id="v"><a class="permalink" href="#v"><b>-v</b></a></dt>
  <dd>Verify the username and password. The program will print a message
      indicating whether the supplied password is valid. If the password is
      invalid, the program exits with error code 3.</dd>
  <dt id="x"><a class="permalink" href="#x"><b>-x</b></a></dt>
  <dd>Delete user. If the username exists in the specified DBM file, it will be
      deleted.</dd>
  <dt id="t"><a class="permalink" href="#t"><b>-t</b></a></dt>
  <dd>Interpret the final parameter as a comment. When this option is specified,
      an additional string can be appended to the command line; this string will
      be stored in the &quot;Comment&quot; field of the database, associated
      with the specified username.</dd>
  <dt id="filename"><a class="permalink" href="#filename"><b></b><i>filename</i></a></dt>
  <dd>The filename of the DBM format file. Usually without the extension
      <b>.db</b>, <b>.pag</b>, or <b>.dir</b>. If <b>-c</b> is given, the DBM
      file is created if it does not already exist, or updated if it does
    exist.</dd>
  <dt id="username"><a class="permalink" href="#username"><b></b><i>username</i></a></dt>
  <dd>The username to create or update in <i>passwdfile</i>. If <i>username</i>
      does not exist in this file, an entry is added. If it does exist, the
      password is changed.</dd>
  <dt id="password"><a class="permalink" href="#password"><b></b><i>password</i></a></dt>
  <dd>The plaintext password to be hashed and stored in the DBM file. Used only
      with the <b>-b</b> flag.</dd>
  <dt id="T"><a class="permalink" href="#T"><b>-T</b><i>DBTYPE</i></a></dt>
  <dd>Type of DBM file (SDBM, GDBM, DB, or &quot;default&quot;).
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">One should be aware that there are a number of different DBM file
    formats in existence, and with all likelihood, libraries for more than one
    format may exist on your system. The three primary examples are SDBM, NDBM,
    GNU GDBM, and Berkeley/Sleepycat DB 2/3/4. Unfortunately, all these
    libraries use different file formats, and you must make sure that the file
    format used by <i>filename</i> is the same format that <b>htdbm</b> expects
    to see. <b>htdbm</b> currently has no way of determining what type of DBM
    file it is looking at. If used against the wrong format, will simply return
    nothing, or may create a different DBM file with a different name, or at
    worst, it may corrupt the DBM file if you were attempting to write to
  it.</p>
<p class="Pp"></p>
<p class="Pp">One can usually use the <b>file</b> program supplied with most
    Unix systems to see what format a DBM file is in.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp"><b>htdbm</b> returns a zero status (&quot;true&quot;) if the
    username and password have been successfully added or updated in the DBM
    File. <b>htdbm</b> returns <b>1</b> if it encounters some problem accessing
    files, <b>2</b> if there was a syntax problem with the command line,
    <b>3</b> if the password was entered interactively and the verification
    entry didn't match, <b>4</b> if its operation was interrupted, <b>5</b> if a
    value is too long (username, filename, password, or final computed record),
    <b>6</b> if the username contains illegal characters (see the Restrictions
    section), and <b>7</b> if the file is not a valid DBM password file.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<pre>
<br/>
      htdbm /usr/local/etc/apache/.htdbm-users jsmith
<br/>
    </pre>
<p class="Pp"></p>
<p class="Pp">Adds or modifies the password for user <b>jsmith</b>. The user is
    prompted for the password. If executed on a Windows system, the password
    will be hashed using the modified Apache MD5 algorithm; otherwise, the
    system's <b>crypt()</b> routine will be used. If the file does not exist,
    <b>htdbm</b> will do nothing except return an error.</p>
<p class="Pp"></p>
<pre>
<br/>
      htdbm -c /home/doe/public_html/.htdbm jane
<br/>
    </pre>
<p class="Pp"></p>
<p class="Pp">Creates a new file and stores a record in it for user <b>jane</b>.
    The user is prompted for the password. If the file exists and cannot be
    read, or cannot be written, it is not altered and <b>htdbm</b> will display
    a message and return an error status.</p>
<p class="Pp"></p>
<pre>
<br/>
      htdbm -mb /usr/web/.htdbm-all jones Pwd4Steve
<br/>
    </pre>
<p class="Pp"></p>
<p class="Pp">Encrypts the password from the command line (<b>Pwd4Steve</b>)
    using the MD5 algorithm, and stores it in the specified file.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY_CONSIDERATIONS"><a class="permalink" href="#SECURITY_CONSIDERATIONS">SECURITY
  CONSIDERATIONS</a></h1>
<p class="Pp">Web password files such as those managed by <b>htdbm</b> should
    <i>not</i> be within the Web server's URI space -- that is, they should not
    be fetchable with a browser.</p>
<p class="Pp"></p>
<p class="Pp">The use of the <b>-b</b> option is discouraged, since when it is
    used the plaintext password appears on the command line.</p>
<p class="Pp"></p>
<p class="Pp">When using the <b>crypt()</b> algorithm, note that only the first
    8 characters of the password are used to form the password. If the supplied
    password is longer, the extra characters will be silently discarded.</p>
<p class="Pp"></p>
<p class="Pp">The SHA hashing option does not use salting: for a given password,
    there is only one hashed representation. The <b>crypt()</b> and MD5 formats
    permute the representation by prepending a random salt string, to make
    dictionary attacks against the passwords more difficult.</p>
<p class="Pp"></p>
<p class="Pp">The SHA and <b>crypt()</b> formats are insecure by today's
    standards.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="RESTRICTIONS"><a class="permalink" href="#RESTRICTIONS">RESTRICTIONS</a></h1>
<p class="Pp">On the Windows platform, passwords hashed with <b>htdbm</b> are
    limited to no more than <b>255</b> characters in length. Longer passwords
    will be truncated to 255 characters.</p>
<p class="Pp"></p>
<p class="Pp">The MD5 algorithm used by <b>htdbm</b> is specific to the Apache
    software; passwords hashed using it will not be usable with other Web
    servers.</p>
<p class="Pp"></p>
<p class="Pp">Usernames are limited to <b>255</b> bytes and may not include the
    character <b>:</b>.</p>
<p class="Pp"></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-07-06</td>
    <td class="foot-os">Apache HTTP Server</td>
  </tr>
</table>
</body>
</html>
