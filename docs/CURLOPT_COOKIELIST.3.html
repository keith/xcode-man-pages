<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from CURLOPT_COOKIELIST.md
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>CURLOPT_COOKIELIST(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLOPT_COOKIELIST(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CURLOPT_COOKIELIST(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLOPT_COOKIELIST - add to or manipulate cookies held in
  memory</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_COOKIELIST,
<br/>
                          char *cookie);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Pass a char pointer to a <i>cookie</i> string.</p>
<p class="Pp">Such a cookie can be either a single line in Netscape / Mozilla
    format or just regular HTTP-style header (Set-Cookie: ...) format. This
    option also enables the cookie engine. This adds that single cookie to the
    internal cookie store.</p>
<p class="Pp">We strongly advice against loading cookies from an HTTP header
    file, as that is an inferior data exchange format.</p>
<p class="Pp">Exercise caution if you are using this option and multiple
    transfers may occur. If you use the Set-Cookie format and the string does
    not specify a domain, then the cookie is sent for any domain (even after
    redirects are followed) and cannot be modified by a server-set cookie. If a
    server sets a cookie of the same name (or maybe you have imported one) then
    both are sent on future transfers to that server, likely not what you
    intended. To address these issues set a domain in Set-Cookie (doing that
    includes subdomains) or much better: use the Netscape file format.</p>
<p class="Pp">Additionally, there are commands available that perform actions if
    you pass in these exact strings:</p>
<dl class="Bl-tag">
  <dt id="ALL"><a class="permalink" href="#ALL">ALL</a></dt>
  <dd>erases all cookies held in memory</dd>
  <dt id="SESS"><a class="permalink" href="#SESS">SESS</a></dt>
  <dd>erases all session cookies held in memory</dd>
  <dt id="FLUSH"><a class="permalink" href="#FLUSH">FLUSH</a></dt>
  <dd>writes all known cookies to the file specified by
      <i>CURLOPT_COOKIEJAR(3)</i></dd>
  <dt id="RELOAD"><a class="permalink" href="#RELOAD">RELOAD</a></dt>
  <dd>loads all cookies from the files specified by
    <i>CURLOPT_COOKIEFILE(3)</i></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">NULL</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">HTTP</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>/* an inline import of a cookie in Netscape format. */
#define SEP  &quot;\t&quot;  /* Tab separates the fields */
int main(void)
{
<br/>
  char *my_cookie =
<br/>
    &quot;example.com&quot;    /* Hostname */
<br/>
    SEP &quot;FALSE&quot;      /* Include subdomains */
<br/>
    SEP &quot;/&quot;          /* Path */
<br/>
    SEP &quot;FALSE&quot;      /* Secure */
<br/>
    SEP &quot;0&quot;          /* Expiry in epoch time format. 0 == Session */
<br/>
    SEP &quot;foo&quot;        /* Name */
<br/>
    SEP &quot;bar&quot;;       /* Value */
<br/>
  CURL *curl = curl_easy_init();
<br/>
  if(curl) {
<br/>
    /* my_cookie is imported immediately via CURLOPT_COOKIELIST. */
<br/>
    curl_easy_setopt(curl, CURLOPT_COOKIELIST, my_cookie);
<br/>
    /* The list of cookies in cookies.txt are not be imported until right
<br/>
       before a transfer is performed. Cookies in the list that have the same
<br/>
       hostname, path and name as in my_cookie are skipped. That is because
<br/>
       libcurl has already imported my_cookie and it's considered a &quot;live&quot;
<br/>
       cookie. A live cookie is not replaced by one read from a file.
<br/>
    */
<br/>
    curl_easy_setopt(curl, CURLOPT_COOKIEFILE, &quot;cookies.txt&quot;);  /* import */
<br/>
    /* Cookies are exported after curl_easy_cleanup is called. The server
<br/>
       may have added, deleted or modified cookies by then. The cookies that
<br/>
       were skipped on import are not exported.
<br/>
    */
<br/>
    curl_easy_setopt(curl, CURLOPT_COOKIEJAR, &quot;cookies.txt&quot;);  /* export */
<br/>
    curl_easy_perform(curl);  /* cookies imported from cookies.txt */
<br/>
    curl_easy_cleanup(curl);  /* cookies exported to cookies.txt */
<br/>
  }
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Cookie_file_format"><a class="permalink" href="#Cookie_file_format">Cookie
  file format</a></h1>
<p class="Pp">The cookie file format and general cookie concepts in curl are
    described online here: https://curl.se/docs/http-cookies.html</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp"><b>ALL</b> was added in 7.14.1</p>
<p class="Pp"><b>SESS</b> was added in 7.15.4</p>
<p class="Pp"><b>FLUSH</b> was added in 7.17.1</p>
<p class="Pp"><b>RELOAD</b> was added in 7.39.0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLE_OK if the option is supported, CURLE_UNKNOWN_OPTION
    if not, or CURLE_OUT_OF_MEMORY if there was insufficient heap space.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLINFO_COOKIELIST</b>(3), <b>CURLOPT_COOKIE</b>(3),
    <b>CURLOPT_COOKIEFILE</b>(3), <b>CURLOPT_COOKIEJAR</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 26, 2023</td>
    <td class="foot-os">ibcurl 8.4.0</td>
  </tr>
</table>
</body>
</html>
