<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Time::Progress(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Time::Progress(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Time::Progress(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Time::Progress - Elapsed and estimated finish time reporting.
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Time::Progress;
  # autoflush to get \r working
  $| = 1;
  # get new `timer'
  my $p = new Time::Progress;

  # restart and report progress
  $p-&gt;restart;
  sleep 5; # or do some work here
  print $p-&gt;report( &quot;done %p elapsed: %L (%l sec), ETA %E (%e sec)\n&quot;, 50 );

  # set min and max values
  $p-&gt;attr( min =&gt; 2, max =&gt; 20 );
  # restart `timer'
  $p-&gt;restart;
  my $c;
  for( $c = 2; $c &lt;= 20; $c++ )
    {
    # print progress bar and percentage done
    print $p-&gt;report( &quot;eta: %E min, %40b %p\r&quot;, $c );
    sleep 1; # work...
    }
  # stop timer
  $p-&gt;stop;

  # report times
  print $p-&gt;elapsed_str;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Shortest time interval that can be measured is 1 second. The available methods
  are:
<dl class="Bl-tag">
  <dt>new</dt>
  <dd><span class="Li"></span>
    <pre>
  my $p = new Time::Progress;
    </pre>
    <p class="Pp">Returns new object of Time::Progress class and starts the
        timer. It also sets min and max values to 0 and 100, so the next
        <b>report</b> calls will default to percents range.</p>
  </dd>
  <dt>restart</dt>
  <dd>restarts the timer and clears the stop mark. optionally <i>restart()</i>
      may act also as <i>attr()</i> for setting attributes:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $p-&gt;restart( min =&gt; 1, max =&gt; 5 );
    </pre>
    <p class="Pp">is the same as:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $p-&gt;attr( min =&gt; 1, max =&gt; 5 );
  $p-&gt;restart();
    </pre>
    <p class="Pp">If you need to count things, you can set just 'max' attribute
        since 'min' is already set to 0 when object is constructed by
        <i>new()</i>:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $p-&gt;restart( max =&gt; 42 );
    </pre>
  </dd>
  <dt>stop</dt>
  <dd>Sets the stop mark. This is only useful if you do some work, then finish,
      then do some work that shouldn't be timed and finally report. Something
      like:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $p-&gt;restart;
  # do some work here...
  $p-&gt;stop;
  # do some post-work here
  print $p-&gt;report;
  # `post-work' will not be timed
    </pre>
    <p class="Pp">Stop is useless if you want to report time as soon as work is
        finished like:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $p-&gt;restart;
  # do some work here...
  print $p-&gt;report;
    </pre>
  </dd>
  <dt>continue</dt>
  <dd>Clears the stop mark. (mostly useless, perhaps you need to
      <b>restart</b>?)</dd>
  <dt>attr</dt>
  <dd>Sets and returns internal values for attributes. Available attributes
    are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>min</dt>
  <dd>This is the min value of the items that will follow (used to calculate
      estimated finish time)</dd>
  <dt>max</dt>
  <dd>This is the max value of all items in the even (also used to calculate
      estimated finish time)</dd>
  <dt>format</dt>
  <dd>This is the default <b>report</b> format. It is used if <b>report</b> is
      called without parameters.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp"><b>attr</b> returns array of the set attributes:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my ( $new_min, $new_max ) = $p-&gt;attr( min =&gt; 1, max =&gt; 5 );
</pre>
<p class="Pp">If you want just to get values use undef:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $old_format = $p-&gt;attr( format =&gt; undef );
</pre>
<p class="Pp">This way of handling attributes is a bit heavy but saves a lot of
    attribute handling functions. <b>attr</b> will complain if you pass odd
    number of parameters.</p>
</div>
<dl class="Bl-tag">
  <dt>report</dt>
  <dd><b>report</b> is the most complex method in this package. :)
    <p class="Pp">expected arguments are:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $p-&gt;report( format, [current_item] );
    </pre>
    <p class="Pp"><i>format</i> is string that will be used for the result
        string. Recognized special sequences are:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>%l</dt>
  <dd>elapsed seconds</dd>
  <dt>%L</dt>
  <dd>elapsed time in minutes in format MM:SS</dd>
  <dt>%e</dt>
  <dd>remaining seconds</dd>
  <dt>%E</dt>
  <dd>remaining time in minutes in format MM:SS</dd>
  <dt>%p</dt>
  <dd>percentage done in format PPP.P%</dd>
  <dt>%f</dt>
  <dd>estimated finish time in format returned by
      <b></b><b><i>localtime()</i></b> <b></b></dd>
  <dt>%b</dt>
  <dd></dd>
  <dt>%B</dt>
  <dd>progress bar which looks like:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  ##############......................
    </pre>
    <p class="Pp"><span class="Li">%b</span> takes optional width:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  %40b -- 40-chars wide bar
  %9b  --  9-chars wide bar
  %b   -- 79-chars wide bar (default)
    </pre>
  </dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">Parameters can be ommited and then default format set with
    <b>attr</b> will be used.</p>
<p class="Pp">Sequences 'L', 'l', 'E' and 'e' can have width also:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  %10e
  %5l
  ...
</pre>
<p class="Pp">Estimate time calculations can be used only if min and max values
    are set (see <b>attr</b> method) and current item is passed to
    <b>report</b>! if you want to use the default format but still have
    estimates use it like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $p-&gt;format( undef, 45 );
</pre>
<p class="Pp">If you don't give current item (step) or didn't set proper min/max
    value then all estimate sequences will have value `n/a'.</p>
<p class="Pp">You can freely mix reports during the same event.</p>
</div>
<dl class="Bl-tag">
  <dt>elapsed</dt>
  <dd></dd>
  <dt>estimate</dt>
  <dd>helpers -- return elapsed/estimate seconds.</dd>
  <dt>elapsed_str</dt>
  <dd></dd>
  <dt>estimate_str</dt>
  <dd>helpers -- return elapsed/estimated string in format:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  &quot;elapsed time is MM:SS min.\n&quot;
  &quot;remaining time is MM:SS min.\n&quot;
    </pre>
    <p class="Pp">all helpers need one argument -- current item.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FORMAT_EXAMPLES"><a class="permalink" href="#FORMAT_EXAMPLES">FORMAT
  EXAMPLES</a></h1>
<span class="Li"></span>
<pre>
  # $c is current element (step) reached
  # for the examples: min = 0, max = 100, $c = 33.3

  print $p-&gt;report( &quot;done %p elapsed: %L (%l sec), ETA %E (%e sec)\n&quot;, $c );
  # prints:
  # done  33.3% elapsed time   0:05 (5 sec), ETA   0:07 (7 sec)

  print $p-&gt;report( &quot;%45b %p\r&quot;, $c );
  # prints:
  # ###############..............................  33.3%

  print $p-&gt;report( &quot;done %p ETA %f\n&quot;, $c );
  # prints:
  # done  33.3% ETA Sun Oct 21 16:50:57 2001
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="GITHUB_REPOSITORY"><a class="permalink" href="#GITHUB_REPOSITORY">GITHUB
  REPOSITORY</a></h1>
<span class="Li"></span>
<pre>
  git@github.com:cade-vs/perl-time-progress.git
  
  git clone git://github.com/cade-vs/perl-time-progress.git
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<span class="Li"></span>
<pre>
  Vladi Belperchinov-Shabanski &quot;Cade&quot;

  &lt;cade@biscom.net&gt; &lt;cade@datamax.bg&gt; &lt;cade@cpan.org&gt;

  http://cade.datamax.bg
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-07-08</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
