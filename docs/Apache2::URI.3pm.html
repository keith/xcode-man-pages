<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>install::TempContent::Objects::mod_perl-2.0.12::docs::api::Apache2::URI(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">install::TempContent::Objects::mod_perl-2.0.12::docs::api::Apache2::URI(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">install::TempContent::Objects::mod_perl-2.0.12::docs::api::Apache2::URI(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Apache2::URI - Perl API for manipulating URIs</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Synopsis"><a class="permalink" href="#Synopsis">Synopsis</a></h1>
<pre>  use Apache2::URI ();
  
  $hostport = $r-&gt;construct_server();
  $hostport = $r-&gt;construct_server($hostname);
  $hostport = $r-&gt;construct_server($hostname, $port);
  $hostport = $r-&gt;construct_server($hostname, $port, $pool);
  
  $url = $r-&gt;construct_url();
  $url = $r-&gt;construct_url($rel_uri);
  $url = $r-&gt;construct_url($rel_uri, $pool);
  
  $parsed_uri = $r-&gt;parse_uri($uri);
  
  $parsed_uri = $r-&gt;parsed_uri();
  
  $url = join '%20', qw(one two three);
  Apache2::URI::unescape_url($url);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Description"><a class="permalink" href="#Description">Description</a></h1>
<p class="Pp">While <span class="Li">&quot;APR::URI&quot;</span> provides a
    generic API to dissect, adjust and put together any given URI string,
    <span class="Li">&quot;Apache2::URI&quot;</span> provides an API specific to
    Apache, by taking the information directly from the
    <span class="Li">$r</span> object. Therefore when manipulating the URI of
    the current HTTP request usually methods from both classes are used.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
<p class="Pp"><span class="Li">&quot;Apache2::URI&quot;</span> provides the
    following functions and methods:</p>
<section class="Ss">
<h2 class="Ss" id="_construct_server_"><a class="permalink" href="#_construct_server_">&quot;construct_server&quot;</a></h2>
<p class="Pp">Construct a string made of hostname and port</p>
<p class="Pp"></p>
<pre>  $hostport = $r-&gt;construct_server();
  $hostport = $r-&gt;construct_server($hostname);
  $hostport = $r-&gt;construct_server($hostname, $port);
  $hostport = $r-&gt;construct_server($hostname, $port, $pool);
</pre>
<dl class="Bl-tag">
  <dt id="obj:"><a class="permalink" href="#obj:">obj: $r (
    &quot;Apache2::RequestRec object&quot; )</a></dt>
  <dd>The current request object</dd>
  <dt id="opt"><a class="permalink" href="#opt">opt arg1: $hostname ( string
    )</a></dt>
  <dd>The hostname of the server.
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;get_server_name&quot;</span> is used.</p>
  </dd>
  <dt id="opt~2"><a class="permalink" href="#opt~2">opt arg2: $port ( string
    )</a></dt>
  <dd>The port the server is running on.
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;get_server_port&quot;</span> is used.</p>
  </dd>
  <dt id="opt~3"><a class="permalink" href="#opt~3">opt arg3: $pool (
    &quot;APR::Pool object&quot; )</a></dt>
  <dd>The pool to allocate the string from.
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;pool&quot;</span> is used.</p>
  </dd>
  <dt id="ret:"><a class="permalink" href="#ret:">ret: $hostport ( string
    )</a></dt>
  <dd>The server's hostport string</dd>
  <dt id="since:"><a class="permalink" href="#since:">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">Examples:</p>
<ul class="Bl-bullet">
  <li>Assuming that:
    <p class="Pp"></p>
    <pre>  $r-&gt;get_server_name == &quot;localhost&quot;;
  $r-&gt;get_server_port == 8001;
    </pre>
    <p class="Pp">The code:</p>
    <p class="Pp"></p>
    <pre>  $hostport = $r-&gt;construct_server();
    </pre>
    <p class="Pp">returns a string:</p>
    <p class="Pp"></p>
    <pre>  localhost:8001
    </pre>
  </li>
  <li>The following code sets the values explicitly:
    <p class="Pp"></p>
    <pre>  $hostport = $r-&gt;construct_server(&quot;my.example.com&quot;, 8888);
    </pre>
    <p class="Pp">and it returns a string:</p>
    <p class="Pp"></p>
    <pre>  my.example.com:8888
    </pre>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_construct_url_"><a class="permalink" href="#_construct_url_">&quot;construct_url&quot;</a></h2>
<p class="Pp">Build a fully qualified URL from the uri and information in the
    request rec:</p>
<p class="Pp"></p>
<pre>  $url = $r-&gt;construct_url();
  $url = $r-&gt;construct_url($rel_uri);
  $url = $r-&gt;construct_url($rel_uri, $pool);
</pre>
<dl class="Bl-tag">
  <dt id="obj:~2"><a class="permalink" href="#obj:~2">obj: $r (
    &quot;Apache2::RequestRec object&quot; )</a></dt>
  <dd>The current request object</dd>
  <dt id="opt~4"><a class="permalink" href="#opt~4">opt arg1: $rel_uri ( string
    )</a></dt>
  <dd>The path to the requested file (it may include a concatenation of
      <i>path</i>, <i>query</i> and <i>fragment</i> components).
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;uri&quot;</span> is used.</p>
  </dd>
  <dt id="opt~5"><a class="permalink" href="#opt~5">opt arg2: $pool (
    &quot;APR::Pool object&quot; )</a></dt>
  <dd>The pool to allocate the URL from
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;pool&quot;</span> is used.</p>
  </dd>
  <dt id="ret:~2"><a class="permalink" href="#ret:~2">ret: $url ( string
    )</a></dt>
  <dd>A fully qualified URL</dd>
  <dt id="since:~2"><a class="permalink" href="#since:~2">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">Examples:</p>
<ul class="Bl-bullet">
  <li>Assuming that the request was
    <p class="Pp"></p>
    <pre>  http://localhost.localdomain:8529/test?args
    </pre>
    <p class="Pp">The code:</p>
    <p class="Pp"></p>
    <pre>  my $url = $r-&gt;construct_url;
    </pre>
    <p class="Pp">returns the string:</p>
    <p class="Pp"></p>
    <pre>  http://localhost.localdomain:8529/test
    </pre>
    <p class="Pp">notice that the query (args) component is not in the string.
        You need to append it manually if it's needed.</p>
  </li>
  <li>Assuming that the request was
    <p class="Pp"></p>
    <pre>  http://localhost.localdomain:8529/test?args
    </pre>
    <p class="Pp">The code:</p>
    <p class="Pp"></p>
    <pre>  my $rel_uri = &quot;/foo/bar?tar&quot;;
  my $url = $r-&gt;construct_url($rel_uri);
    </pre>
    <p class="Pp">returns the string:</p>
    <p class="Pp"></p>
    <pre>  http://localhost.localdomain:8529/foo/bar?tar
    </pre>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_parse_uri_"><a class="permalink" href="#_parse_uri_">&quot;parse_uri&quot;</a></h2>
<p class="Pp">Break apart URI (affecting the current request's uri
  components)</p>
<p class="Pp"></p>
<pre>  $r-&gt;parse_uri($uri);
</pre>
<dl class="Bl-tag">
  <dt id="obj:~3"><a class="permalink" href="#obj:~3">obj: $r (
    &quot;Apache2::RequestRec object&quot; )</a></dt>
  <dd>The current request object</dd>
  <dt id="arg1:"><a class="permalink" href="#arg1:">arg1: $uri ( string
    )</a></dt>
  <dd>The uri to break apart</dd>
  <dt id="ret:~3"><a class="permalink" href="#ret:~3">ret: no return
    value</a></dt>
  <dd></dd>
  <dt id="warning:"><a class="permalink" href="#warning:">warning:</a></dt>
  <dd>This method has several side-effects explained below</dd>
  <dt id="since:~3"><a class="permalink" href="#since:~3">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">This method call has the following side-effects:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>sets <span class="Li">&quot;$r-&gt;args&quot;</span> to the rest after
      <span class="Li">'?'</span> if such exists in the passed
      <span class="Li">$uri</span>, otherwise sets it to
      <span class="Li">&quot;undef&quot;</span>.</dd>
  <dt>2.</dt>
  <dd>sets <span class="Li">&quot;$r-&gt;uri&quot;</span> to the passed
      <span class="Li">$uri</span> without the
      <span class="Li">&quot;$r-&gt;args&quot;</span> part.</dd>
  <dt>3.</dt>
  <dd>sets <span class="Li">&quot;$r-&gt;hostname&quot;</span> (if not set
      already) using the
      (<span class="Li">&quot;scheme://host:port&quot;</span>) parts of the
      passed <span class="Li">$uri</span>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_parsed_uri_"><a class="permalink" href="#_parsed_uri_">&quot;parsed_uri&quot;</a></h2>
<p class="Pp">Get the current request's parsed uri object</p>
<p class="Pp"></p>
<pre>  my $uri = $r-&gt;parsed_uri();
</pre>
<dl class="Bl-tag">
  <dt id="obj:~4"><a class="permalink" href="#obj:~4">obj: $r (
    &quot;Apache2::RequestRec object&quot; )</a></dt>
  <dd>The current request object</dd>
  <dt id="ret:~4"><a class="permalink" href="#ret:~4">ret: $uri ( &quot;APR::URI
    object&quot; )</a></dt>
  <dd>The parsed uri</dd>
  <dt id="since:~4"><a class="permalink" href="#since:~4">since: 2.0.00</a></dt>
  <dd>This object is suitable for using with
      <span class="Li">&quot;APR::URI::rpath&quot;</span></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_unescape_url_"><a class="permalink" href="#_unescape_url_">&quot;unescape_url&quot;</a></h2>
<p class="Pp">Unescape URLs</p>
<p class="Pp"></p>
<pre>  Apache2::URI::unescape_url($url);
</pre>
<dl class="Bl-tag">
  <dt id="obj:~5"><a class="permalink" href="#obj:~5">obj: $url ( string
    )</a></dt>
  <dd>The URL to unescape</dd>
  <dt id="ret:~5"><a class="permalink" href="#ret:~5">ret: no return
    value</a></dt>
  <dd>The argument <span class="Li">$url</span> is now unescaped</dd>
  <dt id="since:~5"><a class="permalink" href="#since:~5">since: 2.0.00</a></dt>
  <dd></dd>
</dl>
<p class="Pp">Example:</p>
<p class="Pp"></p>
<pre>  my $url = join '%20', qw(one two three);
  Apache2::URI::unescape_url($url);
</pre>
<p class="Pp"><span class="Li">$url</span> now contains the string:</p>
<p class="Pp"></p>
<pre>  &quot;one two three&quot;;
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="See_Also"><a class="permalink" href="#See_Also">See
  Also</a></h1>
<p class="Pp"><span class="Li">&quot;APR::URI&quot;</span>, mod_perl 2.0
    documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Copyright"><a class="permalink" href="#Copyright">Copyright</a></h1>
<p class="Pp">mod_perl 2.0 and its core modules are copyrighted under The Apache
    Software License, Version 2.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Authors"><a class="permalink" href="#Authors">Authors</a></h1>
<p class="Pp">The mod_perl development team and numerous contributors.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-18</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
