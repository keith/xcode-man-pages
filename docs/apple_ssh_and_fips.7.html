<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2021 Apple Inc. All rights reserved.
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>apple_ssh_and_fips(7)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">apple_ssh_and_fips(7)</td>
    <td class="head-vol">Miscellaneous Information Manual</td>
    <td class="head-rtitle">apple_ssh_and_fips(7)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">apple_ssh_and_fips</code> &#x2014;
    <span class="Nd">Configuring SSH for FIPS algorithms</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The macOS version of OpenSSH uses Apple&#x2019;s FIPS
    Cryptographic Modules for FIPS 140-2 validated algorithms, automatically
    without the need for installation, administration, or configuration. To
    restrict the SSH client and server to use <i class="Em">only</i> FIPS
    algorithms, customize the configuration as directed below.</p>
<p class="Pp">The configuration files for <a class="Xr">ssh(1)</a> and
    <a class="Xr">sshd(8)</a> read the algorithm configuration directives from
    <span class="Pa">/etc/ssh/crypto.conf</span>, which should be a symbolic
    link to either the macOS default algorithm configuration file
    <span class="Pa">/etc/ssh/crypto/apple.conf</span>, or to the FIPS-only
    configuration file <span class="Pa">/etc/ssh/crypto/fips.conf</span>. To
    choose FIPS algorithms <i class="Em">only</i>, update the symbolic link as
    follows.</p>
<div class="Bd Pp Bd-indent Li">
<pre>sudo ln -fs crypto/fips.conf /etc/ssh/crypto.conf</pre>
</div>
<p class="Pp">To return to the default set of algorithms which largely prefer
    FIPS algorithms but allow others as well:</p>
<div class="Bd Pp Bd-indent Li">
<pre>sudo ln -fs crypto/apple.conf /etc/ssh/crypto.conf</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp"><span class="Pa">/etc/ssh/crypto.conf</span>,
    <span class="Pa">/etc/ssh/crypto/apple.conf</span>, and
    <span class="Pa">/etc/ssh/crypto/fips.conf</span> appeared in macOS 15
    Sequoia.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
<p class="Pp">When upgrading from a previous version of macOS, the OpenSSH
    configuration directory <span class="Pa">/etc/ssh</span> is preserved. Thus,
    when upgrading from versions prior to macOS 15 Sequoia, the files mentioned
    in this manual page may not be present. To reset the OpenSSH configuration
    to macOS defaults, run the following command:</p>
<div class="Bd Pp Bd-indent Li">
<pre>sudo /usr/libexec/reset-ssh-configuration</pre>
</div>
<p class="Pp" id="WARNING"><a class="permalink" href="#WARNING"><b class="Sy">WARNING</b></a>:
    The above command will discard the existing configuration with the exception
    of host keys.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">ssh(1)</a>, <a class="Xr">sshd(8)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">17 September, 2021</td>
    <td class="foot-os">Darwin</td>
  </tr>
</table>
</body>
</html>
