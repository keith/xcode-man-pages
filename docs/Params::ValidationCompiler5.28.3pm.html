<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Params::ValidationCompiler(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Params::ValidationCompiler(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Params::ValidationCompiler(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Params::ValidationCompiler - Build an optimized subroutine parameter validator
  once, use it forever
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 0.30
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use Types::Standard qw( Int Str );
    use Params::ValidationCompiler qw( validation_for );

    {
        my $validator = validation_for(
            params =&gt; {
                foo =&gt; { type =&gt; Int },
                bar =&gt; {
                    type     =&gt; Str,
                    optional =&gt; 1,
                },
                baz =&gt; {
                    type    =&gt; Int,
                    default =&gt; 42,
                },
            },
        );

        sub foo {
            my %args = $validator-&gt;(@_);
        }
    }

    {
        my $validator = validation_for(
            params =&gt; [
                { type =&gt; Int },
                {
                    type     =&gt; Str,
                    optional =&gt; 1,
                },
            ],
        );

        sub bar {
            my ( $int, $str ) = $validator-&gt;(@_);
        }
    }

    {
        my $validator = validation_for(
            params =&gt; [
                foo =&gt; { type =&gt; Int },
                bar =&gt; {
                    type     =&gt; Str,
                    optional =&gt; 1,
                },
            ],
            named_to_list =&gt; 1,
        );

        sub baz {
            my ( $foo, $bar ) = $validator-&gt;(@_);
        }
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module creates a customized, highly efficient parameter checking
  subroutine. It can handle named or positional parameters, and can return the
  parameters as key/value pairs or a list of values.
<p class="Pp">In addition to type checks, it also supports parameter defaults,
    optional parameters, and extra &quot;slurpy&quot; parameters.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PARAMETERS"><a class="permalink" href="#PARAMETERS">PARAMETERS</a></h1>
This module has two options exports,
  <span class="Li">&quot;validation_for&quot;</span> and
  <span class="Li">&quot;source_for&quot;</span>. Both of these subs accept the
  same options:
<section class="Ss">
<h2 class="Ss" id="params"><a class="permalink" href="#params">params</a></h2>
An arrayref or hashref containing a parameter specification.
<p class="Pp">If you pass a hashref then the generated validator sub will expect
    named parameters. The <span class="Li">&quot;params&quot;</span> value
    should be a hashref where the parameter names are keys and the specs are the
    values.</p>
<p class="Pp">If you pass an arrayref and
    <span class="Li">&quot;named_to_list&quot;</span> is false, the validator
    will expect positional params. Each element of the
    <span class="Li">&quot;params&quot;</span> arrayref should be a parameter
    spec.</p>
<p class="Pp">If you pass an arrayref and
    <span class="Li">&quot;named_to_list&quot;</span> is true, the validator
    will expect named params, but will return a list of values. In this case the
    arrayref should contain a <i>list</i> of key/value pairs, where parameter
    names are the keys and the specs are the values.</p>
<p class="Pp">Each spec can contain either a boolean or hashref. If the spec is
    a boolean, this indicates required (true) or optional (false).</p>
<p class="Pp">The spec hashref accepts the following keys:</p>
<ul class="Bl-bullet">
  <li>type
    <p class="Pp">A type object. This can be a Moose type (from Moose or
        MooseX::Types), a Type::Tiny type, or a Specio type.</p>
    <p class="Pp">If the type has coercions, those will always be used.</p>
  </li>
  <li>default
    <p class="Pp">This can either be a simple (non-reference) scalar or a
        subroutine reference. The sub ref will be called without any arguments
        (for now).</p>
  </li>
  <li>optional
    <p class="Pp">A boolean indicating whether or not the parameter is optional.
        By default, parameters are required unless you provide a default.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="slurpy"><a class="permalink" href="#slurpy">slurpy</a></h2>
If this is a simple true value, then the generated subroutine accepts additional
  arguments not specified in <span class="Li">&quot;params&quot;</span>. By
  default, extra arguments cause an exception.
<p class="Pp">You can also pass a type constraint here, in which case all extra
    arguments must be values of the specified type.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="named_to_list"><a class="permalink" href="#named_to_list">named_to_list</a></h2>
If this is true, the generated subroutine will expect a list of key-value pairs
  or a hashref and it will return a list containing only values. The
  <span class="Li">&quot;params&quot;</span> you pass must be a arrayref of
  key-value pairs. The order of these pairs determines the order in which values
  are returned.
<p class="Pp">You cannot combine <span class="Li">&quot;slurpy&quot;</span> with
    <span class="Li">&quot;named_to_list&quot;</span> as there is no way to know
    how to order the extra return values.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="return_object"><a class="permalink" href="#return_object">return_object</a></h2>
If this is true, the generated subroutine will return an object instead of a
  hashref. You cannot set this option to true if you set either or
  <span class="Li">&quot;slurpy&quot;</span> or
  <span class="Li">&quot;named_to_list&quot;</span>.
<p class="Pp">The object's methods correspond to the parameter names passed to
    the subroutine. While calling methods on an object is slower than accessing
    a hashref, the advantage is that if you typo a parameter name you'll get a
    helpful error.</p>
<p class="Pp">If you have Class::XSAccessor installed then this will be used to
    create the class's methods, which makes it fairly fast.</p>
<p class="Pp">The returned object is in a generated class. Do not rely on this
    class name being anything in specific, and don't check this object using
    <span class="Li">&quot;isa&quot;</span>,
    <span class="Li">&quot;DOES&quot;</span>, or anything similar.</p>
<p class="Pp">When <span class="Li">&quot;return_object&quot;</span> is true,
    the parameter spec hashref also accepts to the following additional
  keys:</p>
<ul class="Bl-bullet">
  <li>getter
    <p class="Pp">Use this to set an explicit getter method name for the
        parameter. By default the method name will be the same as the parameter
        name. Note that if the parameter name is not a valid sub name, then you
        will get an error compiling the validation sub unless you specify a
        getter for the parameter.</p>
  </li>
  <li>predicate
    <p class="Pp">Use this to ask for a predicate method to be created for this
        parameter. The predicate method returns true if the parameter was passed
        and false if it wasn't. Note that this is only useful for optional
        parameters, but you can ask for a predicate for any parameter.</p>
  </li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORTS"><a class="permalink" href="#EXPORTS">EXPORTS</a></h1>
The exported subs are:
<section class="Ss">
<h2 class="Ss" id="validation_for(...)"><a class="permalink" href="#validation_for(...)">validation_for(...)</a></h2>
This returns a subroutine that implements the specific parameter checking. This
  subroutine expects to be given the parameters to validate in
  <span class="Li">@_</span>. If all the parameters are valid, it will return
  the validated parameters (with defaults as appropriate), either as a list of
  key-value pairs or as a list of just values. If any of the parameters are
  invalid it will throw an exception.
<p class="Pp">For validators expected named params, the generated subroutine
    accepts either a list of key-value pairs or a single hashref. Otherwise the
    validator expects a list of values.</p>
<p class="Pp">For now, you must shift off the invocant yourself.</p>
<p class="Pp">This subroutine accepts the following additional parameters:</p>
<ul class="Bl-bullet">
  <li>name
    <p class="Pp">If this is given, then the generated subroutine will be named
        using Sub::Util. This is strongly recommended as it makes it possible to
        distinguish different check subroutines when profiling or in stack
        traces.</p>
    <p class="Pp">This name will also be used in some exception messages, even
        if Sub::Util is not available.</p>
    <p class="Pp">Note that you must install Sub::Util yourself separately, as
        it is not required by this distribution, in order to avoid requiring a
        compiler.</p>
  </li>
  <li>name_is_optional
    <p class="Pp">If this is true, then the name is ignored when
        <span class="Li">&quot;Sub::Util&quot;</span> is not installed. If this
        is false, then passing a name when Sub::Util cannot be loaded causes an
        exception.</p>
    <p class="Pp">This is useful for CPAN modules where you want to set a name
        if you can, but you do not want to add a prerequisite on Sub::Util.</p>
  </li>
  <li>debug
    <p class="Pp">Sets the
        <span class="Li">&quot;EVAL_CLOSURE_PRINT_SOURCE&quot;</span>
        environment variable to true before calling
        <span class="Li">&quot;Eval::Closure::eval_closure()&quot;</span>. This
        causes the source of the subroutine to be printed before it's
        <span class="Li">&quot;eval&quot;</span>'d.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="source_for(...)"><a class="permalink" href="#source_for(...)">source_for(...)</a></h2>
This returns a two element list. The first is a string containing the source
  code for the generated sub. The second is a hashref of &quot;environment&quot;
  variables to be used when generating the subroutine. These are the arguments
  that are passed to Eval::Closure.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
Bugs may be submitted at
  &lt;https://github.com/houseabsolute/Params-ValidationCompiler/issues&gt;.
<p class="Pp">I am also usually active on IRC as 'autarch' on
    <span class="Li">&quot;irc://irc.perl.org&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
The source code repository for Params-ValidationCompiler can be found at
  &lt;https://github.com/houseabsolute/Params-ValidationCompiler&gt;.
</section>
<section class="Sh">
<h1 class="Sh" id="DONATIONS"><a class="permalink" href="#DONATIONS">DONATIONS</a></h1>
If you'd like to thank me for the work I've done on this module, please consider
  making a &quot;donation&quot; to me via PayPal. I spend a lot of free time
  creating free software, and would appreciate any support you'd care to offer.
<p class="Pp">Please note that <b>I am not suggesting that you must do this</b>
    in order for me to continue working on this particular software. I will
    continue to do so, inasmuch as I have in the past, for as long as it
    interests me.</p>
<p class="Pp">Similarly, a donation made in this way will probably not make me
    work on this software much more, unless I get so many donations that I can
    consider working on free software full time (let's all have a chuckle at
    that together).</p>
<p class="Pp">To donate, log into PayPal and send money to autarch@urth.org, or
    use the button at &lt;http://www.urth.org/~autarch/fs-donation.html&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Dave Rolsky &lt;autarch@urth.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Gregory Oschwald &lt;goschwald@maxmind.com&gt;</li>
  <li>Gregory Oschwald &lt;oschwald@gmail.com&gt;</li>
  <li>Tomasz Konojacki &lt;me@xenu.pl&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is Copyright (c) 2016 - 2018 by Dave Rolsky.
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  The Artistic License 2.0 (GPL Compatible)
</pre>
<p class="Pp">The full text of the license can be found in the <i>LICENSE</i>
    file included with this distribution.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-07-31</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
