<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Term::ReadLine(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Term::ReadLine(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Term::ReadLine(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Term::ReadLine - Perl interface to various &quot;readline&quot; packages. If no
  real package is found, substitutes stubs instead of basic functions.
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Term::ReadLine;
  my $term = Term::ReadLine-&gt;new('Simple Perl calc');
  my $prompt = &quot;Enter your arithmetic expression: &quot;;
  my $OUT = $term-&gt;OUT || \*STDOUT;
  while ( defined ($_ = $term-&gt;readline($prompt)) ) {
    my $res = eval($_);
    warn $@ if $@;
    print $OUT $res, &quot;\n&quot; unless $@;
    $term-&gt;addhistory($_) if /\S/;
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This package is just a front end to some other packages. It's a stub to set up a
  common interface to the various ReadLine implementations found on CPAN (under
  the <span class="Li">&quot;Term::ReadLine::*&quot;</span> namespace).
</section>
<section class="Sh">
<h1 class="Sh" id="Minimal_set_of_supported_functions"><a class="permalink" href="#Minimal_set_of_supported_functions">Minimal
  set of supported functions</a></h1>
All the supported functions should be called as methods, i.e., either as
<p class="Pp"><span class="Li"></span></p>
<pre>
  $term = Term::ReadLine-&gt;new('name');
</pre>
<p class="Pp">or as</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $term-&gt;addhistory('row');
</pre>
<p class="Pp">where <span class="Li">$term</span> is a return value of
    Term::ReadLine-&gt;<b>new()</b>.</p>
<dl class="Bl-tag">
  <dt>&quot;ReadLine&quot;</dt>
  <dd>returns the actual package that executes the commands. Among possible
      values are <span class="Li">&quot;Term::ReadLine::Gnu&quot;</span>,
      <span class="Li">&quot;Term::ReadLine::Perl&quot;</span>,
      <span class="Li">&quot;Term::ReadLine::Stub&quot;</span>.</dd>
  <dt>&quot;new&quot;</dt>
  <dd>returns the handle for subsequent calls to following functions. Argument
      is the name of the application. Optionally can be followed by two
      arguments for <span class="Li">&quot;IN&quot;</span> and
      <span class="Li">&quot;OUT&quot;</span> filehandles. These arguments
      should be globs.</dd>
  <dt>&quot;readline&quot;</dt>
  <dd>gets an input line, <i>possibly</i> with actual
      <span class="Li">&quot;readline&quot;</span> support. Trailing newline is
      removed. Returns <span class="Li">&quot;undef&quot;</span> on
      <span class="Li">&quot;EOF&quot;</span>.</dd>
  <dt>&quot;addhistory&quot;</dt>
  <dd>adds the line to the history of input, from where it can be used if the
      actual <span class="Li">&quot;readline&quot;</span> is present.</dd>
  <dt>&quot;IN&quot;, &quot;OUT&quot;</dt>
  <dd>return the filehandles for input and output or
      <span class="Li">&quot;undef&quot;</span> if
      <span class="Li">&quot;readline&quot;</span> input and output cannot be
      used for Perl.</dd>
  <dt>&quot;MinLine&quot;</dt>
  <dd>If argument is specified, it is an advice on minimal size of line to be
      included into history. <span class="Li">&quot;undef&quot;</span> means do
      not include anything into history. Returns the old value.</dd>
  <dt>&quot;findConsole&quot;</dt>
  <dd>returns an array with two strings that give most appropriate names for
      files for input and output using conventions
      <span class="Li">&quot;&lt;$in&quot;</span>,
      <span class="Li">&quot;&gt;out&quot;</span>.
    <p class="Pp">The strings returned may not be useful for 3-argument
        <b>open()</b>.</p>
  </dd>
  <dt>Attribs</dt>
  <dd>returns a reference to a hash which describes internal configuration of
      the package. Names of keys in this hash conform to standard conventions
      with the leading <span class="Li">&quot;rl_&quot;</span> stripped.</dd>
  <dt>&quot;Features&quot;</dt>
  <dd>Returns a reference to a hash with keys being features present in current
      implementation. Several optional features are used in the minimal
      interface: <span class="Li">&quot;appname&quot;</span> should be present
      if the first argument to <span class="Li">&quot;new&quot;</span> is
      recognized, and <span class="Li">&quot;minline&quot;</span> should be
      present if <span class="Li">&quot;MinLine&quot;</span> method is not
      dummy. <span class="Li">&quot;autohistory&quot;</span> should be present
      if lines are put into history automatically (maybe subject to
      <span class="Li">&quot;MinLine&quot;</span>), and
      <span class="Li">&quot;addhistory&quot;</span> if
      <span class="Li">&quot;addhistory&quot;</span> method is not dummy.
    <p class="Pp">If <span class="Li">&quot;Features&quot;</span> method reports
        a feature <span class="Li">&quot;attribs&quot;</span> as present, the
        method <span class="Li">&quot;Attribs&quot;</span> is not dummy.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Additional_supported_functions"><a class="permalink" href="#Additional_supported_functions">Additional
  supported functions</a></h1>
Actually <span class="Li">&quot;Term::ReadLine&quot;</span> can use some other
  package, that will support a richer set of commands.
<p class="Pp">All these commands are callable via method interface and have
    names which conform to standard conventions with the leading
    <span class="Li">&quot;rl_&quot;</span> stripped.</p>
<p class="Pp">The stub package included with the perl distribution allows some
    additional methods:</p>
<dl class="Bl-tag">
  <dt>&quot;tkRunning&quot;</dt>
  <dd>makes Tk event loop run when waiting for user input (i.e., during
      <span class="Li">&quot;readline&quot;</span> method).</dd>
  <dt>&quot;event_loop&quot;</dt>
  <dd>Registers call-backs to wait for user input (i.e., during
      <span class="Li">&quot;readline&quot;</span> method). This supersedes
      tkRunning.
    <p class="Pp">The first call-back registered is the call back for waiting.
        It is expected that the callback will call the current event loop until
        there is something waiting to get on the input filehandle. The parameter
        passed in is the return value of the second call back.</p>
    <p class="Pp">The second call-back registered is the call back for
        registration. The input filehandle (often STDIN, but not necessarily)
        will be passed in.</p>
    <p class="Pp">For example, with AnyEvent:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $term-&gt;event_loop(sub {
    my $data = shift;
    $data-&gt;[1] = AE::cv();
    $data-&gt;[1]-&gt;recv();
  }, sub {
    my $fh = shift;
    my $data = [];
    $data-&gt;[0] = AE::io($fh, 0, sub { $data-&gt;[1]-&gt;send() });
    $data;
  });
    </pre>
    <p class="Pp">The second call-back is optional if the call back is
        registered prior to the call to
        <span class="Li">$term</span>-&gt;readline.</p>
    <p class="Pp">Deregistration is done in this case by calling event_loop with
        <span class="Li">&quot;undef&quot;</span> as its parameter:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $term-&gt;event_loop(undef);
    </pre>
    <p class="Pp">This will cause the data array ref to be removed, allowing
        normal garbage collection to clean it up. With AnyEvent, that will cause
        <span class="Li">$data</span>-&gt;[0] to be cleaned up, and AnyEvent
        will automatically cancel the watcher at that time. If another loop
        requires more than that to clean up a file watcher, that will be up to
        the caller to handle.</p>
  </dd>
  <dt>&quot;ornaments&quot;</dt>
  <dd>makes the command line stand out by using termcap data. The argument to
      <span class="Li">&quot;ornaments&quot;</span> should be 0, 1, or a string
      of a form <span class="Li">&quot;aa,bb,cc,dd&quot;</span>. Four components
      of this string should be names of <i>terminal capacities</i>, first two
      will be issued to make the prompt standout, last two to make the input
      line standout.</dd>
  <dt>&quot;newTTY&quot;</dt>
  <dd>takes two arguments which are input filehandle and output filehandle.
      Switches to use these filehandles.</dd>
</dl>
<p class="Pp">One can check whether the currently loaded ReadLine package
    supports these methods by checking for corresponding
    <span class="Li">&quot;Features&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORTS"><a class="permalink" href="#EXPORTS">EXPORTS</a></h1>
None
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The environment variable <span class="Li">&quot;PERL_RL&quot;</span> governs
  which ReadLine clone is loaded. If the value is false, a dummy interface is
  used. If the value is true, it should be tail of the name of the package to
  use, such as <span class="Li">&quot;Perl&quot;</span> or
  <span class="Li">&quot;Gnu&quot;</span>.
<p class="Pp">As a special case, if the value of this variable is
    space-separated, the tail might be used to disable the ornaments by setting
    the tail to be <span class="Li">&quot;o=0&quot;</span> or
    <span class="Li">&quot;ornaments=0&quot;</span>. The head should be as
    described above, say</p>
<p class="Pp">If the variable is not set, or if the head of space-separated list
    is empty, the best available package is loaded.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  export &quot;PERL_RL=Perl o=0&quot; # Use Perl ReadLine sans ornaments
  export &quot;PERL_RL= o=0&quot;     # Use best available ReadLine sans ornaments
</pre>
<p class="Pp">(Note that processing of
    <span class="Li">&quot;PERL_RL&quot;</span> for ornaments is in the
    discretion of the particular used
    <span class="Li">&quot;Term::ReadLine::*&quot;</span> package).</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-24</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
