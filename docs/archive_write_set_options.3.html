<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2003-2010 Tim Kientzle
   All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
  
   THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
   $FreeBSD$
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>ARCHIVE_WRITE_OPTIONS(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ARCHIVE_WRITE_OPTIONS(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">ARCHIVE_WRITE_OPTIONS(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">archive_write_set_filter_option</code>,
    <code class="Nm">archive_write_set_format_option</code>,
    <code class="Nm">archive_write_set_option</code>,
    <code class="Nm">archive_write_set_options</code> &#x2014;
    <span class="Nd">functions controlling options for writing
  archives</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp">Streaming Archive Library (libarchive, -larchive)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">archive_write_set_filter_option</code>(<var class="Fa">struct
    archive *</var>, <var class="Fa">const char *module</var>,
    <var class="Fa">const char *option</var>, <var class="Fa">const char
    *value</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">archive_write_set_format_option</code>(<var class="Fa">struct
    archive *</var>, <var class="Fa">const char *module</var>,
    <var class="Fa">const char *option</var>, <var class="Fa">const char
    *value</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">archive_write_set_option</code>(<var class="Fa">struct
    archive *</var>, <var class="Fa">const char *module</var>,
    <var class="Fa">const char *option</var>, <var class="Fa">const char
    *value</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">archive_write_set_options</code>(<var class="Fa">struct
    archive *</var>, <var class="Fa">const char *options</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">These functions provide a way for libarchive clients to configure
    specific write modules.</p>
<dl class="Bl-tag">
  <dt id="archive_write_set_filter_option"><a class="permalink" href="#archive_write_set_filter_option"><code class="Fn">archive_write_set_filter_option</code></a>(),
    <a class="permalink" href="#archive_write_set_format_option"><code class="Fn" id="archive_write_set_format_option">archive_write_set_format_option</code></a>()</dt>
  <dd>Specifies an option that will be passed to the currently-registered
      filters (including decompression filters) or format readers.
    <p class="Pp">If <var class="Ar">option</var> and
        <var class="Ar">value</var> are both <code class="Dv">NULL</code>, these
        functions will do nothing and <code class="Cm">ARCHIVE_OK</code> will be
        returned. If <var class="Ar">option</var> is
        <code class="Dv">NULL</code> but <var class="Ar">value</var> is not,
        these functions will do nothing and
        <code class="Cm">ARCHIVE_FAILED</code> will be returned.</p>
    <p class="Pp">If <var class="Ar">module</var> is not
        <code class="Dv">NULL</code>, <var class="Ar">option</var> and
        <var class="Ar">value</var> will be provided to the filter or reader
        named <var class="Ar">module</var>. The return value will be either
        <code class="Cm">ARCHIVE_OK</code> if the option was successfully
        handled or <code class="Cm">ARCHIVE_WARN</code> if the option was
        unrecognized by the module or could otherwise not be handled. If there
        is no such module, <code class="Cm">ARCHIVE_FAILED</code> will be
        returned.</p>
    <p class="Pp">If <var class="Ar">module</var> is
        <code class="Dv">NULL</code>, <var class="Ar">option</var> and
        <var class="Ar">value</var> will be provided to every registered module.
        If any module returns <code class="Cm">ARCHIVE_FATAL</code>, this value
        will be returned immediately. Otherwise,
        <code class="Cm">ARCHIVE_OK</code> will be returned if any module
        accepts the option, and <code class="Cm">ARCHIVE_FAILED</code> in all
        other cases.</p>
  </dd>
  <dt id="archive_write_set_option"><a class="permalink" href="#archive_write_set_option"><code class="Fn">archive_write_set_option</code></a>()</dt>
  <dd>Calls
      <a class="permalink" href="#archive_write_set_format_option~2"><code class="Fn" id="archive_write_set_format_option~2">archive_write_set_format_option</code></a>(),
      then <code class="Fn">archive_write_set_filter_option</code>(). If either
      function returns <code class="Cm">ARCHIVE_FATAL</code>,
      <code class="Cm">ARCHIVE_FATAL</code> will be returned immediately.
      Otherwise, the greater of the two values will be returned.</dd>
  <dt id="archive_write_set_options"><a class="permalink" href="#archive_write_set_options"><code class="Fn">archive_write_set_options</code></a>()</dt>
  <dd><var class="Ar">options</var> is a comma-separated list of options. If
      <var class="Ar">options</var> is <code class="Dv">NULL</code> or empty,
      <code class="Cm">ARCHIVE_OK</code> will be returned immediately.
    <p class="Pp">Individual options have one of the following forms:</p>
    <dl class="Bl-tag Bl-compact">
      <dt><var class="Ar">option=value</var></dt>
      <dd>The option/value pair will be provided to every module. Modules that
          do not accept an option with this name will ignore it.</dd>
      <dt><var class="Ar">option</var></dt>
      <dd>The option will be provided to every module with a value of
          &#x201C;1&#x201D;.</dd>
      <dt><var class="Ar">!option</var></dt>
      <dd>The option will be provided to every module with a NULL value.</dd>
      <dt><var class="Ar">module:option=value</var>,
        <var class="Ar">module:option</var>,
        <var class="Ar">module:!option</var></dt>
      <dd>As above, but the corresponding option and value will be provided only
          to modules whose name matches <var class="Ar">module</var>.</dd>
    </dl>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt>Filter b64encode</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="mode"><a class="permalink" href="#mode"><code class="Cm">mode</code></a></dt>
      <dd>The value is interpreted as octal digits specifying the file
        mode.</dd>
      <dt id="name"><a class="permalink" href="#name"><code class="Cm">name</code></a></dt>
      <dd>The value specifies the file name.</dd>
    </dl>
  </dd>
  <dt>Filter bzip2</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level"><a class="permalink" href="#compression-level"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the bzip2
          compression level. Supported values are from 1 to 9.</dd>
    </dl>
  </dd>
  <dt>Filter gzip</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level~2"><a class="permalink" href="#compression-level~2"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the gzip
          compression level. Supported values are from 0 to 9.</dd>
      <dt id="timestamp"><a class="permalink" href="#timestamp"><code class="Cm">timestamp</code></a></dt>
      <dd>Store timestamp. This is enabled by default.</dd>
    </dl>
  </dd>
  <dt>Filter lrzip</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression"><a class="permalink" href="#compression"><code class="Cm">compression</code></a>=<var class="Ar">type</var></dt>
      <dd>Use <var class="Ar">type</var> as compression method. Supported values
          are &#x201C;bzip2&#x201D;, &#x201C;gzipi&#x201D;, &#x201C;lzo&#x201D;
          (ultra fast), and &#x201C;zpaq&#x201D; (best, extremely slow).</dd>
      <dt id="compression-level~3"><a class="permalink" href="#compression-level~3"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the lrzip
          compression level. Supported values are from 1 to 9.</dd>
    </dl>
  </dd>
  <dt>Filter lz4</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level~4"><a class="permalink" href="#compression-level~4"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the lz4
          compression level. Supported values are from 0 to 9.</dd>
      <dt id="stream-checksum"><a class="permalink" href="#stream-checksum"><code class="Cm">stream-checksum</code></a></dt>
      <dd>Enable stream checksum. This is enabled by default.</dd>
      <dt id="block-checksum"><a class="permalink" href="#block-checksum"><code class="Cm">block-checksum</code></a></dt>
      <dd>Enable block checksum. This is disabled by default.</dd>
      <dt id="block-size"><a class="permalink" href="#block-size"><code class="Cm">block-size</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the lz4
          compression block size. Supported values are from 4 to 7
        (default).</dd>
      <dt id="block-dependence"><a class="permalink" href="#block-dependence"><code class="Cm">block-dependence</code></a></dt>
      <dd>Use the previous block of the block being compressed for a compression
          dictionary to improve compression ratio. This is disabled by
        default.</dd>
    </dl>
  </dd>
  <dt>Filter lzop</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level~5"><a class="permalink" href="#compression-level~5"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the lzop
          compression level. Supported values are from 1 to 9.</dd>
    </dl>
  </dd>
  <dt>Filter uuencode</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="mode~2"><a class="permalink" href="#mode~2"><code class="Cm">mode</code></a></dt>
      <dd>The value is interpreted as octal digits specifying the file
        mode.</dd>
      <dt id="name~2"><a class="permalink" href="#name~2"><code class="Cm">name</code></a></dt>
      <dd>The value specifies the file name.</dd>
    </dl>
  </dd>
  <dt>Filter xz</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level~6"><a class="permalink" href="#compression-level~6"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the
          compression level. Supported values are from 0 to 9.</dd>
      <dt id="threads"><a class="permalink" href="#threads"><code class="Cm">threads</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the number of
          threads for multi-threaded lzma compression. If supported, the default
          value is read from
          <a class="permalink" href="#lzma_cputhreads"><code class="Fn" id="lzma_cputhreads">lzma_cputhreads</code></a>().</dd>
    </dl>
  </dd>
  <dt>Filter zstd</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level~7"><a class="permalink" href="#compression-level~7"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the
          compression level. Supported values depend on the library version,
          common values are from 1 to 22.</dd>
    </dl>
  </dd>
  <dt>Format 7zip</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression~2"><a class="permalink" href="#compression~2"><code class="Cm">compression</code></a></dt>
      <dd>The value is one of &#x201C;store&#x201D;, &#x201C;deflate&#x201D;,
          &#x201C;bzip2&#x201D;, &#x201C;lzma1&#x201D;, &#x201C;lzma2&#x201D; or
          &#x201C;ppmd&#x201D; to indicate how the following entries should be
          compressed. Note that this setting is ignored for directories,
          symbolic links, and other special entries.</dd>
      <dt id="compression-level~8"><a class="permalink" href="#compression-level~8"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the
          compression level. Values between 0 and 9 are supported. The
          interpretation of the compression level depends on the chosen
          compression method.</dd>
    </dl>
  </dd>
  <dt>Format bin</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset"><a class="permalink" href="#hdrcharset"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file names.</dd>
    </dl>
  </dd>
  <dt>Format gnutar</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~2"><a class="permalink" href="#hdrcharset~2"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file, group and user names.</dd>
    </dl>
  </dd>
  <dt>Format iso9660 - volume metadata</dt>
  <dd>These options are used to set standard ISO9660 metadata.
    <dl class="Bl-tag Bl-compact">
      <dt id="abstract-file"><a class="permalink" href="#abstract-file"><code class="Cm">abstract-file</code></a>=<var class="Ar">filename</var></dt>
      <dd>The file with the specified name will be identified in the ISO9660
          metadata as holding the abstract for this volume. Default: none.</dd>
      <dt id="application-id"><a class="permalink" href="#application-id"><code class="Cm">application-id</code></a>=<var class="Ar">filename</var></dt>
      <dd>The file with the specified name will be identified in the ISO9660
          metadata as holding the application identifier for this volume.
          Default: none.</dd>
      <dt id="biblio-file"><a class="permalink" href="#biblio-file"><code class="Cm">biblio-file</code></a>=<var class="Ar">filename</var></dt>
      <dd>The file with the specified name will be identified in the ISO9660
          metadata as holding the bibliography for this volume. Default:
        none.</dd>
      <dt id="copyright-file"><a class="permalink" href="#copyright-file"><code class="Cm">copyright-file</code></a>=<var class="Ar">filename</var></dt>
      <dd>The file with the specified name will be identified in the ISO9660
          metadata as holding the copyright for this volume. Default: none.</dd>
      <dt id="publisher"><a class="permalink" href="#publisher"><code class="Cm">publisher</code></a>=<var class="Ar">filename</var></dt>
      <dd>The file with the specified name will be identified in the ISO9660
          metadata as holding the publisher information for this volume.
          Default: none.</dd>
      <dt id="volume-id"><a class="permalink" href="#volume-id"><code class="Cm">volume-id</code></a>=<var class="Ar">string</var></dt>
      <dd>The specified string will be used as the Volume Identifier in the
          ISO9660 metadata. It is limited to 32 bytes. Default: none.</dd>
    </dl>
  </dd>
  <dt>Format iso9660 - boot support</dt>
  <dd>These options are used to make an ISO9660 image that can be directly
      booted on various systems.
    <dl class="Bl-tag Bl-compact">
      <dt id="boot"><a class="permalink" href="#boot"><code class="Cm">boot</code></a>=<var class="Ar">filename</var></dt>
      <dd>The file matching this name will be used as the El Torito boot image
          file.</dd>
      <dt id="boot-catalog"><a class="permalink" href="#boot-catalog"><code class="Cm">boot-catalog</code></a>=<var class="Ar">name</var></dt>
      <dd>The name that will be used for the El Torito boot catalog. Default:
          <var class="Ar">boot.catalog</var></dd>
      <dt id="boot-info-table"><a class="permalink" href="#boot-info-table"><code class="Cm">boot-info-table</code></a></dt>
      <dd>The boot image file provided by the
          <code class="Cm">boot</code>=<var class="Ar">filename</var> option
          will be edited with appropriate boot information in bytes 8 through
          64. Default: disabled</dd>
      <dt id="boot-load-seg"><a class="permalink" href="#boot-load-seg"><code class="Cm">boot-load-seg</code></a>=<var class="Ar">hexadecimal-number</var></dt>
      <dd>The load segment for a no-emulation boot image.</dd>
      <dt id="boot-load-size"><a class="permalink" href="#boot-load-size"><code class="Cm">boot-load-size</code></a>=<var class="Ar">decimal-number</var></dt>
      <dd>The number of &quot;virtual&quot; 512-byte sectors to be loaded from a
          no-emulation boot image. Some very old BIOSes can only load very small
          images, setting this value to 4 will often allow such BIOSes to load
          the first part of the boot image (which will then need to be
          intelligent enough to load the rest of itself). This should not be
          needed unless you are trying to support systems with very old BIOSes.
          This defaults to the full size of the image.</dd>
      <dt id="boot-type"><a class="permalink" href="#boot-type"><code class="Cm">boot-type</code></a>=<var class="Ar">value</var></dt>
      <dd>Specifies the boot semantics used by the El Torito boot image: If the
          <var class="Ar">value</var> is <code class="Cm">fd</code>, then the
          boot image is assumed to be a bootable floppy image. If the
          <var class="Ar">value</var> is <code class="Cm">hd</code>, then the
          boot image is assumed to be a bootable hard disk image. If the
          <var class="Ar">value</var> is <code class="Cm">no-emulation</code>,
          the boot image is used without floppy or hard disk emulation. If the
          boot image is exactly 1.2MB, 1.44MB, or 2.88MB, then the default is
          <code class="Cm">fd</code>, otherwise the default is
          <code class="Cm">no-emulation</code>.</dd>
    </dl>
  </dd>
  <dt>Format iso9660 - filename and size extensions</dt>
  <dd>Various extensions to the base ISO9660 format.
    <dl class="Bl-tag Bl-compact">
      <dt id="allow-ldots"><a class="permalink" href="#allow-ldots"><code class="Cm">allow-ldots</code></a></dt>
      <dd>If enabled, allows filenames to begin with a leading period. If
          disabled, filenames that begin with a leading period will have that
          period replaced by an underscore character in the standard ISO9660
          namespace. This does not impact names stored in the Rockridge or
          Joliet extension area. Default: disabled.</dd>
      <dt id="allow-lowercase"><a class="permalink" href="#allow-lowercase"><code class="Cm">allow-lowercase</code></a></dt>
      <dd>If enabled, allows filenames to contain lowercase characters. If
          disabled, filenames will be forced to uppercase. This does not impact
          names stored in the Rockridge or Joliet extension area. Default:
          disabled.</dd>
      <dt id="allow-multidot"><a class="permalink" href="#allow-multidot"><code class="Cm">allow-multidot</code></a></dt>
      <dd>If enabled, allows filenames to contain multiple period characters, in
          violation of the ISO9660 specification. If disabled, additional
          periods will be converted to underscore characters. This does not
          impact names stored in the Rockridge or Joliet extension area.
          Default: disabled.</dd>
      <dt id="allow-period"><a class="permalink" href="#allow-period"><code class="Cm">allow-period</code></a></dt>
      <dd>If enabled, allows filenames to contain trailing period characters, in
          violation of the ISO9660 specification. If disabled, trailing periods
          will be converted to underscore characters. This does not impact names
          stored in the Rockridge or Joliet extension area. Default:
        disabled.</dd>
      <dt id="allow-pvd-lowercase"><a class="permalink" href="#allow-pvd-lowercase"><code class="Cm">allow-pvd-lowercase</code></a></dt>
      <dd>If enabled, the Primary Volume Descriptor may contain lowercase ASCII
          characters, in violation of the ISO9660 specification. If disabled,
          characters will be converted to uppercase ASCII. Default:
        disabled.</dd>
      <dt id="allow-sharp-tilde"><a class="permalink" href="#allow-sharp-tilde"><code class="Cm">allow-sharp-tilde</code></a></dt>
      <dd>If enabled, sharp and tilde characters will be permitted in filenames,
          in violation if the ISO9660 specification. If disabled, such
          characters will be converted to underscore characters. Default:
          disabled.</dd>
      <dt id="allow-vernum"><a class="permalink" href="#allow-vernum"><code class="Cm">allow-vernum</code></a></dt>
      <dd>If enabled, version numbers will be included with files. If disabled,
          version numbers will be suppressed, in violation of the ISO9660
          standard. This does not impact names stored in the Rockridge or Joliet
          extension area. Default: enabled.</dd>
      <dt id="iso-level"><a class="permalink" href="#iso-level"><code class="Cm">iso-level</code></a></dt>
      <dd>This enables support for file size and file name extensions in the
          core ISO9660 area. The name extensions specified here do not affect
          the names stored in the Rockridge or Joliet extension areas.
        <dl class="Bl-tag Bl-compact">
          <dt id="iso-level=1"><a class="permalink" href="#iso-level=1"><code class="Cm">iso-level=1</code></a></dt>
          <dd>The most compliant form of ISO9660 image. Filenames are limited to
              8.3 uppercase format, directory names are limited to 8 uppercase
              characters, files are limited to 4 GiB, the complete ISO9660 image
              cannot exceed 4 GiB.</dd>
          <dt id="iso-level=2"><a class="permalink" href="#iso-level=2"><code class="Cm">iso-level=2</code></a></dt>
          <dd>Filenames are limited to 30 uppercase characters with a
              30-character extension, directory names are limited to 30
              characters, files are limited to 4 GiB.</dd>
          <dt id="iso-level=3"><a class="permalink" href="#iso-level=3"><code class="Cm">iso-level=3</code></a></dt>
          <dd>As with <code class="Cm">iso-level=2</code>, except that files may
              exceed 4 GiB.</dd>
          <dt id="iso-level=4"><a class="permalink" href="#iso-level=4"><code class="Cm">iso-level=4</code></a></dt>
          <dd>As with <code class="Cm">iso-level=3</code>, except that filenames
              may be up to 193 characters and may include arbitrary 8-bit
              characters.</dd>
        </dl>
      </dd>
      <dt id="joliet"><a class="permalink" href="#joliet"><code class="Cm">joliet</code></a></dt>
      <dd>Microsoft's Joliet extensions store a completely separate set of
          directory information about each file. In particular, this information
          includes Unicode filenames of up to 255 characters. Default:
        enabled.</dd>
      <dt id="limit-depth"><a class="permalink" href="#limit-depth"><code class="Cm">limit-depth</code></a></dt>
      <dd>If enabled, libarchive will use directory relocation records to ensure
          that no pathname exceeds the ISO9660 limit of 8 directory levels. If
          disabled, no relocation will occur. Default: enabled.</dd>
      <dt id="limit-dirs"><a class="permalink" href="#limit-dirs"><code class="Cm">limit-dirs</code></a></dt>
      <dd>If enabled, libarchive will cause an error if there are more than
          65536 directories. If disabled, there is no limit on the number of
          directories. Default: enabled</dd>
      <dt id="pad"><a class="permalink" href="#pad"><code class="Cm">pad</code></a></dt>
      <dd>If enabled, 300 kiB of zero bytes will be appended to the end of the
          archive. Default: enabled</dd>
      <dt id="relaxed-filenames"><a class="permalink" href="#relaxed-filenames"><code class="Cm">relaxed-filenames</code></a></dt>
      <dd>If enabled, all 7-bit ASCII characters are permitted in filenames
          (except lowercase characters unless
          <code class="Cm">allow-lowercase</code> is also specified). This
          violates ISO9660 standards. This does not impact names stored in the
          Rockridge or Joliet extension area. Default: disabled.</dd>
      <dt id="rockridge"><a class="permalink" href="#rockridge"><code class="Cm">rockridge</code></a></dt>
      <dd>The Rockridge extensions store an additional set of POSIX-style file
          information with each file, including mtime, atime, ctime,
          permissions, and long filenames with arbitrary 8-bit characters. These
          extensions also support symbolic links and other POSIX file types.
          Default: enabled.</dd>
    </dl>
  </dd>
  <dt>Format iso9660 - zisofs support</dt>
  <dd>The zisofs extensions permit each file to be independently compressed
      using a gzip-compatible compression. This can provide significant size
      savings, but requires the reading system to have support for these
      extensions. These extensions are disabled by default.
    <dl class="Bl-tag Bl-compact">
      <dt id="compression-level~9"><a class="permalink" href="#compression-level~9"><code class="Cm">compression-level</code></a>=number</dt>
      <dd>The compression level used by the deflate compressor. Ranges from 0
          (least effort) to 9 (most effort). Default: 6</dd>
      <dt id="zisofs"><a class="permalink" href="#zisofs"><code class="Cm">zisofs</code></a></dt>
      <dd>Synonym for <code class="Cm">zisofs=direct</code>.</dd>
      <dt id="zisofs=direct"><a class="permalink" href="#zisofs=direct"><code class="Cm">zisofs=direct</code></a></dt>
      <dd>Compress each file in the archive. Unlike
          <code class="Cm">zisofs=indirect</code>, this is handled entirely
          within libarchive and does not require a separate utility. For best
          results, libarchive tests each file and will store the file
          uncompressed if the compression does not actually save any space. In
          particular, files under 2k will never be compressed. Note that boot
          image files are never compressed.</dd>
      <dt id="zisofs=indirect"><a class="permalink" href="#zisofs=indirect"><code class="Cm">zisofs=indirect</code></a></dt>
      <dd>Recognizes files that have already been compressed with the
          <code class="Cm">mkzftree</code> utility and sets up the necessary
          file metadata so that readers will correctly identify these as
          zisofs-compressed files.</dd>
      <dt id="zisofs-exclude"><a class="permalink" href="#zisofs-exclude"><code class="Cm">zisofs-exclude</code></a>=<var class="Ar">filename</var></dt>
      <dd>Specifies a filename that should not be compressed when using
          <code class="Cm">zisofs=direct</code>. This option can be provided
          multiple times to suppress compression on many files.</dd>
    </dl>
  </dd>
  <dt>Format mtree</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="cksum"><a class="permalink" href="#cksum"><code class="Cm">cksum</code></a>,
        <code class="Cm">device</code>, <code class="Cm">flags</code>,
        <code class="Cm">gid</code>, <code class="Cm">gname</code>,
        <code class="Cm">indent</code>, <code class="Cm">link</code>,
        <code class="Cm">md5</code>, <code class="Cm">mode</code>,
        <code class="Cm">nlink</code>, <code class="Cm">rmd160</code>,
        <code class="Cm">sha1</code>, <code class="Cm">sha256</code>,
        <code class="Cm">sha384</code>, <code class="Cm">sha512</code>,
        <code class="Cm">size</code>, <code class="Cm">time</code>,
        <code class="Cm">uid</code>, <code class="Cm">uname</code></dt>
      <dd>Enable a particular keyword in the mtree output. Prefix with an
          exclamation mark to disable the corresponding keyword. The default is
          equivalent to &#x201C;device, flags, gid, gname, link, mode, nlink,
          size, time, type, uid, uname&#x201D;.</dd>
      <dt id="all"><a class="permalink" href="#all"><code class="Cm">all</code></a></dt>
      <dd>Enables all of the above keywords.</dd>
      <dt id="use-set"><a class="permalink" href="#use-set"><code class="Cm">use-set</code></a></dt>
      <dd>Enables generation of <code class="Cm">/set</code> lines that specify
          default values for the following files and/or directories.</dd>
      <dt id="indent"><a class="permalink" href="#indent"><code class="Cm">indent</code></a></dt>
      <dd>XXX needs explanation XXX</dd>
    </dl>
  </dd>
  <dt>Format newc</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~3"><a class="permalink" href="#hdrcharset~3"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file names.</dd>
    </dl>
  </dd>
  <dt>Format odc</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~4"><a class="permalink" href="#hdrcharset~4"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file names.</dd>
    </dl>
  </dd>
  <dt>Format pwb</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~5"><a class="permalink" href="#hdrcharset~5"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file names.</dd>
    </dl>
  </dd>
  <dt>Format pax</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~6"><a class="permalink" href="#hdrcharset~6"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file, group and user names. The value is one of
          &#x201C;BINARY&#x201D; or &#x201C;UTF-8&#x201D;. With
          &#x201C;BINARY&#x201D; there is no character conversion, with
          &#x201C;UTF-8&#x201D; names are converted to UTF-8.</dd>
      <dt id="xattrheader"><a class="permalink" href="#xattrheader"><code class="Cm">xattrheader</code></a></dt>
      <dd>When storing extended attributes, this option configures which headers
          should be written. The value is one of &#x201C;all&#x201D;,
          &#x201C;LIBARCHIVE&#x201D;, or &#x201C;SCHILY&#x201D;. By default,
          both &#x201C;LIBARCHIVE.xattr&#x201D; and &#x201C;SCHILY.xattr&#x201D;
          headers are written.</dd>
    </dl>
  </dd>
  <dt>Format ustar</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~7"><a class="permalink" href="#hdrcharset~7"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file, group and user names.</dd>
    </dl>
  </dd>
  <dt>Format v7tar</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="hdrcharset~8"><a class="permalink" href="#hdrcharset~8"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file, group and user names.</dd>
    </dl>
  </dd>
  <dt>Format warc</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="omit-warcinfo"><a class="permalink" href="#omit-warcinfo"><code class="Cm">omit-warcinfo</code></a></dt>
      <dd>Set to &#x201C;true&#x201D; to disable output of the warcinfo
        record.</dd>
    </dl>
  </dd>
  <dt>Format xar</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="checksum"><a class="permalink" href="#checksum"><code class="Cm">checksum</code></a>=<var class="Ar">type</var></dt>
      <dd>Use <var class="Ar">type</var> as file checksum method. Supported
          values are &#x201C;none&#x201D;, &#x201C;md5&#x201D;, and
          &#x201C;sha1&#x201D; (default).</dd>
      <dt id="compression~3"><a class="permalink" href="#compression~3"><code class="Cm">compression</code></a>=<var class="Ar">type</var></dt>
      <dd>Use <var class="Ar">type</var> as compression method. Supported values
          are &#x201C;none&#x201D;, &#x201C;bzip2&#x201D;, &#x201C;gzip&#x201D;
          (default), &#x201C;lzma&#x201D; and &#x201C;xz&#x201D;.</dd>
      <dt id="compression_level"><a class="permalink" href="#compression_level"><code class="Cm">compression_level</code></a></dt>
      <dd>The value is a decimal integer from 1 to 9 specifying the compression
          level.</dd>
      <dt id="toc-checksum"><a class="permalink" href="#toc-checksum"><code class="Cm">toc-checksum</code></a>=<var class="Ar">type</var></dt>
      <dd>Use <var class="Ar">type</var> as table of contents checksum method.
          Supported values are &#x201C;none&#x201D;, &#x201C;md5&#x201D; and
          &#x201C;sha1&#x201D; (default).</dd>
    </dl>
  </dd>
  <dt>Format zip</dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt id="compression~4"><a class="permalink" href="#compression~4"><code class="Cm">compression</code></a></dt>
      <dd>The value is either &#x201C;store&#x201D; or &#x201C;deflate&#x201D;
          to indicate how the following entries should be compressed. Note that
          this setting is ignored for directories, symbolic links, and other
          special entries.</dd>
      <dt id="compression-level~10"><a class="permalink" href="#compression-level~10"><code class="Cm">compression-level</code></a></dt>
      <dd>The value is interpreted as a decimal integer specifying the
          compression level. Values between 0 and 9 are supported. A compression
          level of 0 switches the compression method to &#x201C;store&#x201D;,
          other values will enable &#x201C;deflate&#x201D; compression with the
          given level.</dd>
      <dt id="encryption"><a class="permalink" href="#encryption"><code class="Cm">encryption</code></a></dt>
      <dd>Enable encryption using traditional zip encryption.</dd>
      <dt id="encryption~2"><a class="permalink" href="#encryption~2"><code class="Cm">encryption</code></a>=<var class="Ar">type</var></dt>
      <dd>Use <var class="Ar">type</var> as encryption type. Supported values
          are &#x201C;zipcrypt&#x201D; (traditional zip encryption),
          &#x201C;aes128&#x201D; (WinZip AES-128 encryption) and
          &#x201C;aes256&#x201D; (WinZip AES-256 encryption).</dd>
      <dt id="experimental"><a class="permalink" href="#experimental"><code class="Cm">experimental</code></a></dt>
      <dd>This boolean option enables or disables experimental Zip features that
          may not be compatible with other Zip implementations.</dd>
      <dt id="fakecrc32"><a class="permalink" href="#fakecrc32"><code class="Cm">fakecrc32</code></a></dt>
      <dd>This boolean option disables CRC calculations. All CRC fields are set
          to zero. It should not be used except for testing purposes.</dd>
      <dt id="hdrcharset~9"><a class="permalink" href="#hdrcharset~9"><code class="Cm">hdrcharset</code></a></dt>
      <dd>The value is used as a character set name that will be used when
          translating file names.</dd>
      <dt id="zip64"><a class="permalink" href="#zip64"><code class="Cm">zip64</code></a></dt>
      <dd>Zip64 extensions provide additional file size information for entries
          larger than 4 GiB. They also provide extended file offset and archive
          size information when archives exceed 4 GiB. By default, the Zip
          writer selectively enables these extensions only as needed. In
          particular, if the file size is unknown, the Zip writer will include
          Zip64 extensions to guard against the possibility that the file might
          be larger than 4 GiB.
        <p class="Pp">Setting this boolean option will force the writer to use
            Zip64 extensions even for small files that would not otherwise
            require them. This is primarily useful for testing.</p>
        <p class="Pp">Disabling this option with <code class="Cm">!zip64</code>
            will force the Zip writer to avoid Zip64 extensions: It will reject
            files with size greater than 4 GiB, it will reject any new entries
            once the total archive size reaches 4 GiB, and it will not use Zip64
            extensions for files with unknown size. In particular, this can
            improve compatibility when generating archives where the entry sizes
            are not known in advance.</p>
      </dd>
    </dl>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The following example creates an archive write handle to create a
    gzip-compressed ISO9660 format image. The two options here specify that the
    ISO9660 archive will use <var class="Ar">kernel.img</var> as the boot image
    for El Torito booting, and that the gzip compressor should use the maximum
    compression level.</p>
<div class="Bd Pp Bd-indent Li">
<pre>a = archive_write_new();
archive_write_add_filter_gzip(a);
archive_write_set_format_iso9660(a);
archive_write_set_options(a, &quot;boot=kernel.img,compression=9&quot;);
archive_write_open_filename(a, filename, blocksize);</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<p class="Pp">More detailed error codes and textual descriptions are available
    from the <code class="Fn">archive_errno</code>() and
    <code class="Fn">archive_error_string</code>() functions.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">tar(1)</a>,
    <a class="Xr">archive_read_set_options(3)</a>,
    <a class="Xr">archive_write(3)</a>, <a class="Xr">libarchive(3)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">The <code class="Nm">libarchive</code> library first appeared in
    <span class="Ux">FreeBSD 5.3</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">The options support for libarchive was originally implemented by
    <span class="An">Michihiro NAKAJIMA</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 31, 2020</td>
    <td class="foot-os">Mac OS X 12</td>
  </tr>
</table>
</body>
</html>
