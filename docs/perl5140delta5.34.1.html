<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>PERL5140DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL5140DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL5140DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perl5140delta - what is new for perl v5.14.0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes differences between the 5.12.0 release and
    the 5.14.0 release.</p>
<p class="Pp">If you are upgrading from an earlier release such as 5.10.0, first
    read perl5120delta, which describes differences between 5.10.0 and
  5.12.0.</p>
<p class="Pp">Some of the bug fixes in this release have been backported to
    subsequent releases of 5.12.x. Those are indicated with the 5.12.x version
    in parentheses.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Notice"><a class="permalink" href="#Notice">Notice</a></h1>
<p class="Pp">As described in perlpolicy, the release of Perl 5.14.0 marks the
    official end of support for Perl 5.10. Users of Perl 5.10 or earlier should
    consider upgrading to a more recent release of Perl.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Unicode"><a class="permalink" href="#Unicode">Unicode</a></h2>
<p class="Pp"><i>Unicode Version 6.0 is now supported (mostly)</i></p>
<p class="Pp">Perl comes with the Unicode 6.0 data base updated with Corrigendum
    #8 &lt;http://www.unicode.org/versions/corrigendum8.html&gt;, with one
    exception noted below. See &lt;http://unicode.org/versions/Unicode6.0.0/&gt;
    for details on the new release. Perl does not support any Unicode
    provisional properties, including the new ones for this release.</p>
<p class="Pp">Unicode 6.0 has chosen to use the name
    <span class="Li">&quot;BELL&quot;</span> for the character at U+1F514, which
    is a symbol that looks like a bell, and is used in Japanese cell phones.
    This conflicts with the long-standing Perl usage of having
    <span class="Li">&quot;BELL&quot;</span> mean the ASCII
    <span class="Li">&quot;BEL&quot;</span> character, U+0007. In Perl 5.14,
    <span class="Li">&quot;\N{BELL}&quot;</span> continues to mean U+0007, but
    its use generates a deprecation warning message unless such warnings are
    turned off. The new name for U+0007 in Perl is
    <span class="Li">&quot;ALERT&quot;</span>, which corresponds nicely with the
    existing shorthand sequence for it, <span class="Li">&quot;\a&quot;</span>.
    <span class="Li">&quot;\N{BEL}&quot;</span> means U+0007, with no warning
    given. The character at U+1F514 has no name in 5.14, but can be referred to
    by <span class="Li">&quot;\N{U+1F514}&quot;</span>. In Perl 5.16,
    <span class="Li">&quot;\N{BELL}&quot;</span> will refer to U+1F514; all code
    that uses <span class="Li">&quot;\N{BELL}&quot;</span> should be converted
    to use <span class="Li">&quot;\N{ALERT}&quot;</span>,
    <span class="Li">&quot;\N{BEL}&quot;</span>, or
    <span class="Li">&quot;\a&quot;</span> before upgrading.</p>
<p class="Pp"><i>Full functionality for </i><span class="Li"><i>&quot;use
    feature 'unicode_strings'&quot;</i></span><i></i></p>
<p class="Pp">This release provides full functionality for
    <span class="Li">&quot;use feature</span>
    <span class="Li">'unicode_strings'&quot;</span>. Under its scope, all string
    operations executed and regular expressions compiled (even if executed
    outside its scope) have Unicode semantics. See &quot;the 'unicode_strings'
    feature&quot; in feature. However, see &quot;Inverted bracketed character
    classes and multi-character folds&quot;, below.</p>
<p class="Pp">This feature avoids most forms of the &quot;Unicode Bug&quot; (see
    &quot;The &quot;Unicode Bug&quot;&quot; in perlunicode for details). If
    there is any possibility that your code will process Unicode strings, you
    are <i>strongly</i> encouraged to use this subpragma to avoid nasty
    surprises.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;\N{</i></span><span class="Li"><i>NAME</i></span><span class="Li"><i>}&quot;</i></span><i>
    and </i><span class="Li"><i>&quot;charnames&quot;</i></span><i>
    enhancements</i></p>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>
      and <span class="Li">&quot;charnames::vianame&quot;</span> now know about
      the abbreviated character names listed by Unicode, such as NBSP, SHY, LRO,
      ZWJ, etc.; all customary abbreviations for the C0 and C1 control
      characters (such as ACK, BEL, CAN, etc.); and a few new variants of some
      C1 full names that are in common usage.</li>
  <li>Unicode has several <i>named character sequences</i>, in which particular
      sequences of code points are given names.
      <span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>
      now recognizes these.</li>
  <li><span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>,
      <span class="Li">&quot;charnames::vianame&quot;</span>, and
      <span class="Li">&quot;charnames::viacode&quot;</span> now know about
      every character in Unicode. In earlier releases of Perl, they didn't know
      about the Hangul syllables nor several CJK (Chinese/Japanese/Korean)
      characters.</li>
  <li>It is now possible to override Perl's abbreviations with your own custom
      aliases.</li>
  <li>You can now create a custom alias of the ordinal of a character, known by
      <span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>,
      <span class="Li">&quot;charnames::vianame()&quot;</span>, and
      <span class="Li">&quot;charnames::viacode()&quot;</span>. Previously,
      aliases had to be to official Unicode character names. This made it
      impossible to create an alias for unnamed code points, such as those
      reserved for private use.</li>
  <li>The new function <b>charnames::string_vianame()</b> is a run-time version
      of
      <span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}}&quot;</span>,
      returning the string of characters whose Unicode name is its parameter. It
      can handle Unicode named character sequences, whereas the pre-existing
      <b>charnames::vianame()</b> cannot, as the latter returns a single code
      point.</li>
</ul>
<p class="Pp">See charnames for details on all these changes.</p>
<p class="Pp"><i>New warnings categories for problematic (non-)Unicode code
    points.</i></p>
<p class="Pp">Three new warnings subcategories of &quot;utf8&quot; have been
    added. These allow you to turn off some &quot;utf8&quot; warnings, while
    allowing other warnings to remain on. The three categories are:
    <span class="Li">&quot;surrogate&quot;</span> when UTF-16 surrogates are
    encountered; <span class="Li">&quot;nonchar&quot;</span> when Unicode
    non-character code points are encountered; and
    <span class="Li">&quot;non_unicode&quot;</span> when code points above the
    legal Unicode maximum of 0x10FFFF are encountered.</p>
<p class="Pp"><i>Any unsigned value can be encoded as a character</i></p>
<p class="Pp">With this release, Perl is adopting a model that any unsigned
    value can be treated as a code point and encoded internally (as utf8)
    without warnings, not just the code points that are legal in Unicode.
    However, unless utf8 or the corresponding sub-category (see previous item)
    of lexical warnings have been explicitly turned off, outputting or executing
    a Unicode-defined operation such as upper-casing on such a code point
    generates a warning. Attempting to input these using strict rules (such as
    with the <span class="Li">&quot;:encoding(UTF-8)&quot;</span> layer) will
    continue to fail. Prior to this release, handling was inconsistent and in
    places, incorrect.</p>
<p class="Pp">Unicode non-characters, some of which previously were erroneously
    considered illegal in places by Perl, contrary to the Unicode Standard, are
    now always legal internally. Inputting or outputting them works the same as
    with the non-legal Unicode code points, because the Unicode Standard says
    they are (only) illegal for &quot;open interchange&quot;.</p>
<p class="Pp"><i>Unicode database files not installed</i></p>
<p class="Pp">The Unicode database files are no longer installed with Perl. This
    doesn't affect any functionality in Perl and saves significant disk space.
    If you need these files, you can download them from
    &lt;http://www.unicode.org/Public/zipped/6.0.0/&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Regular_Expressions"><a class="permalink" href="#Regular_Expressions">Regular
  Expressions</a></h2>
<p class="Pp"><i></i><span class="Li"><i>&quot;(?^...)&quot;</i></span><i>
    construct signifies default modifiers</i></p>
<p class="Pp">An ASCII caret <span class="Li">&quot;^&quot;</span> immediately
    following a <span class="Li">&quot;(?&quot;</span> in a regular expression
    now means that the subexpression does not inherit surrounding modifiers such
    as <span class="Li">&quot;/i&quot;</span>, but reverts to the Perl defaults.
    Any modifiers following the caret override the defaults.</p>
<p class="Pp">Stringification of regular expressions now uses this notation. For
    example, <span class="Li">&quot;qr/hlagh/i&quot;</span> would previously be
    stringified as <span class="Li">&quot;(?i-xsm:hlagh)&quot;</span>, but now
    it's stringified as <span class="Li">&quot;(?^i:hlagh)&quot;</span>.</p>
<p class="Pp">The main purpose of this change is to allow tests that rely on the
    stringification <i>not</i> to have to change whenever new modifiers are
    added. See &quot;Extended Patterns&quot; in perlre.</p>
<p class="Pp">This change is likely to break code that compares stringified
    regular expressions with fixed strings containing
    <span class="Li">&quot;?-xism&quot;</span>.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;/d&quot;</i></span><i>,
    </i><span class="Li"><i>&quot;/l&quot;</i></span><i>,
    </i><span class="Li"><i>&quot;/u&quot;</i></span><i>, and
    </i><span class="Li"><i>&quot;/a&quot;</i></span><i> modifiers</i></p>
<p class="Pp">Four new regular expression modifiers have been added. These are
    mutually exclusive: one only can be turned on at a time.</p>
<ul class="Bl-bullet">
  <li>The <span class="Li">&quot;/l&quot;</span> modifier says to compile the
      regular expression as if it were in the scope of
      <span class="Li">&quot;use locale&quot;</span>, even if it is not.</li>
  <li>The <span class="Li">&quot;/u&quot;</span> modifier says to compile the
      regular expression as if it were in the scope of a
      <span class="Li">&quot;use feature 'unicode_strings'&quot;</span>
    pragma.</li>
  <li>The <span class="Li">&quot;/d&quot;</span> (default) modifier is used to
      override any <span class="Li">&quot;use locale&quot;</span> and
      <span class="Li">&quot;use feature 'unicode_strings'&quot;</span> pragmas
      in effect at the time of compiling the regular expression.</li>
  <li>The <span class="Li">&quot;/a&quot;</span> regular expression modifier
      restricts <span class="Li">&quot;\s&quot;</span>,
      <span class="Li">&quot;\d&quot;</span> and
      <span class="Li">&quot;\w&quot;</span> and the POSIX
      (<span class="Li">&quot;[[:posix:]]&quot;</span>) character classes to the
      ASCII range. Their complements and <span class="Li">&quot;\b&quot;</span>
      and <span class="Li">&quot;\B&quot;</span> are correspondingly affected.
      Otherwise, <span class="Li">&quot;/a&quot;</span> behaves like the
      <span class="Li">&quot;/u&quot;</span> modifier, in that case-insensitive
      matching uses Unicode semantics.
    <p class="Pp">If the <span class="Li">&quot;/a&quot;</span> modifier is
        repeated, then additionally in case-insensitive matching, no ASCII
        character can match a non-ASCII character. For example,</p>
    <p class="Pp"></p>
    <pre>    &quot;k&quot;     =~ /\N{KELVIN SIGN}/ai
    &quot;\xDF&quot; =~ /ss/ai
    </pre>
    <p class="Pp">match but</p>
    <p class="Pp"></p>
    <pre>    &quot;k&quot;    =~ /\N{KELVIN SIGN}/aai
    &quot;\xDF&quot; =~ /ss/aai
    </pre>
    <p class="Pp">do not match.</p>
  </li>
</ul>
<p class="Pp">See &quot;Modifiers&quot; in perlre for more detail.</p>
<p class="Pp"><i>Non-destructive substitution</i></p>
<p class="Pp">The substitution (<span class="Li">&quot;s///&quot;</span>) and
    transliteration (<span class="Li">&quot;y///&quot;</span>) operators now
    support an <span class="Li">&quot;/r&quot;</span> option that copies the
    input variable, carries out the substitution on the copy, and returns the
    result. The original remains unmodified.</p>
<p class="Pp"></p>
<pre>  my $old = &quot;cat&quot;;
  my $new = $old =~ s/cat/dog/r;
  # $old is &quot;cat&quot; and $new is &quot;dog&quot;
</pre>
<p class="Pp">This is particularly useful with
    <span class="Li">&quot;map&quot;</span>. See perlop for more examples.</p>
<p class="Pp"><i>Re-entrant regular expression engine</i></p>
<p class="Pp">It is now safe to use regular expressions within
    <span class="Li">&quot;(?{...})&quot;</span> and
    <span class="Li">&quot;(??{...})&quot;</span> code blocks inside regular
    expressions.</p>
<p class="Pp">These blocks are still experimental, however, and still have
    problems with lexical (<span class="Li">&quot;my&quot;</span>) variables and
    abnormal exiting.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;use re
    '/flags'&quot;</i></span><i></i></p>
<p class="Pp">The <span class="Li">&quot;re&quot;</span> pragma now has the
    ability to turn on regular expression flags till the end of the lexical
    scope:</p>
<p class="Pp"></p>
<pre>    use re &quot;/x&quot;;
    &quot;foo&quot; =~ / (.+) /;  # /x implied
</pre>
<p class="Pp">See &quot;'/flags' mode&quot; in re for details.</p>
<p class="Pp"><i>\o{...} for octals</i></p>
<p class="Pp">There is a new octal escape sequence,
    <span class="Li">&quot;\o&quot;</span>, in doublequote-like contexts. This
    construct allows large octal ordinals beyond the current max of 0777 to be
    represented. It also allows you to specify a character in octal which can
    safely be concatenated with other regex snippets and which won't be confused
    with being a backreference to a regex capture group. See &quot;Capture
    groups&quot; in perlre.</p>
<p class="Pp"><i>Add
    </i><span class="Li"><i>&quot;\p{Titlecase}&quot;</i></span><i> as a synonym
    for </i><span class="Li"><i>&quot;\p{Title}&quot;</i></span><i></i></p>
<p class="Pp">This synonym is added for symmetry with the Unicode property names
    <span class="Li">&quot;\p{Uppercase}&quot;</span> and
    <span class="Li">&quot;\p{Lowercase}&quot;</span>.</p>
<p class="Pp"><i>Regular expression debugging output improvement</i></p>
<p class="Pp">Regular expression debugging output (turned on by
    <span class="Li">&quot;use re 'debug'&quot;</span>) now uses hexadecimal
    when escaping non-ASCII characters, instead of octal.</p>
<p class="Pp"><i>Return value of </i><span class="Li"><i>&quot;delete
    $+{...}&quot;</i></span><i></i></p>
<p class="Pp">Custom regular expression engines can now determine the return
    value of <span class="Li">&quot;delete&quot;</span> on an entry of
    <span class="Li">&quot;%+&quot;</span> or
    <span class="Li">&quot;%-&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Syntactical_Enhancements"><a class="permalink" href="#Syntactical_Enhancements">Syntactical
  Enhancements</a></h2>
<p class="Pp"><i>Array and hash container functions accept references</i></p>
<p class="Pp"><b>Warning:</b> This feature is considered experimental, as the
    exact behaviour may change in a future version of Perl.</p>
<p class="Pp">All builtin functions that operate directly on array or hash
    containers now also accept unblessed hard references to arrays or
  hashes:</p>
<p class="Pp"></p>
<pre>  |----------------------------+---------------------------|
  | Traditional syntax         | Terse syntax              |
  |----------------------------+---------------------------|
  | push @$arrayref, @stuff    | push $arrayref, @stuff    |
  | unshift @$arrayref, @stuff | unshift $arrayref, @stuff |
  | pop @$arrayref             | pop $arrayref             |
  | shift @$arrayref           | shift $arrayref           |
  | splice @$arrayref, 0, 2    | splice $arrayref, 0, 2    |
  | keys %$hashref             | keys $hashref             |
  | keys @$arrayref            | keys $arrayref            |
  | values %$hashref           | values $hashref           |
  | values @$arrayref          | values $arrayref          |
  | ($k,$v) = each %$hashref   | ($k,$v) = each $hashref   |
  | ($k,$v) = each @$arrayref  | ($k,$v) = each $arrayref  |
  |----------------------------+---------------------------|
</pre>
<p class="Pp">This allows these builtin functions to act on long dereferencing
    chains or on the return value of subroutines without needing to wrap them in
    <span class="Li">&quot;@{}&quot;</span> or
    <span class="Li">&quot;%{}&quot;</span>:</p>
<p class="Pp"></p>
<pre>  push @{$obj-&gt;tags}, $new_tag;  # old way
  push $obj-&gt;tags,    $new_tag;  # new way
  for ( keys %{$hoh-&gt;{genres}{artists}} ) {...} # old way 
  for ( keys $hoh-&gt;{genres}{artists}    ) {...} # new way
</pre>
<p class="Pp"><i>Single term prototype</i></p>
<p class="Pp">The <span class="Li">&quot;+&quot;</span> prototype is a special
    alternative to <span class="Li">&quot;$&quot;</span> that acts like
    <span class="Li">&quot;\[@%]&quot;</span> when given a literal array or hash
    variable, but will otherwise force scalar context on the argument. See
    &quot;Prototypes&quot; in perlsub.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;package&quot;</i></span><i> block
    syntax</i></p>
<p class="Pp">A package declaration can now contain a code block, in which case
    the declaration is in scope inside that block only. So
    <span class="Li">&quot;package Foo { ... }&quot;</span> is precisely
    equivalent to <span class="Li">&quot;{ package Foo; ... }&quot;</span>. It
    also works with a version number in the declaration, as in
    <span class="Li">&quot;package Foo 1.2 { ... }&quot;</span>, which is its
    most attractive feature. See perlfunc.</p>
<p class="Pp"><i>Statement labels can appear in more places</i></p>
<p class="Pp">Statement labels can now occur before any type of statement or
    declaration, such as <span class="Li">&quot;package&quot;</span>.</p>
<p class="Pp"><i>Stacked labels</i></p>
<p class="Pp">Multiple statement labels can now appear before a single
    statement.</p>
<p class="Pp"><i>Uppercase X/B allowed in hexadecimal/binary literals</i></p>
<p class="Pp">Literals may now use either upper case
    <span class="Li">&quot;0X...&quot;</span> or
    <span class="Li">&quot;0B...&quot;</span> prefixes, in addition to the
    already supported <span class="Li">&quot;0x...&quot;</span> and
    <span class="Li">&quot;0b...&quot;</span> syntax [perl #76296].</p>
<p class="Pp">C, Ruby, Python, and PHP already support this syntax, and it makes
    Perl more internally consistent: a round-trip with
    <span class="Li">&quot;eval sprintf</span> <span class="Li">&quot;%#X&quot;,
    0x10&quot;</span> now returns <span class="Li">16</span>, just like
    <span class="Li">&quot;eval sprintf &quot;%#x&quot;, 0x10&quot;</span>.</p>
<p class="Pp"><i>Overridable tie functions</i></p>
<p class="Pp"><span class="Li">&quot;tie&quot;</span>,
    <span class="Li">&quot;tied&quot;</span> and
    <span class="Li">&quot;untie&quot;</span> can now be overridden [perl
    #75902].</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Exception_Handling"><a class="permalink" href="#Exception_Handling">Exception
  Handling</a></h2>
<p class="Pp">To make them more reliable and consistent, several changes have
    been made to how <span class="Li">&quot;die&quot;</span>,
    <span class="Li">&quot;warn&quot;</span>, and <span class="Li">$@</span>
    behave.</p>
<ul class="Bl-bullet">
  <li>When an exception is thrown inside an
      <span class="Li">&quot;eval&quot;</span>, the exception is no longer at
      risk of being clobbered by destructor code running during unwinding.
      Previously, the exception was written into <span class="Li">$@</span>
      early in the throwing process, and would be overwritten if
      <span class="Li">&quot;eval&quot;</span> was used internally in the
      destructor for an object that had to be freed while exiting from the outer
      <span class="Li">&quot;eval&quot;</span>. Now the exception is written
      into <span class="Li">$@</span> last thing before exiting the outer
      <span class="Li">&quot;eval&quot;</span>, so the code running immediately
      thereafter can rely on the value in <span class="Li">$@</span> correctly
      corresponding to that <span class="Li">&quot;eval&quot;</span>.
      (<span class="Li">$@</span> is still also set before exiting the
      <span class="Li">&quot;eval&quot;</span>, for the sake of destructors that
      rely on this.)
    <p class="Pp">Likewise, a <span class="Li">&quot;local $@&quot;</span>
        inside an <span class="Li">&quot;eval&quot;</span> no longer clobbers
        any exception thrown in its scope. Previously, the restoration of
        <span class="Li">$@</span> upon unwinding would overwrite any exception
        being thrown. Now the exception gets to the
        <span class="Li">&quot;eval&quot;</span> anyway. So
        <span class="Li">&quot;local $@&quot;</span> is safe before a
        <span class="Li">&quot;die&quot;</span>.</p>
    <p class="Pp">Exceptions thrown from object destructors no longer modify the
        <span class="Li">$@</span> of the surrounding context. (If the
        surrounding context was exception unwinding, this used to be another way
        to clobber the exception being thrown.) Previously such an exception was
        sometimes emitted as a warning, and then either was string-appended to
        the surrounding <span class="Li">$@</span> or completely replaced the
        surrounding <span class="Li">$@</span>, depending on whether that
        exception and the surrounding <span class="Li">$@</span> were strings or
        objects. Now, an exception in this situation is always emitted as a
        warning, leaving the surrounding <span class="Li">$@</span> untouched.
        In addition to object destructors, this also affects any function call
        run by XS code using the <span class="Li">&quot;G_KEEPERR&quot;</span>
        flag.</p>
  </li>
  <li>Warnings for <span class="Li">&quot;warn&quot;</span> can now be objects
      in the same way as exceptions for <span class="Li">&quot;die&quot;</span>.
      If an object-based warning gets the default handling of writing to
      standard error, it is stringified as before with the filename and line
      number appended. But a <span class="Li">$SIG{__WARN__}</span> handler now
      receives an object-based warning as an object, where previously it was
      passed the result of stringifying the object.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Other_Enhancements"><a class="permalink" href="#Other_Enhancements">Other
  Enhancements</a></h2>
<p class="Pp"><i>Assignment to </i><span class="Li"><i>$0</i></span><i> sets the
    legacy process name with </i><b><i>prctl()</i></b><i> on Linux</i></p>
<p class="Pp">On Linux the legacy process name is now set with <b>prctl</b>(2),
    in addition to altering the POSIX name via
    <span class="Li">&quot;argv[0]&quot;</span>, as Perl has done since version
    4.000. Now system utilities that read the legacy process name such as
    <i>ps</i>, <i>top</i>, and <i>killall</i> recognize the name you set when
    assigning to <span class="Li">$0</span>. The string you supply is truncated
    at 16 bytes; this limitation is imposed by Linux.</p>
<p class="Pp"><i></i><b><i>srand()</i></b><i> now returns the seed</i></p>
<p class="Pp">This allows programs that need to have repeatable results not to
    have to come up with their own seed-generating mechanism. Instead, they can
    use <b>srand()</b> and stash the return value for future use. One example is
    a test program with too many combinations to test comprehensively in the
    time available for each run. It can test a random subset each time and,
    should there be a failure, log the seed used for that run so this can later
    be used to produce the same results.</p>
<p class="Pp"><i>printf-like functions understand post-1980 size
  modifiers</i></p>
<p class="Pp">Perl's printf and sprintf operators, and Perl's internal printf
    replacement function, now understand the C90 size modifiers &quot;hh&quot;
    (<span class="Li">&quot;char&quot;</span>), &quot;z&quot;
    (<span class="Li">&quot;size_t&quot;</span>), and &quot;t&quot;
    (<span class="Li">&quot;ptrdiff_t&quot;</span>). Also, when compiled with a
    C99 compiler, Perl now understands the size modifier &quot;j&quot;
    (<span class="Li">&quot;intmax_t&quot;</span>) (but this is not
  portable).</p>
<p class="Pp">So, for example, on any modern machine,
    <span class="Li">&quot;sprintf(&quot;%hhd&quot;, 257)&quot;</span> returns
    &quot;1&quot;.</p>
<p class="Pp"><i>New global variable
    </i><span class="Li"><i>&quot;${^GLOBAL_PHASE}&quot;</i></span><i></i></p>
<p class="Pp">A new global variable,
    <span class="Li">&quot;${^GLOBAL_PHASE}&quot;</span>, has been added to
    allow introspection of the current phase of the Perl interpreter. It's
    explained in detail in &quot;${^GLOBAL_PHASE}&quot; in perlvar and in
    &quot;BEGIN, UNITCHECK, CHECK, INIT and END&quot; in perlmod.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;-d:-foo&quot;</i></span><i> calls
    </i><span class="Li"><i>&quot;Devel::foo::unimport&quot;</i></span><i></i></p>
<p class="Pp">The syntax <b>-d:foo</b> was extended in 5.6.1 to make
    <b>-d:foo=bar</b> equivalent to <b>-MDevel::foo=bar</b>, which expands
    internally to <span class="Li">&quot;use Devel::foo 'bar'&quot;</span>. Perl
    now allows prefixing the module name with <b>-</b>, with the same semantics
    as <b>-M</b>; that is:</p>
<dl class="Bl-tag">
  <dt>&quot;-d:-foo&quot;</dt>
  <dd>Equivalent to <b>-M-Devel::foo</b>: expands to <span class="Li">&quot;no
      Devel::foo&quot;</span> and calls
      <span class="Li">&quot;Devel::foo-&gt;unimport()&quot;</span> if that
      method exists.</dd>
  <dt>&quot;-d:-foo=bar&quot;</dt>
  <dd>Equivalent to <b>-M-Devel::foo=bar</b>: expands to
      <span class="Li">&quot;no Devel::foo 'bar'&quot;</span>, and calls
      <span class="Li">&quot;Devel::foo-&gt;unimport(&quot;bar&quot;)&quot;</span>
      if that method exists.</dd>
</dl>
<p class="Pp">This is particularly useful for suppressing the default actions of
    a <span class="Li">&quot;Devel::*&quot;</span> module's
    <span class="Li">&quot;import&quot;</span> method whilst still loading it
    for debugging.</p>
<p class="Pp"><i>Filehandle method calls load IO::File on demand</i></p>
<p class="Pp">When a method call on a filehandle would die because the method
    cannot be resolved and IO::File has not been loaded, Perl now loads IO::File
    via <span class="Li">&quot;require&quot;</span> and attempts method
    resolution again:</p>
<p class="Pp"></p>
<pre>  open my $fh, &quot;&gt;&quot;, $file;
  $fh-&gt;binmode(&quot;:raw&quot;);     # loads IO::File and succeeds
</pre>
<p class="Pp">This also works for globs like
    <span class="Li">&quot;STDOUT&quot;</span>,
    <span class="Li">&quot;STDERR&quot;</span>, and
    <span class="Li">&quot;STDIN&quot;</span>:</p>
<p class="Pp"></p>
<pre>  STDOUT-&gt;autoflush(1);
</pre>
<p class="Pp">Because this on-demand load happens only if method resolution
    fails, the legacy approach of manually loading an IO::File parent class for
    partial method support still works as expected:</p>
<p class="Pp"></p>
<pre>  use IO::Handle;
  open my $fh, &quot;&gt;&quot;, $file;
  $fh-&gt;autoflush(1);        # IO::File not loaded
</pre>
<p class="Pp"><i>Improved IPv6 support</i></p>
<p class="Pp">The <span class="Li">&quot;Socket&quot;</span> module provides new
    affordances for IPv6, including implementations of the
    <span class="Li">&quot;Socket::getaddrinfo()&quot;</span> and
    <span class="Li">&quot;Socket::getnameinfo()&quot;</span> functions, along
    with related constants and a handful of new functions. See Socket.</p>
<p class="Pp"><i>DTrace probes now include package name</i></p>
<p class="Pp">The <span class="Li">&quot;DTrace&quot;</span> probes now include
    an additional argument, <span class="Li">&quot;arg3&quot;</span>, which
    contains the package the subroutine being entered or left was compiled
  in.</p>
<p class="Pp">For example, using the following DTrace script:</p>
<p class="Pp"></p>
<pre>  perl$target:::sub-entry
  {
      printf(&quot;%s::%s\n&quot;, copyinstr(arg0), copyinstr(arg3));
  }
</pre>
<p class="Pp">and then running:</p>
<p class="Pp"></p>
<pre>  $ perl -e 'sub test { }; test'
</pre>
<p class="Pp"><span class="Li">&quot;DTrace&quot;</span> will print:</p>
<p class="Pp"></p>
<pre>  main::test
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="New_C_APIs"><a class="permalink" href="#New_C_APIs">New C
  APIs</a></h2>
<p class="Pp">See &quot;Internal Changes&quot;.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Security"><a class="permalink" href="#Security">Security</a></h1>
<section class="Ss">
<h2 class="Ss" id="User-defined_regular_expression_properties"><a class="permalink" href="#User-defined_regular_expression_properties">User-defined
  regular expression properties</a></h2>
<p class="Pp">&quot;User-Defined Character Properties&quot; in perlunicode
    documented that you can create custom properties by defining subroutines
    whose names begin with &quot;In&quot; or &quot;Is&quot;. However, Perl did
    not actually enforce that naming restriction, so
    <span class="Li">&quot;\p{foo::bar}&quot;</span> could call
    <b>foo::bar()</b> if it existed. The documented convention is now
  enforced.</p>
<p class="Pp">Also, Perl no longer allows tainted regular expressions to invoke
    a user-defined property. It simply dies instead [perl #82616].</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<p class="Pp">Perl 5.14.0 is not binary-compatible with any previous stable
    release.</p>
<p class="Pp">In addition to the sections that follow, see &quot;C API
    Changes&quot;.</p>
<section class="Ss">
<h2 class="Ss" id="Regular_Expressions_and_String_Escapes"><a class="permalink" href="#Regular_Expressions_and_String_Escapes">Regular
  Expressions and String Escapes</a></h2>
<p class="Pp"><i>Inverted bracketed character classes and multi-character
    folds</i></p>
<p class="Pp">Some characters match a sequence of two or three characters in
    <span class="Li">&quot;/i&quot;</span> regular expression matching under
    Unicode rules. One example is <span class="Li">&quot;LATIN SMALL LETTER
    SHARP S&quot;</span> which matches the sequence
    <span class="Li">&quot;ss&quot;</span>.</p>
<p class="Pp"></p>
<pre> 'ss' =~ /\A[\N{LATIN SMALL LETTER SHARP S}]\z/i  # Matches
</pre>
<p class="Pp">This, however, can lead to very counter-intuitive results,
    especially when inverted. Because of this, Perl 5.14 does not use
    multi-character <span class="Li">&quot;/i&quot;</span> matching in inverted
    character classes.</p>
<p class="Pp"></p>
<pre> 'ss' =~ /\A[^\N{LATIN SMALL LETTER SHARP S}]+\z/i  # ???
</pre>
<p class="Pp">This should match any sequences of characters that aren't the
    <span class="Li">&quot;SHARP S&quot;</span> nor what
    <span class="Li">&quot;SHARP S&quot;</span> matches under
    <span class="Li">&quot;/i&quot;</span>.
    <span class="Li">&quot;s&quot;</span> isn't <span class="Li">&quot;SHARP
    S&quot;</span>, but Unicode says that <span class="Li">&quot;ss&quot;</span>
    is what <span class="Li">&quot;SHARP S&quot;</span> matches under
    <span class="Li">&quot;/i&quot;</span>. So which one &quot;wins&quot;? Do
    you fail the match because the string has
    <span class="Li">&quot;ss&quot;</span> or accept it because it has an
    <span class="Li">&quot;s&quot;</span> followed by another
    <span class="Li">&quot;s&quot;</span>?</p>
<p class="Pp">Earlier releases of Perl did allow this multi-character matching,
    but due to bugs, it mostly did not work.</p>
<p class="Pp"><i>\400-\777</i></p>
<p class="Pp">In certain circumstances,
    <span class="Li">&quot;\400&quot;</span>-<span class="Li">&quot;\777&quot;</span>
    in regexes have behaved differently than they behave in all other
    doublequote-like contexts. Since 5.10.1, Perl has issued a deprecation
    warning when this happens. Now, these literals behave the same in all
    doublequote-like contexts, namely to be equivalent to
    <span class="Li">&quot;\x{100}&quot;</span>-<span class="Li">&quot;\x{1FF}&quot;</span>,
    with no deprecation warning.</p>
<p class="Pp">Use of
    <span class="Li">&quot;\400&quot;</span>-<span class="Li">&quot;\777&quot;</span>
    in the command-line option <b>-0</b> retain their conventional meaning. They
    slurp whole input files; previously, this was documented only for
    <b>-0777</b>.</p>
<p class="Pp">Because of various ambiguities, you should use the new
    <span class="Li">&quot;\o{...}&quot;</span> construct to represent
    characters in octal instead.</p>
<p class="Pp"><i>Most </i><span class="Li"><i>&quot;\p{}&quot;</i></span><i>
    properties are now immune to case-insensitive matching</i></p>
<p class="Pp">For most Unicode properties, it doesn't make sense to have them
    match differently under <span class="Li">&quot;/i&quot;</span>
    case-insensitive matching. Doing so can lead to unexpected results and
    potential security holes. For example</p>
<p class="Pp"></p>
<pre> m/\p{ASCII_Hex_Digit}+/i
</pre>
<p class="Pp">could previously match non-ASCII characters because of the Unicode
    matching rules (although there were several bugs with this). Now matching
    under <span class="Li">&quot;/i&quot;</span> gives the same results as
    non-<span class="Li">&quot;/i&quot;</span> matching except for those few
    properties where people have come to expect differences, namely the ones
    where casing is an integral part of their meaning, such as
    <span class="Li">&quot;m/\p{Uppercase}/i&quot;</span> and
    <span class="Li">&quot;m/\p{Lowercase}/i&quot;</span>, both of which match
    the same code points as matched by
    <span class="Li">&quot;m/\p{Cased}/i&quot;</span>. Details are in
    &quot;Unicode Properties&quot; in perlrecharclass.</p>
<p class="Pp">User-defined property handlers that need to match differently
    under <span class="Li">&quot;/i&quot;</span> must be changed to read the new
    boolean parameter passed to them, which is non-zero if case-insensitive
    matching is in effect and 0 otherwise. See &quot;User-Defined Character
    Properties&quot; in perlunicode.</p>
<p class="Pp"><i>\p{} implies Unicode semantics</i></p>
<p class="Pp">Specifying a Unicode property in the pattern indicates that the
    pattern is meant for matching according to Unicode rules, the way
    <span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>
    does.</p>
<p class="Pp"><i>Regular expressions retain their localeness when
    interpolated</i></p>
<p class="Pp">Regular expressions compiled under <span class="Li">&quot;use
    locale&quot;</span> now retain this when interpolated into a new regular
    expression compiled outside a <span class="Li">&quot;use
    locale&quot;</span>, and vice-versa.</p>
<p class="Pp">Previously, one regular expression interpolated into another
    inherited the localeness of the surrounding regex, losing whatever state it
    originally had. This is considered a bug fix, but may trip up code that has
    come to rely on the incorrect behaviour.</p>
<p class="Pp"><i>Stringification of regexes has changed</i></p>
<p class="Pp">Default regular expression modifiers are now notated using
    <span class="Li">&quot;(?^...)&quot;</span>. Code relying on the old
    stringification will fail. This is so that when new modifiers are added,
    such code won't have to keep changing each time this happens, because the
    stringification will automatically incorporate the new modifiers.</p>
<p class="Pp">Code that needs to work properly with both old- and new-style
    regexes can avoid the whole issue by using (for perls since 5.9.5; see
  re):</p>
<p class="Pp"></p>
<pre> use re qw(regexp_pattern);
 my ($pat, $mods) = regexp_pattern($re_ref);
</pre>
<p class="Pp">If the actual stringification is important or older Perls need to
    be supported, you can use something like the following:</p>
<p class="Pp"></p>
<pre>    # Accept both old and new-style stringification
    my $modifiers = (qr/foobar/ =~ /\Q(?^/) ? &quot;^&quot; : &quot;-xism&quot;;
</pre>
<p class="Pp">And then use <span class="Li">$modifiers</span> instead of
    <span class="Li">&quot;-xism&quot;</span>.</p>
<p class="Pp"><i>Run-time code blocks in regular expressions inherit
    pragmata</i></p>
<p class="Pp">Code blocks in regular expressions
    (<span class="Li">&quot;(?{...})&quot;</span> and
    <span class="Li">&quot;(??{...})&quot;</span>) previously did not inherit
    pragmata (strict, warnings, etc.) if the regular expression was compiled at
    run time as happens in cases like these two:</p>
<p class="Pp"></p>
<pre>  use re &quot;eval&quot;;
  $foo =~ $bar; # when $bar contains (?{...})
  $foo =~ /$bar(?{ $finished = 1 })/;
</pre>
<p class="Pp">This bug has now been fixed, but code that relied on the buggy
    behaviour may need to be fixed to account for the correct behaviour.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Stashes_and_Package_Variables"><a class="permalink" href="#Stashes_and_Package_Variables">Stashes
  and Package Variables</a></h2>
<p class="Pp"><i>Localised tied hashes and arrays are no longed tied</i></p>
<p class="Pp">In the following:</p>
<p class="Pp"></p>
<pre>    tie @a, ...;
    {
            local @a;
            # here, @a is a now a new, untied array
    }
    # here, @a refers again to the old, tied array
</pre>
<p class="Pp">Earlier versions of Perl incorrectly tied the new local array.
    This has now been fixed. This fix could however potentially cause a change
    in behaviour of some code.</p>
<p class="Pp"><i>Stashes are now always defined</i></p>
<p class="Pp"><span class="Li">&quot;defined %Foo::&quot;</span> now always
    returns true, even when no symbols have yet been defined in that
  package.</p>
<p class="Pp">This is a side-effect of removing a special-case kludge in the
    tokeniser, added for 5.10.0, to hide side-effects of changes to the internal
    storage of hashes. The fix drastically reduces hashes' memory overhead.</p>
<p class="Pp">Calling defined on a stash has been deprecated since 5.6.0, warned
    on lexicals since 5.6.0, and warned for stashes and other package variables
    since 5.12.0. <span class="Li">&quot;defined %hash&quot;</span> has always
    exposed an implementation detail: emptying a hash by deleting all entries
    from it does not make <span class="Li">&quot;defined %hash&quot;</span>
    false. Hence <span class="Li">&quot;defined %hash&quot;</span> is not valid
    code to determine whether an arbitrary hash is empty. Instead, use the
    behaviour of an empty <span class="Li">%hash</span> always returning false
    in scalar context.</p>
<p class="Pp"><i>Clearing stashes</i></p>
<p class="Pp">Stash list assignment <span class="Li">&quot;%foo:: =
    ()&quot;</span> used to make the stash temporarily anonymous while it was
    being emptied. Consequently, any of its subroutines referenced elsewhere
    would become anonymous, showing up as &quot;(unknown)&quot; in
    <span class="Li">&quot;caller&quot;</span>. They now retain their package
    names such that <span class="Li">&quot;caller&quot;</span> returns the
    original sub name if there is still a reference to its typeglob and
    &quot;foo::__ANON__&quot; otherwise [perl #79208].</p>
<p class="Pp"><i>Dereferencing typeglobs</i></p>
<p class="Pp">If you assign a typeglob to a scalar variable:</p>
<p class="Pp"></p>
<pre>    $glob = *foo;
</pre>
<p class="Pp">the glob that is copied to <span class="Li">$glob</span> is marked
    with a special flag indicating that the glob is just a copy. This allows
    subsequent assignments to <span class="Li">$glob</span> to overwrite the
    glob. The original glob, however, is immutable.</p>
<p class="Pp">Some Perl operators did not distinguish between these two types of
    globs. This would result in strange behaviour in edge cases:
    <span class="Li">&quot;untie $scalar&quot;</span> would not untie the scalar
    if the last thing assigned to it was a glob (because it treated it as
    <span class="Li">&quot;untie *$scalar&quot;</span>, which unties a handle).
    Assignment to a glob slot (such as <span class="Li">&quot;*$glob =
    \@some_array&quot;</span>) would simply assign
    <span class="Li">&quot;\@some_array&quot;</span> to
    <span class="Li">$glob</span>.</p>
<p class="Pp">To fix this, the <span class="Li">&quot;*{}&quot;</span> operator
    (including its <span class="Li">*foo</span> and
    <span class="Li">*$foo</span> forms) has been modified to make a new
    immutable glob if its operand is a glob copy. This allows operators that
    make a distinction between globs and scalars to be modified to treat only
    immutable globs as globs. (<span class="Li">&quot;tie&quot;</span>,
    <span class="Li">&quot;tied&quot;</span> and
    <span class="Li">&quot;untie&quot;</span> have been left as they are for
    compatibility's sake, but will warn. See &quot;Deprecations&quot;.)</p>
<p class="Pp">This causes an incompatible change in code that assigns a glob to
    the return value of <span class="Li">&quot;*{}&quot;</span> when that
    operator was passed a glob copy. Take the following code, for instance:</p>
<p class="Pp"></p>
<pre>    $glob = *foo;
    *$glob = *bar;
</pre>
<p class="Pp">The <span class="Li">*$glob</span> on the second line returns a
    new immutable glob. That new glob is made an alias to
    <span class="Li">*bar</span>. Then it is discarded. So the second assignment
    has no effect.</p>
<p class="Pp">See &lt;https://github.com/Perl/perl5/issues/10625&gt; for more
    detail.</p>
<p class="Pp"><i>Magic variables outside the main package</i></p>
<p class="Pp">In previous versions of Perl, magic variables like
    <span class="Li">$!</span>, <span class="Li">%SIG</span>, etc. would
    &quot;leak&quot; into other packages. So <span class="Li">%foo::SIG</span>
    could be used to access signals,
    <span class="Li">&quot;${&quot;foo::!&quot;}&quot;</span> (with strict mode
    off) to access C's <span class="Li">&quot;errno&quot;</span>, etc.</p>
<p class="Pp">This was a bug, or an &quot;unintentional&quot; feature, which
    caused various ill effects, such as signal handlers being wiped when modules
    were loaded, etc.</p>
<p class="Pp">This has been fixed (or the feature has been removed, depending on
    how you see it).</p>
<p class="Pp"><i>local($_) strips all magic from
    </i><span class="Li"><i>$_</i></span><i></i></p>
<p class="Pp"><b>local()</b> on scalar variables gives them a new value but
    keeps all their magic intact. This has proven problematic for the default
    scalar variable <span class="Li">$_</span>, where perlsub recommends that
    any subroutine that assigns to <span class="Li">$_</span> should first
    localize it. This would throw an exception if <span class="Li">$_</span> is
    aliased to a read-only variable, and could in general have various
    unintentional side-effects.</p>
<p class="Pp">Therefore, as an exception to the general rule, local($_) will not
    only assign a new value to <span class="Li">$_</span>, but also remove all
    existing magic from it as well.</p>
<p class="Pp"><i>Parsing of package and variable names</i></p>
<p class="Pp">Parsing the names of packages and package variables has changed:
    multiple adjacent pairs of colons, as in
    <span class="Li">&quot;foo::::bar&quot;</span>, are now all treated as
    package separators.</p>
<p class="Pp">Regardless of this change, the exact parsing of package separators
    has never been guaranteed and is subject to change in future Perl
  versions.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Syntax_or_to_Perl_Operators"><a class="permalink" href="#Changes_to_Syntax_or_to_Perl_Operators">Changes
  to Syntax or to Perl Operators</a></h2>
<p class="Pp"><i></i><span class="Li"><i>&quot;given&quot;</i></span><i> return
    values</i></p>
<p class="Pp"><span class="Li">&quot;given&quot;</span> blocks now return the
    last evaluated expression, or an empty list if the block was exited by
    <span class="Li">&quot;break&quot;</span>. Thus you can now write:</p>
<p class="Pp"></p>
<pre>    my $type = do {
     given ($num) {
      break     when undef;
      &quot;integer&quot; when /^[+-]?[0-9]+$/;
      &quot;float&quot;   when /^[+-]?[0-9]+(?:\.[0-9]+)?$/;
      &quot;unknown&quot;;
     }
    };
</pre>
<p class="Pp">See &quot;Return value&quot; in perlsyn for details.</p>
<p class="Pp"><i>Change in parsing of certain prototypes</i></p>
<p class="Pp">Functions declared with the following prototypes now behave
    correctly as unary functions:</p>
<p class="Pp"></p>
<pre>  *
  \$ \% \@ \* \&amp;
  \[...]
  ;$ ;*
  ;\$ ;\% etc.
  ;\[...]
</pre>
<p class="Pp">Due to this bug fix [perl #75904], functions using the
    <span class="Li">&quot;(*)&quot;</span>,
    <span class="Li">&quot;(;$)&quot;</span> and
    <span class="Li">&quot;(;*)&quot;</span> prototypes are parsed with higher
    precedence than before. So in the following example:</p>
<p class="Pp"></p>
<pre>  sub foo(;$);
  foo $a &lt; $b;
</pre>
<p class="Pp">the second line is now parsed correctly as
    <span class="Li">&quot;foo($a) &lt; $b&quot;</span>, rather than
    <span class="Li">&quot;foo($a &lt; $b)&quot;</span>. This happens when one
    of these operators is used in an unparenthesised argument:</p>
<p class="Pp"></p>
<pre>  &lt; &gt; &lt;= &gt;= lt gt le ge
  == != &lt;=&gt; eq ne cmp ~~
  &amp;
  | ^
  &amp;&amp;
  || //
  .. ...
  ?:
  = += -= *= etc.
  , =&gt;
</pre>
<p class="Pp"><i>Smart-matching against array slices</i></p>
<p class="Pp">Previously, the following code resulted in a successful match:</p>
<p class="Pp"></p>
<pre>    my @a = qw(a y0 z);
    my @b = qw(a x0 z);
    @a[0 .. $#b] ~~ @b;
</pre>
<p class="Pp">This odd behaviour has now been fixed [perl #77468].</p>
<p class="Pp"><i>Negation treats strings differently from before</i></p>
<p class="Pp">The unary negation operator,
    <span class="Li">&quot;-&quot;</span>, now treats strings that look like
    numbers as numbers [perl #57706].</p>
<p class="Pp"><i>Negative zero</i></p>
<p class="Pp">Negative zero (-0.0), when converted to a string, now becomes
    &quot;0&quot; on all platforms. It used to become &quot;-0&quot; on some,
    but &quot;0&quot; on others.</p>
<p class="Pp">If you still need to determine whether a zero is negative, use
    <span class="Li">&quot;sprintf(&quot;%g&quot;, $zero) =~ /^-/&quot;</span>
    or the Data::Float module on CPAN.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;:=&quot;</i></span><i> is now a
    syntax error</i></p>
<p class="Pp">Previously <span class="Li">&quot;my $pi := 4&quot;</span> was
    exactly equivalent to <span class="Li">&quot;my $pi : = 4&quot;</span>, with
    the <span class="Li">&quot;:&quot;</span> being treated as the start of an
    attribute list, ending before the <span class="Li">&quot;=&quot;</span>. The
    use of <span class="Li">&quot;:=&quot;</span> to mean
    <span class="Li">&quot;: =&quot;</span> was deprecated in 5.12.0, and is now
    a syntax error. This allows future use of
    <span class="Li">&quot;:=&quot;</span> as a new token.</p>
<p class="Pp">Outside the core's tests for it, we find no Perl 5 code on CPAN
    using this construction, so we believe that this change will have little
    impact on real-world codebases.</p>
<p class="Pp">If it is absolutely necessary to have empty attribute lists (for
    example, because of a code generator), simply avoid the error by adding a
    space before the <span class="Li">&quot;=&quot;</span>.</p>
<p class="Pp"><i>Change in the parsing of identifiers</i></p>
<p class="Pp">Characters outside the Unicode &quot;XIDStart&quot; set are no
    longer allowed at the beginning of an identifier. This means that certain
    accents and marks that normally follow an alphabetic character may no longer
    be the first character of an identifier.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Threads_and_Processes"><a class="permalink" href="#Threads_and_Processes">Threads
  and Processes</a></h2>
<p class="Pp"><i>Directory handles not copied to threads</i></p>
<p class="Pp">On systems other than Windows that do not have a
    <span class="Li">&quot;fchdir&quot;</span> function, newly-created threads
    no longer inherit directory handles from their parent threads. Such programs
    would usually have crashed anyway [perl #75154].</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;close&quot;</i></span><i> on
    shared pipes</i></p>
<p class="Pp">To avoid deadlocks, the <span class="Li">&quot;close&quot;</span>
    function no longer waits for the child process to exit if the underlying
    file descriptor is still in use by another thread. It returns true in such
    cases.</p>
<p class="Pp"><i></i><b><i>fork()</i></b><i> emulation will not wait for
    signalled children</i></p>
<p class="Pp">On Windows parent processes would not terminate until all forked
    children had terminated first. However,
    <span class="Li">&quot;kill(&quot;KILL&quot;, ...)&quot;</span> is
    inherently unstable on pseudo-processes, and
    <span class="Li">&quot;kill(&quot;TERM&quot;, ...)&quot;</span> might not
    get delivered if the child is blocked in a system call.</p>
<p class="Pp">To avoid the deadlock and still provide a safe mechanism to
    terminate the hosting process, Perl now no longer waits for children that
    have been sent a SIGTERM signal. It is up to the parent process to
    <b>waitpid()</b> for these children if child-cleanup processing must be
    allowed to finish. However, it is also then the responsibility of the parent
    to avoid the deadlock by making sure the child process can't be blocked on
    I/O.</p>
<p class="Pp">See perlfork for more information about the <b>fork()</b>
    emulation on Windows.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Configuration"><a class="permalink" href="#Configuration">Configuration</a></h2>
<p class="Pp"><i>Naming fixes in Policy_sh.SH may invalidate Policy.sh</i></p>
<p class="Pp">Several long-standing typos and naming confusions in
    <i>Policy_sh.SH</i> have been fixed, standardizing on the variable names
    used in <i>config.sh</i>.</p>
<p class="Pp">This will change the behaviour of <i>Policy.sh</i> if you happen
    to have been accidentally relying on its incorrect behaviour.</p>
<p class="Pp"><i>Perl source code is read in text mode on Windows</i></p>
<p class="Pp">Perl scripts used to be read in binary mode on Windows for the
    benefit of the ByteLoader module (which is no longer part of core Perl).
    This had the side-effect of breaking various operations on the
    <span class="Li">&quot;DATA&quot;</span> filehandle, including
    <b>seek()</b>/<b>tell()</b>, and even simply reading from
    <span class="Li">&quot;DATA&quot;</span> after filehandles have been flushed
    by a call to <b>system()</b>, backticks, <b>fork()</b> etc.</p>
<p class="Pp">The default build options for Windows have been changed to read
    Perl source code on Windows in text mode now. ByteLoader will (hopefully) be
    updated on CPAN to automatically handle this situation [perl #28106].</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Deprecations"><a class="permalink" href="#Deprecations">Deprecations</a></h1>
<p class="Pp">See also &quot;Deprecated C APIs&quot;.</p>
<section class="Ss">
<h2 class="Ss" id="Omitting_a_space_between_a_regular_expression_and_subsequent_word"><a class="permalink" href="#Omitting_a_space_between_a_regular_expression_and_subsequent_word">Omitting
  a space between a regular expression and subsequent word</a></h2>
<p class="Pp">Omitting the space between a regular expression operator or its
    modifiers and the following word is deprecated. For example,
    <span class="Li">&quot;m/foo/sand $bar&quot;</span> is for now still parsed
    as <span class="Li">&quot;m/foo/s and $bar&quot;</span>, but will now issue
    a warning.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_"><a class="permalink" href="#_">&quot;\c<span class="Li"><i>X</i></span>&quot;</a></h2>
<p class="Pp">The backslash-c construct was designed as a way of specifying
    non-printable characters, but there were no restrictions (on ASCII
    platforms) on what the character following the
    <span class="Li">&quot;c&quot;</span> could be. Now, a deprecation warning
    is raised if that character isn't an ASCII character. Also, a deprecation
    warning is raised for <span class="Li">&quot;\c{&quot;</span> (which is the
    same as simply saying <span class="Li">&quot;;&quot;</span>).</p>
</section>
<section class="Ss">
<h2 class="Ss">&quot;\b{&quot; and &quot;\B{&quot;</h2>
<p class="Pp">In regular expressions, a literal
    <span class="Li">&quot;{&quot;</span> immediately following a
    <span class="Li">&quot;\b&quot;</span> (not in a bracketed character class)
    or a <span class="Li">&quot;\B{&quot;</span> is now deprecated to allow for
    its future use by Perl itself.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_4"><a class="permalink" href="#Perl_4">Perl 4-era .pl
  libraries</a></h2>
<p class="Pp">Perl bundles a handful of library files that predate Perl 5. This
    bundling is now deprecated for most of these files, which are now available
    from CPAN. The affected files now warn when run, if they were installed as
    part of the core.</p>
<p class="Pp">This is a mandatory warning, not obeying <b>-X</b> or lexical
    warning bits. The warning is modelled on that supplied by
    <i>deprecate.pm</i> for deprecated-in-core <i>.pm</i> libraries. It points
    to the specific CPAN distribution that contains the <i>.pl</i> libraries.
    The CPAN versions, of course, do not generate the warning.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="List_assignment_to_$_"><a class="permalink" href="#List_assignment_to_$_">List
  assignment to $[</a></h2>
<p class="Pp">Assignment to <span class="Li">$[</span> was deprecated and
    started to give warnings in Perl version 5.12.0. This version of Perl (5.14)
    now also emits a warning when assigning to <span class="Li">$[</span> in
    list context. This fixes an oversight in 5.12.0.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Use_of_qw(...)_as_parentheses"><a class="permalink" href="#Use_of_qw(...)_as_parentheses">Use
  of qw(...) as parentheses</a></h2>
<p class="Pp">Historically the parser fooled itself into thinking that
    <span class="Li">&quot;qw(...)&quot;</span> literals were always enclosed in
    parentheses, and as a result you could sometimes omit parentheses around
    them:</p>
<p class="Pp"></p>
<pre>    for $x qw(a b c) { ... }
</pre>
<p class="Pp">The parser no longer lies to itself in this way. Wrap the list
    literal in parentheses like this:</p>
<p class="Pp"></p>
<pre>    for $x (qw(a b c)) { ... }
</pre>
<p class="Pp">This is being deprecated because the parentheses in
    <span class="Li">&quot;for $i (1,2,3) { ... }&quot;</span> are not part of
    expression syntax. They are part of the statement syntax, with the
    <span class="Li">&quot;for&quot;</span> statement wanting literal
    parentheses. The synthetic parentheses that a
    <span class="Li">&quot;qw&quot;</span> expression acquired were only
    intended to be treated as part of expression syntax.</p>
<p class="Pp">Note that this does not change the behaviour of cases like:</p>
<p class="Pp"></p>
<pre>    use POSIX qw(setlocale localeconv);
    our @EXPORT = qw(foo bar baz);
</pre>
<p class="Pp">where parentheses were never required around the expression.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_~2"><a class="permalink" href="#_~2">&quot;\N{BELL}&quot;</a></h2>
<p class="Pp">This is because Unicode is using that name for a different
    character. See &quot;Unicode Version 6.0 is now supported (mostly)&quot; for
    more explanation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_?PATTERN?_"><a class="permalink" href="#_?PATTERN?_">&quot;?PATTERN?&quot;</a></h2>
<p class="Pp"><span class="Li">&quot;?PATTERN?&quot;</span> (without the initial
    <span class="Li">&quot;m&quot;</span>) has been deprecated and now produces
    a warning. This is to allow future use of
    <span class="Li">&quot;?&quot;</span> in new operators. The match-once
    functionality is still available as
    <span class="Li">&quot;m?PATTERN?&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Tie_functions_on_scalars_holding_typeglobs"><a class="permalink" href="#Tie_functions_on_scalars_holding_typeglobs">Tie
  functions on scalars holding typeglobs</a></h2>
<p class="Pp">Calling a tie function (<span class="Li">&quot;tie&quot;</span>,
    <span class="Li">&quot;tied&quot;</span>,
    <span class="Li">&quot;untie&quot;</span>) with a scalar argument acts on a
    filehandle if the scalar happens to hold a typeglob.</p>
<p class="Pp">This is a long-standing bug that will be removed in Perl 5.16, as
    there is currently no way to tie the scalar itself when it holds a typeglob,
    and no way to untie a scalar that has had a typeglob assigned to it.</p>
<p class="Pp">Now there is a deprecation warning whenever a tie function is used
    on a handle without an explicit <span class="Li">&quot;*&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="User-defined_case-mapping"><a class="permalink" href="#User-defined_case-mapping">User-defined
  case-mapping</a></h2>
<p class="Pp">This feature is being deprecated due to its many issues, as
    documented in &quot;User-Defined Case Mappings (for serious hackers
    only)&quot; in perlunicode. This feature will be removed in Perl 5.16.
    Instead use the CPAN module Unicode::Casing, which provides improved
    functionality.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Deprecated_modules"><a class="permalink" href="#Deprecated_modules">Deprecated
  modules</a></h2>
<p class="Pp">The following module will be removed from the core distribution in
    a future release, and should be installed from CPAN instead. Distributions
    on CPAN that require this should add it to their prerequisites. The core
    version of these module now issues a deprecation warning.</p>
<p class="Pp">If you ship a packaged version of Perl, either alone or as part of
    a larger system, then you should carefully consider the repercussions of
    core module deprecations. You may want to consider shipping your default
    build of Perl with a package for the deprecated module that installs into
    <span class="Li">&quot;vendor&quot;</span> or
    <span class="Li">&quot;site&quot;</span> Perl library directories. This will
    inhibit the deprecation warnings.</p>
<p class="Pp">Alternatively, you may want to consider patching
    <i>lib/deprecate.pm</i> to provide deprecation warnings specific to your
    packaging system or distribution of Perl, consistent with how your packaging
    system or distribution manages a staged transition from a release where the
    installation of a single package provides the given functionality, to a
    later release where the system administrator needs to know to install
    multiple packages to get that same functionality.</p>
<p class="Pp">You can silence these deprecation warnings by installing the
    module in question from CPAN. To install the latest version of it by role
    rather than by name, just install
    <span class="Li">&quot;Task::Deprecations::5_14&quot;</span>.</p>
<dl class="Bl-tag">
  <dt id="Devel::DProf"><a class="permalink" href="#Devel::DProf">Devel::DProf</a></dt>
  <dd>We strongly recommend that you install and use Devel::NYTProf instead of
      Devel::DProf, as Devel::NYTProf offers significantly improved profiling
      and reporting.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_Enhancements"><a class="permalink" href="#Performance_Enhancements">Performance
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="_Safe_signals__optimisation"><a class="permalink" href="#_Safe_signals__optimisation">&quot;Safe
  signals&quot; optimisation</a></h2>
<p class="Pp">Signal dispatch has been moved from the runloop into control ops.
    This should give a few percent speed increase, and eliminates nearly all the
    speed penalty caused by the introduction of &quot;safe signals&quot; in
    5.8.0. Signals should still be dispatched within the same statement as they
    were previously. If this does <i>not</i> happen, or if you find it possible
    to create uninterruptible loops, this is a bug, and reports are encouraged
    of how to recreate such issues.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Optimisation_of_"><a class="permalink" href="#Optimisation_of_">Optimisation
  of <b>shift()</b> and <b>pop()</b> calls without arguments</a></h2>
<p class="Pp">Two fewer OPs are used for <b>shift()</b> and <b>pop()</b> calls
    with no argument (with implicit <span class="Li">@_</span>). This change
    makes <b>shift()</b> 5% faster than <span class="Li">&quot;shift
    @_&quot;</span> on non-threaded perls, and 25% faster on threaded ones.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Optimisation_of_regexp_engine_string_comparison_work"><a class="permalink" href="#Optimisation_of_regexp_engine_string_comparison_work">Optimisation
  of regexp engine string comparison work</a></h2>
<p class="Pp">The <span class="Li">&quot;foldEQ_utf8&quot;</span> API function
    for case-insensitive comparison of strings (which is used heavily by the
    regexp engine) was substantially refactored and optimised -- and its
    documentation much improved as a free bonus.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Regular_expression_compilation_speed-up"><a class="permalink" href="#Regular_expression_compilation_speed-up">Regular
  expression compilation speed-up</a></h2>
<p class="Pp">Compiling regular expressions has been made faster when upgrading
    the regex to utf8 is necessary but this isn't known when the compilation
    begins.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="String_appending_is_100_times_faster"><a class="permalink" href="#String_appending_is_100_times_faster">String
  appending is 100 times faster</a></h2>
<p class="Pp">When doing a lot of string appending, perls built to use the
    system's <span class="Li">&quot;malloc&quot;</span> could end up allocating
    a lot more memory than needed in a inefficient way.</p>
<p class="Pp"><span class="Li">&quot;sv_grow&quot;</span>, the function used to
    allocate more memory if necessary when appending to a string, has been
    taught to round up the memory it requests to a certain geometric
    progression, making it much faster on certain platforms and configurations.
    On Win32, it's now about 100 times faster.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Eliminate__PL_*__accessor_functions_under_ithreads"><a class="permalink" href="#Eliminate__PL_*__accessor_functions_under_ithreads">Eliminate
  &quot;PL_*&quot; accessor functions under ithreads</a></h2>
<p class="Pp">When <span class="Li">&quot;MULTIPLICITY&quot;</span> was first
    developed, and interpreter state moved into an interpreter struct, thread-
    and interpreter-local <span class="Li">&quot;PL_*&quot;</span> variables
    were defined as macros that called accessor functions (returning the address
    of the value) outside the Perl core. The intent was to allow members within
    the interpreter struct to change size without breaking binary compatibility,
    so that bug fixes could be merged to a maintenance branch that necessitated
    such a size change. This mechanism was redundant and penalised well-behaved
    code. It has been removed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Freeing_weak_references"><a class="permalink" href="#Freeing_weak_references">Freeing
  weak references</a></h2>
<p class="Pp">When there are many weak references to an object, freeing that
    object can under some circumstances take O(<i>N*N</i>) time to free, where
    <i>N</i> is the number of references. The circumstances in which this can
    happen have been reduced [perl #75254]</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Lexical_array_and_hash_assignments"><a class="permalink" href="#Lexical_array_and_hash_assignments">Lexical
  array and hash assignments</a></h2>
<p class="Pp">An earlier optimisation to speed up <span class="Li">&quot;my
    @array = ...&quot;</span> and <span class="Li">&quot;my %hash =
    ...&quot;</span> assignments caused a bug and was disabled in Perl
  5.12.0.</p>
<p class="Pp">Now we have found another way to speed up these assignments [perl
    #82110].</p>
</section>
<section class="Ss">
<h2 class="Ss" id="@__uses_less_memory"><a class="permalink" href="#@__uses_less_memory">@_
  uses less memory</a></h2>
<p class="Pp">Previously, <span class="Li">@_</span> was allocated for every
    subroutine at compile time with enough space for four entries. Now this
    allocation is done on demand when the subroutine is called [perl
  #72416].</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Size_optimisations_to_"><a class="permalink" href="#Size_optimisations_to_">Size
  optimisations to SV and HV structures</a></h2>
<p class="Pp"><span class="Li">&quot;xhv_fill&quot;</span> has been eliminated
    from <span class="Li">&quot;struct xpvhv&quot;</span>, saving 1 IV per hash
    and on some systems will cause <span class="Li">&quot;struct
    xpvhv&quot;</span> to become cache-aligned. To avoid this memory saving
    causing a slowdown elsewhere, boolean use of
    <span class="Li">&quot;HvFILL&quot;</span> now calls
    <span class="Li">&quot;HvTOTALKEYS&quot;</span> instead (which is
    equivalent), so while the fill data when actually required are now
    calculated on demand, cases when this needs to be done should be rare.</p>
<p class="Pp">The order of structure elements in SV bodies has changed.
    Effectively, the NV slot has swapped location with STASH and MAGIC. As all
    access to SV members is via macros, this should be completely transparent.
    This change allows the space saving for PVHVs documented above, and may
    reduce the memory allocation needed for PVIVs on some architectures.</p>
<p class="Pp"><span class="Li">&quot;XPV&quot;</span>,
    <span class="Li">&quot;XPVIV&quot;</span>, and
    <span class="Li">&quot;XPVNV&quot;</span> now allocate only the parts of the
    <span class="Li">&quot;SV&quot;</span> body they actually use, saving some
    space.</p>
<p class="Pp">Scalars containing regular expressions now allocate only the part
    of the <span class="Li">&quot;SV&quot;</span> body they actually use, saving
    some space.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Memory_consumption_improvements_to_Exporter"><a class="permalink" href="#Memory_consumption_improvements_to_Exporter">Memory
  consumption improvements to Exporter</a></h2>
<p class="Pp">The <span class="Li">@EXPORT_FAIL</span> AV is no longer created
    unless needed, hence neither is the typeglob backing it. This saves about
    200 bytes for every package that uses Exporter but doesn't use this
    functionality.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Memory_savings_for_weak_references"><a class="permalink" href="#Memory_savings_for_weak_references">Memory
  savings for weak references</a></h2>
<p class="Pp">For weak references, the common case of just a single weak
    reference per referent has been optimised to reduce the storage required. In
    this case it saves the equivalent of one small Perl array per referent.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="__+__and___"><a class="permalink" href="#__+__and___">&quot;%+&quot;
  and &quot;%-&quot; use less memory</a></h2>
<p class="Pp">The bulk of the
    <span class="Li">&quot;Tie::Hash::NamedCapture&quot;</span> module used to
    be in the Perl core. It has now been moved to an XS module to reduce
    overhead for programs that do not use <span class="Li">&quot;%+&quot;</span>
    or <span class="Li">&quot;%-&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Multiple_small_improvements_to_threads"><a class="permalink" href="#Multiple_small_improvements_to_threads">Multiple
  small improvements to threads</a></h2>
<p class="Pp">The internal structures of threading now make fewer API calls and
    fewer allocations, resulting in noticeably smaller object code.
    Additionally, many thread context checks have been deferred so they're done
    only as needed (although this is only possible for non-debugging
  builds).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Adjacent_pairs_of_nextstate_opcodes_are_now_optimized_away"><a class="permalink" href="#Adjacent_pairs_of_nextstate_opcodes_are_now_optimized_away">Adjacent
  pairs of nextstate opcodes are now optimized away</a></h2>
<p class="Pp">Previously, in code such as</p>
<p class="Pp"></p>
<pre>    use constant DEBUG =&gt; 0;
    sub GAK {
        warn if DEBUG;
        print &quot;stuff\n&quot;;
    }
</pre>
<p class="Pp">the ops for <span class="Li">&quot;warn if DEBUG&quot;</span>
    would be folded to a <span class="Li">&quot;null&quot;</span> op
    (<span class="Li">&quot;ex-const&quot;</span>), but the
    <span class="Li">&quot;nextstate&quot;</span> op would remain, resulting in
    a runtime op dispatch of <span class="Li">&quot;nextstate&quot;</span>,
    <span class="Li">&quot;nextstate&quot;</span>, etc.</p>
<p class="Pp">The execution of a sequence of
    <span class="Li">&quot;nextstate&quot;</span> ops is indistinguishable from
    just the last <span class="Li">&quot;nextstate&quot;</span> op so the
    peephole optimizer now eliminates the first of a pair of
    <span class="Li">&quot;nextstate&quot;</span> ops except when the first
    carries a label, since labels must not be eliminated by the optimizer, and
    label usage isn't conclusively known at compile time.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Modules_and_Pragmata"><a class="permalink" href="#New_Modules_and_Pragmata">New
  Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li>CPAN::Meta::YAML 0.003 has been added as a dual-life module. It supports a
      subset of YAML sufficient for reading and writing <i>META.yml</i> and
      <i>MYMETA.yml</i> files included with CPAN distributions or generated by
      the module installation toolchain. It should not be used for any other
      general YAML parsing or generation task.</li>
  <li>CPAN::Meta version 2.110440 has been added as a dual-life module. It
      provides a standard library to read, interpret and write CPAN distribution
      metadata files (like <i>META.json</i> and <i>META.yml</i>) that describe a
      distribution, its contents, and the requirements for building it and
      installing it. The latest CPAN distribution metadata specification is
      included as CPAN::Meta::Spec and notes on changes in the specification
      over time are given in CPAN::Meta::History.</li>
  <li>HTTP::Tiny 0.012 has been added as a dual-life module. It is a very small,
      simple HTTP/1.1 client designed for simple GET requests and file
      mirroring. It has been added so that <i>CPAN.pm</i> and CPANPLUS can
      &quot;bootstrap&quot; HTTP access to CPAN using pure Perl without relying
      on external binaries like <b>curl</b>(1) or <b>wget</b>(1).</li>
  <li>JSON::PP 2.27105 has been added as a dual-life module to allow CPAN
      clients to read <i>META.json</i> files in CPAN distributions.</li>
  <li>Module::Metadata 1.000004 has been added as a dual-life module. It gathers
      package and POD information from Perl module files. It is a standalone
      module based on Module::Build::ModuleInfo for use by other module
      installation toolchain components. Module::Build::ModuleInfo has been
      deprecated in favor of this module instead.</li>
  <li>Perl::OSType 1.002 has been added as a dual-life module. It maps Perl
      operating system names (like &quot;dragonfly&quot; or &quot;MSWin32&quot;)
      to more generic types with standardized names (like &quot;Unix&quot; or
      &quot;Windows&quot;). It has been refactored out of Module::Build and
      ExtUtils::CBuilder and consolidates such mappings into a single location
      for easier maintenance.</li>
  <li>The following modules were added by the Unicode::Collate upgrade. See
      below for details.
    <p class="Pp">Unicode::Collate::CJK::Big5</p>
    <p class="Pp">Unicode::Collate::CJK::GB2312</p>
    <p class="Pp">Unicode::Collate::CJK::JISX0208</p>
    <p class="Pp">Unicode::Collate::CJK::Korean</p>
    <p class="Pp">Unicode::Collate::CJK::Pinyin</p>
    <p class="Pp">Unicode::Collate::CJK::Stroke</p>
  </li>
  <li>Version::Requirements version 0.101020 has been added as a dual-life
      module. It provides a standard library to model and manipulates module
      prerequisites and version constraints defined in CPAN::Meta::Spec.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Updated_Modules_and_Pragma"><a class="permalink" href="#Updated_Modules_and_Pragma">Updated
  Modules and Pragma</a></h2>
<ul class="Bl-bullet">
  <li>attributes has been upgraded from version 0.12 to 0.14.</li>
  <li>Archive::Extract has been upgraded from version 0.38 to 0.48.
    <p class="Pp">Updates since 0.38 include: a safe print method that guards
        Archive::Extract from changes to <span class="Li">&quot;$\&quot;</span>;
        a fix to the tests when run in core Perl; support for TZ files; a
        modification for the lzma logic to favour IO::Uncompress::Unlzma; and a
        fix for an issue with NetBSD-current and its new <b>unzip</b>(1)
        executable.</p>
  </li>
  <li>Archive::Tar has been upgraded from version 1.54 to 1.76.
    <p class="Pp">Important changes since 1.54 include the following:</p>
  </li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Compatibility with busybox implementations of <b>tar</b>(1).</li>
  <li>A fix so that <b>write()</b> and <b>create_archive()</b> close only
      filehandles they themselves opened.</li>
  <li>A bug was fixed regarding the exit code of extract_archive.</li>
  <li>The <b>ptar</b>(1) utility has a new option to allow safe creation of
      tarballs without world-writable files on Windows, allowing those archives
      to be uploaded to CPAN.</li>
  <li>A new <b>ptargrep</b>(1) utility for using regular expressions against the
      contents of files in a tar archive.</li>
  <li>pax extended headers are now skipped.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Attribute::Handlers has been upgraded from version 0.87 to 0.89.</li>
  <li>autodie has been upgraded from version 2.06_01 to 2.1001.</li>
  <li>AutoLoader has been upgraded from version 5.70 to 5.71.</li>
  <li>The B module has been upgraded from version 1.23 to 1.29.
    <p class="Pp">It no longer crashes when taking apart a
        <span class="Li">&quot;y///&quot;</span> containing characters outside
        the octet range or compiled in a <span class="Li">&quot;use
        utf8&quot;</span> scope.</p>
    <p class="Pp">The size of the shared object has been reduced by about 40%,
        with no reduction in functionality.</p>
  </li>
  <li>B::Concise has been upgraded from version 0.78 to 0.83.
    <p class="Pp">B::Concise marks <b>rv2sv()</b>, <b>rv2av()</b>, and
        <b>rv2hv()</b> ops with the new
        <span class="Li">&quot;OPpDEREF&quot;</span> flag as
      &quot;DREFed&quot;.</p>
    <p class="Pp">It no longer produces mangled output with the <b>-tree</b>
        option [perl #80632].</p>
  </li>
  <li>B::Debug has been upgraded from version 1.12 to 1.16.</li>
  <li>B::Deparse has been upgraded from version 0.96 to 1.03.
    <p class="Pp">The deparsing of a
        <span class="Li">&quot;nextstate&quot;</span> op has changed when it has
        both a change of package relative to the previous nextstate, or a change
        of <span class="Li">&quot;%^H&quot;</span> or other state and a label.
        The label was previously emitted first, but is now emitted last
        (5.12.1).</p>
    <p class="Pp">The <span class="Li">&quot;no 5.13.2&quot;</span> or similar
        form is now correctly handled by B::Deparse (5.12.3).</p>
    <p class="Pp">B::Deparse now properly handles the code that applies a
        conditional pattern match against implicit <span class="Li">$_</span> as
        it was fixed in [perl #20444].</p>
    <p class="Pp">Deparsing of <span class="Li">&quot;our&quot;</span> followed
        by a variable with funny characters (as permitted under the
        <span class="Li">&quot;use utf8&quot;</span> pragma) has also been fixed
        [perl #33752].</p>
  </li>
  <li>B::Lint has been upgraded from version 1.11_01 to 1.13.</li>
  <li>base has been upgraded from version 2.15 to 2.16.</li>
  <li>Benchmark has been upgraded from version 1.11 to 1.12.</li>
  <li>bignum has been upgraded from version 0.23 to 0.27.</li>
  <li>Carp has been upgraded from version 1.15 to 1.20.
    <p class="Pp">Carp now detects incomplete <b>caller()</b> overrides and
        avoids using bogus <span class="Li">@DB::args</span>. To provide
        backtraces, Carp relies on particular behaviour of the <b>caller()</b>
        builtin. Carp now detects if other code has overridden this with an
        incomplete implementation, and modifies its backtrace accordingly.
        Previously incomplete overrides would cause incorrect values in
        backtraces (best case), or obscure fatal errors (worst case).</p>
    <p class="Pp">This fixes certain cases of &quot;Bizarre copy of ARRAY&quot;
        caused by modules overriding <b>caller()</b> incorrectly (5.12.2).</p>
    <p class="Pp">It now also avoids using regular expressions that cause Perl
        to load its Unicode tables, so as to avoid the &quot;BEGIN not safe
        after errors&quot; error that ensue if there has been a syntax error
        [perl #82854].</p>
  </li>
  <li>CGI has been upgraded from version 3.48 to 3.52.
    <p class="Pp">This provides the following security fixes: the MIME boundary
        in <b>multipart_init()</b> is now random and the handling of newlines
        embedded in header values has been improved.</p>
  </li>
  <li>Compress::Raw::Bzip2 has been upgraded from version 2.024 to 2.033.
    <p class="Pp">It has been updated to use <b>bzip2</b>(1) 1.0.6.</p>
  </li>
  <li>Compress::Raw::Zlib has been upgraded from version 2.024 to 2.033.</li>
  <li>constant has been upgraded from version 1.20 to 1.21.
    <p class="Pp">Unicode constants work once more. They have been broken since
        Perl 5.10.0 [CPAN RT #67525].</p>
  </li>
  <li>CPAN has been upgraded from version 1.94_56 to 1.9600.
    <p class="Pp">Major highlights:</p>
  </li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>much less configuration dialog hassle</li>
  <li>support for <i>META/MYMETA.json</i></li>
  <li>support for local::lib</li>
  <li>support for HTTP::Tiny to reduce the dependency on FTP sites</li>
  <li>automatic mirror selection</li>
  <li>iron out all known bugs in configure_requires</li>
  <li>support for distributions compressed with <b>bzip2</b>(1)</li>
  <li>allow <i>Foo/Bar.pm</i> on the command line to mean
      <span class="Li">&quot;Foo::Bar&quot;</span></li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>CPANPLUS has been upgraded from version 0.90 to 0.9103.
    <p class="Pp">A change to <i>cpanp-run-perl</i> resolves RT #55964
        &lt;http://rt.cpan.org/Public/Bug/Display.html?id=55964&gt; and RT
        #57106 &lt;http://rt.cpan.org/Public/Bug/Display.html?id=57106&gt;, both
        of which related to failures to install distributions that use
        <span class="Li">&quot;Module::Install::DSL&quot;</span> (5.12.2).</p>
    <p class="Pp">A dependency on Config was not recognised as a core module
        dependency. This has been fixed.</p>
    <p class="Pp">CPANPLUS now includes support for <i>META.json</i> and
        <i>MYMETA.json</i>.</p>
  </li>
  <li>CPANPLUS::Dist::Build has been upgraded from version 0.46 to 0.54.</li>
  <li>Data::Dumper has been upgraded from version 2.125 to 2.130_02.
    <p class="Pp">The indentation used to be off when
        <span class="Li">$Data::Dumper::Terse</span> was set. This has been
        fixed [perl #73604].</p>
    <p class="Pp">This upgrade also fixes a crash when using custom sort
        functions that might cause the stack to change [perl #74170].</p>
    <p class="Pp">Dumpxs no longer crashes with globs returned by
        <span class="Li">*$io_ref</span> [perl #72332].</p>
  </li>
  <li>DB_File has been upgraded from version 1.820 to 1.821.</li>
  <li>DBM_Filter has been upgraded from version 0.03 to 0.04.</li>
  <li>Devel::DProf has been upgraded from version 20080331.00 to 20110228.00.
    <p class="Pp">Merely loading Devel::DProf now no longer triggers profiling
        to start. Both <span class="Li">&quot;use Devel::DProf&quot;</span> and
        <span class="Li">&quot;perl -d:DProf ...&quot;</span> behave as before
        and start the profiler.</p>
    <p class="Pp"><b>NOTE</b>: Devel::DProf is deprecated and will be removed
        from a future version of Perl. We strongly recommend that you install
        and use Devel::NYTProf instead, as it offers significantly improved
        profiling and reporting.</p>
  </li>
  <li>Devel::Peek has been upgraded from version 1.04 to 1.07.</li>
  <li>Devel::SelfStubber has been upgraded from version 1.03 to 1.05.</li>
  <li>diagnostics has been upgraded from version 1.19 to 1.22.
    <p class="Pp">It now renders pod links slightly better, and has been taught
        to find descriptions for messages that share their descriptions with
        other messages.</p>
  </li>
  <li>Digest::MD5 has been upgraded from version 2.39 to 2.51.
    <p class="Pp">It is now safe to use this module in combination with
      threads.</p>
  </li>
  <li>Digest::SHA has been upgraded from version 5.47 to 5.61.
    <p class="Pp"><span class="Li">&quot;shasum&quot;</span> now more closely
        mimics <b>sha1sum</b>(1)/<b>md5sum</b>(1).</p>
    <p class="Pp"><span class="Li">&quot;addfile&quot;</span> accepts all POSIX
        filenames.</p>
    <p class="Pp">New SHA-512/224 and SHA-512/256 transforms (ref. NIST Draft
        FIPS 180-4 [February 2011])</p>
  </li>
  <li>DirHandle has been upgraded from version 1.03 to 1.04.</li>
  <li>Dumpvalue has been upgraded from version 1.13 to 1.16.</li>
  <li>DynaLoader has been upgraded from version 1.10 to 1.13.
    <p class="Pp">It fixes a buffer overflow when passed a very long file
      name.</p>
    <p class="Pp">It no longer inherits from AutoLoader; hence it no longer
        produces weird error messages for unsuccessful method calls on classes
        that inherit from DynaLoader [perl #84358].</p>
  </li>
  <li>Encode has been upgraded from version 2.39 to 2.42.
    <p class="Pp">Now, all 66 Unicode non-characters are treated the same way
        U+FFFF has always been treated: in cases when it was disallowed, all 66
        are disallowed, and in cases where it warned, all 66 warn.</p>
  </li>
  <li>Env has been upgraded from version 1.01 to 1.02.</li>
  <li>Errno has been upgraded from version 1.11 to 1.13.
    <p class="Pp">The implementation of Errno has been refactored to use about
        55% less memory.</p>
    <p class="Pp">On some platforms with unusual header files, like Win32
        <b>gcc</b>(1) using <span class="Li">&quot;mingw64&quot;</span> headers,
        some constants that weren't actually error numbers have been exposed by
        Errno. This has been fixed [perl #77416].</p>
  </li>
  <li>Exporter has been upgraded from version 5.64_01 to 5.64_03.
    <p class="Pp">Exporter no longer overrides
        <span class="Li">$SIG{__WARN__}</span> [perl #74472]</p>
  </li>
  <li>ExtUtils::CBuilder has been upgraded from version 0.27 to 0.280203.</li>
  <li>ExtUtils::Command has been upgraded from version 1.16 to 1.17.</li>
  <li>ExtUtils::Constant has been upgraded from 0.22 to 0.23.
    <p class="Pp">The AUTOLOAD helper code generated by
        <span class="Li">&quot;ExtUtils::Constant::ProxySubs&quot;</span> can
        now <b>croak()</b> for missing constants, or generate a complete
        <span class="Li">&quot;AUTOLOAD&quot;</span> subroutine in XS, allowing
        simplification of many modules that use it (Fcntl, File::Glob,
        GDBM_File, I18N::Langinfo, POSIX, Socket).</p>
    <p class="Pp">ExtUtils::Constant::ProxySubs can now optionally push the
        names of all constants onto the package's
        <span class="Li">@EXPORT_OK</span>.</p>
  </li>
  <li>ExtUtils::Install has been upgraded from version 1.55 to 1.56.</li>
  <li>ExtUtils::MakeMaker has been upgraded from version 6.56 to 6.57_05.</li>
  <li>ExtUtils::Manifest has been upgraded from version 1.57 to 1.58.</li>
  <li>ExtUtils::ParseXS has been upgraded from version 2.21 to 2.2210.</li>
  <li>Fcntl has been upgraded from version 1.06 to 1.11.</li>
  <li>File::Basename has been upgraded from version 2.78 to 2.82.</li>
  <li>File::CheckTree has been upgraded from version 4.4 to 4.41.</li>
  <li>File::Copy has been upgraded from version 2.17 to 2.21.</li>
  <li>File::DosGlob has been upgraded from version 1.01 to 1.04.
    <p class="Pp">It allows patterns containing literal parentheses: they no
        longer need to be escaped. On Windows, it no longer adds an extra
        <i>./</i> to file names returned when the pattern is a relative glob
        with a drive specification, like <i>C:*.pl</i> [perl #71712].</p>
  </li>
  <li>File::Fetch has been upgraded from version 0.24 to 0.32.
    <p class="Pp">HTTP::Lite is now supported for the &quot;http&quot;
      scheme.</p>
    <p class="Pp">The <b>fetch</b>(1) utility is supported on FreeBSD, NetBSD,
        and Dragonfly BSD for the <span class="Li">&quot;http&quot;</span> and
        <span class="Li">&quot;ftp&quot;</span> schemes.</p>
  </li>
  <li>File::Find has been upgraded from version 1.15 to 1.19.
    <p class="Pp">It improves handling of backslashes on Windows, so that paths
        like <i>C:\dir\/file</i> are no longer generated [perl #71710].</p>
  </li>
  <li>File::Glob has been upgraded from version 1.07 to 1.12.</li>
  <li>File::Spec has been upgraded from version 3.31 to 3.33.
    <p class="Pp">Several portability fixes were made in File::Spec::VMS: a
        colon is now recognized as a delimiter in native filespecs;
        caret-escaped delimiters are recognized for better handling of extended
        filespecs; <b>catpath()</b> returns an empty directory rather than the
        current directory if the input directory name is empty; and
        <b>abs2rel()</b> properly handles Unix-style input (5.12.2).</p>
  </li>
  <li>File::stat has been upgraded from 1.02 to 1.05.
    <p class="Pp">The <span class="Li">&quot;-x&quot;</span> and
        <span class="Li">&quot;-X&quot;</span> file test operators now work
        correctly when run by the superuser.</p>
  </li>
  <li>Filter::Simple has been upgraded from version 0.84 to 0.86.</li>
  <li>GDBM_File has been upgraded from 1.10 to 1.14.
    <p class="Pp">This fixes a memory leak when DBM filters are used.</p>
  </li>
  <li>Hash::Util has been upgraded from 0.07 to 0.11.
    <p class="Pp">Hash::Util no longer emits spurious &quot;uninitialized&quot;
        warnings when recursively locking hashes that have undefined values
        [perl #74280].</p>
  </li>
  <li>Hash::Util::FieldHash has been upgraded from version 1.04 to 1.09.</li>
  <li>I18N::Collate has been upgraded from version 1.01 to 1.02.</li>
  <li>I18N::Langinfo has been upgraded from version 0.03 to 0.08.
    <p class="Pp"><b>langinfo()</b> now defaults to using
        <span class="Li">$_</span> if there is no argument given, just as the
        documentation has always claimed.</p>
  </li>
  <li>I18N::LangTags has been upgraded from version 0.35 to 0.35_01.</li>
  <li>if has been upgraded from version 0.05 to 0.0601.</li>
  <li>IO has been upgraded from version 1.25_02 to 1.25_04.
    <p class="Pp">This version of IO includes a new IO::Select, which now allows
        IO::Handle objects (and objects in derived classes) to be removed from
        an IO::Select set even if the underlying file descriptor is closed or
        invalid.</p>
  </li>
  <li>IPC::Cmd has been upgraded from version 0.54 to 0.70.
    <p class="Pp">Resolves an issue with splitting Win32 command lines. An
        argument consisting of the single character &quot;0&quot; used to be
        omitted (CPAN RT #62961).</p>
  </li>
  <li>IPC::Open3 has been upgraded from 1.05 to 1.09.
    <p class="Pp"><b>open3()</b> now produces an error if the
        <span class="Li">&quot;exec&quot;</span> call fails, allowing this
        condition to be distinguished from a child process that exited with a
        non-zero status [perl #72016].</p>
    <p class="Pp">The internal <b>xclose()</b> routine now knows how to handle
        file descriptors as documented, so duplicating
        <span class="Li">&quot;STDIN&quot;</span> in a child process using its
        file descriptor now works [perl #76474].</p>
  </li>
  <li>IPC::SysV has been upgraded from version 2.01 to 2.03.</li>
  <li>lib has been upgraded from version 0.62 to 0.63.</li>
  <li>Locale::Maketext has been upgraded from version 1.14 to 1.19.
    <p class="Pp">Locale::Maketext now supports external caches.</p>
    <p class="Pp">This upgrade also fixes an infinite loop in
        <span class="Li">&quot;Locale::Maketext::Guts::_compile()&quot;</span>
        when working with tainted values (CPAN RT #40727).</p>
    <p class="Pp"><span class="Li">&quot;-&gt;maketext&quot;</span> calls now
        back up and restore <span class="Li">$@</span> so error messages are not
        suppressed (CPAN RT #34182).</p>
  </li>
  <li>Log::Message has been upgraded from version 0.02 to 0.04.</li>
  <li>Log::Message::Simple has been upgraded from version 0.06 to 0.08.</li>
  <li>Math::BigInt has been upgraded from version 1.89_01 to 1.994.
    <p class="Pp">This fixes, among other things, incorrect results when
        computing binomial coefficients [perl #77640].</p>
    <p class="Pp">It also prevents
        <span class="Li">&quot;sqrt($int)&quot;</span> from crashing under
        <span class="Li">&quot;use bigrat&quot;</span>. [perl #73534].</p>
  </li>
  <li>Math::BigInt::FastCalc has been upgraded from version 0.19 to 0.28.</li>
  <li>Math::BigRat has been upgraded from version 0.24 to 0.26_02.</li>
  <li>Memoize has been upgraded from version 1.01_03 to 1.02.</li>
  <li>MIME::Base64 has been upgraded from 3.08 to 3.13.
    <p class="Pp">Includes new functions to calculate the length of encoded and
        decoded base64 strings.</p>
    <p class="Pp">Now provides <b>encode_base64url()</b> and
        <b>decode_base64url()</b> functions to process the base64 scheme for
        &quot;URL applications&quot;.</p>
  </li>
  <li>Module::Build has been upgraded from version 0.3603 to 0.3800.
    <p class="Pp">A notable change is the deprecation of several modules.
        Module::Build::Version has been deprecated and Module::Build now relies
        on the version pragma directly. Module::Build::ModuleInfo has been
        deprecated in favor of a standalone copy called Module::Metadata.
        Module::Build::YAML has been deprecated in favor of
      CPAN::Meta::YAML.</p>
    <p class="Pp">Module::Build now also generates <i>META.json</i> and
        <i>MYMETA.json</i> files in accordance with version 2 of the CPAN
        distribution metadata specification, CPAN::Meta::Spec. The older format
        <i>META.yml</i> and <i>MYMETA.yml</i> files are still generated.</p>
  </li>
  <li>Module::CoreList has been upgraded from version 2.29 to 2.47.
    <p class="Pp">Besides listing the updated core modules of this release, it
        also stops listing the <span class="Li">&quot;Filespec&quot;</span>
        module. That module never existed in core. The scripts generating
        Module::CoreList confused it with VMS::Filespec, which actually is a
        core module as of Perl 5.8.7.</p>
  </li>
  <li>Module::Load has been upgraded from version 0.16 to 0.18.</li>
  <li>Module::Load::Conditional has been upgraded from version 0.34 to
    0.44.</li>
  <li>The mro pragma has been upgraded from version 1.02 to 1.07.</li>
  <li>NDBM_File has been upgraded from version 1.08 to 1.12.
    <p class="Pp">This fixes a memory leak when DBM filters are used.</p>
  </li>
  <li>Net::Ping has been upgraded from version 2.36 to 2.38.</li>
  <li>NEXT has been upgraded from version 0.64 to 0.65.</li>
  <li>Object::Accessor has been upgraded from version 0.36 to 0.38.</li>
  <li>ODBM_File has been upgraded from version 1.07 to 1.10.
    <p class="Pp">This fixes a memory leak when DBM filters are used.</p>
  </li>
  <li>Opcode has been upgraded from version 1.15 to 1.18.</li>
  <li>The overload pragma has been upgraded from 1.10 to 1.13.
    <p class="Pp"><span class="Li">&quot;overload::Method&quot;</span> can now
        handle subroutines that are themselves blessed into overloaded classes
        [perl #71998].</p>
    <p class="Pp">The documentation has greatly improved. See
        &quot;Documentation&quot; below.</p>
  </li>
  <li>Params::Check has been upgraded from version 0.26 to 0.28.</li>
  <li>The parent pragma has been upgraded from version 0.223 to 0.225.</li>
  <li>Parse::CPAN::Meta has been upgraded from version 1.40 to 1.4401.
    <p class="Pp">The latest Parse::CPAN::Meta can now read YAML and JSON files
        using CPAN::Meta::YAML and JSON::PP, which are now part of the Perl
        core.</p>
  </li>
  <li>PerlIO::encoding has been upgraded from version 0.12 to 0.14.</li>
  <li>PerlIO::scalar has been upgraded from 0.07 to 0.11.
    <p class="Pp">A <b>read()</b> after a <b>seek()</b> beyond the end of the
        string no longer thinks it has data to read [perl #78716].</p>
  </li>
  <li>PerlIO::via has been upgraded from version 0.09 to 0.11.</li>
  <li>Pod::Html has been upgraded from version 1.09 to 1.11.</li>
  <li>Pod::LaTeX has been upgraded from version 0.58 to 0.59.</li>
  <li>Pod::Perldoc has been upgraded from version 3.15_02 to 3.15_03.</li>
  <li>Pod::Simple has been upgraded from version 3.13 to 3.16.</li>
  <li>POSIX has been upgraded from 1.19 to 1.24.
    <p class="Pp">It now includes constants for POSIX signal constants.</p>
  </li>
  <li>The re pragma has been upgraded from version 0.11 to 0.18.
    <p class="Pp">The <span class="Li">&quot;use re '/flags'&quot;</span>
        subpragma is new.</p>
    <p class="Pp">The <b>regmust()</b> function used to crash when called on a
        regular expression belonging to a pluggable engine. Now it croaks
        instead.</p>
    <p class="Pp"><b>regmust()</b> no longer leaks memory.</p>
  </li>
  <li>Safe has been upgraded from version 2.25 to 2.29.
    <p class="Pp">Coderefs returned by <b>reval()</b> and <b>rdo()</b> are now
        wrapped via <b>wrap_code_refs()</b> (5.12.1).</p>
    <p class="Pp">This fixes a possible infinite loop when looking for
      coderefs.</p>
    <p class="Pp">It adds several
        <span class="Li">&quot;version::vxs::*&quot;</span> routines to the
        default share.</p>
  </li>
  <li>SDBM_File has been upgraded from version 1.06 to 1.09.</li>
  <li>SelfLoader has been upgraded from 1.17 to 1.18.
    <p class="Pp">It now works in taint mode [perl #72062].</p>
  </li>
  <li>The sigtrap pragma has been upgraded from version 1.04 to 1.05.
    <p class="Pp">It no longer tries to modify read-only arguments when
        generating a backtrace [perl #72340].</p>
  </li>
  <li>Socket has been upgraded from version 1.87 to 1.94.
    <p class="Pp">See &quot;Improved IPv6 support&quot; above.</p>
  </li>
  <li>Storable has been upgraded from version 2.22 to 2.27.
    <p class="Pp">Includes performance improvement for overloaded classes.</p>
    <p class="Pp">This adds support for serialising code references that contain
        UTF-8 strings correctly. The Storable minor version number changed as a
        result, meaning that Storable users who set
        <span class="Li">$Storable::accept_future_minor</span> to a
        <span class="Li">&quot;FALSE&quot;</span> value will see errors (see
        &quot;FORWARD COMPATIBILITY&quot; in Storable for more details).</p>
    <p class="Pp">Freezing no longer gets confused if the Perl stack gets
        reallocated during freezing [perl #80074].</p>
  </li>
  <li>Sys::Hostname has been upgraded from version 1.11 to 1.16.</li>
  <li>Term::ANSIColor has been upgraded from version 2.02 to 3.00.</li>
  <li>Term::UI has been upgraded from version 0.20 to 0.26.</li>
  <li>Test::Harness has been upgraded from version 3.17 to 3.23.</li>
  <li>Test::Simple has been upgraded from version 0.94 to 0.98.
    <p class="Pp">Among many other things, subtests without a
        <span class="Li">&quot;plan&quot;</span> or
        <span class="Li">&quot;no_plan&quot;</span> now have an implicit
        <b>done_testing()</b> added to them.</p>
  </li>
  <li>Thread::Semaphore has been upgraded from version 2.09 to 2.12.
    <p class="Pp">It provides two new methods that give more control over the
        decrementing of semaphores: <span class="Li">&quot;down_nb&quot;</span>
        and <span class="Li">&quot;down_force&quot;</span>.</p>
  </li>
  <li>Thread::Queue has been upgraded from version 2.11 to 2.12.</li>
  <li>The threads pragma has been upgraded from version 1.75 to 1.83.</li>
  <li>The threads::shared pragma has been upgraded from version 1.32 to
    1.37.</li>
  <li>Tie::Hash has been upgraded from version 1.03 to 1.04.
    <p class="Pp">Calling
        <span class="Li">&quot;Tie::Hash-&gt;TIEHASH()&quot;</span> used to loop
        forever. Now it <span class="Li">&quot;croak&quot;</span>s.</p>
  </li>
  <li>Tie::Hash::NamedCapture has been upgraded from version 0.06 to 0.08.</li>
  <li>Tie::RefHash has been upgraded from version 1.38 to 1.39.</li>
  <li>Time::HiRes has been upgraded from version 1.9719 to 1.9721_01.</li>
  <li>Time::Local has been upgraded from version 1.1901_01 to 1.2000.</li>
  <li>Time::Piece has been upgraded from version 1.15_01 to 1.20_01.</li>
  <li>Unicode::Collate has been upgraded from version 0.52_01 to 0.73.
    <p class="Pp">Unicode::Collate has been updated to use Unicode 6.0.0.</p>
    <p class="Pp">Unicode::Collate::Locale now supports a plethora of new
        locales: <i>ar, be,</i> <i>bg, de__phonebook, hu, hy, kk, mk, nso, om,
        tn, vi, hr, ig, ja, ko, ru, sq,</i> <i>se, sr, to, uk, zh, zh__big5han,
        zh__gb2312han, zh__pinyin</i>, and <i>zh__stroke</i>.</p>
    <p class="Pp">The following modules have been added:</p>
    <p class="Pp">Unicode::Collate::CJK::Big5 for
        <span class="Li">&quot;zh__big5han&quot;</span> which makes tailoring of
        CJK Unified Ideographs in the order of CLDR's big5han ordering.</p>
    <p class="Pp">Unicode::Collate::CJK::GB2312 for
        <span class="Li">&quot;zh__gb2312han&quot;</span> which makes tailoring
        of CJK Unified Ideographs in the order of CLDR's gb2312han ordering.</p>
    <p class="Pp">Unicode::Collate::CJK::JISX0208 which makes tailoring of 6355
        kanji (CJK Unified Ideographs) in the JIS X 0208 order.</p>
    <p class="Pp">Unicode::Collate::CJK::Korean which makes tailoring of CJK
        Unified Ideographs in the order of CLDR's Korean ordering.</p>
    <p class="Pp">Unicode::Collate::CJK::Pinyin for
        <span class="Li">&quot;zh__pinyin&quot;</span> which makes tailoring of
        CJK Unified Ideographs in the order of CLDR's pinyin ordering.</p>
    <p class="Pp">Unicode::Collate::CJK::Stroke for
        <span class="Li">&quot;zh__stroke&quot;</span> which makes tailoring of
        CJK Unified Ideographs in the order of CLDR's stroke ordering.</p>
    <p class="Pp">This also sees the switch from using the pure-Perl version of
        this module to the XS version.</p>
  </li>
  <li>Unicode::Normalize has been upgraded from version 1.03 to 1.10.</li>
  <li>Unicode::UCD has been upgraded from version 0.27 to 0.32.
    <p class="Pp">A new function, <b>Unicode::UCD::num()</b>, has been added.
        This function returns the numeric value of the string passed it or
        <span class="Li">&quot;undef&quot;</span> if the string in its entirety
        has no &quot;safe&quot; numeric value. (For more detail, and for the
        definition of &quot;safe&quot;, see &quot;<b>num()</b>&quot; in
        Unicode::UCD.)</p>
    <p class="Pp">This upgrade also includes several bug fixes:</p>
  </li>
</ul>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="charinfo()"><a class="permalink" href="#charinfo()"><b>charinfo()</b></a></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>It is now updated to Unicode Version 6.0.0 with <i>Corrigendum #8</i>,
      excepting that, just as with Perl 5.14, the code point at U+1F514 has no
      name.</li>
  <li>Hangul syllable code points have the correct names, and their
      decompositions are always output without requiring
      Lingua::KO::Hangul::Util to be installed.</li>
  <li>CJK (Chinese-Japanese-Korean) code points U+2A700 to U+2B734 and U+2B740
      to U+2B81D are now properly handled.</li>
  <li>Numeric values are now output for those CJK code points that have
    them.</li>
  <li>Names output for code points with multiple aliases are now the corrected
      ones.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt id="charscript()"><a class="permalink" href="#charscript()"><b>charscript()</b></a></dt>
  <dd>This now correctly returns &quot;Unknown&quot; instead of
      <span class="Li">&quot;undef&quot;</span> for the script of a code point
      that hasn't been assigned another one.</dd>
  <dt id="charblock()"><a class="permalink" href="#charblock()"><b>charblock()</b></a></dt>
  <dd>This now correctly returns &quot;No_Block&quot; instead of
      <span class="Li">&quot;undef&quot;</span> for the block of a code point
      that hasn't been assigned to another one.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>The version pragma has been upgraded from 0.82 to 0.88.
    <p class="Pp">Because of a bug, now fixed, the <b>is_strict()</b> and
        <b>is_lax()</b> functions did not work when exported (5.12.1).</p>
  </li>
  <li>The warnings pragma has been upgraded from version 1.09 to 1.12.
    <p class="Pp">Calling <span class="Li">&quot;use warnings&quot;</span>
        without arguments is now significantly more efficient.</p>
  </li>
  <li>The warnings::register pragma has been upgraded from version 1.01 to 1.02.
    <p class="Pp">It is now possible to register warning categories other than
        the names of packages using warnings::register. See
        <b>perllexwarn</b>(1) for more information.</p>
  </li>
  <li>XSLoader has been upgraded from version 0.10 to 0.13.</li>
  <li>VMS::DCLsym has been upgraded from version 1.03 to 1.05.
    <p class="Pp">Two bugs have been fixed [perl #84086]:</p>
    <p class="Pp">The symbol table name was lost when tying a hash, due to a
        thinko in <span class="Li">&quot;TIEHASH&quot;</span>. The result was
        that all tied hashes interacted with the local symbol table.</p>
    <p class="Pp">Unless a symbol table name had been explicitly specified in
        the call to the constructor, querying the special key
        <span class="Li">&quot;:LOCAL&quot;</span> failed to identify objects
        connected to the local symbol table.</p>
  </li>
  <li>The Win32 module has been upgraded from version 0.39 to 0.44.
    <p class="Pp">This release has several new functions:
        <b>Win32::GetSystemMetrics()</b>, <b>Win32::GetProductInfo()</b>,
        <b>Win32::GetOSDisplayName()</b>.</p>
    <p class="Pp">The names returned by <b>Win32::GetOSName()</b> and
        <b>Win32::GetOSDisplayName()</b> have been corrected.</p>
  </li>
  <li>XS::Typemap has been upgraded from version 0.03 to 0.05.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Removed_Modules_and_Pragmata"><a class="permalink" href="#Removed_Modules_and_Pragmata">Removed
  Modules and Pragmata</a></h2>
<p class="Pp">As promised in Perl 5.12.0's release notes, the following modules
    have been removed from the core distribution, and if needed should be
    installed from CPAN instead.</p>
<ul class="Bl-bullet">
  <li>Class::ISA has been removed from the Perl core. Prior version was
    0.36.</li>
  <li>Pod::Plainer has been removed from the Perl core. Prior version was
    1.02.</li>
  <li>Switch has been removed from the Perl core. Prior version was 2.16.</li>
</ul>
<p class="Pp">The removal of Shell has been deferred until after 5.14, as the
    implementation of Shell shipped with 5.12.0 did not correctly issue the
    warning that it was to be removed from core.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Documentation"><a class="permalink" href="#Documentation">Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Documentation"><a class="permalink" href="#New_Documentation">New
  Documentation</a></h2>
<p class="Pp"><i>perlgpl</i></p>
<p class="Pp">perlgpl has been updated to contain GPL version 1, as is included
    in the <i>README</i> distributed with Perl (5.12.1).</p>
<p class="Pp"><i>Perl 5.12.x delta files</i></p>
<p class="Pp">The perldelta files for Perl 5.12.1 to 5.12.3 have been added from
    the maintenance branch: perl5121delta, perl5122delta, perl5123delta.</p>
<p class="Pp"><i>perlpodstyle</i></p>
<p class="Pp">New style guide for POD documentation, split mostly from the NOTES
    section of the <b>pod2man</b>(1) manpage.</p>
<p class="Pp"><i>perlsource, perlinterp, perlhacktut, and perlhacktips</i></p>
<p class="Pp">See &quot;perlhack and perlrepository revamp&quot;, below.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Documentation"><a class="permalink" href="#Changes_to_Existing_Documentation">Changes
  to Existing Documentation</a></h2>
<p class="Pp"><i>perlmodlib is now complete</i></p>
<p class="Pp">The perlmodlib manpage that came with Perl 5.12.0 was missing
    several modules due to a bug in the script that generates the list. This has
    been fixed [perl #74332] (5.12.1).</p>
<p class="Pp"><i>Replace incorrect tr/// table in perlebcdic</i></p>
<p class="Pp">perlebcdic contains a helpful table to use in
    <span class="Li">&quot;tr///&quot;</span> to convert between EBCDIC and
    Latin1/ASCII. The table was the inverse of the one it describes, though the
    code that used the table worked correctly for the specific example
  given.</p>
<p class="Pp">The table has been corrected and the sample code changed to
    correspond.</p>
<p class="Pp">The table has also been changed to hex from octal, and the recipes
    in the pod have been altered to print out leading zeros to make all values
    the same length.</p>
<p class="Pp"><i>Tricks for user-defined casing</i></p>
<p class="Pp">perlunicode now contains an explanation of how to override, mangle
    and otherwise tweak the way Perl handles upper-, lower- and other-case
    conversions on Unicode data, and how to provide scoped changes to alter
    one's own code's behaviour without stomping on anybody else's.</p>
<p class="Pp"><i>INSTALL explicitly states that Perl requires a C89
  compiler</i></p>
<p class="Pp">This was already true, but it's now Officially Stated For The
    Record (5.12.2).</p>
<p class="Pp"><i>Explanation of
    </i><span class="Li"><i>&quot;\x</i></span><span class="Li"><i>HH</i></span><span class="Li"><i>&quot;</i></span><i>
    and
    </i><span class="Li"><i>&quot;\o</i></span><span class="Li"><i>OOO</i></span><span class="Li"><i>&quot;</i></span><i>
    escapes</i></p>
<p class="Pp">perlop has been updated with more detailed explanation of these
    two character escapes.</p>
<p class="Pp"><i></i><b><i>-0</i></b><b><i>NNN</i></b><b><i></i></b><i>
    switch</i></p>
<p class="Pp">In perlrun, the behaviour of the <b>-0NNN</b> switch for
    <b>-0400</b> or higher has been clarified (5.12.2).</p>
<p class="Pp"><i>Maintenance policy</i></p>
<p class="Pp">perlpolicy now contains the policy on what patches are acceptable
    for maintenance branches (5.12.1).</p>
<p class="Pp"><i>Deprecation policy</i></p>
<p class="Pp">perlpolicy now contains the policy on compatibility and
    deprecation along with definitions of terms like &quot;deprecation&quot;
    (5.12.2).</p>
<p class="Pp"><i>New descriptions in perldiag</i></p>
<p class="Pp">The following existing diagnostics are now documented:</p>
<ul class="Bl-bullet">
  <li>Ambiguous use of <span class="Li">%c</span> resolved as operator
      <span class="Li">%c</span></li>
  <li>Ambiguous use of <span class="Li">%c</span>{%s} resolved to
      <span class="Li">%c</span>%s</li>
  <li>Ambiguous use of <span class="Li">%c</span>{%s[...]} resolved to
      <span class="Li">%c</span>%s[...]</li>
  <li>Ambiguous use of <span class="Li">%c</span>{%s{...}} resolved to
      <span class="Li">%c</span>%s{...}</li>
  <li>Ambiguous use of -%s resolved as -&amp;%s()</li>
  <li>Invalid strict version format (%s)</li>
  <li>Invalid version format (%s)</li>
  <li>Invalid version object</li>
</ul>
<p class="Pp"><i>perlbook</i></p>
<p class="Pp">perlbook has been expanded to cover many more popular books.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;SvTRUE&quot;</i></span><i>
    macro</i></p>
<p class="Pp">The documentation for the
    <span class="Li">&quot;SvTRUE&quot;</span> macro in perlapi was simply wrong
    in stating that get-magic is not processed. It has been corrected.</p>
<p class="Pp"><i>op manipulation functions</i></p>
<p class="Pp">Several API functions that process optrees have been newly
    documented.</p>
<p class="Pp"><i>perlvar revamp</i></p>
<p class="Pp">perlvar reorders the variables and groups them by topic. Each
    variable introduced after Perl 5.000 notes the first version in which it is
    available. perlvar also has a new section for deprecated variables to note
    when they were removed.</p>
<p class="Pp"><i>Array and hash slices in scalar context</i></p>
<p class="Pp">These are now documented in perldata.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;use locale&quot;</i></span><i>
    and formats</i></p>
<p class="Pp">perlform and perllocale have been corrected to state that
    <span class="Li">&quot;use locale&quot;</span> affects formats.</p>
<p class="Pp"><i>overload</i></p>
<p class="Pp">overload's documentation has practically undergone a rewrite. It
    is now much more straightforward and clear.</p>
<p class="Pp"><i>perlhack and perlrepository revamp</i></p>
<p class="Pp">The perlhack document is now much shorter, and focuses on the Perl
    5 development process and submitting patches to Perl. The technical content
    has been moved to several new documents, perlsource, perlinterp,
    perlhacktut, and perlhacktips. This technical content has been only lightly
    edited.</p>
<p class="Pp">The perlrepository document has been renamed to perlgit. This new
    document is just a how-to on using git with the Perl source code. Any other
    content that used to be in perlrepository has been moved to perlhack.</p>
<p class="Pp"><i>Time::Piece examples</i></p>
<p class="Pp">Examples in perlfaq4 have been updated to show the use of
    Time::Piece.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Diagnostics"><a class="permalink" href="#Diagnostics">Diagnostics</a></h1>
<p class="Pp">The following additions or changes have been made to diagnostic
    output, including warnings and fatal error messages. For the complete list
    of diagnostic messages, see perldiag.</p>
<section class="Ss">
<h2 class="Ss" id="New_Diagnostics"><a class="permalink" href="#New_Diagnostics">New
  Diagnostics</a></h2>
<p class="Pp"><i>New Errors</i></p>
<dl class="Bl-tag">
  <dt id="Closure"><a class="permalink" href="#Closure">Closure prototype
    called</a></dt>
  <dd>This error occurs when a subroutine reference passed to an attribute
      handler is called, if the subroutine is a closure [perl #68560].</dd>
  <dt id="Insecure"><a class="permalink" href="#Insecure">Insecure user-defined
    property %s</a></dt>
  <dd>Perl detected tainted data when trying to compile a regular expression
      that contains a call to a user-defined character property function,
      meaning <span class="Li">&quot;\p{IsFoo}&quot;</span> or
      <span class="Li">&quot;\p{InFoo}&quot;</span>. See &quot;User-Defined
      Character Properties&quot; in perlunicode and perlsec.</dd>
  <dt id="panic:"><a class="permalink" href="#panic:">panic: gp_free failed to
    free glob pointer - something is repeatedly re-creating entries</a></dt>
  <dd>This new error is triggered if a destructor called on an object in a
      typeglob that is being freed creates a new typeglob entry containing an
      object with a destructor that creates a new entry containing an object
      etc.</dd>
  <dt id="Parsing"><a class="permalink" href="#Parsing">Parsing code internal
    error (%s)</a></dt>
  <dd>This new fatal error is produced when parsing code supplied by an
      extension violates the parser's API in a detectable way.</dd>
  <dt id="refcnt:"><a class="permalink" href="#refcnt:">refcnt: fd %d%s</a></dt>
  <dd>This new error only occurs if an internal consistency check fails when a
      pipe is about to be closed.</dd>
  <dt id="Regexp"><a class="permalink" href="#Regexp">Regexp modifier
    &quot;/%c&quot; may not appear twice</a></dt>
  <dd>The regular expression pattern has one of the mutually exclusive modifiers
      repeated.</dd>
  <dt id="Regexp~2"><a class="permalink" href="#Regexp~2">Regexp modifiers
    &quot;/%c&quot; and &quot;/%c&quot; are mutually exclusive</a></dt>
  <dd>The regular expression pattern has more than one of the mutually exclusive
      modifiers.</dd>
  <dt id="Using"><a class="permalink" href="#Using">Using !~ with %s doesn't
    make sense</a></dt>
  <dd>This error occurs when <span class="Li">&quot;!~&quot;</span> is used with
      <span class="Li">&quot;s///r&quot;</span> or
      <span class="Li">&quot;y///r&quot;</span>.</dd>
</dl>
<p class="Pp"><i>New Warnings</i></p>
<dl class="Bl-tag">
  <dt>&quot;\b{&quot; is deprecated; use &quot;\b\{&quot; instead</dt>
  <dd></dd>
  <dt>&quot;\B{&quot; is deprecated; use &quot;\B\{&quot; instead</dt>
  <dd>Use of an unescaped &quot;{&quot; immediately following a
      <span class="Li">&quot;\b&quot;</span> or
      <span class="Li">&quot;\B&quot;</span> is now deprecated in order to
      reserve its use for Perl itself in a future release.</dd>
  <dt id="Operation"><a class="permalink" href="#Operation">Operation
    &quot;%s&quot; returns its argument for ...</a></dt>
  <dd>Performing an operation requiring Unicode semantics (such as case-folding)
      on a Unicode surrogate or a non-Unicode character now triggers this
      warning.</dd>
  <dt id="Use"><a class="permalink" href="#Use">Use of qw(...) as parentheses is
    deprecated</a></dt>
  <dd>See &quot;Use of qw(...) as parentheses&quot;, above, for details.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Diagnostics"><a class="permalink" href="#Changes_to_Existing_Diagnostics">Changes
  to Existing Diagnostics</a></h2>
<ul class="Bl-bullet">
  <li>The &quot;Variable <span class="Li">$foo</span> is not imported&quot;
      warning that precedes a <span class="Li">&quot;strict 'vars'&quot;</span>
      error has now been assigned the &quot;misc&quot; category, so that
      <span class="Li">&quot;no warnings&quot;</span> will suppress it [perl
      #73712].</li>
  <li><b>warn()</b> and <b>die()</b> now produce &quot;Wide character&quot;
      warnings when fed a character outside the byte range if
      <span class="Li">&quot;STDERR&quot;</span> is a byte-sized handle.</li>
  <li>The &quot;Layer does not match this perl&quot; error message has been
      replaced with these more helpful messages [perl #73754]:</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>PerlIO layer function table size (%d) does not match size expected by this
      perl (%d)</li>
  <li>PerlIO layer instance size (%d) does not match size expected by this perl
      (%d)</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>The &quot;Found = in conditional&quot; warning that is emitted when a
      constant is assigned to a variable in a condition is now withheld if the
      constant is actually a subroutine or one generated by
      <span class="Li">&quot;use constant&quot;</span>, since the value of the
      constant may not be known at the time the program is written [perl
      #77762].</li>
  <li>Previously, if none of the <b>gethostbyaddr()</b>, <b>gethostbyname()</b>
      and <b>gethostent()</b> functions were implemented on a given platform,
      they would all die with the message &quot;Unsupported socket function
      'gethostent' called&quot;, with analogous messages for getnet*() and
      getserv*(). This has been corrected.</li>
  <li>The warning message about unrecognized regular expression escapes passed
      through has been changed to include any literal &quot;{&quot; following
      the two-character escape. For example, &quot;\q{&quot; is now emitted
      instead of &quot;\q&quot;.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<p class="Pp"><i></i><b><i>perlbug</i></b><i>(1)</i></p>
<ul class="Bl-bullet">
  <li>perlbug now looks in the EMAIL environment variable for a return address
      if the REPLY-TO and REPLYTO variables are empty.</li>
  <li>perlbug did not previously generate a &quot;From:&quot; header,
      potentially resulting in dropped mail; it now includes that header.</li>
  <li>The user's address is now used as the Return-Path.
    <p class="Pp">Many systems these days don't have a valid Internet domain
        name, and perlbug@perl.org does not accept email with a return-path that
        does not resolve. So the user's address is now passed to sendmail so
        it's less likely to get stuck in a mail queue somewhere [perl
      #82996].</p>
  </li>
  <li>perlbug now always gives the reporter a chance to change the email address
      it guesses for them (5.12.2).</li>
  <li>perlbug should no longer warn about uninitialized values when using the
      <b>-d</b> and <b>-v</b> options (5.12.2).</li>
</ul>
<p class="Pp"><i>perl5db.pl</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The remote terminal works after forking and spawns new sessions, one per
      forked process.</dd>
</dl>
<p class="Pp"><i>ptargrep</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>ptargrep is a new utility to apply pattern matching to the contents of
      files in a tar archive. It comes with
      <span class="Li">&quot;Archive::Tar&quot;</span>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Configuration_and_Compilation"><a class="permalink" href="#Configuration_and_Compilation">Configuration
  and Compilation</a></h1>
<p class="Pp">See also &quot;Naming fixes in Policy_sh.SH may invalidate
    Policy.sh&quot;, above.</p>
<ul class="Bl-bullet">
  <li>CCINCDIR and CCLIBDIR for the mingw64 cross-compiler are now correctly
      under <i>$(CCHOME)\mingw\include</i> and <i>\lib</i> rather than
      immediately below <i>$(CCHOME)</i>.
    <p class="Pp">This means the &quot;incpath&quot;, &quot;libpth&quot;,
        &quot;ldflags&quot;, &quot;lddlflags&quot; and
        &quot;ldflags_nolargefiles&quot; values in <i>Config.pm</i> and
        <i>Config_heavy.pl</i> are now set correctly.</p>
  </li>
  <li><span class="Li">&quot;make test.valgrind&quot;</span> has been adjusted
      to account for <i>cpan/dist/ext</i> separation.</li>
  <li>On compilers that support it, <b>-Wwrite-strings</b> is now added to
      cflags by default.</li>
  <li>The Encode module can now (once again) be included in a static Perl build.
      The special-case handling for this situation got broken in Perl 5.11.0,
      and has now been repaired.</li>
  <li>The previous default size of a PerlIO buffer (4096 bytes) has been
      increased to the larger of 8192 bytes and your local BUFSIZ. Benchmarks
      show that doubling this decade-old default increases read and write
      performance by around 25% to 50% when using the default layers of perlio
      on top of unix. To choose a non-default size, such as to get back the old
      value or to obtain an even larger value, configure with:
    <p class="Pp"></p>
    <pre>     ./Configure -Accflags=-DPERLIOBUF_DEFAULT_BUFSIZ=N
    </pre>
    <p class="Pp">where N is the desired size in bytes; it should probably be a
        multiple of your page size.</p>
  </li>
  <li>An &quot;incompatible operand types&quot; error in ternary expressions
      when building with <span class="Li">&quot;clang&quot;</span> has been
      fixed (5.12.2).</li>
  <li>Perl now skips setuid File::Copy tests on partitions it detects mounted as
      <span class="Li">&quot;nosuid&quot;</span> (5.12.2).</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Support"><a class="permalink" href="#Platform_Support">Platform
  Support</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Platforms"><a class="permalink" href="#New_Platforms">New
  Platforms</a></h2>
<dl class="Bl-tag">
  <dt id="AIX"><a class="permalink" href="#AIX">AIX</a></dt>
  <dd>Perl now builds on AIX 4.2 (5.12.1).</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Discontinued_Platforms"><a class="permalink" href="#Discontinued_Platforms">Discontinued
  Platforms</a></h2>
<dl class="Bl-tag">
  <dt id="Apollo"><a class="permalink" href="#Apollo">Apollo DomainOS</a></dt>
  <dd>The last vestiges of support for this platform have been excised from the
      Perl distribution. It was officially discontinued in version 5.12.0. It
      had not worked for years before that.</dd>
  <dt id="MacOS"><a class="permalink" href="#MacOS">MacOS Classic</a></dt>
  <dd>The last vestiges of support for this platform have been excised from the
      Perl distribution. It was officially discontinued in an earlier
    version.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Platform-Specific_Notes"><a class="permalink" href="#Platform-Specific_Notes">Platform-Specific
  Notes</a></h2>
<p class="Pp"><i>AIX</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><i>README.aix</i> has been updated with information about the XL C/C++ V11
      compiler suite (5.12.2).</dd>
</dl>
<p class="Pp"><i>ARM</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The <span class="Li">&quot;d_u32align&quot;</span> configuration probe on
      ARM has been fixed (5.12.2).</dd>
</dl>
<p class="Pp"><i>Cygwin</i></p>
<ul class="Bl-bullet">
  <li>MakeMaker has been updated to build manpages on cygwin.</li>
  <li>Improved rebase behaviour
    <p class="Pp">If a DLL is updated on cygwin the old imagebase address is
        reused. This solves most rebase errors, especially when updating on core
        DLL's. See
        &lt;http://www.tishler.net/jason/software/rebase/rebase-2.4.2.README&gt;
        for more information.</p>
  </li>
  <li>Support for the standard cygwin dll prefix (needed for FFIs)</li>
  <li>Updated build hints file</li>
</ul>
<p class="Pp"><i>FreeBSD 7</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>FreeBSD 7 no longer contains <i>/usr/bin/objformat</i>. At build time,
      Perl now skips the <i>objformat</i> check for versions 7 and higher and
      assumes ELF (5.12.1).</dd>
</dl>
<p class="Pp"><i>HP-UX</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Perl now allows <b>-Duse64bitint</b> without promoting to
      <span class="Li">&quot;use64bitall&quot;</span> on HP-UX (5.12.1).</dd>
</dl>
<p class="Pp"><i>IRIX</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Conversion of strings to floating-point numbers is now more accurate on
      IRIX systems [perl #32380].</dd>
</dl>
<p class="Pp"><i>Mac OS X</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Early versions of Mac OS X (Darwin) had buggy implementations of the
      <b>setregid()</b>, <b>setreuid()</b>, setrgid(,) and <b>setruid()</b>
      functions, so Perl would pretend they did not exist.
    <p class="Pp">These functions are now recognised on Mac OS 10.5 (Leopard;
        Darwin 9) and higher, as they have been fixed [perl #72990].</p>
  </dd>
</dl>
<p class="Pp"><i>MirBSD</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Previously if you built Perl with a shared <i>libperl.so</i> on MirBSD
      (the default config), it would work up to the installation; however, once
      installed, it would be unable to find <i>libperl</i>. Path handling is now
      treated as in the other BSD dialects.</dd>
</dl>
<p class="Pp"><i>NetBSD</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The NetBSD hints file has been changed to make the system malloc the
      default.</dd>
</dl>
<p class="Pp"><i>OpenBSD</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>OpenBSD &gt; 3.7 has a new malloc implementation which is
      <i>mmap</i>-based, and as such can release memory back to the OS; however,
      Perl's use of this malloc causes a substantial slowdown, so we now default
      to using Perl's malloc instead [perl #75742].</dd>
</dl>
<p class="Pp"><i>OpenVOS</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Perl now builds again with OpenVOS (formerly known as Stratus VOS) [perl
      #78132] (5.12.3).</dd>
</dl>
<p class="Pp"><i>Solaris</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>DTrace is now supported on Solaris. There used to be build failures, but
      these have been fixed [perl #73630] (5.12.3).</dd>
</dl>
<p class="Pp"><i>VMS</i></p>
<ul class="Bl-bullet">
  <li>Extension building on older (pre 7.3-2) VMS systems was broken because
      configure.com hit the DCL symbol length limit of 1K. We now work within
      this limit when assembling the list of extensions in the core build
      (5.12.1).</li>
  <li>We fixed configuring and building Perl with <b>-Uuseperlio</b>
    (5.12.1).</li>
  <li><span class="Li">&quot;PerlIOUnix_open&quot;</span> now honours the
      default permissions on VMS.
    <p class="Pp">When <span class="Li">&quot;perlio&quot;</span> became the
        default and <span class="Li">&quot;unix&quot;</span> became the default
        bottom layer, the most common path for creating files from Perl became
        <span class="Li">&quot;PerlIOUnix_open&quot;</span>, which has always
        explicitly used <span class="Li">0666</span> as the permission mask.
        This prevents inheriting permissions from RMS defaults and ACLs, so to
        avoid that problem, we now pass <span class="Li">0777</span> to
        <b>open()</b>. In the VMS CRTL, <span class="Li">0777</span> has a
        special meaning over and above intersecting with the current umask;
        specifically, it allows Unix syscalls to preserve native default
        permissions (5.12.3).</p>
  </li>
  <li>The shortening of symbols longer than 31 characters in the core C sources
      and in extensions is now by default done by the C compiler rather than by
      xsubpp (which could only do so for generated symbols in XS code). You can
      reenable xsubpp's symbol shortening by configuring with
      -Uuseshortenedsymbols, but you'll have some work to do to get the core
      sources to compile.</li>
  <li>Record-oriented files (record format variable or variable with fixed
      control) opened for write by the
      <span class="Li">&quot;perlio&quot;</span> layer will now be line-buffered
      to prevent the introduction of spurious line breaks whenever the perlio
      buffer fills up.</li>
  <li><i>git_version.h</i> is now installed on VMS. This was an oversight in
      v5.12.0 which caused some extensions to fail to build (5.12.2).</li>
  <li>Several memory leaks in <b>stat()</b> have been fixed (5.12.2).</li>
  <li>A memory leak in <b>Perl_rename()</b> due to a double allocation has been
      fixed (5.12.2).</li>
  <li>A memory leak in <b>vms_fid_to_name()</b> (used by <b>realpath()</b> and
      <b>realname()</b>&gt; has been fixed (5.12.2).</li>
</ul>
<p class="Pp"><i>Windows</i></p>
<p class="Pp">See also &quot;<b>fork()</b> emulation will not wait for signalled
    children&quot; and &quot;Perl source code is read in text mode on
    Windows&quot;, above.</p>
<ul class="Bl-bullet">
  <li>Fixed build process for SDK2003SP1 compilers.</li>
  <li>Compilation with Visual Studio 2010 is now supported.</li>
  <li>When using old 32-bit compilers, the define
      <span class="Li">&quot;_USE_32BIT_TIME_T&quot;</span> is now set in
      <span class="Li">$Config{ccflags}</span>. This improves portability when
      compiling XS extensions using new compilers, but for a Perl compiled with
      old 32-bit compilers.</li>
  <li><span class="Li">$Config{gccversion}</span> is now set correctly when Perl
      is built using the mingw64 compiler from &lt;http://mingw64.org&gt; [perl
      #73754].</li>
  <li>When building Perl with the mingw64 x64 cross-compiler
      <span class="Li">&quot;incpath&quot;</span>,
      <span class="Li">&quot;libpth&quot;</span>,
      <span class="Li">&quot;ldflags&quot;</span>,
      <span class="Li">&quot;lddlflags&quot;</span> and
      <span class="Li">&quot;ldflags_nolargefiles&quot;</span> values in
      <i>Config.pm</i> and <i>Config_heavy.pl</i> were not previously being set
      correctly because, with that compiler, the include and lib directories are
      not immediately below <span class="Li">&quot;$(CCHOME)&quot;</span>
      (5.12.2).</li>
  <li>The build process proceeds more smoothly with mingw and dmake when
      <i>C:\MSYS\bin</i> is in the PATH, due to a
      <span class="Li">&quot;Cwd&quot;</span> fix.</li>
  <li>Support for building with Visual C++ 2010 is now underway, but is not yet
      complete. See <i>README.win32</i> or perlwin32 for more details.</li>
  <li>The option to use an externally-supplied <b>crypt()</b>, or to build with
      no <b>crypt()</b> at all, has been removed. Perl supplies its own
      <b>crypt()</b> implementation for Windows, and the political situation
      that required this part of the distribution to sometimes be omitted is
      long gone.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Internal_Changes"><a class="permalink" href="#Internal_Changes">Internal
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_APIs"><a class="permalink" href="#New_APIs">New
  APIs</a></h2>
<p class="Pp"><i>CLONE_PARAMS structure added to ease correct thread
    creation</i></p>
<p class="Pp">Modules that create threads should now create
    <span class="Li">&quot;CLONE_PARAMS&quot;</span> structures by calling the
    new function <b>Perl_clone_params_new()</b>, and free them with
    <b>Perl_clone_params_del()</b>. This will ensure compatibility with any
    future changes to the internals of the
    <span class="Li">&quot;CLONE_PARAMS&quot;</span> structure layout, and that
    it is correctly allocated and initialised.</p>
<p class="Pp"><i>New parsing functions</i></p>
<p class="Pp">Several functions have been added for parsing Perl statements and
    expressions. These functions are meant to be used by XS code invoked during
    Perl parsing, in a recursive-descent manner, to allow modules to augment the
    standard Perl syntax.</p>
<ul class="Bl-bullet">
  <li><b>parse_stmtseq()</b> parses a sequence of statements, up to closing
      brace or EOF.</li>
  <li><b>parse_fullstmt()</b> parses a complete Perl statement, including
      optional label.</li>
  <li><b>parse_barestmt()</b> parses a statement without a label.</li>
  <li><b>parse_block()</b> parses a code block.</li>
  <li><b>parse_label()</b> parses a statement label, separate from
    statements.</li>
  <li><span class="Li">&quot;parse_fullexpr()&quot;</span>,
      <span class="Li">&quot;parse_listexpr()&quot;</span>,
      <span class="Li">&quot;parse_termexpr()&quot;</span>, and
      <span class="Li">&quot;parse_arithexpr()&quot;</span> parse expressions at
      various precedence levels.</li>
</ul>
<p class="Pp"><i>Hints hash API</i></p>
<p class="Pp">A new C API for introspecting the hinthash
    <span class="Li">&quot;%^H&quot;</span> at runtime has been added. See
    <span class="Li">&quot;cop_hints_2hv&quot;</span>,
    <span class="Li">&quot;cop_hints_fetchpvn&quot;</span>,
    <span class="Li">&quot;cop_hints_fetchpvs&quot;</span>,
    <span class="Li">&quot;cop_hints_fetchsv&quot;</span>, and
    <span class="Li">&quot;hv_copy_hints_hv&quot;</span> in perlapi for
  details.</p>
<p class="Pp">A new, experimental API has been added for accessing the internal
    structure that Perl uses for <span class="Li">&quot;%^H&quot;</span>. See
    the functions beginning with <span class="Li">&quot;cophh_&quot;</span> in
    perlapi.</p>
<p class="Pp"><i>C interface to </i><b><i>caller()</i></b><i></i></p>
<p class="Pp">The <span class="Li">&quot;caller_cx&quot;</span> function has
    been added as an XSUB-writer's equivalent of <b>caller()</b>. See perlapi
    for details.</p>
<p class="Pp"><i>Custom per-subroutine check hooks</i></p>
<p class="Pp">XS code in an extension module can now annotate a subroutine
    (whether implemented in XS or in Perl) so that nominated XS code will be
    called at compile time (specifically as part of op checking) to change the
    op tree of that subroutine. The compile-time check function (supplied by the
    extension module) can implement argument processing that can't be expressed
    as a prototype, generate customised compile-time warnings, perform constant
    folding for a pure function, inline a subroutine consisting of sufficiently
    simple ops, replace the whole call with a custom op, and so on. This was
    previously all possible by hooking the
    <span class="Li">&quot;entersub&quot;</span> op checker, but the new
    mechanism makes it easy to tie the hook to a specific subroutine. See
    &quot;cv_set_call_checker&quot; in perlapi.</p>
<p class="Pp">To help in writing custom check hooks, several subtasks within
    standard <span class="Li">&quot;entersub&quot;</span> op checking have been
    separated out and exposed in the API.</p>
<p class="Pp"><i>Improved support for custom OPs</i></p>
<p class="Pp">Custom ops can now be registered with the new
    <span class="Li">&quot;custom_op_register&quot;</span> C function and the
    <span class="Li">&quot;XOP&quot;</span> structure. This will make it easier
    to add new properties of custom ops in the future. Two new properties have
    been added already, <span class="Li">&quot;xop_class&quot;</span> and
    <span class="Li">&quot;xop_peep&quot;</span>.</p>
<p class="Pp"><span class="Li">&quot;xop_class&quot;</span> is one of the OA_*OP
    constants. It allows B and other introspection mechanisms to work with
    custom ops that aren't BASEOPs. <span class="Li">&quot;xop_peep&quot;</span>
    is a pointer to a function that will be called for ops of this type from
    <span class="Li">&quot;Perl_rpeep&quot;</span>.</p>
<p class="Pp">See &quot;Custom Operators&quot; in perlguts and &quot;Custom
    Operators&quot; in perlapi for more detail.</p>
<p class="Pp">The old
    <span class="Li">&quot;PL_custom_op_names&quot;</span>/<span class="Li">&quot;PL_custom_op_descs&quot;</span>
    interface is still supported but discouraged.</p>
<p class="Pp"><i>Scope hooks</i></p>
<p class="Pp">It is now possible for XS code to hook into Perl's lexical scope
    mechanism at compile time, using the new
    <span class="Li">&quot;Perl_blockhook_register&quot;</span> function. See
    &quot;Compile-time scope hooks&quot; in perlguts.</p>
<p class="Pp"><i>The recursive part of the peephole optimizer is now
    hookable</i></p>
<p class="Pp">In addition to <span class="Li">&quot;PL_peepp&quot;</span>, for
    hooking into the toplevel peephole optimizer, a
    <span class="Li">&quot;PL_rpeepp&quot;</span> is now available to hook into
    the optimizer recursing into side-chains of the optree.</p>
<p class="Pp"><i>New non-magical variants of existing functions</i></p>
<p class="Pp">The following functions/macros have been added to the API. The
    <span class="Li">*_nomg</span> macros are equivalent to their
    non-<span class="Li">&quot;_nomg&quot;</span> variants, except that they
    ignore get-magic. Those ending in <span class="Li">&quot;_flags&quot;</span>
    allow one to specify whether get-magic is processed.</p>
<p class="Pp"></p>
<pre>  sv_2bool_flags
  SvTRUE_nomg
  sv_2nv_flags
  SvNV_nomg
  sv_cmp_flags
  sv_cmp_locale_flags
  sv_eq_flags
  sv_collxfrm_flags
</pre>
<p class="Pp">In some of these cases, the
    non-<span class="Li">&quot;_flags&quot;</span> functions have been replaced
    with wrappers around the new functions.</p>
<p class="Pp"><i>pv/pvs/sv versions of existing functions</i></p>
<p class="Pp">Many functions ending with pvn now have equivalent
    <span class="Li">&quot;pv/pvs/sv&quot;</span> versions.</p>
<p class="Pp"><i>List op-building functions</i></p>
<p class="Pp">List op-building functions have been added to the API. See
    op_append_elem, op_append_list, and op_prepend_elem in perlapi.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;LINKLIST&quot;</i></span><i></i></p>
<p class="Pp">The LINKLIST macro, part of op building that constructs the
    execution-order op chain, has been added to the API.</p>
<p class="Pp"><i>Localisation functions</i></p>
<p class="Pp">The <span class="Li">&quot;save_freeop&quot;</span>,
    <span class="Li">&quot;save_op&quot;</span>,
    <span class="Li">&quot;save_pushi32ptr&quot;</span> and
    <span class="Li">&quot;save_pushptrptr&quot;</span> functions have been
    added to the API.</p>
<p class="Pp"><i>Stash names</i></p>
<p class="Pp">A stash can now have a list of effective names in addition to its
    usual name. The first effective name can be accessed via the
    <span class="Li">&quot;HvENAME&quot;</span> macro, which is now the
    recommended name to use in MRO linearisations
    (<span class="Li">&quot;HvNAME&quot;</span> being a fallback if there is no
    <span class="Li">&quot;HvENAME&quot;</span>).</p>
<p class="Pp">These names are added and deleted via
    <span class="Li">&quot;hv_ename_add&quot;</span> and
    <span class="Li">&quot;hv_ename_delete&quot;</span>. These two functions are
    <i>not</i> part of the API.</p>
<p class="Pp"><i>New functions for finding and removing magic</i></p>
<p class="Pp">The <span class="Li">&quot;mg_findext()&quot;</span> and
    <span class="Li">&quot;sv_unmagicext()&quot;</span> functions have been
    added to the API. They allow extension authors to find and remove magic
    attached to scalars based on both the magic type and the magic virtual
    table, similar to how <b>sv_magicext()</b> attaches magic of a certain type
    and with a given virtual table to a scalar. This eliminates the need for
    extensions to walk the list of <span class="Li">&quot;MAGIC&quot;</span>
    pointers of an <span class="Li">&quot;SV&quot;</span> to find the magic that
    belongs to them.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;find_rundefsv&quot;</i></span><i></i></p>
<p class="Pp">This function returns the SV representing
    <span class="Li">$_</span>, whether it's lexical or dynamic.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;Perl_croak_no_modify&quot;</i></span><i></i></p>
<p class="Pp"><b>Perl_croak_no_modify()</b> is short-hand for
    <span class="Li">&quot;Perl_croak(&quot;%s&quot;,
    PL_no_modify)&quot;</span>.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;PERL_STATIC_INLINE&quot;</i></span><i>
    define</i></p>
<p class="Pp">The <span class="Li">&quot;PERL_STATIC_INLINE&quot;</span> define
    has been added to provide the best-guess incantation to use for static
    inline functions, if the C compiler supports C99-style static inline. If it
    doesn't, it'll give a plain <span class="Li">&quot;static&quot;</span>.</p>
<p class="Pp"><span class="Li">&quot;HAS_STATIC_INLINE&quot;</span> can be used
    to check if the compiler actually supports inline functions.</p>
<p class="Pp"><i>New </i><span class="Li"><i>&quot;pv_escape&quot;</i></span><i>
    option for hexadecimal escapes</i></p>
<p class="Pp">A new option,
    <span class="Li">&quot;PERL_PV_ESCAPE_NONASCII&quot;</span>, has been added
    to <span class="Li">&quot;pv_escape&quot;</span> to dump all characters
    above ASCII in hexadecimal. Before, one could get all characters as
    hexadecimal or the Latin1 non-ASCII as octal.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;lex_start&quot;</i></span><i></i></p>
<p class="Pp"><span class="Li">&quot;lex_start&quot;</span> has been added to
    the API, but is considered experimental.</p>
<p class="Pp"><i></i><b><i>op_scope()</i></b><i> and
    </i><b><i>op_lvalue()</i></b><i></i></p>
<p class="Pp">The <b>op_scope()</b> and <b>op_lvalue()</b> functions have been
    added to the API, but are considered experimental.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="C_"><a class="permalink" href="#C_">C API Changes</a></h2>
<p class="Pp"><i></i><span class="Li"><i>&quot;PERL_POLLUTE&quot;</i></span><i>
    has been removed</i></p>
<p class="Pp">The option to define
    <span class="Li">&quot;PERL_POLLUTE&quot;</span> to expose older 5.005
    symbols for backwards compatibility has been removed. Its use was always
    discouraged, and MakeMaker contains a more specific escape hatch:</p>
<p class="Pp"></p>
<pre>    perl Makefile.PL POLLUTE=1
</pre>
<p class="Pp">This can be used for modules that have not been upgraded to 5.6
    naming conventions (and really should be completely obsolete by now).</p>
<p class="Pp"><i>Check API compatibility when loading XS modules</i></p>
<p class="Pp">When Perl's API changes in incompatible ways (which usually
    happens between major releases), XS modules compiled for previous versions
    of Perl will no longer work. They need to be recompiled against the new
    Perl.</p>
<p class="Pp">The <span class="Li">&quot;XS_APIVERSION_BOOTCHECK&quot;</span>
    macro has been added to ensure that modules are recompiled and to prevent
    users from accidentally loading modules compiled for old perls into newer
    perls. That macro, which is called when loading every newly compiled
    extension, compares the API version of the running perl with the version a
    module has been compiled for and raises an exception if they don't
  match.</p>
<p class="Pp"><i>Perl_fetch_cop_label</i></p>
<p class="Pp">The first argument of the C API function
    <span class="Li">&quot;Perl_fetch_cop_label&quot;</span> has changed from
    <span class="Li">&quot;struct refcounted_he *&quot;</span> to
    <span class="Li">&quot;COP *&quot;</span>, to insulate the user from
    implementation details.</p>
<p class="Pp">This API function was marked as &quot;may change&quot;, and likely
    isn't in use outside the core. (Neither an unpacked CPAN nor Google's
    codesearch finds any other references to it.)</p>
<p class="Pp"><i></i><b><i>GvCV()</i></b><i> and </i><b><i>GvGP()</i></b><i> are
    no longer lvalues</i></p>
<p class="Pp">The new <b>GvCV_set()</b> and <b>GvGP_set()</b> macros are now
    provided to replace assignment to those two macros.</p>
<p class="Pp">This allows a future commit to eliminate some backref magic
    between GV and CVs, which will require complete control over assignment to
    the <span class="Li">&quot;gp_cv&quot;</span> slot.</p>
<p class="Pp"><i></i><b><i>CvGV()</i></b><i> is no longer an lvalue</i></p>
<p class="Pp">Under some circumstances, the <b>CvGV()</b> field of a CV is now
    reference-counted. To ensure consistent behaviour, direct assignment to it,
    for example <span class="Li">&quot;CvGV(cv) = gv&quot;</span> is now a
    compile-time error. A new macro,
    <span class="Li">&quot;CvGV_set(cv,gv)&quot;</span> has been introduced to
    run this operation safely. Note that modification of this field is not part
    of the public API, regardless of this new macro (and despite its being
    listed in this section).</p>
<p class="Pp"><i></i><b><i>CvSTASH()</i></b><i> is no longer an lvalue</i></p>
<p class="Pp">The <b>CvSTASH()</b> macro can now only be used as an rvalue.
    <b>CvSTASH_set()</b> has been added to replace assignment to
    <b>CvSTASH()</b>. This is to ensure that backreferences are handled
    properly. These macros are not part of the API.</p>
<p class="Pp"><i>Calling conventions for
    </i><span class="Li"><i>&quot;newFOROP&quot;</i></span><i> and
    </i><span class="Li"><i>&quot;newWHILEOP&quot;</i></span><i></i></p>
<p class="Pp">The way the parser handles labels has been cleaned up and
    refactored. As a result, the <b>newFOROP()</b> constructor function no
    longer takes a parameter stating what label is to go in the state op.</p>
<p class="Pp">The <b>newWHILEOP()</b> and <b>newFOROP()</b> functions no longer
    accept a line number as a parameter.</p>
<p class="Pp"><i>Flags passed to
    </i><span class="Li"><i>&quot;uvuni_to_utf8_flags&quot;</i></span><i> and
    </i><span class="Li"><i>&quot;utf8n_to_uvuni&quot;</i></span><i></i></p>
<p class="Pp">Some of the flags parameters to <b>uvuni_to_utf8_flags()</b> and
    <b>utf8n_to_uvuni()</b> have changed. This is a result of Perl's now
    allowing internal storage and manipulation of code points that are
    problematic in some situations. Hence, the default actions for these
    functions has been complemented to allow these code points. The new flags
    are documented in perlapi. Code that requires the problematic code points to
    be rejected needs to change to use the new flags. Some flag names are
    retained for backward source compatibility, though they do nothing, as they
    are now the default. However the flags
    <span class="Li">&quot;UNICODE_ALLOW_FDD0&quot;</span>,
    <span class="Li">&quot;UNICODE_ALLOW_FFFF&quot;</span>,
    <span class="Li">&quot;UNICODE_ILLEGAL&quot;</span>, and
    <span class="Li">&quot;UNICODE_IS_ILLEGAL&quot;</span> have been removed, as
    they stem from a fundamentally broken model of how the Unicode non-character
    code points should be handled, which is now described in &quot;Non-character
    code points&quot; in perlunicode. See also the Unicode section under
    &quot;Selected Bug Fixes&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Deprecated_C_APIs"><a class="permalink" href="#Deprecated_C_APIs">Deprecated
  C APIs</a></h2>
<dl class="Bl-tag">
  <dt>&quot;Perl_ptr_table_clear&quot;</dt>
  <dd><span class="Li">&quot;Perl_ptr_table_clear&quot;</span> is no longer part
      of Perl's public API. Calling it now generates a deprecation warning, and
      it will be removed in a future release.</dd>
  <dt>&quot;sv_compile_2op&quot;</dt>
  <dd>The <b>sv_compile_2op()</b> API function is now deprecated. Searches
      suggest that nothing on CPAN is using it, so this should have zero impact.
    <p class="Pp">It attempted to provide an API to compile code down to an
        optree, but failed to bind correctly to lexicals in the enclosing scope.
        It's not possible to fix this problem within the constraints of its
        parameters and return value.</p>
  </dd>
  <dt>&quot;find_rundefsvoffset&quot;</dt>
  <dd>The <span class="Li">&quot;find_rundefsvoffset&quot;</span> function has
      been deprecated. It appeared that its design was insufficient for reliably
      getting the lexical <span class="Li">$_</span> at run-time.
    <p class="Pp">Use the new <span class="Li">&quot;find_rundefsv&quot;</span>
        function or the <span class="Li">&quot;UNDERBAR&quot;</span> macro
        instead. They directly return the right SV representing
        <span class="Li">$_</span>, whether it's lexical or dynamic.</p>
  </dd>
  <dt>&quot;CALL_FPTR&quot; and &quot;CPERLscope&quot;</dt>
  <dd>Those are left from an old implementation of
      <span class="Li">&quot;MULTIPLICITY&quot;</span> using C++ objects, which
      was removed in Perl 5.8. Nowadays these macros do exactly nothing, so they
      shouldn't be used anymore.
    <p class="Pp">For compatibility, they are still defined for external
        <span class="Li">&quot;XS&quot;</span> code. Only extensions defining
        <span class="Li">&quot;PERL_CORE&quot;</span> must be updated now.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Other_Internal_Changes"><a class="permalink" href="#Other_Internal_Changes">Other
  Internal Changes</a></h2>
<p class="Pp"><i>Stack unwinding</i></p>
<p class="Pp">The protocol for unwinding the C stack at the last stage of a
    <span class="Li">&quot;die&quot;</span> has changed how it identifies the
    target stack frame. This now uses a separate variable
    <span class="Li">&quot;PL_restartjmpenv&quot;</span>, where previously it
    relied on the <span class="Li">&quot;blk_eval.cur_top_env&quot;</span>
    pointer in the <span class="Li">&quot;eval&quot;</span> context frame that
    has nominally just been discarded. This change means that code running
    during various stages of Perl-level unwinding no longer needs to take care
    to avoid destroying the ghost frame.</p>
<p class="Pp"><i>Scope stack entries</i></p>
<p class="Pp">The format of entries on the scope stack has been changed,
    resulting in a reduction of memory usage of about 10%. In particular, the
    memory used by the scope stack to record each active lexical variable has
    been halved.</p>
<p class="Pp"><i>Memory allocation for pointer tables</i></p>
<p class="Pp">Memory allocation for pointer tables has been changed. Previously
    <span class="Li">&quot;Perl_ptr_table_store&quot;</span> allocated memory
    from the same arena system as <span class="Li">&quot;SV&quot;</span> bodies
    and <span class="Li">&quot;HE&quot;</span>s, with freed memory remaining
    bound to those arenas until interpreter exit. Now it allocates memory from
    arenas private to the specific pointer table, and that memory is returned to
    the system when <span class="Li">&quot;Perl_ptr_table_free&quot;</span> is
    called. Additionally, allocation and release are both less CPU
  intensive.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;UNDERBAR&quot;</i></span><i></i></p>
<p class="Pp">The <span class="Li">&quot;UNDERBAR&quot;</span> macro now calls
    <span class="Li">&quot;find_rundefsv&quot;</span>.
    <span class="Li">&quot;dUNDERBAR&quot;</span> is now a noop but should still
    be used to ensure past and future compatibility.</p>
<p class="Pp"><i>String comparison routines renamed</i></p>
<p class="Pp">The <span class="Li">&quot;ibcmp_*&quot;</span> functions have
    been renamed and are now called <span class="Li">&quot;foldEQ&quot;</span>,
    <span class="Li">&quot;foldEQ_locale&quot;</span>, and
    <span class="Li">&quot;foldEQ_utf8&quot;</span>. The old names are still
    available as macros.</p>
<p class="Pp"><i></i><span class="Li"><i>&quot;chop&quot;</i></span><i> and
    </i><span class="Li"><i>&quot;chomp&quot;</i></span><i> implementations
    merged</i></p>
<p class="Pp">The opcode bodies for <span class="Li">&quot;chop&quot;</span> and
    <span class="Li">&quot;chomp&quot;</span> and for
    <span class="Li">&quot;schop&quot;</span> and
    <span class="Li">&quot;schomp&quot;</span> have been merged. The
    implementation functions <b>Perl_do_chop()</b> and <b>Perl_do_chomp()</b>,
    never part of the public API, have been merged and moved to a static
    function in <i>pp.c</i>. This shrinks the Perl binary slightly, and should
    not affect any code outside the core (unless it is relying on the order of
    side-effects when <span class="Li">&quot;chomp&quot;</span> is passed a
    <i>list</i> of values).</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<section class="Ss">
<h2 class="Ss" id="I/O"><a class="permalink" href="#I/O">I/O</a></h2>
<ul class="Bl-bullet">
  <li>Perl no longer produces this warning:
    <p class="Pp"></p>
    <pre>    $ perl -we 'open(my $f, &quot;&gt;&quot;, \my $x); binmode($f, &quot;scalar&quot;)'
    Use of uninitialized value in binmode at -e line 1.
    </pre>
  </li>
  <li>Opening a glob reference via <span class="Li">&quot;open($fh,
      &quot;&gt;&quot;, \*glob)&quot;</span> no longer causes the glob to be
      corrupted when the filehandle is printed to. This would cause Perl to
      crash whenever the glob's contents were accessed [perl #77492].</li>
  <li>PerlIO no longer crashes when called recursively, such as from a signal
      handler. Now it just leaks memory [perl #75556].</li>
  <li>Most I/O functions were not warning for unopened handles unless the
      &quot;closed&quot; and &quot;unopened&quot; warnings categories were both
      enabled. Now only <span class="Li">&quot;use warnings
      'unopened'&quot;</span> is necessary to trigger these warnings, as had
      always been the intention.</li>
  <li>There have been several fixes to PerlIO layers:
    <p class="Pp">When <span class="Li">&quot;binmode(FH,
        &quot;:crlf&quot;)&quot;</span> pushes the
        <span class="Li">&quot;:crlf&quot;</span> layer on top of the stack, it
        no longer enables crlf layers lower in the stack so as to avoid
        unexpected results [perl #38456].</p>
    <p class="Pp">Opening a file in <span class="Li">&quot;:raw&quot;</span>
        mode now does what it advertises to do (first open the file, then
        <span class="Li">&quot;binmode&quot;</span> it), instead of simply
        leaving off the top layer [perl #80764].</p>
    <p class="Pp">The three layers <span class="Li">&quot;:pop&quot;</span>,
        <span class="Li">&quot;:utf8&quot;</span>, and
        <span class="Li">&quot;:bytes&quot;</span> didn't allow stacking when
        opening a file. For example this:</p>
    <p class="Pp"></p>
    <pre>    open(FH, &quot;&gt;:pop:perlio&quot;, &quot;some.file&quot;) or die $!;
    </pre>
    <p class="Pp">would throw an &quot;Invalid argument&quot; error. This has
        been fixed in this release [perl #82484].</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Regular_Expression_Bug_Fixes"><a class="permalink" href="#Regular_Expression_Bug_Fixes">Regular
  Expression Bug Fixes</a></h2>
<ul class="Bl-bullet">
  <li>The regular expression engine no longer loops when matching
      <span class="Li">&quot;&quot;\N{LATIN SMALL LIGATURE FF}&quot; =~
      /f+/i&quot;</span> and similar expressions [perl #72998] (5.12.1).</li>
  <li>The trie runtime code should no longer allocate massive amounts of memory,
      fixing #74484.</li>
  <li>Syntax errors in <span class="Li">&quot;(?{...})&quot;</span> blocks no
      longer cause panic messages [perl #2353].</li>
  <li>A pattern like <span class="Li">&quot;(?:(o){2})?&quot;</span> no longer
      causes a &quot;panic&quot; error [perl #39233].</li>
  <li>A fatal error in regular expressions containing
      <span class="Li">&quot;(.*?)&quot;</span> when processing UTF-8 data has
      been fixed [perl #75680] (5.12.2).</li>
  <li>An erroneous regular expression engine optimisation that caused regex
      verbs like <span class="Li">*COMMIT</span> sometimes to be ignored has
      been removed.</li>
  <li>The regular expression bracketed character class
      <span class="Li">&quot;[\8\9]&quot;</span> was effectively the same as
      <span class="Li">&quot;[89\000]&quot;</span>, incorrectly matching a NULL
      character. It also gave incorrect warnings that the
      <span class="Li">8</span> and <span class="Li">9</span> were ignored. Now
      <span class="Li">&quot;[\8\9]&quot;</span> is the same as
      <span class="Li">&quot;[89]&quot;</span> and gives legitimate warnings
      that <span class="Li">&quot;\8&quot;</span> and
      <span class="Li">&quot;\9&quot;</span> are unrecognized escape sequences,
      passed-through.</li>
  <li>A regular expression match in the right-hand side of a global substitution
      (<span class="Li">&quot;s///g&quot;</span>) that is in the same scope will
      no longer cause match variables to have the wrong values on subsequent
      iterations. This can happen when an array or hash subscript is
      interpolated in the right-hand side, as in
      <span class="Li">&quot;s|(.)|@a{ print($1), /./ }|g&quot;</span> [perl
      #19078].</li>
  <li>Several cases in which characters in the Latin-1 non-ASCII range (0x80 to
      0xFF) used not to match themselves, or used to match both a character
      class and its complement, have been fixed. For instance, U+00E2 could
      match both <span class="Li">&quot;\w&quot;</span> and
      <span class="Li">&quot;\W&quot;</span> [perl #78464] [perl #18281] [perl
      #60156].</li>
  <li>Matching a Unicode character against an alternation containing characters
      that happened to match continuation bytes in the former's UTF8
      representation (like <span class="Li">&quot;qq{\x{30ab}} =~
      /\xab|\xa9/&quot;</span>) would cause erroneous warnings [perl
    #70998].</li>
  <li>The trie optimisation was not taking empty groups into account, preventing
      &quot;foo&quot; from matching
      <span class="Li">&quot;/\A(?:(?:)foo|bar|zot)\z/&quot;</span> [perl
      #78356].</li>
  <li>A pattern containing a <span class="Li">&quot;+&quot;</span> inside a
      lookahead would sometimes cause an incorrect match failure in a global
      match (for example, <span class="Li">&quot;/(?=(\S+))/g&quot;</span>)
      [perl #68564].</li>
  <li>A regular expression optimisation would sometimes cause a match with a
      <span class="Li">&quot;{n,m}&quot;</span> quantifier to fail when it
      should have matched [perl #79152].</li>
  <li>Case-insensitive matching in regular expressions compiled under
      <span class="Li">&quot;use locale&quot;</span> now works much more sanely
      when the pattern or target string is internally encoded in UTF8.
      Previously, under these conditions the localeness was completely lost.
      Now, code points above 255 are treated as Unicode, but code points between
      0 and 255 are treated using the current locale rules, regardless of
      whether the pattern or the string is encoded in UTF8. The few
      case-insensitive matches that cross the 255/256 boundary are not allowed.
      For example, 0xFF does not caselessly match the character at 0x178, LATIN
      CAPITAL LETTER Y WITH DIAERESIS, because 0xFF may not be LATIN SMALL
      LETTER Y in the current locale, and Perl has no way of knowing if that
      character even exists in the locale, much less what code point it is.</li>
  <li>The <span class="Li">&quot;(?|...)&quot;</span> regular expression
      construct no longer crashes if the final branch has more sets of capturing
      parentheses than any other branch. This was fixed in Perl 5.10.1 for the
      case of a single branch, but that fix did not take multiple branches into
      account [perl #84746].</li>
  <li>A bug has been fixed in the implementation of
      <span class="Li">&quot;{...}&quot;</span> quantifiers in regular
      expressions that prevented the code block in
      <span class="Li">&quot;/((\w+)(?{ print $2 })){2}/&quot;</span> from
      seeing the <span class="Li">$2</span> sometimes [perl #84294].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Syntax/Parsing_Bugs"><a class="permalink" href="#Syntax/Parsing_Bugs">Syntax/Parsing
  Bugs</a></h2>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;when (scalar) {...}&quot;</span> no longer crashes,
      but produces a syntax error [perl #74114] (5.12.1).</li>
  <li>A label right before a string eval (<span class="Li">&quot;foo: eval
      $string&quot;</span>) no longer causes the label to be associated also
      with the first statement inside the eval [perl #74290] (5.12.1).</li>
  <li>The <span class="Li">&quot;no 5.13.2&quot;</span> form of
      <span class="Li">&quot;no&quot;</span> no longer tries to turn on features
      or pragmata (like strict) [perl #70075] (5.12.2).</li>
  <li><span class="Li">&quot;BEGIN {require 5.12.0}&quot;</span> now behaves as
      documented, rather than behaving identically to <span class="Li">&quot;use
      5.12.0&quot;</span>. Previously,
      <span class="Li">&quot;require&quot;</span> in a
      <span class="Li">&quot;BEGIN&quot;</span> block was erroneously executing
      the <span class="Li">&quot;use feature ':5.12.0'&quot;</span> and
      <span class="Li">&quot;use strict&quot;</span> behaviour, which only
      <span class="Li">&quot;use&quot;</span> was documented to provide [perl
      #69050].</li>
  <li>A regression introduced in Perl 5.12.0, making <span class="Li">&quot;my
      $x = 3; $x = length(undef)&quot;</span> result in
      <span class="Li">$x</span> set to <span class="Li">3</span> has been
      fixed. <span class="Li">$x</span> will now be
      <span class="Li">&quot;undef&quot;</span> [perl #85508] (5.12.2).</li>
  <li>When strict &quot;refs&quot; mode is off,
      <span class="Li">&quot;%{...}&quot;</span> in rvalue context returns
      <span class="Li">&quot;undef&quot;</span> if its argument is undefined. An
      optimisation introduced in Perl 5.12.0 to make <span class="Li">&quot;keys
      %{...}&quot;</span> faster when used as a boolean did not take this into
      account, causing <span class="Li">&quot;keys %{+undef}&quot;</span> (and
      <span class="Li">&quot;keys %$foo&quot;</span> when
      <span class="Li">$foo</span> is undefined) to be an error, which it should
      be so in strict mode only [perl #81750].</li>
  <li>Constant-folding used to cause
    <p class="Pp"></p>
    <pre>  $text =~ ( 1 ? /phoo/ : /bear/)
    </pre>
    <p class="Pp">to turn into</p>
    <p class="Pp"></p>
    <pre>  $text =~ /phoo/
    </pre>
    <p class="Pp">at compile time. Now it correctly matches against
        <span class="Li">$_</span> [perl #20444].</p>
  </li>
  <li>Parsing Perl code (either with string
      <span class="Li">&quot;eval&quot;</span> or by loading modules) from
      within a <span class="Li">&quot;UNITCHECK&quot;</span> block no longer
      causes the interpreter to crash [perl #70614].</li>
  <li>String <span class="Li">&quot;eval&quot;</span>s no longer fail after 2
      billion scopes have been compiled [perl #83364].</li>
  <li>The parser no longer hangs when encountering certain Unicode characters,
      such as U+387 [perl #74022].</li>
  <li>Defining a constant with the same name as one of Perl's special blocks
      (like <span class="Li">&quot;INIT&quot;</span>) stopped working in 5.12.0,
      but has now been fixed [perl #78634].</li>
  <li>A reference to a literal value used as a hash key
      (<span class="Li">$hash{\&quot;foo&quot;}</span>) used to be stringified,
      even if the hash was tied [perl #79178].</li>
  <li>A closure containing an <span class="Li">&quot;if&quot;</span> statement
      followed by a constant or variable is no longer treated as a constant
      [perl #63540].</li>
  <li><span class="Li">&quot;state&quot;</span> can now be used with attributes.
      It used to mean the same thing as <span class="Li">&quot;my&quot;</span>
      if any attributes were present [perl #68658].</li>
  <li>Expressions like <span class="Li">&quot;@$a &gt; 3&quot;</span> no longer
      cause <span class="Li">$a</span> to be mentioned in the &quot;Use of
      uninitialized value in numeric gt&quot; warning when
      <span class="Li">$a</span> is undefined (since it is not part of the
      <span class="Li">&quot;&gt;&quot;</span> expression, but the operand of
      the <span class="Li">&quot;@&quot;</span>) [perl #72090].</li>
  <li>Accessing an element of a package array with a hard-coded number (as
      opposed to an arbitrary expression) would crash if the array did not
      exist. Usually the array would be autovivified during compilation, but
      typeglob manipulation could remove it, as in these two cases which used to
      crash:
    <p class="Pp"></p>
    <pre>  *d = *a;  print $d[0];
  undef *d; print $d[0];
    </pre>
  </li>
  <li>The <b>-C</b> command-line option, when used on the shebang line, can now
      be followed by other options [perl #72434].</li>
  <li>The <span class="Li">&quot;B&quot;</span> module was returning
      <span class="Li">&quot;B::OP&quot;</span>s instead of
      <span class="Li">&quot;B::LOGOP&quot;</span>s for
      <span class="Li">&quot;entertry&quot;</span> [perl #80622]. This was due
      to a bug in the Perl core, not in <span class="Li">&quot;B&quot;</span>
      itself.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Stashes,_Globs_and_Method_Lookup"><a class="permalink" href="#Stashes,_Globs_and_Method_Lookup">Stashes,
  Globs and Method Lookup</a></h2>
<p class="Pp">Perl 5.10.0 introduced a new internal mechanism for caching MROs
    (method resolution orders, or lists of parent classes; aka &quot;isa&quot;
    caches) to make method lookup faster (so <span class="Li">@ISA</span> arrays
    would not have to be searched repeatedly). Unfortunately, this brought with
    it quite a few bugs. Almost all of these have been fixed now, along with a
    few MRO-related bugs that existed before 5.10.0:</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The following used to have erratic effects on method resolution, because
      the &quot;isa&quot; caches were not reset or otherwise ended up listing
      the wrong classes. These have been fixed.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Aliasing"><a class="permalink" href="#Aliasing">Aliasing packages by
    assigning to globs [perl #77358]</a></dt>
  <dd></dd>
  <dt id="Deleting"><a class="permalink" href="#Deleting">Deleting packages by
    deleting their containing stash elements</a></dt>
  <dd></dd>
  <dt id="Undefining"><a class="permalink" href="#Undefining">Undefining the
    glob containing a package (&quot;undef *Foo::&quot;)</a></dt>
  <dd></dd>
  <dt id="Undefining~2"><a class="permalink" href="#Undefining~2">Undefining an
    ISA glob (&quot;undef *Foo::ISA&quot;)</a></dt>
  <dd></dd>
  <dt id="Deleting~2"><a class="permalink" href="#Deleting~2">Deleting an ISA
    stash element (&quot;delete $Foo::{ISA}&quot;)</a></dt>
  <dd></dd>
  <dt id="Sharing"><a class="permalink" href="#Sharing">Sharing @ISA arrays
    between classes (via &quot;*Foo::ISA = \@Bar::ISA&quot; or &quot;*Foo::ISA =
    *Bar::ISA&quot;) [perl #77238]</a></dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp"><span class="Li">&quot;undef *Foo::ISA&quot;</span> would even
    stop a new <span class="Li">@Foo::ISA</span> array from updating caches.</p>
</div>
<ul class="Bl-bullet">
  <li>Typeglob assignments would crash if the glob's stash no longer existed, so
      long as the glob assigned to were named
      <span class="Li">&quot;ISA&quot;</span> or the glob on either side of the
      assignment contained a subroutine.</li>
  <li><span class="Li">&quot;PL_isarev&quot;</span>, which is accessible to Perl
      via <span class="Li">&quot;mro::get_isarev&quot;</span> is now updated
      properly when packages are deleted or removed from the
      <span class="Li">@ISA</span> of other classes. This allows many packages
      to be created and deleted without causing a memory leak [perl
    #75176].</li>
</ul>
<p class="Pp">In addition, various other bugs related to typeglobs and stashes
    have been fixed:</p>
<ul class="Bl-bullet">
  <li>Some work has been done on the internal pointers that link between symbol
      tables (stashes), typeglobs, and subroutines. This has the effect that
      various edge cases related to deleting stashes or stash entries (for
      example, &lt;%FOO:: = ()&gt;), and complex typeglob or code-reference
      aliasing, will no longer crash the interpreter.</li>
  <li>Assigning a reference to a glob copy now assigns to a glob slot instead of
      overwriting the glob with a scalar [perl #1804] [perl #77508].</li>
  <li>A bug when replacing the glob of a loop variable within the loop has been
      fixed [perl #21469]. This means the following code will no longer crash:
    <p class="Pp"></p>
    <pre>    for $x (...) {
        *x = *y;
    }
    </pre>
  </li>
  <li>Assigning a glob to a PVLV used to convert it to a plain string. Now it
      works correctly, and a PVLV can hold a glob. This would happen when a
      nonexistent hash or array element was passed to a subroutine:
    <p class="Pp"></p>
    <pre>  sub { $_[0] = *foo }-&gt;($hash{key});
  # $_[0] would have been the string &quot;*main::foo&quot;
    </pre>
    <p class="Pp">It also happened when a glob was assigned to, or returned
        from, an element of a tied array or hash [perl #36051].</p>
  </li>
  <li>When trying to report <span class="Li">&quot;Use of uninitialized value
      $Foo::BAR&quot;</span>, crashes could occur if the glob holding the global
      variable in question had been detached from its original stash by, for
      example, <span class="Li">&quot;delete
      $::{&quot;Foo::&quot;}&quot;</span>. This has been fixed by disabling the
      reporting of variable names in those cases.</li>
  <li>During the restoration of a localised typeglob on scope exit, any
      destructors called as a result would be able to see the typeglob in an
      inconsistent state, containing freed entries, which could result in a
      crash. This would affect code like this:
    <p class="Pp"></p>
    <pre>  local *@;
  eval { die bless [] }; # puts an object in $@
  sub DESTROY {
    local $@; # boom
  }
    </pre>
    <p class="Pp">Now the glob entries are cleared before any destructors are
        called. This also means that destructors can vivify entries in the glob.
        So Perl tries again and, if the entries are re-created too many times,
        dies with a &quot;panic: gp_free ...&quot; error message.</p>
  </li>
  <li>If a typeglob is freed while a subroutine attached to it is still
      referenced elsewhere, the subroutine is renamed to
      <span class="Li">&quot;__ANON__&quot;</span> in the same package, unless
      the package has been undefined, in which case the
      <span class="Li">&quot;__ANON__&quot;</span> package is used. This could
      cause packages to be sometimes autovivified, such as if the package had
      been deleted. Now this no longer occurs. The
      <span class="Li">&quot;__ANON__&quot;</span> package is also now used when
      the original package is no longer attached to the symbol table. This
      avoids memory leaks in some cases [perl #87664].</li>
  <li>Subroutines and package variables inside a package whose name ends with
      <span class="Li">&quot;::&quot;</span> can now be accessed with a fully
      qualified name.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode~2"><a class="permalink" href="#Unicode~2">Unicode</a></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>What has become known as &quot;the Unicode Bug&quot; is almost completely
      resolved in this release. Under <span class="Li">&quot;use feature
      'unicode_strings'&quot;</span> (which is automatically selected by
      <span class="Li">&quot;use 5.012&quot;</span> and above), the internal
      storage format of a string no longer affects the external semantics. [perl
      #58182].
    <p class="Pp">There are two known exceptions:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>The now-deprecated, user-defined case-changing functions require
      utf8-encoded strings to operate. The CPAN module Unicode::Casing has been
      written to replace this feature without its drawbacks, and the feature is
      scheduled to be removed in 5.16.</dd>
  <dt>2.</dt>
  <dd><b>quotemeta()</b> (and its in-line equivalent
      <span class="Li">&quot;\Q&quot;</span>) can also give different results
      depending on whether a string is encoded in UTF-8. See &quot;The
      &quot;Unicode Bug&quot;&quot; in perlunicode.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Handling of Unicode non-character code points has changed. Previously they
      were mostly considered illegal, except that in some place only one of the
      66 of them was known. The Unicode Standard considers them all legal, but
      forbids their &quot;open interchange&quot;. This is part of the change to
      allow internal use of any code point (see &quot;Core Enhancements&quot;).
      Together, these changes resolve [perl #38722], [perl #51918], [perl
      #51936], and [perl #63446].</li>
  <li>Case-insensitive <span class="Li">&quot;/i&quot;</span> regular expression
      matching of Unicode characters that match multiple characters now works
      much more as intended. For example
    <p class="Pp"></p>
    <pre> &quot;\N{LATIN SMALL LIGATURE FFI}&quot; =~ /ffi/ui
    </pre>
    <p class="Pp">and</p>
    <p class="Pp"></p>
    <pre> &quot;ffi&quot; =~ /\N{LATIN SMALL LIGATURE FFI}/ui
    </pre>
    <p class="Pp">are both true. Previously, there were many bugs with this
        feature. What hasn't been fixed are the places where the pattern
        contains the multiple characters, but the characters are split up by
        other things, such as in</p>
    <p class="Pp"></p>
    <pre> &quot;\N{LATIN SMALL LIGATURE FFI}&quot; =~ /(f)(f)i/ui
    </pre>
    <p class="Pp">or</p>
    <p class="Pp"></p>
    <pre> &quot;\N{LATIN SMALL LIGATURE FFI}&quot; =~ /ffi*/ui
    </pre>
    <p class="Pp">or</p>
    <p class="Pp"></p>
    <pre> &quot;\N{LATIN SMALL LIGATURE FFI}&quot; =~ /[a-f][f-m][g-z]/ui
    </pre>
    <p class="Pp">None of these match.</p>
    <p class="Pp">Also, this matching doesn't fully conform to the current
        Unicode Standard, which asks that the matching be made upon the NFD
        (Normalization Form Decomposed) of the text. However, as of this writing
        (April 2010), the Unicode Standard is currently in flux about what they
        will recommend doing with regard in such scenarios. It may be that they
        will throw out the whole concept of multi-character matches. [perl
        #71736].</p>
  </li>
  <li>Naming a deprecated character in
      <span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>
      no longer leaks memory.</li>
  <li>We fixed a bug that could cause
      <span class="Li">&quot;\N{</span><span class="Li"><i>NAME</i></span><span class="Li">}&quot;</span>
      constructs followed by a single <span class="Li">&quot;.&quot;</span> to
      be parsed incorrectly [perl #74978] (5.12.1).</li>
  <li><span class="Li">&quot;chop&quot;</span> now correctly handles characters
      above <span class="Li">&quot;\x{7fffffff}&quot;</span> [perl #73246].</li>
  <li>Passing to <span class="Li">&quot;index&quot;</span> an offset beyond the
      end of the string when the string is encoded internally in UTF8 no longer
      causes panics [perl #75898].</li>
  <li><b>warn()</b> and <b>die()</b> now respect utf8-encoded scalars [perl
      #45549].</li>
  <li>Sometimes the UTF8 length cache would not be reset on a value returned by
      substr, causing <span class="Li">&quot;length(substr($uni_string,
      ...))&quot;</span> to give wrong answers. With
      <span class="Li">&quot;${^UTF8CACHE}&quot;</span> set to -1, it would also
      produce a &quot;panic&quot; error message [perl #77692].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Ties,_Overloading_and_Other_Magic"><a class="permalink" href="#Ties,_Overloading_and_Other_Magic">Ties,
  Overloading and Other Magic</a></h2>
<ul class="Bl-bullet">
  <li>Overloading now works properly in conjunction with tied variables. What
      formerly happened was that most ops checked their arguments for
      overloading <i>before</i> checking for magic, so for example an overloaded
      object returned by a tied array access would usually be treated as not
      overloaded [RT #57012].</li>
  <li>Various instances of magic (like tie methods) being called on tied
      variables too many or too few times have been fixed:</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><span class="Li">&quot;$tied-&gt;()&quot;</span> did not always call FETCH
      [perl #8438].</li>
  <li>Filetest operators and <span class="Li">&quot;y///&quot;</span> and
      <span class="Li">&quot;tr///&quot;</span> were calling FETCH too many
      times.</li>
  <li>The <span class="Li">&quot;=&quot;</span> operator used to ignore magic on
      its right-hand side if the scalar happened to hold a typeglob (if a
      typeglob was the last thing returned from or assigned to a tied scalar)
      [perl #77498].</li>
  <li>Dereference operators used to ignore magic if the argument was a reference
      already (such as from a previous FETCH) [perl #72144].</li>
  <li><span class="Li">&quot;splice&quot;</span> now calls set-magic (so changes
      made by <span class="Li">&quot;splice @ISA&quot;</span> are respected by
      method calls) [perl #78400].</li>
  <li>In-memory files created by <span class="Li">&quot;open($fh,
      &quot;&gt;&quot;, \$buffer)&quot;</span> were not calling FETCH/STORE at
      all [perl #43789] (5.12.2).</li>
  <li><b>utf8::is_utf8()</b> now respects get-magic (like
      <span class="Li">$1</span>) (5.12.1).</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Non-commutative binary operators used to swap their operands if the same
      tied scalar was used for both operands and returned a different value for
      each FETCH. For instance, if <span class="Li">$t</span> returned 2 the
      first time and 3 the second, then
      <span class="Li">&quot;$t/$t&quot;</span> would evaluate to 1.5. This has
      been fixed [perl #87708].</li>
  <li>String <span class="Li">&quot;eval&quot;</span> now detects taintedness of
      overloaded or tied arguments [perl #75716].</li>
  <li>String <span class="Li">&quot;eval&quot;</span> and regular expression
      matches against objects with string overloading no longer cause memory
      corruption or crashes [perl #77084].</li>
  <li>readline now honors <span class="Li">&quot;&lt;&gt;&quot;</span>
      overloading on tied arguments.</li>
  <li><span class="Li">&quot;&lt;expr&gt;&quot;</span> always respects
      overloading now if the expression is overloaded.
    <p class="Pp">Because &quot;&lt;&gt;&#x00A0;as glob&quot; was parsed
        differently from &quot;&lt;&gt;&#x00A0;as filehandle&quot; from 5.6
        onwards, something like
        <span class="Li">&quot;&lt;$foo[0]&gt;&quot;</span> did not handle
        overloading, even if <span class="Li">$foo[0]</span> was an overloaded
        object. This was contrary to the documentation for overload, and meant
        that <span class="Li">&quot;&lt;&gt;&quot;</span> could not be used as a
        general overloaded iterator operator.</p>
  </li>
  <li>The fallback behaviour of overloading on binary operators was asymmetric
      [perl #71286].</li>
  <li>Magic applied to variables in the main package no longer affects other
      packages. See &quot;Magic variables outside the main package&quot; above
      [perl #76138].</li>
  <li>Sometimes magic (ties, taintedness, etc.) attached to variables could
      cause an object to last longer than it should, or cause a crash if a tied
      variable were freed from within a tie method. These have been fixed [perl
      #81230].</li>
  <li>DESTROY methods of objects implementing ties are no longer able to crash
      by accessing the tied variable through a weak reference [perl
    #86328].</li>
  <li>Fixed a regression of <b>kill()</b> when a match variable is used for the
      process ID to kill [perl #75812].</li>
  <li><span class="Li">$AUTOLOAD</span> used to remain tainted forever if it
      ever became tainted. Now it is correctly untainted if an autoloaded method
      is called and the method name was not tainted.</li>
  <li><span class="Li">&quot;sprintf&quot;</span> now dies when passed a tainted
      scalar for the format. It did already die for arbitrary expressions, but
      not for simple scalars [perl #82250].</li>
  <li><span class="Li">&quot;lc&quot;</span>,
      <span class="Li">&quot;uc&quot;</span>,
      <span class="Li">&quot;lcfirst&quot;</span>, and
      <span class="Li">&quot;ucfirst&quot;</span> no longer return untainted
      strings when the argument is tainted. This has been broken since perl
      5.8.9 [perl #87336].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="The_Debugger"><a class="permalink" href="#The_Debugger">The
  Debugger</a></h2>
<ul class="Bl-bullet">
  <li>The Perl debugger now also works in taint mode [perl #76872].</li>
  <li>Subroutine redefinition works once more in the debugger [perl
    #48332].</li>
  <li>When <b>-d</b> is used on the shebang
      (<span class="Li">&quot;#!&quot;</span>) line, the debugger now has access
      to the lines of the main program. In the past, this sometimes worked and
      sometimes did not, depending on the order in which things happened to be
      arranged in memory [perl #71806].</li>
  <li>A possible memory leak when using <b>caller()</b> to set
      <span class="Li">@DB::args</span> has been fixed (5.12.2).</li>
  <li>Perl no longer stomps on <span class="Li">$DB::single</span>,
      <span class="Li">$DB::trace</span>, and
      <span class="Li">$DB::signal</span> if these variables already have values
      when <span class="Li">$^P</span> is assigned to [perl #72422].</li>
  <li><span class="Li">&quot;#line&quot;</span> directives in string evals were
      not properly updating the arrays of lines of code
      (<span class="Li">&quot;@{&quot;_&lt; ...&quot;}&quot;</span>) that the
      debugger (or any debugging or profiling module) uses. In threaded builds,
      they were not being updated at all. In non-threaded builds, the line
      number was ignored, so any change to the existing line number would cause
      the lines to be misnumbered [perl #79442].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Threads"><a class="permalink" href="#Threads">Threads</a></h2>
<ul class="Bl-bullet">
  <li>Perl no longer accidentally clones lexicals in scope within active stack
      frames in the parent when creating a child thread [perl #73086].</li>
  <li>Several memory leaks in cloning and freeing threaded Perl interpreters
      have been fixed [perl #77352].</li>
  <li>Creating a new thread when directory handles were open used to cause a
      crash, because the handles were not cloned, but simply passed to the new
      thread, resulting in a double free.
    <p class="Pp">Now directory handles are cloned properly on Windows and on
        systems that have a <span class="Li">&quot;fchdir&quot;</span> function.
        On other systems, new threads simply do not inherit directory handles
        from their parent threads [perl #75154].</p>
  </li>
  <li>The typeglob <span class="Li">&quot;*,&quot;</span>, which holds the
      scalar variable <span class="Li">$,</span> (output field separator), had
      the wrong reference count in child threads.</li>
  <li>[perl #78494] When pipes are shared between threads, the
      <span class="Li">&quot;close&quot;</span> function (and any implicit
      close, such as on thread exit) no longer blocks.</li>
  <li>Perl now does a timely cleanup of SVs that are cloned into a new thread
      but then discovered to be orphaned (that is, their owners are <i>not</i>
      cloned). This eliminates several &quot;scalars leaked&quot; warnings when
      joining threads.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Scoping_and_Subroutines"><a class="permalink" href="#Scoping_and_Subroutines">Scoping
  and Subroutines</a></h2>
<ul class="Bl-bullet">
  <li>Lvalue subroutines are again able to return copy-on-write scalars. This
      had been broken since version 5.10.0 [perl #75656] (5.12.3).</li>
  <li><span class="Li">&quot;require&quot;</span> no longer causes
      <span class="Li">&quot;caller&quot;</span> to return the wrong file name
      for the scope that called <span class="Li">&quot;require&quot;</span> and
      other scopes higher up that had the same file name [perl #68712].</li>
  <li><span class="Li">&quot;sort&quot;</span> with a
      <span class="Li">&quot;($$)&quot;</span>-prototyped comparison routine
      used to cause the value of <span class="Li">@_</span> to leak out of the
      sort. Taking a reference to <span class="Li">@_</span> within the sorting
      routine could cause a crash [perl #72334].</li>
  <li>Match variables (like <span class="Li">$1</span>) no longer persist
      between calls to a sort subroutine [perl #76026].</li>
  <li>Iterating with <span class="Li">&quot;foreach&quot;</span> over an array
      returned by an lvalue sub now works [perl #23790].</li>
  <li><span class="Li">$@</span> is now localised during calls to
      <span class="Li">&quot;binmode&quot;</span> to prevent action at a
      distance [perl #78844].</li>
  <li>Calling a closure prototype (what is passed to an attribute handler for a
      closure) now results in a &quot;Closure prototype called&quot; error
      message instead of a crash [perl #68560].</li>
  <li>Mentioning a read-only lexical variable from the enclosing scope in a
      string <span class="Li">&quot;eval&quot;</span> no longer causes the
      variable to become writable [perl #19135].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Signals"><a class="permalink" href="#Signals">Signals</a></h2>
<ul class="Bl-bullet">
  <li>Within signal handlers, <span class="Li">$!</span> is now implicitly
      localized.</li>
  <li>CHLD signals are no longer unblocked after a signal handler is called if
      they were blocked before by
      <span class="Li">&quot;POSIX::sigprocmask&quot;</span> [perl #82040].</li>
  <li>A signal handler called within a signal handler could cause leaks or
      double-frees. Now fixed [perl #76248].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Miscellaneous_Memory_Leaks"><a class="permalink" href="#Miscellaneous_Memory_Leaks">Miscellaneous
  Memory Leaks</a></h2>
<ul class="Bl-bullet">
  <li>Several memory leaks when loading XS modules were fixed (5.12.2).</li>
  <li><b>substr()</b>, <b>pos()</b>, <b>keys()</b>, and <b>vec()</b> could, when
      used in combination with lvalues, result in leaking the scalar value they
      operate on, and cause its destruction to happen too late. This has now
      been fixed.</li>
  <li>The postincrement and postdecrement operators,
      <span class="Li">&quot;++&quot;</span> and
      <span class="Li">&quot;--&quot;</span>, used to cause leaks when used on
      references. This has now been fixed.</li>
  <li>Nested <span class="Li">&quot;map&quot;</span> and
      <span class="Li">&quot;grep&quot;</span> blocks no longer leak memory when
      processing large lists [perl #48004].</li>
  <li><span class="Li">&quot;use
      </span><span class="Li"><i>VERSION</i></span><span class="Li">&quot;</span>
      and <span class="Li">&quot;no
      </span><span class="Li"><i>VERSION</i></span><span class="Li">&quot;</span>
      no longer leak memory [perl #78436] [perl #69050].</li>
  <li><span class="Li">&quot;.=&quot;</span> followed by
      <span class="Li">&quot;&lt;&gt;&quot;</span> or
      <span class="Li">&quot;readline&quot;</span> would leak memory if
      <span class="Li">$/</span> contained characters beyond the octet range and
      the scalar assigned to happened to be encoded as UTF8 internally [perl
      #72246].</li>
  <li><span class="Li">&quot;eval 'BEGIN{die}'&quot;</span> no longer leaks
      memory on non-threaded builds.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Memory_Corruption_and_Crashes"><a class="permalink" href="#Memory_Corruption_and_Crashes">Memory
  Corruption and Crashes</a></h2>
<ul class="Bl-bullet">
  <li><b>glob()</b> no longer crashes when <span class="Li">%File::Glob::</span>
      is empty and <span class="Li">&quot;CORE::GLOBAL::glob&quot;</span> isn't
      present [perl #75464] (5.12.2).</li>
  <li><b>readline()</b> has been fixed when interrupted by signals so it no
      longer returns the &quot;same thing&quot; as before or random memory.</li>
  <li>When assigning a list with duplicated keys to a hash, the assignment used
      to return garbage and/or freed values:
    <p class="Pp"></p>
    <pre>    @a = %h = (list with some duplicate keys);
    </pre>
    <p class="Pp">This has now been fixed [perl #31865].</p>
  </li>
  <li>The mechanism for freeing objects in globs used to leave dangling pointers
      to freed SVs, meaning Perl users could see corrupted state during
      destruction.
    <p class="Pp">Perl now frees only the affected slots of the GV, rather than
        freeing the GV itself. This makes sure that there are no dangling refs
        or corrupted state during destruction.</p>
  </li>
  <li>The interpreter no longer crashes when freeing deeply-nested arrays of
      arrays. Hashes have not been fixed yet [perl #44225].</li>
  <li>Concatenating long strings under <span class="Li">&quot;use
      encoding&quot;</span> no longer causes Perl to crash [perl #78674].</li>
  <li>Calling <span class="Li">&quot;-&gt;import&quot;</span> on a class lacking
      an import method could corrupt the stack, resulting in strange behaviour.
      For instance,
    <p class="Pp"></p>
    <pre>  push @a, &quot;foo&quot;, $b = bar-&gt;import;
    </pre>
    <p class="Pp">would assign &quot;foo&quot; to <span class="Li">$b</span>
        [perl #63790].</p>
  </li>
  <li>The <span class="Li">&quot;recv&quot;</span> function could crash when
      called with the MSG_TRUNC flag [perl #75082].</li>
  <li><span class="Li">&quot;formline&quot;</span> no longer crashes when passed
      a tainted format picture. It also taints <span class="Li">$^A</span> now
      if its arguments are tainted [perl #79138].</li>
  <li>A bug in how we process filetest operations could cause a segfault.
      Filetests don't always expect an op on the stack, so we now use TOPs only
      if we're sure that we're not <span class="Li">&quot;stat&quot;</span>ing
      the <span class="Li">&quot;_&quot;</span> filehandle. This is indicated by
      <span class="Li">&quot;OPf_KIDS&quot;</span> (as checked in ck_ftst) [perl
      #74542] (5.12.1).</li>
  <li><b>unpack()</b> now handles scalar context correctly for
      <span class="Li">%32H</span> and <span class="Li">%32u</span>, fixing a
      potential crash. <b>split()</b> would crash because the third item on the
      stack wasn't the regular expression it expected.
      <span class="Li">&quot;unpack(&quot;%2H&quot;,</span>
      <span class="Li">...)&quot;</span> would return both the unpacked result
      and the checksum on the stack, as would
      <span class="Li">&quot;unpack(&quot;%2u&quot;, ...)&quot;</span> [perl
      #73814] (5.12.2).</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Fixes_to_Various_Perl_Operators"><a class="permalink" href="#Fixes_to_Various_Perl_Operators">Fixes
  to Various Perl Operators</a></h2>
<ul class="Bl-bullet">
  <li>The <span class="Li">&quot;&amp;&quot;</span>,
      <span class="Li">&quot;|&quot;</span>, and
      <span class="Li">&quot;^&quot;</span> bitwise operators no longer coerce
      read-only arguments [perl #20661].</li>
  <li>Stringifying a scalar containing &quot;-0.0&quot; no longer has the effect
      of turning false into true [perl #45133].</li>
  <li>Some numeric operators were converting integers to floating point,
      resulting in loss of precision on 64-bit platforms [perl #77456].</li>
  <li><b>sprintf()</b> was ignoring locales when called with constant arguments
      [perl #78632].</li>
  <li>Combining the vector (<span class="Li">%v</span>) flag and dynamic
      precision would cause <span class="Li">&quot;sprintf&quot;</span> to
      confuse the order of its arguments, making it treat the string as the
      precision and vice-versa [perl #83194].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Bugs_Relating_to_the_C_"><a class="permalink" href="#Bugs_Relating_to_the_C_">Bugs
  Relating to the C API</a></h2>
<ul class="Bl-bullet">
  <li>The C-level <span class="Li">&quot;lex_stuff_pvn&quot;</span> function
      would sometimes cause a spurious syntax error on the last line of the file
      if it lacked a final semicolon [perl #74006] (5.12.1).</li>
  <li>The <span class="Li">&quot;eval_sv&quot;</span> and
      <span class="Li">&quot;eval_pv&quot;</span> C functions now set
      <span class="Li">$@</span> correctly when there is a syntax error and no
      <span class="Li">&quot;G_KEEPERR&quot;</span> flag, and never set it if
      the <span class="Li">&quot;G_KEEPERR&quot;</span> flag is present [perl
      #3719].</li>
  <li>The XS multicall API no longer causes subroutines to lose reference counts
      if called via the multicall interface from within those very subroutines.
      This affects modules like List::Util. Calling one of its functions with an
      active subroutine as the first argument could cause a crash [perl
    #78070].</li>
  <li>The <span class="Li">&quot;SvPVbyte&quot;</span> function available to XS
      modules now calls magic before downgrading the SV, to avoid warnings about
      wide characters [perl #72398].</li>
  <li>The ref types in the typemap for XS bindings now support magical variables
      [perl #72684].</li>
  <li><span class="Li">&quot;sv_catsv_flags&quot;</span> no longer calls
      <span class="Li">&quot;mg_get&quot;</span> on its second argument (the
      source string) if the flags passed to it do not include SV_GMAGIC. So it
      now matches the documentation.</li>
  <li><span class="Li">&quot;my_strftime&quot;</span> no longer leaks memory.
      This fixes a memory leak in
      <span class="Li">&quot;POSIX::strftime&quot;</span> [perl #73520].</li>
  <li><i>XSUB.h</i> now correctly redefines fgets under PERL_IMPLICIT_SYS [perl
      #55049] (5.12.1).</li>
  <li>XS code using <b>fputc()</b> or <b>fputs()</b> on Windows could cause an
      error due to their arguments being swapped [perl #72704] (5.12.1).</li>
  <li>A possible segfault in the <span class="Li">&quot;T_PTROBJ&quot;</span>
      default typemap has been fixed (5.12.2).</li>
  <li>A bug that could cause &quot;Unknown error&quot; messages when
      <span class="Li">&quot;call_sv(code, G_EVAL)&quot;</span> is called from
      an XS destructor has been fixed (5.12.2).</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
<p class="Pp">This is a list of significant unresolved issues which are
    regressions from earlier versions of Perl or which affect widely-used CPAN
    modules.</p>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;List::Util::first&quot;</span> misbehaves in the
      presence of a lexical <span class="Li">$_</span> (typically introduced by
      <span class="Li">&quot;my $_&quot;</span> or implicitly by
      <span class="Li">&quot;given&quot;</span>). The variable that gets set for
      each iteration is the package variable <span class="Li">$_</span>, not the
      lexical <span class="Li">$_</span>.
    <p class="Pp">A similar issue may occur in other modules that provide
        functions which take a block as their first argument, like</p>
    <p class="Pp"></p>
    <pre>    foo { ... $_ ...} list
    </pre>
    <p class="Pp">See also:
      &lt;https://github.com/Perl/perl5/issues/9798&gt;</p>
  </li>
  <li><b>readline()</b> returns an empty string instead of a cached previous
      value when it is interrupted by a signal</li>
  <li>The changes in prototype handling break Switch. A patch has been sent
      upstream and will hopefully appear on CPAN soon.</li>
  <li>The upgrade to <i>ExtUtils-MakeMaker-6.57_05</i> has caused some tests in
      the <i>Module-Install</i> distribution on CPAN to fail. (Specifically,
      <i>02_mymeta.t</i> tests 5 and 21; <i>18_all_from.t</i> tests 6 and 15;
      <i>19_authors.t</i> tests 5, 13, 21, and 29; and
      <i>20_authors_with_special_characters.t</i> tests 6, 15, and 23 in version
      1.00 of that distribution now fail.)</li>
  <li>On VMS, <span class="Li">&quot;Time::HiRes&quot;</span> tests will fail
      due to a bug in the CRTL's implementation of
      <span class="Li">&quot;setitimer&quot;</span>: previous timer values would
      be cleared if a timer expired but not if the timer was reset before
      expiring. HP OpenVMS Engineering have corrected the problem and will
      release a patch in due course (Quix case # QXCM1001115136).</li>
  <li>On VMS, there were a handful of
      <span class="Li">&quot;Module::Build&quot;</span> test failures we didn't
      get to before the release; please watch CPAN for updates.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Errata"><a class="permalink" href="#Errata">Errata</a></h1>
<section class="Ss">
<h2 class="Ss"><b>keys()</b>, <b>values()</b>, and <b>each()</b> work on
  arrays</h2>
<p class="Pp">You can now use the <b>keys()</b>, <b>values()</b>, and
    <b>each()</b> builtins on arrays; previously you could use them only on
    hashes. See perlfunc for details. This is actually a change introduced in
    perl 5.12.0, but it was missed from that release's perl5120delta.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>split()</b> and @_</h2>
<p class="Pp"><b>split()</b> no longer modifies <span class="Li">@_</span> when
    called in scalar or void context. In void context it now produces a
    &quot;Useless use of split&quot; warning. This was also a perl 5.12.0 change
    that missed the perldelta.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Obituary"><a class="permalink" href="#Obituary">Obituary</a></h1>
<p class="Pp">Randy Kobes, creator of http://kobesearch.cpan.org/ and
    contributor/maintainer to several core Perl toolchain modules, passed away
    on September 18, 2010 after a battle with lung cancer. The community was
    richer for his involvement. He will be missed.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Acknowledgements"><a class="permalink" href="#Acknowledgements">Acknowledgements</a></h1>
<p class="Pp">Perl 5.14.0 represents one year of development since Perl 5.12.0
    and contains nearly 550,000 lines of changes across nearly 3,000 files from
    150 authors and committers.</p>
<p class="Pp">Perl continues to flourish into its third decade thanks to a
    vibrant community of users and developers. The following people are known to
    have contributed the improvements that became Perl 5.14.0:</p>
<p class="Pp">Aaron Crane, Abhijit Menon-Sen, Abigail, AEvar Arnfjoerd`
    Bjarmason, Alastair Douglas, Alexander Alekseev, Alexander Hartmaier,
    Alexandr Ciornii, Alex Davies, Alex Vandiver, Ali Polatel, Allen Smith,
    Andreas Koenig, Andrew Rodland, Andy Armstrong, Andy Dougherty, Aristotle
    Pagaltzis, Arkturuz, Arvan, A. Sinan Unur, Ben Morrow, Bo Lindbergh, Boris
    Ratner, Brad Gilbert, Bram, brian d foy, Brian Phillips, Casey West, Charles
    Bailey, Chas. Owens, Chip Salzenberg, Chris 'BinGOs' Williams, chromatic,
    Craig A. Berry, Curtis Jewell, Dagfinn Ilmari Mannsaaker, Dan Dascalescu,
    Dave Rolsky, David Caldwell, David Cantrell, David Golden, David Leadbeater,
    David Mitchell, David Wheeler, Eric Brine, Father Chrysostomos, Fingle Nark,
    Florian Ragwitz, Frank Wiegand, Franz Fasching, Gene Sullivan, George Greer,
    Gerard Goossen, Gisle Aas, Goro Fuji, Grant McLean, gregor herrmann,
    H.Merijn Brand, Hongwen Qiu, Hugo van der Sanden, Ian Goodacre, James E
    Keenan, James Mastros, Jan Dubois, Jay Hannah, Jerry D. Hedden, Jesse
    Vincent, Jim Cromie, Jirka HruXka, John Peacock, Joshua ben Jore, Joshua
    Pritikin, Karl Williamson, Kevin Ryde, kmx, Lars DXXXXXX XXX, Larwan Berke,
    Leon Brocard, Leon Timmermans, Lubomir Rintel, Lukas Mai, Maik Hentsche,
    Marty Pauley, Marvin Humphrey, Matt Johnson, Matt S Trout, Max Maischein,
    Michael Breen, Michael Fig, Michael G Schwern, Michael Parker, Michael
    Stevens, Michael Witten, Mike Kelly, Moritz Lenz, Nicholas Clark, Nick
    Cleaton, Nick Johnston, Nicolas Kaiser, Niko Tyni, Noirin Shirley, Nuno
    Carvalho, Paul Evans, Paul Green, Paul Johnson, Paul Marquess, Peter J.
    Holzer, Peter John Acklam, Peter Martini, Philippe Bruhat (BooK), Piotr
    Fusik, Rafael Garcia-Suarez, Rainer Tammer, Reini Urban, Renee Baecker,
    Ricardo Signes, Richard Moehn, Richard Soderberg, Rob Hoelz, Robin Barker,
    Ruslan Zakirov, Salvador Fandin~o, Salvador Ortiz Garcia, Shlomi Fish, Sinan
    Unur, Sisyphus, Slaven Rezic, Steffen Mueller, Steve Hay, Steven Schubiger,
    Steve Peters, Sullivan Beck, Tatsuhiko Miyagawa, Tim Bunce, Todd Rinaldo,
    Tom Christiansen, Tom Hukins, Tony Cook, Tye McQueen, Vadim Konovalov,
    Vernon Lyon, Vincent Pit, Walt Mankowski, Wolfram Humann, Yves Orton,
    Zefram, and Zsban Ambrus.</p>
<p class="Pp">This is woefully incomplete as it's automatically generated from
    version control history. In particular, it doesn't include the names of the
    (very much appreciated) contributors who reported issues in previous
    versions of Perl that helped make Perl 5.14.0 better. For a more complete
    list of all of Perl's historical contributors, please see the
    <span class="Li">&quot;AUTHORS&quot;</span> file in the Perl 5.14.0
    distribution.</p>
<p class="Pp">Many of the changes included in this version originated in the
    CPAN modules included in Perl's core. We're grateful to the entire CPAN
    community for helping Perl to flourish.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
<p class="Pp">If you find what you think is a bug, you might check the articles
    recently posted to the comp.lang.perl.misc newsgroup and the Perl bug
    database at http://rt.perl.org/perlbug/ . There may also be information at
    http://www.perl.org/ , the Perl Home Page.</p>
<p class="Pp">If you believe you have an unreported bug, please run the perlbug
    program included with your release. Be sure to trim your bug down to a tiny
    but sufficient test case. Your bug report, along with the output of
    <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team.</p>
<p class="Pp">If the bug you are reporting has security implications, which make
    it inappropriate to send to a publicly archived mailing list, then please
    send it to perl5-security-report@perl.org. This points to a closed
    subscription unarchived mailing list, which includes all the core
    committers, who are able to help assess the impact of issues, figure out a
    resolution, and help co-ordinate the release of patches to mitigate or fix
    the problem across all platforms on which Perl is supported. Please use this
    address for security issues in the Perl core <i>only</i>, not for modules
    independently distributed on CPAN.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The <i>Changes</i> file for an explanation of how to view
    exhaustive details on what changed.</p>
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2021-05-04</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
