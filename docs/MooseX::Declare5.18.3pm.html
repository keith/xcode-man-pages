<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>MooseX::Declare(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MooseX::Declare(3pm)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">MooseX::Declare(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">MooseX::Declare - Declarative syntax for Moose</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use MooseX::Declare;
    class BankAccount {
        has 'balance' =&gt; ( isa =&gt; 'Num', is =&gt; 'rw', default =&gt; 0 );
        method deposit (Num $amount) {
            $self-&gt;balance( $self-&gt;balance + $amount );
        }
        method withdraw (Num $amount) {
            my $current_balance = $self-&gt;balance();
            ( $current_balance &gt;= $amount )
                || confess &quot;Account overdrawn&quot;;
            $self-&gt;balance( $current_balance - $amount );
        }
    }
    class CheckingAccount extends BankAccount {
        has 'overdraft_account' =&gt; ( isa =&gt; 'BankAccount', is =&gt; 'rw' );
        before withdraw (Num $amount) {
            my $overdraft_amount = $amount - $self-&gt;balance();
            if ( $self-&gt;overdraft_account &amp;&amp; $overdraft_amount &gt; 0 ) {
                $self-&gt;overdraft_account-&gt;withdraw($overdraft_amount);
                $self-&gt;deposit($overdraft_amount);
            }
        }
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module provides syntactic sugar for Moose, the postmodern
    object system for Perl 5. When used, it sets up the
    <span class="Li">&quot;class&quot;</span> and
    <span class="Li">&quot;role&quot;</span> keywords.</p>
<p class="Pp"><b>Note:</b> Please see the &quot;WARNING&quot; section below!</p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
<section class="Ss">
<h2 class="Ss" id="class"><a class="permalink" href="#class">class</a></h2>
<pre>    class Foo { ... }
    my $anon_class = class { ... };
</pre>
<p class="Pp">Declares a new class. The class can be either named or anonymous,
    depending on whether or not a classname is given. Within the class
    definition Moose and MooseX::Method::Signatures are set up automatically in
    addition to the other keywords described in this document. At the end of the
    definition the class will be made immutable. namespace::autoclean is
    injected to clean up Moose and other imports for you.</p>
<p class="Pp">Because of the way the options are parsed, you cannot have a class
    named &quot;is&quot;, &quot;with&quot; or &quot;extends&quot;.</p>
<p class="Pp">It's possible to specify options for classes:</p>
<dl class="Bl-tag">
  <dt id="extends"><a class="permalink" href="#extends">extends</a></dt>
  <dd>
    <pre>    class Foo extends Bar { ... }
    </pre>
    <p class="Pp">Sets a superclass for the class being declared.</p>
  </dd>
  <dt id="with"><a class="permalink" href="#with">with</a></dt>
  <dd>
    <pre>    class Foo with Role             { ... }
    class Foo with Role1 with Role2 { ... }
    class Foo with (Role1, Role2)   { ... }
    </pre>
    <p class="Pp">Applies a role or roles to the class being declared.</p>
  </dd>
  <dt id="is"><a class="permalink" href="#is">is mutable</a></dt>
  <dd>
    <pre>    class Foo is mutable { ... }
    </pre>
    <p class="Pp">Causes the class not to be made immutable after its
        definition.</p>
    <p class="Pp">Options can also be provided for anonymous classes using the
        same syntax:</p>
    <p class="Pp"></p>
    <pre>    my $meta_class = class with Role;
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="role"><a class="permalink" href="#role">role</a></h2>
<pre>    role Foo { ... }
    my $anon_role = role { ... };
</pre>
<p class="Pp">Declares a new role. The role can be either named or anonymous,
    depending on whether or not a name is given. Within the role definition
    Moose::Role and MooseX::Method::Signatures are set up automatically in
    addition to the other keywords described in this document. Again,
    namespace::autoclean is injected to clean up Moose::Role and other imports
    for you.</p>
<p class="Pp">It's possible to specify options for roles:</p>
<dl class="Bl-tag">
  <dt id="with~2"><a class="permalink" href="#with~2">with</a></dt>
  <dd>
    <pre>    role Foo with Bar { ... }
    </pre>
    <p class="Pp">Applies a role to the role being declared.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="before_/_after_/_around_/_override_/_augment"><a class="permalink" href="#before_/_after_/_around_/_override_/_augment">before
  / after / around / override / augment</a></h2>
<pre>    before   foo ($x, $y, $z) { ... }
    after    bar ($x, $y, $z) { ... }
    around   baz ($x, $y, $z) { ... }
    override moo ($x, $y, $z) { ... }
    augment  kuh ($x, $y, $z) { ... }
</pre>
<p class="Pp">Add a method modifier. Those work like documented in Moose, except
    for the slightly nicer syntax and the method signatures, which work like
    documented in MooseX::Method::Signatures.</p>
<p class="Pp">For the <span class="Li">&quot;around&quot;</span> modifier an
    additional argument called <span class="Li">$orig</span> is automatically
    set up as the invocant for the method.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="clean"><a class="permalink" href="#clean">clean</a></h2>
<p class="Pp">Sometimes you don't want the automatic cleaning the
    <span class="Li">&quot;class&quot;</span> and
    <span class="Li">&quot;role&quot;</span> keywords provide using
    namespace::autoclean. In those cases you can specify the
    <span class="Li">&quot;dirty&quot;</span> trait for your class or role:</p>
<p class="Pp"></p>
<pre>    use MooseX::Declare;
    class Foo is dirty { ... }
</pre>
<p class="Pp">This will prevent cleaning of your namespace, except for the
    keywords imported from <span class="Li">&quot;Moose&quot;</span> or
    <span class="Li">&quot;Moose::Role&quot;</span>. Additionally, a
    <span class="Li">&quot;clean&quot;</span> keyword is provided, which allows
    you to explicitly clean all functions that were defined prior to calling
    <span class="Li">&quot;clean&quot;</span>. Here's an example:</p>
<p class="Pp"></p>
<pre>    use MooseX::Declare;
    class Foo is dirty {
        sub helper_function { ... }
        clean;
        method foo ($stuff) { ...; return helper_function($stuff); }
    }
</pre>
<p class="Pp">With that, the helper function won't be available as a method to a
    user of your class, but you're still able to use it inside your class.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTE_ON_IMPORTS"><a class="permalink" href="#NOTE_ON_IMPORTS">NOTE
  ON IMPORTS</a></h1>
<p class="Pp">When creating a class with MooseX::Declare like:</p>
<p class="Pp"></p>
<pre>    use MooseX::Declare;
    class Foo { ... }
</pre>
<p class="Pp">What actually happens is something like this:</p>
<p class="Pp"></p>
<pre>    {
        package Foo;
        use Moose;
        use namespace::autoclean;
        ...
        __PACKAGE__-&gt;meta-&gt;make_immutable;
    }
</pre>
<p class="Pp">So if you declare imports outside the class, the symbols get
    imported into the <span class="Li">&quot;main::&quot;</span> namespace, not
    the class' namespace. The symbols then cannot be called from within the
    class:</p>
<p class="Pp"></p>
<pre>    use MooseX::Declare;
    use Data::Dump qw/dump/;
    class Foo {
        method dump($value) { return dump($value) } # Data::Dump::dump IS NOT in Foo::
        method pp($value)   { $self-&gt;dump($value) } # an alias for our dump method
    }
</pre>
<p class="Pp">To solve this, only import MooseX::Declare outside the class
    definition (because you have to). Make all other imports inside the class
    definition.</p>
<p class="Pp"></p>
<pre>    use MooseX::Declare;
    class Foo {
        use Data::Dump qw/dump/;
        method dump($value) { return dump($value) } # Data::Dump::dump IS in Foo::
        method pp($value)   { $self-&gt;dump($value) } # an alias for our dump method
    }
    Foo-&gt;new-&gt;dump($some_value);
    Foo-&gt;new-&gt;pp($some_value);
</pre>
<p class="Pp"><b>NOTE</b> that the import
    <span class="Li">&quot;Data::Dump::dump()&quot;</span> and the method
    <span class="Li">&quot;Foo::dump()&quot;</span>, although having the same
    name, do not conflict with each other, because the imported
    <span class="Li">&quot;dump&quot;</span> function will be cleaned during
    compile time, so only the method remains there at run time. If you want to
    do more esoteric things with imports, have a look at the
    <span class="Li">&quot;clean&quot;</span> keyword and the
    <span class="Li">&quot;dirty&quot;</span> trait.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="WARNING"><a class="permalink" href="#WARNING">WARNING</a></h1>
<p class="Pp"><b>Warning:</b> MooseX::Declare is based on Devel::Declare, a
    giant bag of crack originally implemented by mst with the goal of upsetting
    the perl core developers so much by its very existence that they implemented
    proper keyword handling in the core.</p>
<p class="Pp">As of perl5 version 14, this goal has been achieved, and modules
    such as Devel::CallParser, Function::Parameters, and Keyword::Simple provide
    mechanisms to mangle perl syntax that don't require hallucinogenic drugs to
    interpret the error messages they produce.</p>
<p class="Pp">If you want to use declarative syntax in new code, please for the
    love of kittens get yourself a recent perl and look at Moops instead.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<ul class="Bl-bullet">
  <li>Moose</li>
  <li>Moose::Role</li>
  <li>MooseX::Method::Signatures</li>
  <li>namespace::autoclean</li>
  <li>vim syntax:
    &lt;http://www.vim.org/scripts/script.php?script_id=2526&gt;</li>
  <li>emacs syntax: &lt;http://github.com/jrockway/cperl-mode&gt;</li>
  <li>Geany syntax + notes:
      &lt;http://www.cattlegrid.info/blog/2009/09/moosex-declare-geany-syntax.html&gt;</li>
  <li>Devel::CallParser</li>
  <li>Function::Parameters</li>
  <li>Keyword::Simple</li>
  <li>Moops</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Florian Ragwitz &lt;rafl@debian.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Ash Berlin &lt;ash_github@firemirror.com&gt;</li>
  <li>Chas. J. Owens IV &lt;chas.owens@gmail.com&gt;</li>
  <li>Chris Prather &lt;chris@prather.org&gt;</li>
  <li>Dave Rolsky &lt;autarch@urth.org&gt;</li>
  <li>Devin Austin &lt;dhoss@cpan.org&gt;</li>
  <li>Hans Dieter Pearcey &lt;hdp@cpan.org&gt;</li>
  <li>Justin Hunter &lt;justin.d.hunter@gmail.com&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Matt Kraai &lt;kraai@ftbfs.org&gt;</li>
  <li>Michele Beltrame &lt;arthas@cpan.org&gt;</li>
  <li>Nelo Onyiah &lt;nelo.onyiah@gmail.com&gt;</li>
  <li>Nick Perez &lt;nperez@cpan.org&gt;</li>
  <li>Piers Cawley &lt;pdcawley@bofh.org.uk&gt;</li>
  <li>Rafael Kitover &lt;rkitover@io.com&gt;</li>
  <li>Robert 'phaylon' Sedlacek &lt;rs@474.at&gt;</li>
  <li>Stevan Little &lt;stevan.little@iinteractive.com&gt;</li>
  <li>Tomas Doran &lt;bobtfish@bobtfish.net&gt;</li>
  <li>Yanick Champoux &lt;yanick@babyl.dyndns.org&gt;</li>
  <li>leedo &lt;lee@laylward.com&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 2008 by Florian Ragwitz.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-12-14</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
