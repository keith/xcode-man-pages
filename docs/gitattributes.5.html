<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
       Title: gitattributes
      Author: [FIXME: author] [see http://www.docbook.org/tdg5/en/html/author]
   Generator: DocBook XSL Stylesheets vsnapshot <http://docbook.sf.net/>
        Date: 02/08/2021
      Manual: Git Manual
      Source: Git 2.30.1.378.g1d4f2316c5
    Language: English
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>GITATTRIBUTES(5)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GITATTRIBUTES(5)</td>
    <td class="head-vol">Git Manual</td>
    <td class="head-rtitle">GITATTRIBUTES(5)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
gitattributes - Defining attributes per path
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
$GIT_DIR/info/attributes, .gitattributes
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
A <b>gitattributes</b> file is a simple text file that gives <b>attributes</b>
  to pathnames.
<p class="Pp">Each line in <b>gitattributes</b> file is of form:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
pattern attr1 attr2 ...
</pre>
</div>
<p class="Pp">That is, a pattern followed by an attributes list, separated by
    whitespaces. Leading and trailing whitespaces are ignored. Lines that begin
    with <i>#</i> are ignored. Patterns that begin with a double quote are
    quoted in C style. When the pattern matches the path in question, the
    attributes listed on the line are given to the path.</p>
<p class="Pp">Each attribute can be in one of these states for a given path:</p>
<p class="Pp">Set</p>
<div class="Bd-indent">The path has the attribute with special value
  &quot;true&quot;; this is specified by listing only the name of the attribute
  in the attribute list.</div>
<p class="Pp">Unset</p>
<div class="Bd-indent">The path has the attribute with special value
  &quot;false&quot;; this is specified by listing the name of the attribute
  prefixed with a dash <b>-</b> in the attribute list.</div>
<p class="Pp">Set to a value</p>
<div class="Bd-indent">The path has the attribute with specified string value;
  this is specified by listing the name of the attribute followed by an equal
  sign <b>=</b> and its value in the attribute list.</div>
<p class="Pp">Unspecified</p>
<div class="Bd-indent">No pattern matches the path, and nothing says if the path
  has or does not have the attribute, the attribute for the path is said to be
  Unspecified.</div>
<p class="Pp">When more than one pattern matches the path, a later line
    overrides an earlier line. This overriding is done per attribute.</p>
<p class="Pp">The rules by which the pattern matches paths are the same as in
    <b>.gitignore</b> files (see <b>gitignore</b>(5)), with a few
  exceptions:</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;negative patterns are forbidden</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;patterns that match a directory do not
  recursively match paths inside that directory (so using the trailing-slash
  <b>path/</b> syntax is pointless in an attributes file; use <b>path/**</b>
  instead)</div>
<p class="Pp">When deciding what attributes are assigned to a path, Git consults
    <b>$GIT_DIR/info/attributes</b> file (which has the highest precedence),
    <b>.gitattributes</b> file in the same directory as the path in question,
    and its parent directories up to the toplevel of the work tree (the further
    the directory that contains <b>.gitattributes</b> is from the path in
    question, the lower its precedence). Finally global and system-wide files
    are considered (they have the lowest precedence).</p>
<p class="Pp">When the <b>.gitattributes</b> file is missing from the work tree,
    the path in the index is used as a fall-back. During checkout process,
    <b>.gitattributes</b> in the index is used and then the file in the working
    tree is used as a fall-back.</p>
<p class="Pp">If you wish to affect only a single repository (i.e., to assign
    attributes to files that are particular to one user&#x2019;s workflow for
    that repository), then attributes should be placed in the
    <b>$GIT_DIR/info/attributes</b> file. Attributes which should be
    version-controlled and distributed to other repositories (i.e., attributes
    of interest to all users) should go into <b>.gitattributes</b> files.
    Attributes that should affect all repositories for a single user should be
    placed in a file specified by the <b>core.attributesFile</b> configuration
    option (see <b>git-config</b>(1)). Its default value is
    $XDG_CONFIG_HOME/git/attributes. If $XDG_CONFIG_HOME is either not set or
    empty, $HOME/.config/git/attributes is used instead. Attributes for all
    users on a system should be placed in the <b>$(prefix)/etc/gitattributes</b>
    file.</p>
<p class="Pp">Sometimes you would need to override a setting of an attribute for
    a path to <b>Unspecified</b> state. This can be done by listing the name of
    the attribute prefixed with an exclamation point <b>!</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EFFECTS"><a class="permalink" href="#EFFECTS">EFFECTS</a></h1>
Certain operations by Git can be influenced by assigning particular attributes
  to a path. Currently, the following operations are attributes-aware.
<section class="Ss">
<h2 class="Ss" id="Checking_-out_and_checking_-in"><a class="permalink" href="#Checking_-out_and_checking_-in">Checking-out
  and checking-in</a></h2>
These attributes affect how the contents stored in the repository are copied to
  the working tree files when commands such as <i>git switch</i>, <i>git
  checkout</i> and <i>git merge</i> run. They also affect how Git stores the
  contents you prepare in the working tree in the repository upon <i>git add</i>
  and <i>git commit</i>.
<p class="Pp"><b>text</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">This attribute enables and controls end-of-line normalization.
    When a text file is normalized, its line endings are converted to LF in the
    repository. To control what line ending style is used in the working
    directory, use the <b>eol</b> attribute for a single file and the
    <b>core.eol</b> configuration variable for all text files. Note that setting
    <b>core.autocrlf</b> to <b>true</b> or <b>input</b> overrides
    <b>core.eol</b> (see the definitions of those options in
    <b>git-config</b>(1)).</p>
<p class="Pp">Set</p>
<div class="Bd-indent">Setting the <b>text</b> attribute on a path enables
  end-of-line normalization and marks the path as a text file. End-of-line
  conversion takes place without guessing the content type.</div>
<p class="Pp">Unset</p>
<div class="Bd-indent">Unsetting the <b>text</b> attribute on a path tells Git
  not to attempt any end-of-line conversion upon checkin or checkout.</div>
<p class="Pp">Set to string value &quot;auto&quot;</p>
<div class="Bd-indent">When <b>text</b> is set to &quot;auto&quot;, the path is
  marked for automatic end-of-line conversion. If Git decides that the content
  is text, its line endings are converted to LF on checkin. When the file has
  been committed with CRLF, no conversion is done.</div>
<p class="Pp">Unspecified</p>
<div class="Bd-indent">If the <b>text</b> attribute is unspecified, Git uses the
  <b>core.autocrlf</b> configuration variable to determine if the file should be
  converted.</div>
<p class="Pp">Any other value causes Git to act as if <b>text</b> has been left
    unspecified.</p>
</div>
<p class="Pp"><b>eol</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">This attribute sets a specific line-ending style to be used in the
    working directory. It enables end-of-line conversion without any content
    checks, effectively setting the <b>text</b> attribute. Note that setting
    this attribute on paths which are in the index with CRLF line endings may
    make the paths to be considered dirty. Adding the path to the index again
    will normalize the line endings in the index.</p>
<p class="Pp">Set to string value &quot;crlf&quot;</p>
<div class="Bd-indent">This setting forces Git to normalize line endings for
  this file on checkin and convert them to CRLF when the file is checked
  out.</div>
<p class="Pp">Set to string value &quot;lf&quot;</p>
<div class="Bd-indent">This setting forces Git to normalize line endings to LF
  on checkin and prevents conversion to CRLF when the file is checked out.</div>
</div>
<p class="Pp"><b>Backwards compatibility with crlf attribute</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">For backwards compatibility, the <b>crlf</b> attribute is
    interpreted as follows:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
crlf            text
-crlf           -text
crlf=input      eol=lf
</pre>
</div>
<p class="Pp"></p>
</div>
<p class="Pp"><b>End-of-line conversion</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">While Git normally leaves file contents alone, it can be
    configured to normalize line endings to LF in the repository and,
    optionally, to convert them to CRLF when files are checked out.</p>
<p class="Pp">If you simply want to have CRLF line endings in your working
    directory regardless of the repository you are working with, you can set the
    config variable &quot;core.autocrlf&quot; without using any attributes.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[core]
        autocrlf = true
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">This does not force normalization of text files, but does ensure
    that text files that you introduce to the repository have their line endings
    normalized to LF when they are added, and that files that are already
    normalized in the repository stay normalized.</p>
<p class="Pp">If you want to ensure that text files that any contributor
    introduces to the repository have their line endings normalized, you can set
    the <b>text</b> attribute to &quot;auto&quot; for <i>all</i> files.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*       text=auto
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">The attributes allow a fine-grained control, how the line endings
    are converted. Here is an example that will make Git normalize .txt, .vcproj
    and .sh files, ensure that .vcproj files have CRLF and .sh files have LF in
    the working directory, and prevent .jpg files from being normalized
    regardless of their content.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*               text=auto
*.txt           text
*.vcproj        text eol=crlf
*.sh            text eol=lf
*.jpg           -text
</pre>
</div>
<p class="Pp"></p>
<p class="Pp"></p>
<div class="Bd-indent">
<br/>
<b>Note</b>
<p class="Pp">When <b>text=auto</b> conversion is enabled in a cross-platform
    project using push and pull to a central repository the text files
    containing CRLFs should be normalized.</p>
<p class="Pp"></p>
</div>
<p class="Pp">From a clean working directory:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
$ echo &quot;* text=auto&quot; &gt;.gitattributes
$ git add --renormalize .
$ git status        # Show files that will be normalized
$ git commit -m &quot;Introduce end-of-line normalization&quot;
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">If any files that should not be normalized show up in <i>git
    status</i>, unset their <b>text</b> attribute before running <i>git add
    -u</i>.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
manual.pdf      -text
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Conversely, text files that Git does not detect can have
    normalization enabled manually.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
weirdchars.txt  text
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">If <b>core.safecrlf</b> is set to &quot;true&quot; or
    &quot;warn&quot;, Git verifies if the conversion is reversible for the
    current setting of <b>core.autocrlf</b>. For &quot;true&quot;, Git rejects
    irreversible conversions; for &quot;warn&quot;, Git only prints a warning
    but accepts an irreversible conversion. The safety triggers to prevent such
    a conversion done to the files in the work tree, but there are a few
    exceptions. Even though...</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<i>git add</i> itself does not touch the files in
  the work tree, the next checkout would, so the safety triggers;</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<i>git apply</i> to update a text file with a
  patch does touch the files in the work tree, but the operation is about text
  files and CRLF conversion is about fixing the line ending inconsistencies, so
  the safety does not trigger;</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<i>git diff</i> itself does not touch the files
  in the work tree, it is often run to inspect the changes you intend to next
  <i>git add</i>. To catch potential problems early, safety triggers.</div>
</div>
<p class="Pp"><b>working-tree-encoding</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">Git recognizes files encoded in ASCII or one of its supersets
    (e.g. UTF-8, ISO-8859-1, ...) as text files. Files encoded in certain other
    encodings (e.g. UTF-16) are interpreted as binary and consequently built-in
    Git text processing tools (e.g. <i>git diff</i>) as well as most Git web
    front ends do not visualize the contents of these files by default.</p>
<p class="Pp">In these cases you can tell Git the encoding of a file in the
    working directory with the <b>working-tree-encoding</b> attribute. If a file
    with this attribute is added to Git, then Git re-encodes the content from
    the specified encoding to UTF-8. Finally, Git stores the UTF-8 encoded
    content in its internal data structure (called &quot;the index&quot;). On
    checkout the content is re-encoded back to the specified encoding.</p>
<p class="Pp">Please note that using the <b>working-tree-encoding</b> attribute
    may have a number of pitfalls:</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;Alternative Git implementations (e.g. JGit or
  libgit2) and older Git versions (as of March 2018) do not support the
  <b>working-tree-encoding</b> attribute. If you decide to use the
  <b>working-tree-encoding</b> attribute in your repository, then it is strongly
  recommended to ensure that all clients working with the repository support it.
<p class="Pp">For example, Microsoft Visual Studio resources files (<b>*.rc</b>)
    or PowerShell script files (<b>*.ps1</b>) are sometimes encoded in UTF-16.
    If you declare <b>*.ps1</b> as files as UTF-16 and you add <b>foo.ps1</b>
    with a <b>working-tree-encoding</b> enabled Git client, then <b>foo.ps1</b>
    will be stored as UTF-8 internally. A client without
    <b>working-tree-encoding</b> support will checkout <b>foo.ps1</b> as UTF-8
    encoded file. This will typically cause trouble for the users of this
  file.</p>
<p class="Pp">If a Git client that does not support the
    <b>working-tree-encoding</b> attribute adds a new file <b>bar.ps1</b>, then
    <b>bar.ps1</b> will be stored &quot;as-is&quot; internally (in this example
    probably as UTF-16). A client with <b>working-tree-encoding</b> support will
    interpret the internal contents as UTF-8 and try to convert it to UTF-16 on
    checkout. That operation will fail and cause an error.</p>
</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;Reencoding content to non-UTF encodings can cause
  errors as the conversion might not be UTF-8 round trip safe. If you suspect
  your encoding to not be round trip safe, then add it to
  <b>core.checkRoundtripEncoding</b> to make Git check the round trip encoding
  (see <b>git-config</b>(1)). SHIFT-JIS (Japanese character set) is known to
  have round trip issues with UTF-8 and is checked by default.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;Reencoding content requires resources that might
  slow down certain Git operations (e.g <i>git checkout</i> or <i>git
  add</i>).</div>
<p class="Pp">Use the <b>working-tree-encoding</b> attribute only if you cannot
    store a file in UTF-8 encoding and if you want Git to be able to process the
    content as text.</p>
<p class="Pp">As an example, use the following attributes if your <i>*.ps1</i>
    files are UTF-16 encoded with byte order mark (BOM) and you want Git to
    perform automatic line ending conversion based on your platform.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.ps1           text working-tree-encoding=UTF-16
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Use the following attributes if your <i>*.ps1</i> files are UTF-16
    little endian encoded without BOM and you want Git to use Windows line
    endings in the working directory (use <b>UTF-16LE-BOM</b> instead of
    <b>UTF-16LE</b> if you want UTF-16 little endian with BOM). Please note, it
    is highly recommended to explicitly define the line endings with <b>eol</b>
    if the <b>working-tree-encoding</b> attribute is used to avoid
  ambiguity.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.ps1           text working-tree-encoding=UTF-16LE eol=CRLF
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">You can get a list of all available encodings on your platform
    with the following command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
iconv --list
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">If you do not know the encoding of a file, then you can use the
    <b>file</b> command to guess the encoding:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
file foo.ps1
</pre>
</div>
<p class="Pp"></p>
</div>
<p class="Pp"><b>ident</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">When the attribute <b>ident</b> is set for a path, Git replaces
    <b>$Id$</b> in the blob object with <b>$Id:</b>, followed by the
    40-character hexadecimal blob object name, followed by a dollar sign
    <b>$</b> upon checkout. Any byte sequence that begins with <b>$Id:</b> and
    ends with <b>$</b> in the worktree file is replaced with <b>$Id$</b> upon
    check-in.</p>
</div>
<p class="Pp"><b>filter</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">A <b>filter</b> attribute can be set to a string value that names
    a filter driver specified in the configuration.</p>
<p class="Pp">A filter driver consists of a <b>clean</b> command and a
    <b>smudge</b> command, either of which can be left unspecified. Upon
    checkout, when the <b>smudge</b> command is specified, the command is fed
    the blob object from its standard input, and its standard output is used to
    update the worktree file. Similarly, the <b>clean</b> command is used to
    convert the contents of worktree file upon checkin. By default these
    commands process only a single blob and terminate. If a long running
    <b>process</b> filter is used in place of <b>clean</b> and/or <b>smudge</b>
    filters, then Git can process all blobs with a single filter command
    invocation for the entire life of a single Git command, for example <b>git
    add --all</b>. If a long running <b>process</b> filter is configured then it
    always takes precedence over a configured single blob filter. See section
    below for the description of the protocol used to communicate with a
    <b>process</b> filter.</p>
<p class="Pp">One use of the content filtering is to massage the content into a
    shape that is more convenient for the platform, filesystem, and the user to
    use. For this mode of operation, the key phrase here is &quot;more
    convenient&quot; and not &quot;turning something unusable into usable&quot;.
    In other words, the intent is that if someone unsets the filter driver
    definition, or does not have the appropriate filter program, the project
    should still be usable.</p>
<p class="Pp">Another use of the content filtering is to store the content that
    cannot be directly used in the repository (e.g. a UUID that refers to the
    true content stored outside Git, or an encrypted content) and turn it into a
    usable form upon checkout (e.g. download the external content, or decrypt
    the encrypted content).</p>
<p class="Pp">These two filters behave differently, and by default, a filter is
    taken as the former, massaging the contents into more convenient shape. A
    missing filter driver definition in the config, or a filter driver that
    exits with a non-zero status, is not an error but makes the filter a no-op
    passthru.</p>
<p class="Pp">You can declare that a filter turns a content that by itself is
    unusable into a usable content by setting the filter.&lt;driver&gt;.required
    configuration variable to <b>true</b>.</p>
<p class="Pp">Note: Whenever the clean filter is changed, the repo should be
    renormalized: $ git add --renormalize .</p>
<p class="Pp">For example, in .gitattributes, you would assign the <b>filter</b>
    attribute for paths.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.c     filter=indent
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Then you would define a &quot;filter.indent.clean&quot; and
    &quot;filter.indent.smudge&quot; configuration in your .git/config to
    specify a pair of commands to modify the contents of C programs when the
    source files are checked in (&quot;clean&quot; is run) and checked out (no
    change is made because the command is &quot;cat&quot;).</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[filter &quot;indent&quot;]
        clean = indent
        smudge = cat
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">For best results, <b>clean</b> should not alter its output further
    if it is run twice (&quot;clean&#x2192;clean&quot; should be equivalent to
    &quot;clean&quot;), and multiple <b>smudge</b> commands should not alter
    <b>clean</b>'s output (&quot;smudge&#x2192;smudge&#x2192;clean&quot; should
    be equivalent to &quot;clean&quot;). See the section on merging below.</p>
<p class="Pp">The &quot;indent&quot; filter is well-behaved in this regard: it
    will not modify input that is already correctly indented. In this case, the
    lack of a smudge filter means that the clean filter <i>must</i> accept its
    own output without modifying it.</p>
<p class="Pp">If a filter <i>must</i> succeed in order to make the stored
    contents usable, you can declare that the filter is <b>required</b>, in the
    configuration:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[filter &quot;crypt&quot;]
        clean = openssl enc ...
        smudge = openssl enc -d ...
        required
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Sequence &quot;%f&quot; on the filter command line is replaced
    with the name of the file the filter is working on. A filter might use this
    in keyword substitution. For example:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[filter &quot;p4&quot;]
        clean = git-p4-filter --clean %f
        smudge = git-p4-filter --smudge %f
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Note that &quot;%f&quot; is the name of the path that is being
    worked on. Depending on the version that is being filtered, the
    corresponding file on disk may not exist, or may have different contents.
    So, smudge and clean commands should not try to access the file on disk, but
    only act as filters on the content provided to them on standard input.</p>
</div>
<p class="Pp"><b>Long Running Filter Process</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">If the filter command (a string value) is defined via
    <b>filter.&lt;driver&gt;.process</b> then Git can process all blobs with a
    single filter invocation for the entire life of a single Git command. This
    is achieved by using the long-running process protocol (described in
    technical/long-running-process-protocol.txt).</p>
<p class="Pp">When Git encounters the first file that needs to be cleaned or
    smudged, it starts the filter and performs the handshake. In the handshake,
    the welcome message sent by Git is &quot;git-filter-client&quot;, only
    version 2 is supported, and the supported capabilities are
    &quot;clean&quot;, &quot;smudge&quot;, and &quot;delay&quot;.</p>
<p class="Pp">Afterwards Git sends a list of &quot;key=value&quot; pairs
    terminated with a flush packet. The list will contain at least the filter
    command (based on the supported capabilities) and the pathname of the file
    to filter relative to the repository root. Right after the flush packet Git
    sends the content split in zero or more pkt-line packets and a flush packet
    to terminate content. Please note, that the filter must not send any
    response before it received the content and the final flush packet. Also
    note that the &quot;value&quot; of a &quot;key=value&quot; pair can contain
    the &quot;=&quot; character whereas the key would never contain that
    character.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&gt; command=smudge
packet:          git&gt; pathname=path/testfile.dat
packet:          git&gt; 0000
packet:          git&gt; CONTENT
packet:          git&gt; 0000
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">The filter is expected to respond with a list of
    &quot;key=value&quot; pairs terminated with a flush packet. If the filter
    does not experience problems then the list must contain a
    &quot;success&quot; status. Right after these packets the filter is expected
    to send the content in zero or more pkt-line packets and a flush packet at
    the end. Finally, a second list of &quot;key=value&quot; pairs terminated
    with a flush packet is expected. The filter can change the status in the
    second list or keep the status as is with an empty list. Please note that
    the empty list must be terminated with a flush packet regardless.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; SMUDGED_CONTENT
packet:          git&lt; 0000
packet:          git&lt; 0000  # empty list, keep &quot;status=success&quot; unchanged!
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">If the result content is empty then the filter is expected to
    respond with a &quot;success&quot; status and a flush packet to signal the
    empty content.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; 0000  # empty content!
packet:          git&lt; 0000  # empty list, keep &quot;status=success&quot; unchanged!
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">In case the filter cannot or does not want to process the content,
    it is expected to respond with an &quot;error&quot; status.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&lt; status=error
packet:          git&lt; 0000
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">If the filter experiences an error during processing, then it can
    send the status &quot;error&quot; after the content was (partially or
    completely) sent.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; HALF_WRITTEN_ERRONEOUS_CONTENT
packet:          git&lt; 0000
packet:          git&lt; status=error
packet:          git&lt; 0000
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">In case the filter cannot or does not want to process the content
    as well as any future content for the lifetime of the Git process, then it
    is expected to respond with an &quot;abort&quot; status at any point in the
    protocol.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&lt; status=abort
packet:          git&lt; 0000
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Git neither stops nor restarts the filter process in case the
    &quot;error&quot;/&quot;abort&quot; status is set. However, Git sets its
    exit code according to the <b>filter.&lt;driver&gt;.required</b> flag,
    mimicking the behavior of the <b>filter.&lt;driver&gt;.clean</b> /
    <b>filter.&lt;driver&gt;.smudge</b> mechanism.</p>
<p class="Pp">If the filter dies during the communication or does not adhere to
    the protocol then Git will stop the filter process and restart it with the
    next file that needs to be processed. Depending on the
    <b>filter.&lt;driver&gt;.required</b> flag Git will interpret that as
  error.</p>
</div>
<p class="Pp"><b>Delay</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">If the filter supports the &quot;delay&quot; capability, then Git
    can send the flag &quot;can-delay&quot; after the filter command and
    pathname. This flag denotes that the filter can delay filtering the current
    blob (e.g. to compensate network latencies) by responding with no content
    but with the status &quot;delayed&quot; and a flush packet.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&gt; command=smudge
packet:          git&gt; pathname=path/testfile.dat
packet:          git&gt; can-delay=1
packet:          git&gt; 0000
packet:          git&gt; CONTENT
packet:          git&gt; 0000
packet:          git&lt; status=delayed
packet:          git&lt; 0000
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">If the filter supports the &quot;delay&quot; capability then it
    must support the &quot;list_available_blobs&quot; command. If Git sends this
    command, then the filter is expected to return a list of pathnames
    representing blobs that have been delayed earlier and are now available. The
    list must be terminated with a flush packet followed by a
    &quot;success&quot; status that is also terminated with a flush packet. If
    no blobs for the delayed paths are available, yet, then the filter is
    expected to block the response until at least one blob becomes available.
    The filter can tell Git that it has no more delayed blobs by sending an
    empty list. As soon as the filter responds with an empty list, Git stops
    asking. All blobs that Git has not received at this point are considered
    missing and will result in an error.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&gt; command=list_available_blobs
packet:          git&gt; 0000
packet:          git&lt; pathname=path/testfile.dat
packet:          git&lt; pathname=path/otherfile.dat
packet:          git&lt; 0000
packet:          git&lt; status=success
packet:          git&lt; 0000
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">After Git received the pathnames, it will request the
    corresponding blobs again. These requests contain a pathname and an empty
    content section. The filter is expected to respond with the smudged content
    in the usual way as explained above.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
packet:          git&gt; command=smudge
packet:          git&gt; pathname=path/testfile.dat
packet:          git&gt; 0000
packet:          git&gt; 0000  # empty content!
packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; SMUDGED_CONTENT
packet:          git&lt; 0000
packet:          git&lt; 0000  # empty list, keep &quot;status=success&quot; unchanged!
</pre>
</div>
<p class="Pp"></p>
</div>
<p class="Pp"><b>Example</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">A long running filter demo implementation can be found in
    <b>contrib/long-running-filter/example.pl</b> located in the Git core
    repository. If you develop your own long running filter process then the
    <b>GIT_TRACE_PACKET</b> environment variables can be very helpful for
    debugging (see <b>git</b>(1)).</p>
<p class="Pp">Please note that you cannot use an existing
    <b>filter.&lt;driver&gt;.clean</b> or <b>filter.&lt;driver&gt;.smudge</b>
    command with <b>filter.&lt;driver&gt;.process</b> because the former two use
    a different inter process communication protocol than the latter one.</p>
</div>
<p class="Pp"><b>Interaction between checkin/checkout attributes</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">In the check-in codepath, the worktree file is first converted
    with <b>filter</b> driver (if specified and corresponding driver defined),
    then the result is processed with <b>ident</b> (if specified), and then
    finally with <b>text</b> (again, if specified and applicable).</p>
<p class="Pp">In the check-out codepath, the blob content is first converted
    with <b>text</b>, and then <b>ident</b> and fed to <b>filter</b>.</p>
</div>
<p class="Pp"><b>Merging branches with differing checkin/checkout attributes</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">If you have added attributes to a file that cause the canonical
    repository format for that file to change, such as adding a clean/smudge
    filter or text/eol/ident attributes, merging anything where the attribute is
    not in place would normally cause merge conflicts.</p>
<p class="Pp">To prevent these unnecessary merge conflicts, Git can be told to
    run a virtual check-out and check-in of all three stages of a file when
    resolving a three-way merge by setting the <b>merge.renormalize</b>
    configuration variable. This prevents changes caused by check-in conversion
    from causing spurious merge conflicts when a converted file is merged with
    an unconverted file.</p>
<p class="Pp">As long as a &quot;smudge&#x2192;clean&quot; results in the same
    output as a &quot;clean&quot; even on files that are already smudged, this
    strategy will automatically resolve all filter-related conflicts. Filters
    that do not act in this way may cause additional merge conflicts that must
    be resolved manually.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Generating_diff_text"><a class="permalink" href="#Generating_diff_text">Generating
  diff text</a></h2>
<b>diff</b>
<br/>
<div class="Bd-indent">
<p class="Pp">The attribute <b>diff</b> affects how Git generates diffs for
    particular files. It can tell Git whether to generate a textual patch for
    the path or to treat the path as a binary file. It can also affect what line
    is shown on the hunk header <b>@@ -k,l +n,m @@</b> line, tell Git to use an
    external command to generate the diff, or ask Git to convert binary files to
    a text format before generating the diff.</p>
<p class="Pp">Set</p>
<div class="Bd-indent">A path to which the <b>diff</b> attribute is set is
  treated as text, even when they contain byte values that normally never appear
  in text files, such as NUL.</div>
<p class="Pp">Unset</p>
<div class="Bd-indent">A path to which the <b>diff</b> attribute is unset will
  generate <b>Binary files differ</b> (or a binary patch, if binary patches are
  enabled).</div>
<p class="Pp">Unspecified</p>
<div class="Bd-indent">A path to which the <b>diff</b> attribute is unspecified
  first gets its contents inspected, and if it looks like text and is smaller
  than core.bigFileThreshold, it is treated as text. Otherwise it would generate
  <b>Binary files differ</b>.</div>
<p class="Pp">String</p>
<div class="Bd-indent">Diff is shown using the specified diff driver. Each
  driver may specify one or more options, as described in the following section.
  The options for the diff driver &quot;foo&quot; are defined by the
  configuration variables in the &quot;diff.foo&quot; section of the Git config
  file.</div>
</div>
<p class="Pp"><b>Defining an external diff driver</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">The definition of a diff driver is done in <b>gitconfig</b>, not
    <b>gitattributes</b> file, so strictly speaking this manual page is a wrong
    place to talk about it. However...</p>
<p class="Pp">To define an external diff driver <b>jcdiff</b>, add a section to
    your <b>$GIT_DIR/config</b> file (or <b>$HOME/.gitconfig</b> file) like
    this:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[diff &quot;jcdiff&quot;]
        command = j-c-diff
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">When Git needs to show you a diff for the path with <b>diff</b>
    attribute set to <b>jcdiff</b>, it calls the command you specified with the
    above configuration, i.e. <b>j-c-diff</b>, with 7 parameters, just like
    <b>GIT_EXTERNAL_DIFF</b> program is called. See <b>git</b>(1) for
  details.</p>
</div>
<p class="Pp"><b>Defining a custom hunk-header</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">Each group of changes (called a &quot;hunk&quot;) in the textual
    diff output is prefixed with a line of the form:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
@@ -k,l +n,m @@ TEXT
</pre>
</div>
<p class="Pp">This is called a <i>hunk header</i>. The &quot;TEXT&quot; portion
    is by default a line that begins with an alphabet, an underscore or a dollar
    sign; this matches what GNU <i>diff -p</i> output uses. This default
    selection however is not suited for some contents, and you can use a
    customized pattern to make a selection.</p>
<p class="Pp">First, in .gitattributes, you would assign the <b>diff</b>
    attribute for paths.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.tex   diff=tex
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Then, you would define a &quot;diff.tex.xfuncname&quot;
    configuration to specify a regular expression that matches a line that you
    would want to appear as the hunk header &quot;TEXT&quot;. Add a section to
    your <b>$GIT_DIR/config</b> file (or <b>$HOME/.gitconfig</b> file) like
    this:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[diff &quot;tex&quot;]
        xfuncname = &quot;^(\\\\(sub)*section\\{.*)$&quot;
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Note. A single level of backslashes are eaten by the configuration
    file parser, so you would need to double the backslashes; the pattern above
    picks a line that begins with a backslash, and zero or more occurrences of
    <b>sub</b> followed by <b>section</b> followed by open brace, to the end of
    line.</p>
<p class="Pp">There are a few built-in patterns to make this easier, and
    <b>tex</b> is one of them, so you do not have to write the above in your
    configuration file (you still need to enable this with the attribute
    mechanism, via <b>.gitattributes</b>). The following built in patterns are
    available:</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>ada</b> suitable for source code in the Ada
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>bash</b> suitable for source code in the
  Bourne-Again SHell language. Covers a superset of POSIX shell function
  definitions.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>bibtex</b> suitable for files with BibTeX
  coded references.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>cpp</b> suitable for source code in the C and
  C++ languages.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>csharp</b> suitable for source code in the C#
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>css</b> suitable for cascading style
  sheets.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>dts</b> suitable for devicetree (DTS)
  files.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>elixir</b> suitable for source code in the
  Elixir language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>fortran</b> suitable for source code in the
  Fortran language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>fountain</b> suitable for Fountain
  documents.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>golang</b> suitable for source code in the Go
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>html</b> suitable for HTML/XHTML
  documents.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>java</b> suitable for source code in the Java
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>markdown</b> suitable for Markdown
  documents.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>matlab</b> suitable for source code in the
  MATLAB and Octave languages.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>objc</b> suitable for source code in the
  Objective-C language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>pascal</b> suitable for source code in the
  Pascal/Delphi language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>perl</b> suitable for source code in the Perl
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>php</b> suitable for source code in the PHP
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>python</b> suitable for source code in the
  Python language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>ruby</b> suitable for source code in the Ruby
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>rust</b> suitable for source code in the Rust
  language.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>tex</b> suitable for source code for LaTeX
  documents.</div>
</div>
<p class="Pp"><b>Customizing word diff</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">You can customize the rules that <b>git diff --word-diff</b> uses
    to split words in a line, by specifying an appropriate regular expression in
    the &quot;diff.*.wordRegex&quot; configuration variable. For example, in TeX
    a backslash followed by a sequence of letters forms a command, but several
    such commands can be run together without intervening whitespace. To
    separate them, use a regular expression in your <b>$GIT_DIR/config</b> file
    (or <b>$HOME/.gitconfig</b> file) like this:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[diff &quot;tex&quot;]
        wordRegex = &quot;\\\\[a-zA-Z]+|[{}]|\\\\.|[^\\{}[:space:]]+&quot;
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">A built-in pattern is provided for all languages listed in the
    previous section.</p>
</div>
<p class="Pp"><b>Performing text diffs of binary files</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">Sometimes it is desirable to see the diff of a text-converted
    version of some binary files. For example, a word processor document can be
    converted to an ASCII text representation, and the diff of the text shown.
    Even though this conversion loses some information, the resulting diff is
    useful for human viewing (but cannot be applied directly).</p>
<p class="Pp">The <b>textconv</b> config option is used to define a program for
    performing such a conversion. The program should take a single argument, the
    name of a file to convert, and produce the resulting text on stdout.</p>
<p class="Pp">For example, to show the diff of the exif information of a file
    instead of the binary information (assuming you have the exif tool
    installed), add the following section to your <b>$GIT_DIR/config</b> file
    (or <b>$HOME/.gitconfig</b> file):</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[diff &quot;jpg&quot;]
        textconv = exif
</pre>
</div>
<p class="Pp"></p>
<p class="Pp"></p>
<div class="Bd-indent">
<br/>
<b>Note</b>
<p class="Pp">The text conversion is generally a one-way conversion; in this
    example, we lose the actual image contents and focus just on the text data.
    This means that diffs generated by textconv are <i>not</i> suitable for
    applying. For this reason, only <b>git diff</b> and the <b>git log</b>
    family of commands (i.e., log, whatchanged, show) will perform text
    conversion. <b>git format-patch</b> will never generate this output. If you
    want to send somebody a text-converted diff of a binary file (e.g., because
    it quickly conveys the changes you have made), you should generate it
    separately and send it as a comment <i>in addition to</i> the usual binary
    diff that you might send.</p>
<p class="Pp"></p>
</div>
<p class="Pp">Because text conversion can be slow, especially when doing a large
    number of them with <b>git log -p</b>, Git provides a mechanism to cache the
    output and use it in future diffs. To enable caching, set the
    &quot;cachetextconv&quot; variable in your diff driver&#x2019;s config. For
    example:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[diff &quot;jpg&quot;]
        textconv = exif
        cachetextconv = true
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">This will cache the result of running &quot;exif&quot; on each
    blob indefinitely. If you change the textconv config variable for a diff
    driver, Git will automatically invalidate the cache entries and re-run the
    textconv filter. If you want to invalidate the cache manually (e.g., because
    your version of &quot;exif&quot; was updated and now produces better
    output), you can remove the cache manually with <b>git update-ref -d
    refs/notes/textconv/jpg</b> (where &quot;jpg&quot; is the name of the diff
    driver, as in the example above).</p>
</div>
<p class="Pp"><b>Choosing textconv versus external diff</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">If you want to show differences between binary or
    specially-formatted blobs in your repository, you can choose to use either
    an external diff command, or to use textconv to convert them to a diff-able
    text format. Which method you choose depends on your exact situation.</p>
<p class="Pp">The advantage of using an external diff command is flexibility.
    You are not bound to find line-oriented changes, nor is it necessary for the
    output to resemble unified diff. You are free to locate and report changes
    in the most appropriate way for your data format.</p>
<p class="Pp">A textconv, by comparison, is much more limiting. You provide a
    transformation of the data into a line-oriented text format, and Git uses
    its regular diff tools to generate the output. There are several advantages
    to choosing this method:</p>
<p class="Pp"></p>
<div class="Bd-indent"> 1.Ease of use. It is often much simpler to write a
  binary to text transformation than it is to perform your own diff. In many
  cases, existing programs can be used as textconv filters (e.g., exif,
  odt2txt).</div>
<p class="Pp"></p>
<div class="Bd-indent"> 2.Git diff features. By performing only the
  transformation step yourself, you can still utilize many of Git&#x2019;s diff
  features, including colorization, word-diff, and combined diffs for
  merges.</div>
<p class="Pp"></p>
<div class="Bd-indent"> 3.Caching. Textconv caching can speed up repeated diffs,
  such as those you might trigger by running <b>git log -p</b>.</div>
</div>
<p class="Pp"><b>Marking files as binary</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">Git usually guesses correctly whether a blob contains text or
    binary data by examining the beginning of the contents. However, sometimes
    you may want to override its decision, either because a blob contains binary
    data later in the file, or because the content, while technically composed
    of text characters, is opaque to a human reader. For example, many
    postscript files contain only ASCII characters, but produce noisy and
    meaningless diffs.</p>
<p class="Pp">The simplest way to mark a file as binary is to unset the diff
    attribute in the <b>.gitattributes</b> file:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.ps -diff
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">This will cause Git to generate <b>Binary files differ</b> (or a
    binary patch, if binary patches are enabled) instead of a regular diff.</p>
<p class="Pp">However, one may also want to specify other diff driver
    attributes. For example, you might want to use <b>textconv</b> to convert
    postscript files to an ASCII representation for human viewing, but otherwise
    treat them as binary files. You cannot specify both <b>-diff</b> and
    <b>diff=ps</b> attributes. The solution is to use the <b>diff.*.binary</b>
    config option:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[diff &quot;ps&quot;]
  textconv = ps2ascii
  binary = true
</pre>
</div>
<p class="Pp"></p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Performing_a_three_-way_merge"><a class="permalink" href="#Performing_a_three_-way_merge">Performing
  a three-way merge</a></h2>
<b>merge</b>
<br/>
<div class="Bd-indent">
<p class="Pp">The attribute <b>merge</b> affects how three versions of a file
    are merged when a file-level merge is necessary during <b>git merge</b>, and
    other commands such as <b>git revert</b> and <b>git cherry-pick</b>.</p>
<p class="Pp">Set</p>
<div class="Bd-indent">Built-in 3-way merge driver is used to merge the contents
  in a way similar to <i>merge</i> command of <b>RCS</b> suite. This is suitable
  for ordinary text files.</div>
<p class="Pp">Unset</p>
<div class="Bd-indent">Take the version from the current branch as the tentative
  merge result, and declare that the merge has conflicts. This is suitable for
  binary files that do not have a well-defined merge semantics.</div>
<p class="Pp">Unspecified</p>
<div class="Bd-indent">By default, this uses the same built-in 3-way merge
  driver as is the case when the <b>merge</b> attribute is set. However, the
  <b>merge.default</b> configuration variable can name different merge driver to
  be used with paths for which the <b>merge</b> attribute is unspecified.</div>
<p class="Pp">String</p>
<div class="Bd-indent">3-way merge is performed using the specified custom merge
  driver. The built-in 3-way merge driver can be explicitly specified by asking
  for &quot;text&quot; driver; the built-in &quot;take the current branch&quot;
  driver can be requested with &quot;binary&quot;.</div>
</div>
<p class="Pp"><b>Built-in merge drivers</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">There are a few built-in low-level merge drivers defined that can
    be asked for via the <b>merge</b> attribute.</p>
<p class="Pp">text</p>
<div class="Bd-indent">Usual 3-way file level merge for text files. Conflicted
  regions are marked with conflict markers <b>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</b>,
  <b>=======</b> and <b>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</b>. The version from your
  branch appears before the <b>=======</b> marker, and the version from the
  merged branch appears after the <b>=======</b> marker.</div>
<p class="Pp">binary</p>
<div class="Bd-indent">Keep the version from your branch in the work tree, but
  leave the path in the conflicted state for the user to sort out.</div>
<p class="Pp">union</p>
<div class="Bd-indent">Run 3-way file level merge for text files, but take lines
  from both versions, instead of leaving conflict markers. This tends to leave
  the added lines in the resulting file in random order and the user should
  verify the result. Do not use this if you do not understand the
  implications.</div>
</div>
<p class="Pp"><b>Defining a custom merge driver</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">The definition of a merge driver is done in the <b>.git/config</b>
    file, not in the <b>gitattributes</b> file, so strictly speaking this manual
    page is a wrong place to talk about it. However...</p>
<p class="Pp">To define a custom merge driver <b>filfre</b>, add a section to
    your <b>$GIT_DIR/config</b> file (or <b>$HOME/.gitconfig</b> file) like
    this:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[merge &quot;filfre&quot;]
        name = feel-free merge driver
        driver = filfre %O %A %B %L %P
        recursive = binary
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">The <b>merge.*.name</b> variable gives the driver a human-readable
    name.</p>
<p class="Pp">The &#x2018;merge.*.driver` variable&#x2019;s value is used to
    construct a command to run to merge ancestor&#x2019;s version (<b>%O</b>),
    current version (<b>%A</b>) and the other branches&#x2019; version
    (<b>%B</b>). These three tokens are replaced with the names of temporary
    files that hold the contents of these versions when the command line is
    built. Additionally, %L will be replaced with the conflict marker size (see
    below).</p>
<p class="Pp">The merge driver is expected to leave the result of the merge in
    the file named with <b>%A</b> by overwriting it, and exit with zero status
    if it managed to merge them cleanly, or non-zero if there were
  conflicts.</p>
<p class="Pp">The <b>merge.*.recursive</b> variable specifies what other merge
    driver to use when the merge driver is called for an internal merge between
    common ancestors, when there are more than one. When left unspecified, the
    driver itself is used for both internal merge and the final merge.</p>
<p class="Pp">The merge driver can learn the pathname in which the merged result
    will be stored via placeholder <b>%P</b>.</p>
</div>
<p class="Pp"><b>conflict-marker-size</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">This attribute controls the length of conflict markers left in the
    work tree file during a conflicted merge. Only setting to the value to a
    positive integer has any meaningful effect.</p>
<p class="Pp">For example, this line in <b>.gitattributes</b> can be used to
    tell the merge machinery to leave much longer (instead of the usual
    7-character-long) conflict markers when merging the file
    <b>Documentation/git-merge.txt</b> results in a conflict.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
Documentation/git-merge.txt     conflict-marker-size=32
</pre>
</div>
<p class="Pp"></p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Checking_whitespace_errors"><a class="permalink" href="#Checking_whitespace_errors">Checking
  whitespace errors</a></h2>
<b>whitespace</b>
<br/>
<div class="Bd-indent">
<p class="Pp">The <b>core.whitespace</b> configuration variable allows you to
    define what <i>diff</i> and <i>apply</i> should consider whitespace errors
    for all paths in the project (See <b>git-config</b>(1)). This attribute
    gives you finer control per path.</p>
<p class="Pp">Set</p>
<div class="Bd-indent">Notice all types of potential whitespace errors known to
  Git. The tab width is taken from the value of the <b>core.whitespace</b>
  configuration variable.</div>
<p class="Pp">Unset</p>
<div class="Bd-indent">Do not notice anything as error.</div>
<p class="Pp">Unspecified</p>
<div class="Bd-indent">Use the value of the <b>core.whitespace</b> configuration
  variable to decide what to notice as error.</div>
<p class="Pp">String</p>
<div class="Bd-indent">Specify a comma separate list of common whitespace
  problems to notice in the same format as the <b>core.whitespace</b>
  configuration variable.</div>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Creating_an_archive"><a class="permalink" href="#Creating_an_archive">Creating
  an archive</a></h2>
<b>export-ignore</b>
<br/>
<div class="Bd-indent">
<p class="Pp">Files and directories with the attribute <b>export-ignore</b>
    won&#x2019;t be added to archive files.</p>
</div>
<p class="Pp"><b>export-subst</b>
  <br/>
</p>
<div class="Bd-indent">
<p class="Pp">If the attribute <b>export-subst</b> is set for a file then Git
    will expand several placeholders when adding this file to an archive. The
    expansion depends on the availability of a commit ID, i.e., if
    <b>git-archive</b>(1) has been given a tree instead of a commit or a tag
    then no replacement will be done. The placeholders are the same as those for
    the option <b>--pretty=format:</b> of <b>git-log</b>(1), except that they
    need to be wrapped like this: <b>$Format:PLACEHOLDERS$</b> in the file. E.g.
    the string <b>$Format:%H$</b> will be replaced by the commit hash.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Packing_objects"><a class="permalink" href="#Packing_objects">Packing
  objects</a></h2>
<b>delta</b>
<br/>
<div class="Bd-indent">
<p class="Pp">Delta compression will not be attempted for blobs for paths with
    the attribute <b>delta</b> set to false.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Viewing_files_in_GUI_tools"><a class="permalink" href="#Viewing_files_in_GUI_tools">Viewing
  files in GUI tools</a></h2>
<b>encoding</b>
<br/>
<div class="Bd-indent">
<p class="Pp">The value of this attribute specifies the character encoding that
    should be used by GUI tools (e.g. <b>gitk</b>(1) and <b>git-gui</b>(1)) to
    display the contents of the relevant file. Note that due to performance
    considerations <b>gitk</b>(1) does not use this attribute unless you
    manually enable per-file encodings in its options.</p>
<p class="Pp">If this attribute is not set or has an invalid value, the value of
    the <b>gui.encoding</b> configuration variable is used instead (See
    <b>git-config</b>(1)).</p>
</div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="USING_MACRO_ATTRIBUTES"><a class="permalink" href="#USING_MACRO_ATTRIBUTES">USING
  MACRO ATTRIBUTES</a></h1>
You do not want any end-of-line conversions applied to, nor textual diffs
  produced for, any binary file you track. You would need to specify e.g.
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.jpg -text -diff
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">but that may become cumbersome, when you have many attributes.
    Using macro attributes, you can define an attribute that, when set, also
    sets or unsets a number of other attributes at the same time. The system
    knows a built-in macro attribute, <b>binary</b>:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
*.jpg binary
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">Setting the &quot;binary&quot; attribute also unsets the
    &quot;text&quot; and &quot;diff&quot; attributes as above. Note that macro
    attributes can only be &quot;Set&quot;, though setting one might have the
    effect of setting or unsetting other attributes or even returning other
    attributes to the &quot;Unspecified&quot; state.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFINING_MACRO_ATTRIBUTES"><a class="permalink" href="#DEFINING_MACRO_ATTRIBUTES">DEFINING
  MACRO ATTRIBUTES</a></h1>
Custom macro attributes can be defined only in top-level gitattributes files
  (<b>$GIT_DIR/info/attributes</b>, the <b>.gitattributes</b> file at the top
  level of the working tree, or the global or system-wide gitattributes files),
  not in <b>.gitattributes</b> files in working tree subdirectories. The
  built-in macro attribute &quot;binary&quot; is equivalent to:
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
[attr]binary -diff -merge -text
</pre>
</div>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
If you have these three <b>gitattributes</b> file:
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
(in $GIT_DIR/info/attributes)
a*      foo !bar -baz
(in .gitattributes)
abc     foo bar baz
(in t/.gitattributes)
ab*     merge=filfre
abc     -foo -bar
*.c     frotz
</pre>
</div>
<p class="Pp"></p>
<p class="Pp">the attributes given to path <b>t/abc</b> are computed as
  follows:</p>
<p class="Pp"></p>
<div class="Bd-indent"> 1.By examining <b>t/.gitattributes</b> (which is in the
  same directory as the path in question), Git finds that the first line
  matches. <b>merge</b> attribute is set. It also finds that the second line
  matches, and attributes <b>foo</b> and <b>bar</b> are unset.</div>
<p class="Pp"></p>
<div class="Bd-indent"> 2.Then it examines <b>.gitattributes</b> (which is in
  the parent directory), and finds that the first line matches, but
  <b>t/.gitattributes</b> file already decided how <b>merge</b>, <b>foo</b> and
  <b>bar</b> attributes should be given to this path, so it leaves <b>foo</b>
  and <b>bar</b> unset. Attribute <b>baz</b> is set.</div>
<p class="Pp"></p>
<div class="Bd-indent"> 3.Finally it examines <b>$GIT_DIR/info/attributes</b>.
  This file is used to override the in-tree settings. The first line is a match,
  and <b>foo</b> is set, <b>bar</b> is reverted to unspecified state, and
  <b>baz</b> is unset.</div>
<p class="Pp">As the result, the attributes assignment to <b>t/abc</b>
  becomes:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
foo     set to true
bar     unspecified
baz     set to false
merge   set to string value &quot;filfre&quot;
frotz   unspecified
</pre>
</div>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>git-check-attr</b>(1).
</section>
<section class="Sh">
<h1 class="Sh" id="GIT"><a class="permalink" href="#GIT">GIT</a></h1>
Part of the <b>git</b>(1) suite
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">11/04/2019</td>
    <td class="foot-os">Git 2.24.0</td>
  </tr>
</table>
</body>
</html>
