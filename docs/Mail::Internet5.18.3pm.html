<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Mail::Internet(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Mail::Internet(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Mail::Internet(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Mail::Internet - manipulate email messages
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Mail::Internet;
  my $msg = Mail::Internet-&gt;new(\*STDIN);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This package implements reading, creating, manipulating, and writing email
  messages. Sometimes, the implementation tries to be too smart, but in the
  general case it works as expected.
<p class="Pp">If you start writing a <b>new application</b>, you should use the
    Mail::Box distribution, which has more features and handles messages much
    better according to the RFCs. See &lt;http://perl.overmeer.net/mailbox/&gt;.
    You may also chose MIME::Entity, to get at least some multipart support in
    your application.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Constructors"><a class="permalink" href="#Constructors">Constructors</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>dup</b>()</dt>
  <dd>Duplicate the message as a whole. Both header and body will be
      deep-copied: a new Mail::Internet object is returned.</dd>
  <dt>$obj-&gt;<b>extract</b>(ARRAY-of-LINES)</dt>
  <dd>Extract header and body from an ARRAY of message lines. Requires an object
      already created with <i>new()</i>, which contents will get
    overwritten.</dd>
  <dt>$obj-&gt;<b>new</b>([ARG], [OPTIONS])</dt>
  <dd></dd>
  <dt>Mail::Internet-&gt;<b>new</b>([ARG], [OPTIONS])</dt>
  <dd>ARG is optional and may be either a file descriptor (reference to a GLOB)
      or a reference to an array. If given the new object will be initialized
      with headers and body either from the array of read from the file
      descriptor.
    <p class="Pp">The <i>Mail::Header::new()</i> OPTIONS
        <span class="Li">&quot;Modify&quot;</span>,
        <span class="Li">&quot;MailFrom&quot;</span> and
        <span class="Li">&quot;FoldLength&quot;</span> may also be given.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
 -Option--Default
  Body    []
  Header  undef
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>Body =&gt; ARRAY-of-LINES</dt>
  <dd>The value of this option should be a reference to an array which contains
      the lines for the body of the message. Each line should be terminated with
      <span class="Li">&quot;\n&quot;</span> (LF). If Body is given then
      <span class="Li">&quot;Mail::Internet&quot;</span> will not attempt to
      read the body from <span class="Li">&quot;ARG&quot;</span> (even if it is
      specified).</dd>
  <dt>Header =&gt; Mail::Header</dt>
  <dd>The value of this option should be a Mail::Header object. If given then
      <span class="Li">&quot;Mail::Internet&quot;</span> will not attempt to
      read a mail header from <span class="Li">&quot;ARG&quot;</span>, if it was
      specified.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>read</b>(FILEHANDLE)</dt>
  <dd>Read a message from the FILEHANDLE into an already existing message
      object. Better use <i>new()</i> with the FILEHANDLE as first
    argument.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Accessors"><a class="permalink" href="#Accessors">Accessors</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>body</b>([BODY])</dt>
  <dd>Returns the body of the message. This is a reference to an array. Each
      entry in the array represents a single line in the message.
    <p class="Pp">If <i>BODY</i> is given, it can be a reference to an array or
        an array, then the body will be replaced. If a reference is passed, it
        is used directly and not copied, so any subsequent changes to the array
        will change the contents of the body.</p>
  </dd>
  <dt>$obj-&gt;<b>head</b>()</dt>
  <dd>Returns the <span class="Li">&quot;Mail::Header&quot;</span> object which
      holds the headers for the current message</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_the_message_as_a_whole"><a class="permalink" href="#Processing_the_message_as_a_whole">Processing
  the message as a whole</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>as_mbox_string</b>([ALREADY_ESCAPED])</dt>
  <dd>Returns the message as a string in mbox format.
      <span class="Li">&quot;ALREADY_ESCAPED&quot;</span>, if given and true,
      indicates that <i>escape_from()</i> has already been called on this
      object.</dd>
  <dt>$obj-&gt;<b>as_string</b>()</dt>
  <dd>Returns the message as a single string.</dd>
  <dt>$obj-&gt;<b>print</b>([FILEHANDLE])</dt>
  <dd>Print the header, body or whole message to file descriptor
      <i>FILEHANDLE</i>. <i></i><i>$fd</i><i></i> should be a reference to a
      GLOB. If <i>FILEHANDLE</i> is not given the output will be sent to STDOUT.
    <p class="Pp">example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $mail-&gt;print( \*STDOUT );  # Print message to STDOUT
    </pre>
  </dd>
  <dt>$obj-&gt;<b>print_body</b>([FILEHANDLE])</dt>
  <dd>Print only the body to the FILEHANDLE (default STDOUT).</dd>
  <dt>$obj-&gt;<b>print_header</b>([FILEHANDLE])</dt>
  <dd>Print only the header to the FILEHANDLE (default STDOUT).</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_the_header"><a class="permalink" href="#Processing_the_header">Processing
  the header</a></h2>
Most of these methods are simply wrappers around methods provided by
  Mail::Header.
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>add</b>(PAIRS-of-FIELD)</dt>
  <dd>The PAIRS are field-name and field-content. For each PAIR,
      <i>Mail::Header::add()</i> is called. All fields are added after existing
      fields. The last addition is returned.</dd>
  <dt>$obj-&gt;<b>combine</b>(TAG, [WITH])</dt>
  <dd>See <i>Mail::Header::combine()</i>.</dd>
  <dt>$obj-&gt;<b>delete</b>(TAG, [TAGs])</dt>
  <dd>Delete all fields with the name TAG. <i>Mail::Header::delete()</i> is
      doing the work.</dd>
  <dt>$obj-&gt;<b>fold</b>([LENGTH])</dt>
  <dd>See <i>Mail::Header::fold()</i>.</dd>
  <dt>$obj-&gt;<b>fold_length</b>([TAG], [LENGTH])</dt>
  <dd>See <i>Mail::Header::fold_length()</i>.</dd>
  <dt>$obj-&gt;<b>get</b>(TAG, [TAGs])</dt>
  <dd>In LIST context, all fields with the name TAG are returned. In SCALAR
      context, only the first field which matches the earliest TAG is returned.
      <i>Mail::Header::get()</i> is called to collect the data.</dd>
  <dt>$obj-&gt;<b>header</b>([ARRAY-of-LINES])</dt>
  <dd>See <i>Mail::Header::header()</i>.</dd>
  <dt>$obj-&gt;<b>replace</b>(PAIRS-of-FIELD)</dt>
  <dd>The PAIRS are field-name and field-content. For each PAIR,
      <i>Mail::Header::replace()</i> is called with INDEX 0. If a FIELD is
      already in the header, it will be removed first. Do not specified the same
      field-name twice.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_the_body"><a class="permalink" href="#Processing_the_body">Processing
  the body</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>remove_sig</b>([NLINES])</dt>
  <dd>Attempts to remove a users signature from the body of a message. It does
      this by looking for a line equal to <span class="Li">'-- '</span> within
      the last <span class="Li">&quot;NLINES&quot;</span> of the message. If
      found then that line and all lines after it will be removed. If
      <span class="Li">&quot;NLINES&quot;</span> is not given a default value of
      10 will be used. This would be of most use in auto-reply scripts.</dd>
  <dt>$obj-&gt;<b>sign</b>(OPTIONS)</dt>
  <dd>Add your signature to the body. <i>remove_sig()</i> will strip existing
      signatures first.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
 -Option   --Default
  File       undef
  Signature  []
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>File =&gt; FILEHANDLE</dt>
  <dd>Take from the FILEHANDLE all lines starting from the first
      <span class="Li">&quot;--&quot;</span>.</dd>
  <dt>Signature =&gt; STRING|ARRAY-of-LINES</dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>tidy_body</b>()</dt>
  <dd>Removes all leading and trailing lines from the body that only contain
      white spaces.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="High-level_functionality"><a class="permalink" href="#High-level_functionality">High-level
  functionality</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>escape_from</b>()</dt>
  <dd>It can cause problems with some applications if a message contains a line
      starting with <span class="Li">`From '</span>, in particular when
      attempting to split a folder. This method inserts a leading
      <span class="Li">&quot;`&quot;</span>'&gt; on any line that matches the
      regular expression <span class="Li">&quot;/^&quot;</span>*From/&gt;</dd>
  <dt>$obj-&gt;<b>nntppost</b>([OPTIONS])</dt>
  <dd>Post an article via NNTP. Requires Net::NNTP to be installed.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
 -Option--Default
  Debug   &lt;false&gt;
  Host    &lt;required&gt;
  Port    119
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>Debug =&gt; BOOLEAN</dt>
  <dd>Debug value to pass to Net::NNTP, see Net::NNTP</dd>
  <dt>Host =&gt; HOSTNAME|Net::NNTP object</dt>
  <dd>Name of NNTP server to connect to, or a Net::NNTP object to use.</dd>
  <dt>Port =&gt; INTEGER</dt>
  <dd>Port number to connect to on remote host</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>reply</b>(OPTIONS)</dt>
  <dd>Create a new object with header initialised for a reply to the current
      object. And the body will be a copy of the current message indented.
    <p class="Pp">The <span class="Li">&quot;.mailhdr&quot;</span> file in your
        home directory (if exists) will be read first, to provide defaults.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
 -Option  --Default
  Exclude   []
  Indent    '&gt;'
  Keep      []
  ReplyAll  false
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>Exclude =&gt; ARRAY-of-FIELDS</dt>
  <dd>Remove the listed FIELDS from the produced message.</dd>
  <dt>Indent =&gt; STRING</dt>
  <dd>Use as indentation string. The string may contain
      <span class="Li">&quot;%%&quot;</span> to get a single
      <span class="Li">&quot;%&quot;</span>, <span class="Li">%f</span> to get
      the first from name, <span class="Li">%F</span> is the first character of
      <span class="Li">%f</span>, <span class="Li">%l</span> is the last name,
      <span class="Li">%L</span> its first character, <span class="Li">%n</span>
      the whole from string, and <span class="Li">%I</span> the first character
      of each of the names in the from string.</dd>
  <dt>Keep =&gt; ARRAY-of-FIELDS</dt>
  <dd>Copy the listed FIELDS from the original message.</dd>
  <dt>ReplyAll =&gt; BOOLEAN</dt>
  <dd>Automatically include all To and Cc addresses of the original mail,
      excluding those mentioned in the Bcc list.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>send</b>([TYPE, [ARGS...]])</dt>
  <dd>Send a Mail::Internet message using Mail::Mailer. TYPE and ARGS are passed
      on to <i>Mail::Mailer::new()</i>.</dd>
  <dt>$obj-&gt;<b>smtpsend</b>([OPTIONS])</dt>
  <dd>Send a Mail::Internet message using direct SMTP. to the given ADDRESSES,
      each can be either a string or a reference to a list of email addresses.
      If none of <span class="Li">&quot;To&quot;</span>, &lt;Cc&gt; or
      <span class="Li">&quot;Bcc&quot;</span> are given then the addresses are
      extracted from the message being sent.
    <p class="Pp">The return value will be a list of email addresses that the
        message was sent to. If the message was not sent the list will be
      empty.</p>
    <p class="Pp">Requires Net::SMTP and Net::Domain to be installed.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
 -Option  --Default
  Bcc       undef
  Cc        undef
  Debug     &lt;false&gt;
  Hello     localhost.localdomain
  Host      $ENV{SMTPHOSTS}
  MailFrom  Mail::Util::mailaddress()
  Port      25
  To        undef
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>Bcc =&gt; ADDRESSES</dt>
  <dd></dd>
  <dt>Cc =&gt; ADDRESSES</dt>
  <dd></dd>
  <dt>Debug =&gt; BOOLEAN</dt>
  <dd>Debug value to pass to Net::SMPT, see &lt;Net::SMTP&gt;</dd>
  <dt>Hello =&gt; STRING</dt>
  <dd>Send a HELO (or EHLO) command to the server with the given name.</dd>
  <dt>Host =&gt; HOSTNAME</dt>
  <dd>Name of the SMTP server to connect to, or a Net::SMTP object to use
    <p class="Pp">If <span class="Li">&quot;Host&quot;</span> is not given then
        the SMTP host is found by attempting connections first to hosts
        specified in <span class="Li">$ENV{SMTPHOSTS}</span>, a colon separated
        list, then <span class="Li">&quot;mailhost&quot;</span> and
        <span class="Li">&quot;localhost&quot;</span>.</p>
  </dd>
  <dt>MailFrom =&gt; ADDRESS</dt>
  <dd>The e-mail address which is used as sender. By default,
      <i>Mail::Util::mailaddress()</i> provides the address of the sender.</dd>
  <dt>Port =&gt; INTEGER</dt>
  <dd>Port number to connect to on remote host</dd>
  <dt>To =&gt; ADDRESSES</dt>
  <dd></dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>unescape_from</b>(())</dt>
  <dd>Remove the escaping added by <i>escape_from()</i>.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
This module is part of the MailTools distribution,
  <i>http://perl.overmeer.net/mailtools/</i>.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
The MailTools bundle was developed by Graham Barr. Later, Mark Overmeer took
  over maintenance without commitment to further development.
<p class="Pp">Mail::Cap by Gisle Aas &lt;aas@oslonett.no&gt;.
    Mail::Field::AddrList by Peter Orbaek &lt;poe@cit.dk&gt;. Mail::Mailer and
    Mail::Send by Tim Bunce &lt;Tim.Bunce@ig.co.uk&gt;. For other contributors
    see ChangeLog.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
Copyrights 1995-2000 Graham Barr &lt;gbarr@pobox.com&gt; and 2001-2007 Mark
  Overmeer &lt;perl@overmeer.net&gt;.
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself. See
    <i>http://www.perl.com/perl/misc/Artistic.html</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-05</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
