<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Locale::Maketext::Lexicon(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Locale::Maketext::Lexicon(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Locale::Maketext::Lexicon(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Locale::Maketext::Lexicon - Use other catalog formats in
  Maketext</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 1.00</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">As part of a localization class, automatically glob for available
    lexicons:</p>
<p class="Pp"></p>
<pre>    package Hello::I18N;
    use base 'Locale::Maketext';
    use Locale::Maketext::Lexicon {
        '*' =&gt; [Gettext =&gt; '/usr/local/share/locale/*/LC_MESSAGES/hello.mo'],
        ### Uncomment to fallback when a key is missing from lexicons
        # _auto   =&gt; 1,
        ### Uncomment to decode lexicon entries into Unicode strings
        # _decode =&gt; 1,
        ### Uncomment to load and parse everything right away
        # _preload =&gt; 1,
        ### Uncomment to use %1 / %quant(%1) instead of [_1] / [quant, _1]
        # _style  =&gt; 'gettext',
    };
</pre>
<p class="Pp">Explicitly specify languages, during compile- or run-time:</p>
<p class="Pp"></p>
<pre>    package Hello::I18N;
    use base 'Locale::Maketext';
    use Locale::Maketext::Lexicon {
        de =&gt; [Gettext =&gt; 'hello_de.po'],
        fr =&gt; [
            Gettext =&gt; 'hello_fr.po',
            Gettext =&gt; 'local/hello/fr.po',
        ],
    };
    # ... incrementally add new lexicons
    Locale::Maketext::Lexicon-&gt;import({
        de =&gt; [Gettext =&gt; 'local/hello/de.po'],
    })
</pre>
<p class="Pp">Alternatively, as part of a localization subclass:</p>
<p class="Pp"></p>
<pre>    package Hello::I18N::de;
    use base 'Hello::I18N';
    use Locale::Maketext::Lexicon (Gettext =&gt; \*DATA);
    __DATA__
    # Some sample data
    msgid &quot;&quot;
    msgstr &quot;&quot;
    &quot;Project-Id-Version: Hello 1.3.22.1\n&quot;
    &quot;MIME-Version: 1.0\n&quot;
    &quot;Content-Type: text/plain; charset=iso8859-1\n&quot;
    &quot;Content-Transfer-Encoding: 8bit\n&quot;
    #: Hello.pm:10
    msgid &quot;Hello, World!&quot;
    msgstr &quot;Hallo, Welt!&quot;
    #: Hello.pm:11
    msgid &quot;You have %quant(%1,piece) of mail.&quot;
    msgstr &quot;Sie haben %quant(%1,Poststueck,Poststuecken).&quot;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module provides lexicon-handling modules to read from other
    localization formats, such as <i>Gettext</i>, <i>Msgcat</i>, and so on.</p>
<p class="Pp">If you are unfamiliar with the concept of lexicon modules, please
    consult Locale::Maketext and the <span class="Li">&quot;webl10n&quot;</span>
    HTML files in the <span class="Li">&quot;docs/&quot;</span> directory of
    this module.</p>
<p class="Pp">A command-line utility xgettext.pl is also installed with this
    module, for extracting translatable strings from source files.</p>
<section class="Ss">
<h2 class="Ss" id="The__import__function"><a class="permalink" href="#The__import__function">The
  &quot;import&quot; function</a></h2>
<p class="Pp">The <span class="Li">&quot;import()&quot;</span> function accepts
    two forms of arguments:</p>
<dl class="Bl-tag">
  <dt>(<i>format</i> =&gt; <i>source</i> ... )</dt>
  <dd>This form takes any number of argument pairs (usually one); <i>source</i>
      may be a file name, a filehandle, or an array reference.
    <p class="Pp">For each such pair, it pass the contents specified by the
        second argument to
        <b>Locale::Maketext::Lexicon::</b><b><i>format</i></b><b></b>-&gt;parse
        as a plain list, and export its return value as the
        <span class="Li">%Lexicon</span> hash in the calling package.</p>
    <p class="Pp">In the case that there are multiple such pairs, the lexicon
        defined by latter ones overrides earlier ones.</p>
  </dd>
  <dt>{ <i>language</i> =&gt; [ <i>format</i>, <i>source</i> ... ] ... }</dt>
  <dd>This form accepts a hash reference. It will export a
      <span class="Li">%Lexicon</span> into the subclasses specified by each
      <i>language</i>, using the process described above. It is designed to
      alleviate the need to set up a separate subclass for each localized
      language, and just use the catalog files.
    <p class="Pp">This module will convert the <i>language</i> arguments into
        lowercase, and replace all <span class="Li">&quot;-&quot;</span> with
        <span class="Li">&quot;_&quot;</span>, so
        <span class="Li">&quot;zh_TW&quot;</span> and
        <span class="Li">&quot;zh-tw&quot;</span> will both map to the
        <span class="Li">&quot;zh_tw&quot;</span> subclass.</p>
    <p class="Pp">If <i>language</i> begins with
        <span class="Li">&quot;_&quot;</span>, it is taken as an option that
        controls how lexicons are parsed. See &quot;Options&quot; for a list of
        available options.</p>
    <p class="Pp">The <span class="Li">&quot;*&quot;</span> is a special
        <i>language</i>; it must be used in conjunction with a filename that
        also contains <span class="Li">&quot;*&quot;</span>; all matched files
        with a valid language code in the place of
        <span class="Li">&quot;*&quot;</span> will be automatically prepared as
        a lexicon subclass. If there is multiple
        <span class="Li">&quot;*&quot;</span> in the filename, the last one is
        used as the language name.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Options"><a class="permalink" href="#Options">Options</a></h2>
<dl class="Bl-tag">
  <dt>&quot;_auto&quot;</dt>
  <dd>If set to a true value, missing lookups on lexicons are handled silently,
      as if an <span class="Li">&quot;Auto&quot;</span> lexicon has been
      appended on all language lexicons.</dd>
  <dt>&quot;_decode&quot;</dt>
  <dd>If set to a true value, source entries will be converted into utf8-strings
      (available in Perl 5.6.1 or later). This feature needs the <b>Encode</b>
      or <b>Encode::compat</b> module.
    <p class="Pp">Currently, only the
        <span class="Li">&quot;Gettext&quot;</span> backend supports this
        option.</p>
  </dd>
  <dt>&quot;_encoding&quot;</dt>
  <dd>This option only has effect when
      <span class="Li">&quot;_decode&quot;</span> is set to true. It specifies
      an encoding to store lexicon entries, instead of utf8-strings.
    <p class="Pp">If <span class="Li">&quot;_encoding&quot;</span> is set to
        <span class="Li">&quot;locale&quot;</span>, the encoding from the
        current locale setting is used.</p>
  </dd>
  <dt>&quot;_preload&quot;</dt>
  <dd>By default parsing is delayed until first use of the lexicon, set this
      option to true value to parse it asap. Increment adding lexicons forces
      parsing.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Subclassing_format_handlers"><a class="permalink" href="#Subclassing_format_handlers">Subclassing
  format handlers</a></h2>
<p class="Pp">If you wish to override how sources specified in different data
    types are handled, please use a subclass that overrides
    <span class="Li">&quot;lexicon_get_</span><span class="Li"><i>TYPE</i></span><span class="Li">&quot;</span>.</p>
<p class="Pp">XXX: not documented well enough yet. Patches welcome.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION~2"><a class="permalink" href="#VERSION~2">VERSION</a></h1>
<p class="Pp">This document describes version 0.91 of
  Locale::Maketext::Lexicon.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">When you attempt to localize an entry missing in the lexicon,
    Maketext will throw an exception by default. To inhibit this behaviour,
    override the <span class="Li">&quot;_AUTO&quot;</span> key in your language
    subclasses, for example:</p>
<p class="Pp"></p>
<pre>    $Hello::I18N::en::Lexicon{_AUTO} = 1; # autocreate missing keys
</pre>
<p class="Pp">If you want to implement a new
    <span class="Li">&quot;Lexicon::*&quot;</span> backend module, please note
    that <span class="Li">&quot;parse()&quot;</span> takes an array containing
    the <b>source strings</b> from the specified filehandle or filename, which
    are <i>not</i> <span class="Li">&quot;chomp&quot;</span>ed. Although if the
    source is an array reference, its elements will probably not contain any
    newline characters anyway.</p>
<p class="Pp">The <span class="Li">&quot;parse()&quot;</span> function should
    return a hash reference, which will be assigned to the <i>typeglob</i>
    (<span class="Li">*Lexicon</span>) of the language module. All it amounts to
    is that if the returned reference points to a tied hash, the
    <span class="Li">%Lexicon</span> will be aliased to the same tied hash if it
    was not initialized previously.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ACKNOWLEDGMENTS"><a class="permalink" href="#ACKNOWLEDGMENTS">ACKNOWLEDGMENTS</a></h1>
<p class="Pp">Thanks to Jesse Vincent for suggesting this module to be
  written.</p>
<p class="Pp">Thanks also to Sean M. Burke for coming up with
    <b>Locale::Maketext</b> in the first place, and encouraging me to experiment
    with alternative Lexicon syntaxes.</p>
<p class="Pp">Thanks also to Yi Ma Mao for providing the MO file parsing
    subroutine, as well as inspiring me to implement file globbing and
    transcoding support.</p>
<p class="Pp">See the <i>AUTHORS</i> file in the distribution for a list of
    people who have sent helpful patches, ideas or comments.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">xgettext.pl for extracting translatable strings from common
    template systems and perl source files.</p>
<p class="Pp">Locale::Maketext, Locale::Maketext::Lexicon::Auto,
    Locale::Maketext::Lexicon::Gettext, Locale::Maketext::Lexicon::Msgcat,
    Locale::Maketext::Lexicon::Tie</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Audrey Tang &lt;cpan@audreyt.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 2002-2013 by Audrey Tang &lt;cpan@audreyt.org&gt;.</p>
<p class="Pp">This software is released under the MIT license cited below.</p>
<section class="Ss">
<h2 class="Ss" id="The__"><a class="permalink" href="#The__">The &quot;MIT&quot;
  License</a></h2>
<p class="Pp">Permission is hereby granted, free of charge, to any person
    obtaining a copy of this software and associated documentation files (the
    &quot;Software&quot;), to deal in the Software without restriction,
    including without limitation the rights to use, copy, modify, merge,
    publish, distribute, sublicense, and/or sell copies of the Software, and to
    permit persons to whom the Software is furnished to do so, subject to the
    following conditions:</p>
<p class="Pp">The above copyright notice and this permission notice shall be
    included in all copies or substantial portions of the Software.</p>
<p class="Pp">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF
    ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
    EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
    OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
    USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS~2"><a class="permalink" href="#AUTHORS~2">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>Clinton Gormley &lt;drtech@cpan.org&gt;</li>
  <li>Audrey Tang &lt;cpan@audreyt.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is Copyright (c) 2014 by Audrey Tang.</p>
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"></p>
<pre>  The MIT (X11) License
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-03-06</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
