<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Moose::Manual::MOP(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Moose::Manual::MOP(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Moose::Manual::MOP(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Moose::Manual::MOP - The Moose (and Class::MOP) meta API</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 2.1202</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INTRODUCTION"><a class="permalink" href="#INTRODUCTION">INTRODUCTION</a></h1>
<p class="Pp">Moose provides a powerful introspection API built on top of
    <span class="Li">&quot;Class::MOP&quot;</span>. &quot;MOP&quot; stands for
    Meta-Object Protocol. In plainer English, a MOP is an API for performing
    introspection on classes, attributes, methods, and so on.</p>
<p class="Pp">In fact, it is <span class="Li">&quot;Class::MOP&quot;</span> that
    provides many of Moose's core features, including attributes,
    before/after/around method modifiers, and immutability. In most cases, Moose
    takes an existing <span class="Li">&quot;Class::MOP&quot;</span> class and
    subclasses it to add additional features. Moose also adds some entirely new
    features of its own, such as roles, the augment modifier, and types.</p>
<p class="Pp">If you're interested in the MOP, it's important to know about
    <span class="Li">&quot;Class::MOP&quot;</span> so you know what docs to
    read. Often, the introspection method that you're looking for is defined in
    a <span class="Li">&quot;Class::MOP&quot;</span> class, rather than Moose
    itself.</p>
<p class="Pp">The MOP provides more than just <i>read-only</i> introspection. It
    also lets you add attributes and methods, apply roles, and much more. In
    fact, all of the declarative Moose sugar is simply a thin layer on top of
    the MOP API.</p>
<p class="Pp">If you want to write Moose extensions, you'll need to learn some
    of the MOP API. The introspection methods are also handy if you want to
    generate docs or inheritance graphs, or do some other runtime
  reflection.</p>
<p class="Pp">This document is not a complete reference for the meta API. We're
    just going to cover some of the highlights, and give you a sense of how it
    all works. To really understand it, you'll have to read a lot of other docs,
    and possibly even dig into the Moose guts a bit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GETTING_STARTED"><a class="permalink" href="#GETTING_STARTED">GETTING
  STARTED</a></h1>
<p class="Pp">The usual entry point to the meta API is through a class's
    metaclass object, which is a Moose::Meta::Class. This is available by
    calling the <span class="Li">&quot;meta&quot;</span> method on a class or
    object:</p>
<p class="Pp"></p>
<pre>  package User;
  use Moose;
  my $meta = __PACKAGE__-&gt;meta;
</pre>
<p class="Pp">The <span class="Li">&quot;meta&quot;</span> method is added to a
    class when it uses Moose.</p>
<p class="Pp">You can also use
    <span class="Li">&quot;Class::MOP::Class-&gt;initialize($name)&quot;</span>
    to get a metaclass object for any class. This is safer than calling
    <span class="Li">&quot;$class-&gt;meta&quot;</span> when you're not sure
    that the class has a meta method.</p>
<p class="Pp">The
    <span class="Li">&quot;Class::MOP::Class-&gt;initialize&quot;</span>
    constructor will return an existing metaclass if one has already been
    created (via Moose or some other means). If it hasn't, it will return a new
    <span class="Li">&quot;Class::MOP::Class&quot;</span> object. This will work
    for classes that use Moose, meta API classes, and classes which don't use
    Moose at all.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USING_THE_METACLASS_OBJECT"><a class="permalink" href="#USING_THE_METACLASS_OBJECT">USING
  THE METACLASS OBJECT</a></h1>
<p class="Pp">The metaclass object can tell you about a class's attributes,
    methods, roles, parents, and more. For example, to look at all of the
    class's attributes:</p>
<p class="Pp"></p>
<pre>  for my $attr ( $meta-&gt;get_all_attributes ) {
      print $attr-&gt;name, &quot;\n&quot;;
  }
</pre>
<p class="Pp">The <span class="Li">&quot;get_all_attributes&quot;</span> method
    is documented in <span class="Li">&quot;Class::MOP::Class&quot;</span>. For
    Moose-using classes, it returns a list of Moose::Meta::Attribute objects for
    attributes defined in the class and its parents.</p>
<p class="Pp">You can also get a list of methods:</p>
<p class="Pp"></p>
<pre>  for my $method ( $meta-&gt;get_all_methods ) {
      print $method-&gt;fully_qualified_name, &quot;\n&quot;;
  }
</pre>
<p class="Pp">Now we're looping over a list of Moose::Meta::Method objects. Note
    that some of these objects may actually be a subclass of
    Moose::Meta::Method, as Moose uses different classes to represent wrapped
    methods, delegation methods, constructors, etc.</p>
<p class="Pp">We can look at a class's parent classes and subclasses:</p>
<p class="Pp"></p>
<pre>  for my $class ( $meta-&gt;linearized_isa ) {
      print &quot;$class\n&quot;;
  }
  for my $subclass ( $meta-&gt;subclasses ) {
      print &quot;$subclass\n&quot;;
  }
</pre>
<p class="Pp">Note that both these methods return class <i>names</i>, not
    metaclass objects.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ALTERING_CLASSES_WITH_THE_MOP"><a class="permalink" href="#ALTERING_CLASSES_WITH_THE_MOP">ALTERING
  CLASSES WITH THE MOP</a></h1>
<p class="Pp">The metaclass object can change the class directly, by adding
    attributes, methods, etc.</p>
<p class="Pp">As an example, we can add a method to a class:</p>
<p class="Pp"></p>
<pre>  $meta-&gt;add_method( 'say' =&gt; sub { print @_, &quot;\n&quot; } );
</pre>
<p class="Pp">Or an attribute:</p>
<p class="Pp"></p>
<pre>  $meta-&gt;add_attribute( 'size' =&gt; ( is =&gt; 'rw', isa  =&gt; 'Int' ) );
</pre>
<p class="Pp">Obviously, this is much more cumbersome than using Perl syntax or
    Moose sugar for defining methods and attributes, but this API allows for
    very powerful extensions.</p>
<p class="Pp">You might remember that we've talked about making classes
    immutable elsewhere in the manual. This is a good practice. However, once a
    class is immutable, calling any of these update methods will throw an
    exception.</p>
<p class="Pp">You can make a class mutable again simply by calling
    <span class="Li">&quot;$meta-&gt;make_mutable&quot;</span>. Once you're done
    changing it, you can restore immutability by calling
    <span class="Li">&quot;$meta-&gt;make_immutable&quot;</span>.</p>
<p class="Pp">However, the most common use for this part of the meta API is as
    part of Moose extensions. These extensions should assume that they are being
    run before you make a class immutable.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GOING_FURTHER"><a class="permalink" href="#GOING_FURTHER">GOING
  FURTHER</a></h1>
<p class="Pp">If you're interested in extending Moose, we recommend reading all
    of the &quot;Meta&quot; and &quot;Extending&quot; recipes in the
    Moose::Cookbook. Those recipes show various practical applications of the
    MOP.</p>
<p class="Pp">If you'd like to write your own extensions, one of the best ways
    to learn more about this is to look at other similar extensions to see how
    they work. You'll probably also need to read various API docs, including the
    docs for the various <span class="Li">&quot;Moose::Meta::*&quot;</span> and
    <span class="Li">&quot;Class::MOP::*&quot;</span> classes.</p>
<p class="Pp">Finally, we welcome questions on the Moose mailing list and IRC.
    Information on the mailing list, IRC, and more references can be found in
    the Moose.pm docs.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>Stevan Little &lt;stevan.little@iinteractive.com&gt;</li>
  <li>Dave Rolsky &lt;autarch@urth.org&gt;</li>
  <li>Jesse Luehrs &lt;doy@tozt.net&gt;</li>
  <li>Shawn M Moore &lt;code@sartak.org&gt;</li>
  <li>XXXX XXX'XX (Yuval Kogman) &lt;nothingmuch@woobling.org&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Florian Ragwitz &lt;rafl@debian.org&gt;</li>
  <li>Hans Dieter Pearcey &lt;hdp@weftsoar.net&gt;</li>
  <li>Chris Prather &lt;chris@prather.org&gt;</li>
  <li>Matt S Trout &lt;mst@shadowcat.co.uk&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 2006 by Infinity Interactive,
  Inc..</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-19</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
