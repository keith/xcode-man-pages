<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>version::Internals(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">version::Internals(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">version::Internals(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
version::Internals - Perl extension for Version Objects
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Overloaded version objects for all modern versions of Perl. This documents the
  internal data representation and underlying code for version.pm. See
  <i>version.pod</i> for daily usage. This document is only useful for users
  interested in the gory details.
</section>
<section class="Sh">
<h1 class="Sh" id="WHAT_IS_A_VERSION?"><a class="permalink" href="#WHAT_IS_A_VERSION?">WHAT
  IS A VERSION?</a></h1>
For the purposes of this module, a version &quot;number&quot; is a sequence of
  positive integer values separated by one or more decimal points and optionally
  a single underscore. This corresponds to what Perl itself uses for a version,
  as well as extending the &quot;version as number&quot; that is discussed in
  the various editions of the Camel book.
<p class="Pp">There are actually two distinct kinds of version objects:</p>
<dl class="Bl-tag">
  <dt>Decimal Versions</dt>
  <dd>Any version which &quot;looks like a number&quot;, see &quot;Decimal
      Versions&quot;. This also includes versions with a single decimal point
      and a single embedded underscore, see &quot;Alpha Versions&quot;, even
      though these must be quoted to preserve the underscore formatting.</dd>
  <dt>Dotted-Decimal Versions</dt>
  <dd>Also referred to as &quot;Dotted-Integer&quot;, these contains more than
      one decimal point and may have an optional embedded underscore, see
      Dotted-Decimal Versions. This is what is commonly used in most open source
      software as the &quot;external&quot; version (the one used as part of the
      tag or tarfile name). A leading 'v' character is now required and will
      warn if it missing.</dd>
</dl>
<p class="Pp">Both of these methods will produce similar version objects, in
    that the default stringification will yield the version &quot;Normal
    Form&quot; only if required:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $v  = version-&gt;new(1.002);     # 1.002, but compares like 1.2.0
  $v  = version-&gt;new(1.002003);  # 1.002003
  $v2 = version-&gt;new(&quot;v1.2.3&quot;);  # v1.2.3
</pre>
<p class="Pp">In specific, version numbers initialized as &quot;Decimal
    Versions&quot; will stringify as they were originally created (i.e. the same
    string that was passed to <span class="Li">&quot;new()&quot;</span>. Version
    numbers initialized as &quot;Dotted-Decimal Versions&quot; will be
    stringified as &quot;Normal Form&quot;.</p>
<section class="Ss">
<h2 class="Ss" id="Decimal_Versions"><a class="permalink" href="#Decimal_Versions">Decimal
  Versions</a></h2>
These correspond to historical versions of Perl itself prior to 5.6.0, as well
  as all other modules which follow the Camel rules for the
  <span class="Li">$VERSION</span> scalar. A Decimal version is initialized with
  what looks like a floating point number. Leading zeros <b>are</b> significant
  and trailing zeros are implied so that a minimum of three places is maintained
  between subversions. What this means is that any subversion (digits to the
  right of the decimal place) that contains less than three digits will have
  trailing zeros added to make up the difference, but only for purposes of
  comparison with other version objects. For example:
<p class="Pp"><span class="Li"></span></p>
<pre>
                                   # Prints     Equivalent to
  $v = version-&gt;new(      1.2);    # 1.2        v1.200.0
  $v = version-&gt;new(     1.02);    # 1.02       v1.20.0
  $v = version-&gt;new(    1.002);    # 1.002      v1.2.0
  $v = version-&gt;new(   1.0023);    # 1.0023     v1.2.300
  $v = version-&gt;new(  1.00203);    # 1.00203    v1.2.30
  $v = version-&gt;new( 1.002003);    # 1.002003   v1.2.3
</pre>
<p class="Pp">All of the preceding examples are true whether or not the input
    value is quoted. The important feature is that the input value contains only
    a single decimal. See also &quot;Alpha Versions&quot;.</p>
<p class="Pp">IMPORTANT NOTE: As shown above, if your Decimal version contains
    more than 3 significant digits after the decimal place, it will be split on
    each multiple of 3, so 1.0003 is equivalent to v1.0.300, due to the need to
    remain compatible with Perl's own 5.005_03 == 5.5.30 interpretation. Any
    trailing zeros are ignored for mathematical comparison purposes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Dotted-Decimal_Versions"><a class="permalink" href="#Dotted-Decimal_Versions">Dotted-Decimal
  Versions</a></h2>
These are the newest form of versions, and correspond to Perl's own version
  style beginning with 5.6.0. Starting with Perl 5.10.0, and most likely Perl 6,
  this is likely to be the preferred form. This method normally requires that
  the input parameter be quoted, although Perl's after 5.8.1 can use v-strings
  as a special form of quoting, but this is highly discouraged.
<p class="Pp">Unlike &quot;Decimal Versions&quot;, Dotted-Decimal Versions have
    more than a single decimal point, e.g.:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
                                   # Prints
  $v = version-&gt;new( &quot;v1.200&quot;);    # v1.200.0
  $v = version-&gt;new(&quot;v1.20.0&quot;);    # v1.20.0
  $v = qv(&quot;v1.2.3&quot;);               # v1.2.3
  $v = qv(&quot;1.2.3&quot;);                # v1.2.3
  $v = qv(&quot;1.20&quot;);                 # v1.20.0
</pre>
<p class="Pp">In general, Dotted-Decimal Versions permit the greatest amount of
    freedom to specify a version, whereas Decimal Versions enforce a certain
    uniformity.</p>
<p class="Pp">Just like &quot;Decimal Versions&quot;, Dotted-Decimal Versions
    can be used as &quot;Alpha Versions&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Alpha_Versions"><a class="permalink" href="#Alpha_Versions">Alpha
  Versions</a></h2>
For module authors using CPAN, the convention has been to note unstable releases
  with an underscore in the version string. (See CPAN.) version.pm follows this
  convention and alpha releases will test as being newer than the more recent
  stable release, and less than the next stable release. Only the last element
  may be separated by an underscore:
<p class="Pp"><span class="Li"></span></p>
<pre>
  # Declaring
  use version 0.77; our $VERSION = version-&gt;declare(&quot;v1.2_3&quot;);

  # Parsing
  $v1 = version-&gt;parse(&quot;v1.2_3&quot;);
  $v1 = version-&gt;parse(&quot;1.002_003&quot;);
</pre>
<p class="Pp">Note that you <b>must</b> quote the version when writing an alpha
    Decimal version. The stringified form of Decimal versions will always be the
    same string that was used to initialize the version object.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Regular_Expressions_for_Version_Parsing"><a class="permalink" href="#Regular_Expressions_for_Version_Parsing">Regular
  Expressions for Version Parsing</a></h2>
A formalized definition of the legal forms for version strings is included in
  the main <i>version.pm</i> file. Primitives are included for common elements,
  although they are scoped to the file so they are useful for reference purposes
  only. There are two publicly accessible scalars that can be used in other code
  (not exported):
<dl class="Bl-tag">
  <dt>$version::LAX</dt>
  <dd>This regexp covers all of the legal forms allowed under the current
      version string parser. This is not to say that all of these forms are
      recommended, and some of them can only be used when quoted.
    <p class="Pp">For dotted decimals:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    v1.2
    1.2345.6
    v1.23_4
    </pre>
    <p class="Pp">The leading 'v' is optional if two or more decimals appear. If
        only a single decimal is included, then the leading 'v' is required to
        trigger the dotted-decimal parsing. A leading zero is permitted, though
        not recommended except when quoted, because of the risk that Perl will
        treat the number as octal. A trailing underscore plus one or more digits
        denotes an alpha or development release (and must be quoted to be parsed
        properly).</p>
    <p class="Pp">For decimal versions:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    1
    1.2345
    1.2345_01
    </pre>
    <p class="Pp">an integer portion, an optional decimal point, and optionally
        one or more digits to the right of the decimal are all required. A
        trailing underscore is permitted and a leading zero is permitted. Just
        like the lax dotted-decimal version, quoting the values is required for
        alpha/development forms to be parsed correctly.</p>
  </dd>
  <dt>$version::STRICT</dt>
  <dd>This regexp covers a much more limited set of formats and constitutes the
      best practices for initializing version objects. Whether you choose to
      employ decimal or dotted-decimal for is a personal preference
    however.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>v1.234.5</dt>
  <dd>For dotted-decimal versions, a leading 'v' is required, with three or more
      sub-versions of no more than three digits. A leading 0 (zero) before the
      first sub-version (in the above example, '1') is also prohibited.</dd>
  <dt>2.3456</dt>
  <dd>For decimal versions, an integer portion (no leading 0), a decimal point,
      and one or more digits to the right of the decimal are all required.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<p class="Pp">Both of the provided scalars are already compiled as regular
    expressions and do not contain either anchors or implicit groupings, so they
    can be included in your own regular expressions freely. For example,
    consider the following code:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
        ($pkg, $ver) =~ /
                ^[ \t]*
                use [ \t]+($PKGNAME)
                (?:[ \t]+($version::STRICT))?
                [ \t]*;
        /x;
</pre>
<p class="Pp">This would match a line of the form:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
        use Foo::Bar::Baz v1.2.3;       # legal only in Perl 5.8.1+
</pre>
<p class="Pp">where <span class="Li">$PKGNAME</span> is another regular
    expression that defines the legal forms for package names.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="IMPLEMENTATION_DETAILS"><a class="permalink" href="#IMPLEMENTATION_DETAILS">IMPLEMENTATION
  DETAILS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Equivalence_between_Decimal_and_Dotted-Decimal_Versions"><a class="permalink" href="#Equivalence_between_Decimal_and_Dotted-Decimal_Versions">Equivalence
  between Decimal and Dotted-Decimal Versions</a></h2>
When Perl 5.6.0 was released, the decision was made to provide a transformation
  between the old-style decimal versions and new-style dotted-decimal versions:
<p class="Pp"><span class="Li"></span></p>
<pre>
  5.6.0    == 5.006000
  5.005_04 == 5.5.40
</pre>
<p class="Pp">The floating point number is taken and split first on the single
    decimal place, then each group of three digits to the right of the decimal
    makes up the next digit, and so on until the number of significant digits is
    exhausted, <b>plus</b> enough trailing zeros to reach the next multiple of
    three.</p>
<p class="Pp">This was the method that version.pm adopted as well. Some examples
    may be helpful:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
                            equivalent
  decimal    zero-padded    dotted-decimal
  -------    -----------    --------------
  1.2        1.200          v1.200.0
  1.02       1.020          v1.20.0
  1.002      1.002          v1.2.0
  1.0023     1.002300       v1.2.300
  1.00203    1.002030       v1.2.30
  1.002003   1.002003       v1.2.3
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Quoting_Rules"><a class="permalink" href="#Quoting_Rules">Quoting
  Rules</a></h2>
Because of the nature of the Perl parsing and tokenizing routines, certain
  initialization values <b>must</b> be quoted in order to correctly parse as the
  intended version, especially when using the
  <span class="Li">&quot;declare&quot;</span> or &quot;<i>qv()</i>&quot;
  methods. While you do not have to quote decimal numbers when creating version
  objects, it is always safe to quote <b>all</b> initial values when using
  version.pm methods, as this will ensure that what you type is what is used.
<p class="Pp">Additionally, if you quote your initializer, then the quoted value
    that goes <b>in</b> will be be exactly what comes <b>out</b> when your
    <span class="Li">$VERSION</span> is printed (stringified). If you do not
    quote your value, Perl's normal numeric handling comes into play and you may
    not get back what you were expecting.</p>
<p class="Pp">If you use a mathematic formula that resolves to a floating point
    number, you are dependent on Perl's conversion routines to yield the version
    you expect. You are pretty safe by dividing by a power of 10, for example,
    but other operations are not likely to be what you intend. For example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $VERSION = version-&gt;new((qw$Revision: 1.4)[1]/10);
  print $VERSION;          # yields 0.14
  $V2 = version-&gt;new(100/9); # Integer overflow in decimal number
  print $V2;               # yields something like 11.111.111.100
</pre>
<p class="Pp">Perl 5.8.1 and beyond are able to automatically quote v-strings
    but that is not possible in earlier versions of Perl. In other words:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $version = version-&gt;new(&quot;v2.5.4&quot;);  # legal in all versions of Perl
  $newvers = version-&gt;new(v2.5.4);    # legal only in Perl &gt;= 5.8.1
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="What_about_v_-strings?"><a class="permalink" href="#What_about_v_-strings?">What
  about v-strings?</a></h2>
There are two ways to enter v-strings: a bare number with two or more decimal
  points, or a bare number with one or more decimal points and a leading 'v'
  character (also bare). For example:
<p class="Pp"><span class="Li"></span></p>
<pre>
  $vs1 = 1.2.3; # encoded as \1\2\3
  $vs2 = v1.2;  # encoded as \1\2
</pre>
<p class="Pp">However, the use of bare v-strings to initialize version objects
    is <b>strongly</b> discouraged in all circumstances. Also, bare v-strings
    are not completely supported in any version of Perl prior to 5.8.1.</p>
<p class="Pp">If you insist on using bare v-strings with Perl &gt; 5.6.0, be
    aware of the following limitations:</p>
<p class="Pp">1) For Perl releases 5.6.0 through 5.8.0, the v-string code merely
    guesses, based on some characteristics of v-strings. You <b>must</b> use a
    three part version, e.g. 1.2.3 or v1.2.3 in order for this heuristic to be
    successful.</p>
<p class="Pp">2) For Perl releases 5.8.1 and later, v-strings have changed in
    the Perl core to be magical, which means that the version.pm code can
    automatically determine whether the v-string encoding was used.</p>
<p class="Pp">3) In all cases, a version created using v-strings will have a
    stringified form that has a leading 'v' character, for the simple reason
    that sometimes it is impossible to tell whether one was present
  initially.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Version_Object_Internals"><a class="permalink" href="#Version_Object_Internals">Version
  Object Internals</a></h2>
version.pm provides an overloaded version object that is designed to both
  encapsulate the author's intended <span class="Li">$VERSION</span> assignment
  as well as make it completely natural to use those objects as if they were
  numbers (e.g. for comparisons). To do this, a version object contains both the
  original representation as typed by the author, as well as a parsed
  representation to ease comparisons. Version objects employ overload methods to
  simplify code that needs to compare, print, etc the objects.
<p class="Pp">The internal structure of version objects is a blessed hash with
    several components:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    bless( {
      'original' =&gt; 'v1.2.3_4',
      'alpha' =&gt; 1,
      'qv' =&gt; 1,
      'version' =&gt; [
        1,
        2,
        3,
        4
      ]
    }, 'version' );
</pre>
<dl class="Bl-tag">
  <dt>original</dt>
  <dd>A faithful representation of the value used to initialize this version
      object. The only time this will not be precisely the same characters that
      exist in the source file is if a short dotted-decimal version like v1.2
      was used (in which case it will contain 'v1.2'). This form is
      <b>STRONGLY</b> discouraged, in that it will confuse you and your
    users.</dd>
  <dt>qv</dt>
  <dd>A boolean that denotes whether this is a decimal or dotted-decimal
      version. See &quot;<i>is_qv()</i>&quot; in version.</dd>
  <dt>alpha</dt>
  <dd>A boolean that denotes whether this is an alpha version. NOTE: that the
      underscore can can only appear in the last position. See
      &quot;<i>is_alpha()</i>&quot; in version.</dd>
  <dt>version</dt>
  <dd>An array of non-negative integers that is used for comparison purposes
      with other version objects.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Replacement__s-1UNIVERSAL::VERSION_s0"><a class="permalink" href="#Replacement__s-1UNIVERSAL::VERSION_s0">Replacement
  UNIVERSAL::VERSION</a></h2>
In addition to the version objects, this modules also replaces the core
  UNIVERSAL::VERSION function with one that uses version objects for its
  comparisons. The return from this operator is always the stringified form as a
  simple scalar (i.e. not an object), but the warning message generated includes
  either the stringified form or the normal form, depending on how it was
  called.
<p class="Pp">For example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  package Foo;
  $VERSION = 1.2;

  package Bar;
  $VERSION = &quot;v1.3.5&quot;; # works with all Perl's (since it is quoted)

  package main;
  use version;

  print $Foo::VERSION; # prints 1.2

  print $Bar::VERSION; # prints 1.003005

  eval &quot;use foo 10&quot;;
  print $@; # prints &quot;foo version 10 required...&quot;
  eval &quot;use foo 1.3.5; # work in Perl 5.6.1 or better
  print $@; # prints &quot;foo version 1.3.5 required...&quot;

  eval &quot;use bar 1.3.6&quot;;
  print $@; # prints &quot;bar version 1.3.6 required...&quot;
  eval &quot;use bar 1.004&quot;; # note Decimal version
  print $@; # prints &quot;bar version 1.004 required...&quot;
</pre>
<p class="Pp">IMPORTANT NOTE: This may mean that code which searches for a
    specific string (to determine whether a given module is available) may need
    to be changed. It is always better to use the built-in comparison implicit
    in <span class="Li">&quot;use&quot;</span> or
    <span class="Li">&quot;require&quot;</span>, rather than manually poking at
    <span class="Li">&quot;class-&gt;VERSION&quot;</span> and then doing a
    comparison yourself.</p>
<p class="Pp">The replacement UNIVERSAL::VERSION, when used as a function, like
    this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  print $module-&gt;VERSION;
</pre>
<p class="Pp">will also exclusively return the stringified form. See
    &quot;Stringification&quot; for more details.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE_DETAILS"><a class="permalink" href="#USAGE_DETAILS">USAGE
  DETAILS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Using_modules_that_use_version.pm"><a class="permalink" href="#Using_modules_that_use_version.pm">Using
  modules that use version.pm</a></h2>
As much as possible, the version.pm module remains compatible with all current
  code. However, if your module is using a module that has defined
  <span class="Li">$VERSION</span> using the version class, there are a couple
  of things to be aware of. For purposes of discussion, we will assume that we
  have the following module installed:
<p class="Pp"><span class="Li"></span></p>
<pre>
  package Example;
  use version;  $VERSION = qv('1.2.2');
  ...module code here...
  1;
</pre>
<dl class="Bl-tag">
  <dt>Decimal versions always work</dt>
  <dd>Code of the form:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  use Example 1.002003;
    </pre>
    <p class="Pp">will always work correctly. The
        <span class="Li">&quot;use&quot;</span> will perform an automatic
        <span class="Li">$VERSION</span> comparison using the floating point
        number given as the first term after the module name (e.g. above
        1.002.003). In this case, the installed module is too old for the
        requested line, so you would see an error like:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  Example version 1.002003 (v1.2.3) required--this is only version 1.002002 (v1.2.2)...
    </pre>
  </dd>
  <dt>Dotted-Decimal version work sometimes</dt>
  <dd>With Perl &gt;= 5.6.2, you can also use a line like this:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  use Example 1.2.3;
    </pre>
    <p class="Pp">and it will again work (i.e. give the error message as above),
        even with releases of Perl which do not normally support v-strings (see
        &quot;What about v-strings?&quot; above). This has to do with that fact
        that <span class="Li">&quot;use&quot;</span> only checks to see if the
        second term <i>looks like a number</i> and passes that to the
        replacement UNIVERSAL::VERSION. This is not true in Perl 5.005_04,
        however, so you are <b>strongly encouraged</b> to always use a Decimal
        version in your code, even for those versions of Perl which support the
        Dotted-Decimal version.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Object_Methods"><a class="permalink" href="#Object_Methods">Object
  Methods</a></h2>
<dl class="Bl-tag">
  <dt><i>new()</i></dt>
  <dd>Like many OO interfaces, the <i>new()</i> method is used to initialize
      version objects. If two arguments are passed to
      <span class="Li">&quot;new()&quot;</span>, the <b>second</b> one will be
      used as if it were prefixed with &quot;v&quot;. This is to support
      historical use of the <span class="Li">&quot;qw&quot;</span> operator with
      the CVS variable <span class="Li">$Revision</span>, which is automatically
      incremented by CVS every time the file is committed to the repository.
    <p class="Pp">In order to facilitate this feature, the following code can be
        employed:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $VERSION = version-&gt;new(qw$Revision: 2.7 $);
    </pre>
    <p class="Pp">and the version object will be created as if the following
        code were used:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $VERSION = version-&gt;new(&quot;v2.7&quot;);
    </pre>
    <p class="Pp">In other words, the version will be automatically parsed out
        of the string, and it will be quoted to preserve the meaning CVS
        normally carries for versions. The CVS
        <span class="Li">$Revision</span>$ increments differently from Decimal
        versions (i.e. 1.10 follows 1.9), so it must be handled as if it were a
        Dotted-Decimal Version.</p>
    <p class="Pp">A new version object can be created as a copy of an existing
        version object, either as a class method:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $v1 = version-&gt;new(12.3);
  $v2 = version-&gt;new($v1);
    </pre>
    <p class="Pp">or as an object method:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $v1 = version-&gt;new(12.3);
  $v2 = $v1-&gt;new(12.3);
    </pre>
    <p class="Pp">and in each case, <span class="Li">$v1</span> and
        <span class="Li">$v2</span> will be identical. NOTE: if you create a new
        object using an existing object like this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $v2 = $v1-&gt;new();
    </pre>
    <p class="Pp">the new object <b>will not</b> be a clone of the existing
        object. In the example case, <span class="Li">$v2</span> will be an
        empty object of the same type as <span class="Li">$v1</span>.</p>
  </dd>
  <dt><i>qv()</i></dt>
  <dd>An alternate way to create a new version object is through the exported
      <i>qv()</i> sub. This is not strictly like other q? operators (like qq,
      qw), in that the only delimiters supported are parentheses (or spaces). It
      is the best way to initialize a short version without triggering the
      floating point interpretation. For example:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $v1 = qv(1.2);         # v1.2.0
  $v2 = qv(&quot;1.2&quot;);       # also v1.2.0
    </pre>
    <p class="Pp">As you can see, either a bare number or a quoted string can
        usually be used interchangeably, except in the case of a trailing zero,
        which must be quoted to be converted properly. For this reason, it is
        strongly recommended that all initializers to <i>qv()</i> be quoted
        strings instead of bare numbers.</p>
    <p class="Pp">To prevent the <span class="Li">&quot;qv()&quot;</span>
        function from being exported to the caller's namespace, either use
        version with a null parameter:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  use version ();
    </pre>
    <p class="Pp">or just require version, like this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  require version;
    </pre>
    <p class="Pp">Both methods will prevent the <i>import()</i> method from
        firing and exporting the <span class="Li">&quot;qv()&quot;</span>
      sub.</p>
  </dd>
</dl>
<p class="Pp">For the subsequent examples, the following three objects will be
    used:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $ver   = version-&gt;new(&quot;1.2.3.4&quot;); # see &quot;Quoting Rules&quot;
  $alpha = version-&gt;new(&quot;1.2.3_4&quot;); # see &quot;Alpha Versions&quot;
  $nver  = version-&gt;new(1.002);     # see &quot;Decimal Versions&quot;
</pre>
<dl class="Bl-tag">
  <dt>Normal Form</dt>
  <dd>For any version object which is initialized with multiple decimal places
      (either quoted or if possible v-string), or initialized using the
      <i>qv()</i> operator, the stringified representation is returned in a
      normalized or reduced form (no extraneous zeros), and with a leading 'v':
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  print $ver-&gt;normal;         # prints as v1.2.3.4
  print $ver-&gt;stringify;      # ditto
  print $ver;                 # ditto
  print $nver-&gt;normal;        # prints as v1.2.0
  print $nver-&gt;stringify;     # prints as 1.002, see &quot;Stringification&quot;
    </pre>
    <p class="Pp">In order to preserve the meaning of the processed version, the
        normalized representation will always contain at least three sub terms.
        In other words, the following is guaranteed to always be true:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $newver = version-&gt;new($ver-&gt;stringify);
  if ($newver eq $ver ) # always true
    {...}
    </pre>
  </dd>
  <dt>Numification</dt>
  <dd>Although all mathematical operations on version objects are forbidden by
      default, it is possible to retrieve a number which corresponds to the
      version object through the use of the
      <span class="Li">$obj</span>-&gt;numify method. For formatting purposes,
      when displaying a number which corresponds a version object, all sub
      versions are assumed to have three decimal places. So for example:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  print $ver-&gt;numify;         # prints 1.002003004
  print $nver-&gt;numify;        # prints 1.002
    </pre>
    <p class="Pp">Unlike the stringification operator, there is never any need
        to append trailing zeros to preserve the correct version value.</p>
  </dd>
  <dt>Stringification</dt>
  <dd>The default stringification for version objects returns exactly the same
      string as was used to create it, whether you used
      <span class="Li">&quot;new()&quot;</span> or
      <span class="Li">&quot;qv()&quot;</span>, with one exception. The sole
      exception is if the object was created using
      <span class="Li">&quot;qv()&quot;</span> and the initializer did not have
      two decimal places or a leading 'v' (both optional), then the stringified
      form will have a leading 'v' prepended, in order to support round-trip
      processing.
    <p class="Pp">For example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  Initialized as          Stringifies to
  ==============          ==============
  version-&gt;new(&quot;1.2&quot;)       1.2
  version-&gt;new(&quot;v1.2&quot;)     v1.2
  qv(&quot;1.2.3&quot;)               1.2.3
  qv(&quot;v1.3.5&quot;)             v1.3.5
  qv(&quot;1.2&quot;)                v1.2   ### exceptional case
    </pre>
    <p class="Pp">See also UNIVERSAL::VERSION, as this also returns the
        stringified form when used as a class method.</p>
    <p class="Pp">IMPORTANT NOTE: There is one exceptional cases shown in the
        above table where the &quot;initializer&quot; is not stringwise
        equivalent to the stringified representation. If you use the
        <span class="Li">&quot;qv&quot;</span>() operator on a version without a
        leading 'v' <b>and</b> with only a single decimal place, the stringified
        output will have a leading 'v', to preserve the sense. See the
        &quot;<i>qv()</i>&quot; operator for more details.</p>
    <p class="Pp">IMPORTANT NOTE 2: Attempting to bypass the normal
        stringification rules by manually applying <i>numify()</i> and
        <i>normal()</i> will sometimes yield surprising results:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  print version-&gt;new(version-&gt;new(&quot;v1.0&quot;)-&gt;numify)-&gt;normal; # v1.0.0
    </pre>
    <p class="Pp">The reason for this is that the <i>numify()</i> operator will
        turn &quot;v1.0&quot; into the equivalent string &quot;1.000000&quot;.
        Forcing the outer version object to <i>normal()</i> form will display
        the mathematically equivalent &quot;v1.0.0&quot;.</p>
    <p class="Pp">As the example in &quot;<i>new()</i>&quot; shows, you can
        always create a copy of an existing version object with the same value
        by the very compact:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $v2 = $v1-&gt;new($v1);
    </pre>
    <p class="Pp">and be assured that both <span class="Li">$v1</span> and
        <span class="Li">$v2</span> will be completely equivalent, down to the
        same internal representation as well as stringification.</p>
  </dd>
  <dt>Comparison operators</dt>
  <dd>Both <span class="Li">&quot;cmp&quot;</span> and
      <span class="Li">&quot;&lt;=&gt;&quot;</span> operators perform the same
      comparison between terms (upgrading to a version object automatically).
      Perl automatically generates all of the other comparison operators based
      on those two. In addition to the obvious equalities listed below,
      appending a single trailing 0 term does not change the value of a version
      for comparison purposes. In other words &quot;v1.2&quot; and
      &quot;1.2.0&quot; will compare as identical.
    <p class="Pp">For example, the following relations hold:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  As Number        As String           Truth Value
  -------------    ----------------    -----------
  $ver &gt;  1.0      $ver gt &quot;1.0&quot;       true
  $ver &lt;  2.5      $ver lt             true
  $ver != 1.3      $ver ne &quot;1.3&quot;       true
  $ver == 1.2      $ver eq &quot;1.2&quot;       false
  $ver == 1.2.3.4  $ver eq &quot;1.2.3.4&quot;   see discussion below
    </pre>
    <p class="Pp">It is probably best to chose either the Decimal notation or
        the string notation and stick with it, to reduce confusion. Perl6
        version objects <b>may</b> only support Decimal comparisons. See also
        &quot;Quoting Rules&quot;.</p>
    <p class="Pp">WARNING: Comparing version with unequal numbers of decimal
        points (whether explicitly or implicitly initialized), may yield
        unexpected results at first glance. For example, the following
        inequalities hold:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  version-&gt;new(0.96)     &gt; version-&gt;new(0.95); # 0.960.0 &gt; 0.950.0
  version-&gt;new(&quot;0.96.1&quot;) &lt; version-&gt;new(0.95); # 0.096.1 &lt; 0.950.0
    </pre>
    <p class="Pp">For this reason, it is best to use either exclusively
        &quot;Decimal Versions&quot; or &quot;Dotted-Decimal Versions&quot; with
        multiple decimal points.</p>
  </dd>
  <dt>Logical Operators</dt>
  <dd>If you need to test whether a version object has been initialized, you can
      simply test it directly:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $vobj = version-&gt;new($something);
  if ( $vobj )   # true only if $something was non-blank
    </pre>
    <p class="Pp">You can also test whether a version object is an alpha
        version, for example to prevent the use of some feature not present in
        the main release:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $vobj = version-&gt;new(&quot;1.2_3&quot;); # MUST QUOTE
  ...later...
  if ( $vobj-&gt;is_alpha )       # True
    </pre>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
John Peacock &lt;jpeacock@cpan.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
perl.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
