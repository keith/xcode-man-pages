<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>IO::Wrap(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IO::Wrap(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">IO::Wrap(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">IO::Wrap - wrap raw filehandles in IO::Handle interface</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>   use IO::Wrap;
       
   ### Do stuff with any kind of filehandle (including a bare globref), or 
   ### any kind of blessed object that responds to a print() message.
   ###
   sub do_stuff {
       my $fh = shift;         
       
       ### At this point, we have no idea what the user gave us... 
       ### a globref? a FileHandle? a scalar filehandle name?
       
       $fh = wraphandle($fh);  
        
       ### At this point, we know we have an IO::Handle-like object!
       
       $fh-&gt;print(&quot;Hey there!&quot;);
       ...
   }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Let's say you want to write some code which does I/O, but you
    don't want to force the caller to provide you with a FileHandle or
    IO::Handle object. You want them to be able to say:</p>
<p class="Pp"></p>
<pre>    do_stuff(\*STDOUT);
    do_stuff('STDERR');
    do_stuff($some_FileHandle_object);
    do_stuff($some_IO_Handle_object);
</pre>
<p class="Pp">And even:</p>
<p class="Pp"></p>
<pre>    do_stuff($any_object_with_a_print_method);
</pre>
<p class="Pp">Sure, one way to do it is to force the caller to use
    <b>tiehandle()</b>. But that puts the burden on them. Another way to do it
    is to use <b>IO::Wrap</b>, which provides you with the following
  functions:</p>
<dl class="Bl-tag">
  <dt id="wraphandle"><a class="permalink" href="#wraphandle">wraphandle
    SCALAR</a></dt>
  <dd>This function will take a single argument, and &quot;wrap&quot; it based
      on what it seems to be...</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>A raw scalar filehandle name,</b> like
      <span class="Li">&quot;STDOUT&quot;</span> or
      <span class="Li">&quot;Class::HANDLE&quot;</span>. In this case, the
      filehandle name is wrapped in an IO::Wrap object, which is returned.</li>
  <li><b>A raw filehandle glob,</b> like
      <span class="Li">&quot;\*STDOUT&quot;</span>. In this case, the filehandle
      glob is wrapped in an IO::Wrap object, which is returned.</li>
  <li><b>A blessed FileHandle object.</b> In this case, the FileHandle is
      wrapped in an IO::Wrap object if and only if your FileHandle class does
      not support the <span class="Li">&quot;read()&quot;</span> method.</li>
  <li><b>Any other kind of blessed object,</b> which is assumed to be already
      conformant to the IO::Handle interface. In this case, you just get back
      that object.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<p class="Pp">If you get back an IO::Wrap object, it will obey a basic subset of
    the IO:: interface. That is, the following methods (note: I said
    <i>methods</i>, not named operators) should work on the thing you get
  back:</p>
<p class="Pp"></p>
<pre>    close 
    getline 
    getlines 
    print ARGS...
    read BUFFER,NBYTES
    seek POS,WHENCE
    tell
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">Clearly, when wrapping a raw external filehandle (like \*STDOUT),
    I didn't want to close the file descriptor when the &quot;wrapper&quot;
    object is destroyed... since the user might not appreciate that! Hence,
    there's no DESTROY method in this class.</p>
<p class="Pp">When wrapping a FileHandle object, however, I believe that Perl
    will invoke the FileHandle::DESTROY when the last reference goes away, so in
    that case, the filehandle is closed if the wrapped FileHandle really was the
    last reference to it.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="WARNINGS"><a class="permalink" href="#WARNINGS">WARNINGS</a></h1>
<p class="Pp">This module does not allow you to wrap filehandle names which are
    given as strings that lack the package they were opened in. That is, if a
    user opens FOO in package Foo, they must pass it to you either as
    <span class="Li">&quot;\*FOO&quot;</span> or as
    <span class="Li">&quot;Foo::FOO&quot;</span>. However,
    <span class="Li">&quot;STDIN&quot;</span> and friends will work just
  fine.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp"><span class="Li">$Id:</span> Wrap.pm,v 1.2 2005/02/10 21:21:53 dfs
    Exp $</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<dl class="Bl-tag">
  <dt id="Primary"><a class="permalink" href="#Primary">Primary
    Maintainer</a></dt>
  <dd>Dianne Skoll (<i>dfs@roaringpenguin.com</i>).</dd>
  <dt id="Original"><a class="permalink" href="#Original">Original
    Author</a></dt>
  <dd>Eryq (<i>eryq@zeegee.com</i>). President, ZeeGee Software Inc
      (<i>http://www.zeegee.com</i>).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="POD_ERRORS"><a class="permalink" href="#POD_ERRORS">POD
  ERRORS</a></h1>
<p class="Pp">Hey! <b>The above document had some coding errors, which are
    explained below:</b></p>
<dl class="Bl-tag">
  <dt id="Around"><a class="permalink" href="#Around">Around line 218:</a></dt>
  <dd>'=item' outside of any '=over'
    <p class="Pp">=over without closing =back</p>
  </dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-04-22</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
