<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Devel::StackTrace(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Devel::StackTrace(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Devel::StackTrace(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Devel::StackTrace - An object representing a stack trace</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 2.04</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  use Devel::StackTrace;
  my $trace = Devel::StackTrace-&gt;new;
  print $trace-&gt;as_string; # like carp
  # from top (most recent) of stack to bottom.
  while ( my $frame = $trace-&gt;next_frame ) {
      print &quot;Has args\n&quot; if $frame-&gt;hasargs;
  }
  # from bottom (least recent) of stack to top.
  while ( my $frame = $trace-&gt;prev_frame ) {
      print &quot;Sub: &quot;, $frame-&gt;subroutine, &quot;\n&quot;;
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <span class="Li">&quot;Devel::StackTrace&quot;</span> module
    contains two classes, <span class="Li">&quot;Devel::StackTrace&quot;</span>
    and Devel::StackTrace::Frame. These objects encapsulate the information that
    can retrieved via Perl's <span class="Li">&quot;caller&quot;</span>
    function, as well as providing a simple interface to this data.</p>
<p class="Pp">The <span class="Li">&quot;Devel::StackTrace&quot;</span> object
    contains a set of
    <span class="Li">&quot;Devel::StackTrace::Frame&quot;</span> objects, one
    for each level of the stack. The frames contain all the data available from
    <span class="Li">&quot;caller&quot;</span>.</p>
<p class="Pp">This code was created to support my Exception::Class::Base class
    (part of Exception::Class) but may be useful in other contexts.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="'TOP'_AND_'BOTTOM'_OF_THE_STACK"><a class="permalink" href="#'TOP'_AND_'BOTTOM'_OF_THE_STACK">'TOP'
  AND 'BOTTOM' OF THE STACK</a></h1>
<p class="Pp">When describing the methods of the trace object, I use the words
    'top' and 'bottom'. In this context, the 'top' frame on the stack is the
    most recent frame and the 'bottom' is the least recent.</p>
<p class="Pp">Here's an example:</p>
<p class="Pp"></p>
<pre>  foo();  # bottom frame is here
  sub foo {
     bar();
  }
  sub bar {
     Devel::StackTrace-&gt;new;  # top frame is here.
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<p class="Pp">This class provide the following methods:</p>
<section class="Ss">
<h2 class="Ss" id="Devel::StackTrace"><a class="permalink" href="#Devel::StackTrace">Devel::StackTrace-&gt;new(%named_params)</a></h2>
<p class="Pp">Returns a new Devel::StackTrace object.</p>
<p class="Pp">Takes the following parameters:</p>
<ul class="Bl-bullet">
  <li>frame_filter =&gt; <span class="Li">$sub</span>
    <p class="Pp">By default, Devel::StackTrace will include all stack frames
        before the call to its constructor.</p>
    <p class="Pp">However, you may want to filter out some frames with more
        granularity than 'ignore_package' or 'ignore_class' allow.</p>
    <p class="Pp">You can provide a subroutine which is called with the raw
        frame data for each frame. This is a hash reference with two keys,
        &quot;caller&quot;, and &quot;args&quot;, both of which are array
        references. The &quot;caller&quot; key is the raw data as returned by
        Perl's <span class="Li">&quot;caller&quot;</span> function, and the
        &quot;args&quot; key are the subroutine arguments found in
        <span class="Li">@DB::args</span>.</p>
    <p class="Pp">The filter should return true if the frame should be included,
        or false if it should be skipped.</p>
  </li>
  <li>filter_frames_early =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true,
        <span class="Li">&quot;frame_filter&quot;</span> will be called as soon
        as the stacktrace is created, and before refs are stringified (if
        <span class="Li">&quot;unsafe_ref_capture&quot;</span> is not set),
        rather than being filtered lazily when Devel::StackTrace::Frame objects
        are first needed.</p>
    <p class="Pp">This is useful if you want to filter based on the frame's
        arguments and want to be able to examine object properties, for
      example.</p>
  </li>
  <li>ignore_package =&gt; <span class="Li">$package_name</span> OR
      \@package_names
    <p class="Pp">Any frames where the package is one of these packages will not
        be on the stack.</p>
  </li>
  <li>ignore_class =&gt; <span class="Li">$package_name</span> OR
      \@package_names
    <p class="Pp">Any frames where the package is a subclass of one of these
        packages (or is the same package) will not be on the stack.</p>
    <p class="Pp">Devel::StackTrace internally adds itself to the
        'ignore_package' parameter, meaning that the Devel::StackTrace package
        is <b>ALWAYS</b> ignored. However, if you create a subclass of
        Devel::StackTrace it will not be ignored.</p>
  </li>
  <li>skip_frames =&gt; <span class="Li">$integer</span>
    <p class="Pp">This will cause this number of stack frames to be excluded
        from top of the stack trace. This prevents the frames from being
        captured at all, and applies before the
        <span class="Li">&quot;frame_filter&quot;</span>,
        <span class="Li">&quot;ignore_package&quot;</span>, or
        <span class="Li">&quot;ignore_class&quot;</span> options, even with
        <span class="Li">&quot;filter_frames_early&quot;</span>.</p>
  </li>
  <li>unsafe_ref_capture =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true, then Devel::StackTrace will store
        references internally when generating stacktrace frames.</p>
    <p class="Pp"><b>This option is very dangerous, and should never be used
        with exception</b> <b>objects</b>. Using this option will keep any
        objects or references alive past their normal lifetime, until the stack
        trace object goes out of scope. It can keep objects alive even after
        their <span class="Li">&quot;DESTROY&quot;</span> sub is called,
        resulting it it being called multiple times on the same object.</p>
    <p class="Pp">If not set, Devel::StackTrace replaces any references with
        their stringified representation.</p>
  </li>
  <li>no_args =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true, then Devel::StackTrace will not
        store caller arguments in stack trace frames at all.</p>
  </li>
  <li>respect_overload =&gt; <span class="Li">$boolean</span>
    <p class="Pp">By default, Devel::StackTrace will call
        <span class="Li">&quot;overload::AddrRef&quot;</span> to get the
        underlying string representation of an object, instead of respecting the
        object's stringification overloading. If you would prefer to see the
        overloaded representation of objects in stack traces, then set this
        parameter to true.</p>
  </li>
  <li>max_arg_length =&gt; <span class="Li">$integer</span>
    <p class="Pp">By default, Devel::StackTrace will display the entire argument
        for each subroutine call. Setting this parameter causes truncates each
        subroutine argument's string representation if it is longer than this
        number of characters.</p>
  </li>
  <li>message =&gt; <span class="Li">$string</span>
    <p class="Pp">By default, Devel::StackTrace will use 'Trace begun' as the
        message for the first stack frame when you call
        <span class="Li">&quot;as_string&quot;</span>. You can supply an
        alternative message using this option.</p>
  </li>
  <li>indent =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true, each stack frame after the first
        will start with a tab character, just like
        <span class="Li">&quot;Carp::confess&quot;</span>.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace"><a class="permalink" href="#$trace">$trace-&gt;next_frame</a></h2>
<p class="Pp">Returns the next Devel::StackTrace::Frame object on the stack,
    going down. If this method hasn't been called before it returns the first
    frame. It returns <span class="Li">&quot;undef&quot;</span> when it reaches
    the bottom of the stack and then resets its pointer so the next call to
    <span class="Li">&quot;$trace-&gt;next_frame&quot;</span> or
    <span class="Li">&quot;$trace-&gt;prev_frame&quot;</span> will work
    properly.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~2"><a class="permalink" href="#$trace~2">$trace-&gt;prev_frame</a></h2>
<p class="Pp">Returns the next Devel::StackTrace::Frame object on the stack,
    going up. If this method hasn't been called before it returns the last
    frame. It returns undef when it reaches the top of the stack and then resets
    its pointer so the next call to
    <span class="Li">&quot;$trace-&gt;next_frame&quot;</span> or
    <span class="Li">&quot;$trace-&gt;prev_frame&quot;</span> will work
    properly.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~3"><a class="permalink" href="#$trace~3">$trace-&gt;reset_pointer</a></h2>
<p class="Pp">Resets the pointer so that the next call to
    <span class="Li">&quot;$trace-&gt;next_frame&quot;</span> or
    <span class="Li">&quot;$trace-&gt;prev_frame&quot;</span> will start at the
    top or bottom of the stack, as appropriate.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~4"><a class="permalink" href="#$trace~4">$trace-&gt;frames</a></h2>
<p class="Pp">When this method is called with no arguments, it returns a list of
    Devel::StackTrace::Frame objects. They are returned in order from top (most
    recent) to bottom.</p>
<p class="Pp">This method can also be used to set the object's frames if you
    pass it a list of Devel::StackTrace::Frame objects.</p>
<p class="Pp">This is useful if you want to filter the list of frames in ways
    that are more complex than can be handled by the
    <span class="Li">&quot;$trace-&gt;filter_frames&quot;</span> method:</p>
<p class="Pp"></p>
<pre>  $stacktrace-&gt;frames( my_filter( $stacktrace-&gt;frames ) );
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~5"><a class="permalink" href="#$trace~5">$trace-&gt;frame($index)</a></h2>
<p class="Pp">Given an index, this method returns the relevant frame, or undef
    if there is no frame at that index. The index is exactly like a Perl array.
    The first frame is 0 and negative indexes are allowed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~6"><a class="permalink" href="#$trace~6">$trace-&gt;frame_count</a></h2>
<p class="Pp">Returns the number of frames in the trace object.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~7"><a class="permalink" href="#$trace~7">$trace-&gt;as_string(\%p)</a></h2>
<p class="Pp">Calls <span class="Li">&quot;$frame-&gt;as_string&quot;</span> on
    each frame from top to bottom, producing output quite similar to the Carp
    module's cluck/confess methods.</p>
<p class="Pp">The optional <span class="Li">&quot;\%p&quot;</span> parameter
    only has one option. The <span class="Li">&quot;max_arg_length&quot;</span>
    parameter truncates each subroutine argument's string representation if it
    is longer than this number of characters.</p>
<p class="Pp">If all the frames in a trace are skipped then this just returns
    the <span class="Li">&quot;message&quot;</span> passed to the constructor or
    the string <span class="Li">&quot;Trace begun&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~8"><a class="permalink" href="#$trace~8">$trace-&gt;message</a></h2>
<p class="Pp">Returns the message passed to the constructor. If this wasn't
    passed then this method returns
  <span class="Li">&quot;undef&quot;</span>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
<p class="Pp">Bugs may be submitted at
    &lt;https://github.com/houseabsolute/Devel-StackTrace/issues&gt;.</p>
<p class="Pp">I am also usually active on IRC as 'autarch' on
    <span class="Li">&quot;irc://irc.perl.org&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
<p class="Pp">The source code repository for Devel-StackTrace can be found at
    &lt;https://github.com/houseabsolute/Devel-StackTrace&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DONATIONS"><a class="permalink" href="#DONATIONS">DONATIONS</a></h1>
<p class="Pp">If you'd like to thank me for the work I've done on this module,
    please consider making a &quot;donation&quot; to me via PayPal. I spend a
    lot of free time creating free software, and would appreciate any support
    you'd care to offer.</p>
<p class="Pp">Please note that <b>I am not suggesting that you must do this</b>
    in order for me to continue working on this particular software. I will
    continue to do so, inasmuch as I have in the past, for as long as it
    interests me.</p>
<p class="Pp">Similarly, a donation made in this way will probably not make me
    work on this software much more, unless I get so many donations that I can
    consider working on free software full time (let's all have a chuckle at
    that together).</p>
<p class="Pp">To donate, log into PayPal and send money to autarch@urth.org, or
    use the button at &lt;http://www.urth.org/~autarch/fs-donation.html&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Dave Rolsky &lt;autarch@urth.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Dagfinn Ilmari Manns&#x00E5;ker &lt;ilmari@ilmari.org&gt;</li>
  <li>David Cantrell &lt;david@cantrell.org.uk&gt;</li>
  <li>Graham Knop &lt;haarg@haarg.org&gt;</li>
  <li>Ivan Bessarabov &lt;ivan@bessarabov.ru&gt;</li>
  <li>Mark Fowler &lt;mark@twoshortplanks.com&gt;</li>
  <li>Pali &lt;pali@cpan.org&gt;</li>
  <li>Ricardo Signes &lt;rjbs@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is Copyright (c) 2000 - 2019 by David Rolsky.</p>
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"></p>
<pre>  The Artistic License 2.0 (GPL Compatible)
</pre>
<p class="Pp">The full text of the license can be found in the <i>LICENSE</i>
    file included with this distribution.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-05-24</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
