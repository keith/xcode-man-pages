<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Generated from file '/System/Volumes/Data/SWE/macOS/BuildRoots/c40be6c978/Library/Caches/com.apple.xbs/Sources/tcl/tcl-134/tcl_ext/tcllib/tcllib/modules/transfer/dsource.man' by tcllib/doctools with format 'nroff'
   Copyright (c) 2006-2009 Andreas Kupries <andreas_kupries@users.sourceforge.net>
  
   The definitions below are for supplemental macros used in Tcl/Tk
   manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO
  	Start of list of standard options for a Tk widget.  The
  	options follow on successive lines, in four columns separated
  	by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   RCS: @(#) $Id: man.macros,v 1.1 2009/01/30 04:56:47 andreas_kupries Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>transfer::data::source(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">transfer::data::source(n)</td>
    <td class="head-vol">Data transfer facilities</td>
    <td class="head-rtitle">transfer::data::source(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>
</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">transfer::data::source - Data source</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">package require <b>Tcl 8.4</b></p>
<p class="Pp">package require <b>snit ?1.0?</b></p>
<p class="Pp">package require <b>transfer::copy ?0.2?</b></p>
<p class="Pp">package require <b>transfer::data::source ?0.2?</b></p>
<p class="Pp"><b>transfer::data::source</b> <i>objectName</i>
    ?<i>options</i>...?</p>
<p class="Pp"><i>objectName</i> <b>method</b> ?<i>arg arg ...</i>?</p>
<p class="Pp"><i>objectName</i> <b>destroy</b></p>
<p class="Pp"><i>objectName</i> <b>type</b></p>
<p class="Pp"><i>objectName</i> <b>data</b></p>
<p class="Pp"><i>objectName</i> <b>size</b></p>
<p class="Pp"><i>objectName</i> <b>valid</b> <i>msgvar</i></p>
<p class="Pp"><i>objectName</i> <b>transmit</b> <i>channel</i> <i>blocksize</i>
    <i>done</i></p>
<p class="Pp"></p>
<pre>
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This package provides objects mainly describing the origin of some
    data to transfer. They are also able to initiate transfers of the described
    information to a channel using the foundation package
  <b>transfer::copy</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
<section class="Ss">
<h2 class="Ss" id="PACKAGE_COMMANDS"><a class="permalink" href="#PACKAGE_COMMANDS">PACKAGE
  COMMANDS</a></h2>
<dl class="Bl-tag">
  <dt id="transfer::data::source"><a class="permalink" href="#transfer::data::source"><b>transfer::data::source</b>
    <i>objectName</i> ?<i>options</i>...?</a></dt>
  <dd>This command creates a new data source object with an associated Tcl
      command whose name is <i>objectName</i>. This <i>object</i> command is
      explained in full detail in the sections <b>Object command</b> and
      <b>Object methods</b>. The set of supported <i>options</i> is explained in
      section <b>Options</b>.
    <p class="Pp">The object command will be created under the current namespace
        if the <i>objectName</i> is not fully qualified, and in the specified
        namespace otherwise. The fully qualified name of the object command is
        returned as the result of the command.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="OBJECT_COMMAND"><a class="permalink" href="#OBJECT_COMMAND">OBJECT
  COMMAND</a></h2>
<p class="Pp">All objects created by the <b>::transfer::data::source</b> command
    have the following general form:</p>
<dl class="Bl-tag">
  <dt id="objectName"><a class="permalink" href="#objectName"><i>objectName</i>
    <b>method</b> ?<i>arg arg ...</i>?</a></dt>
  <dd>The method <b>method</b> and its <i>arg</i>'uments determine the exact
      behavior of the command. See section <b>Object methods</b> for the
      detailed specifications.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="OBJECT_METHODS"><a class="permalink" href="#OBJECT_METHODS">OBJECT
  METHODS</a></h2>
<dl class="Bl-tag">
  <dt id="objectName~2"><a class="permalink" href="#objectName~2"><i>objectName</i>
    <b>destroy</b></a></dt>
  <dd>This method destroys the object. Doing so while a transfer initiated by
      the object is active is safe as all data required for the transfer itself
      was copied, and the completion of the transfer will not try to access the
      initiating object anymore. i.e. the transfer is completely separate from
      the source object itself.</dd>
  <dt id="objectName~3"><a class="permalink" href="#objectName~3"><i>objectName</i>
    <b>type</b></a></dt>
  <dd>This method returns a string describing the type of the data the object is
      refering to. The possible values and their meanings are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="undefined"><a class="permalink" href="#undefined"><b>undefined</b></a></dt>
  <dd>No data was specified at all, or it was specified incompletely. The object
      does not know the type.</dd>
  <dt id="string"><a class="permalink" href="#string"><b>string</b></a></dt>
  <dd>The data to transfer is contained in a string.</dd>
  <dt id="channel"><a class="permalink" href="#channel"><b>channel</b></a></dt>
  <dd>The data to transfer is contained in a channel.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="objectName~4"><a class="permalink" href="#objectName~4"><i>objectName</i>
    <b>data</b></a></dt>
  <dd>This method returns a value depending on the type of the data the object
      refers to, through which the data can be accessed. The method throws an
      error if the type is <b>undefined</b>. For type <b>string</b> the returned
      result is the data itself, whereas for type <b>channel</b> the returned
      result is the handle of the channel containing the data.</dd>
  <dt id="objectName~5"><a class="permalink" href="#objectName~5"><i>objectName</i>
    <b>size</b></a></dt>
  <dd>This method returns a value depending on the type of the data the object
      refers to, the size of the data. The method throws an error if the type is
      <b>undefined</b>. Return of a negative value signals that the object is
      unable to determine an absolute size upfront (like for data in a
    channel).</dd>
  <dt id="objectName~6"><a class="permalink" href="#objectName~6"><i>objectName</i>
    <b>valid</b> <i>msgvar</i></a></dt>
  <dd>This method checks the configuration of the object for validity. It
      returns a boolean flag as result, whose value is <b>True</b> if the object
      is valid, and <b>False</b> otherwise. In the latter case the variable
      whose name is stored in <i>msgvar</i> is set to an error message
      describing the problem found with the configuration. Otherwise this
      variable is not touched.</dd>
  <dt id="objectName~7"><a class="permalink" href="#objectName~7"><i>objectName</i>
    <b>transmit</b> <i>channel</i> <i>blocksize</i> <i>done</i></a></dt>
  <dd>This method initiates a transfer of the referenced data to the specified
      <i>channel</i>. When the transfer completes the command prefix <i>done</i>
      is invoked, per the rules for the option <b>-command</b> of command
      <b>transfer::copy::do</b> in the package <b>transfer::copy</b>. The
      <i>blocksize</i> specifies the size of the chunks to transfer in one go.
      See the option <b>-blocksize</b> of command <b>transfer::copy::do</b> in
      the package <b>transfer::copy</b>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h2>
<p class="Pp">All data sources support the options listed below. It should be
    noted that the first four options are semi-exclusive, each specifying a
    different type of data source and associated content. If these options are
    specified more than once then the last option specified is used to actually
    configure the object.</p>
<dl class="Bl-tag">
  <dt id="string~2"><a class="permalink" href="#string~2"><b>-string</b>
    <i>text</i></a></dt>
  <dd>This option specifies that the source of the data is an immediate string,
      and its associated argument contains the string in question.</dd>
  <dt id="channel~2"><a class="permalink" href="#channel~2"><b>-channel</b>
    <i>handle</i></a></dt>
  <dd>This option specifies that the source of the data is a channel, and its
      associated argument is the handle of the channel containing the data.</dd>
  <dt id="file"><a class="permalink" href="#file"><b>-file</b>
    <i>path</i></a></dt>
  <dd>This option specifies that the source of the data is a file, and its
      associated argument is the path of the file containing the data.</dd>
  <dt id="variable"><a class="permalink" href="#variable"><b>-variable</b>
    <i>varname</i></a></dt>
  <dd>This option specifies that the source of the data is a string stored in a
      variable, and its associated argument contains the name of the variable in
      question. The variable is assumed to be global or namespaced, anchored at
      the global namespace.</dd>
  <dt id="size"><a class="permalink" href="#size"><b>-size</b>
    <i>int</i></a></dt>
  <dd>This option specifies the size of the data transfer. It is optional and
      defaults to -1. This value, and any other value less than zero signals to
      transfer all the data from the source.</dd>
  <dt id="progress"><a class="permalink" href="#progress"><b>-progress</b>
    <i>command</i></a></dt>
  <dd>This option, if specified, defines a command to be invoked for each chunk
      of bytes transmitted, allowing the user to monitor the progress of the
      transmission of the data. The callback is always invoked with one
      additional argument, the number of bytes transmitted so far.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS,_IDEAS,_FEEDBACK"><a class="permalink" href="#BUGS,_IDEAS,_FEEDBACK">BUGS,
  IDEAS, FEEDBACK</a></h1>
<p class="Pp">This document, and the package it describes, will undoubtedly
    contain bugs and other problems. Please report such in the category
    <i>transfer</i> of the <i>Tcllib SF Trackers</i>
    [http://sourceforge.net/tracker/?group_id=12883]. Please also report any
    ideas for enhancements you may have for either package and/or
  documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
<p class="Pp">channel, copy, data source, transfer</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CATEGORY"><a class="permalink" href="#CATEGORY">CATEGORY</a></h1>
<p class="Pp">Transfer module</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<pre>Copyright (c) 2006-2009 Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">0.2</td>
    <td class="foot-os">transfer</td>
  </tr>
</table>
</body>
</html>
