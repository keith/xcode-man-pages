<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2020 Apple Inc. All rights reserved.
   DATE
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>xctrace(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">xctrace(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">xctrace(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">xctrace</code> &#x2014; <span class="Nd">Record,
    import, export and symbolicate Instruments .trace files.</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td>[<var class="Ar">command</var> [<var class="Ar">options</var>]]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">help</code> [<var class="Ar">command</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">record</code> [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--append-run</code>]
      [<code class="Fl">--template</code> <var class="Ar">path</var> |
      <var class="Ar">name</var>] [<code class="Fl">--device</code>
      <var class="Ar">name</var> | <var class="Ar">UDID</var>]
      [<code class="Fl">--time-limit</code> <var class="Ar">time</var>
      [ms|s|m|h]] [<code class="Fl">--all-processes</code> |
      <code class="Fl">--attach</code> <var class="Ar">pid</var> |
      <var class="Ar">name</var> | <code class="Fl">--launch</code>
      <var class="Ar">command</var> [<var class="Ar">arguments</var>]]
      [<code class="Fl">--target-stdin</code> <var class="Ar">-</var> |
      <var class="Ar">file</var>] [<code class="Fl">--target-stdout</code>
      <var class="Ar">-</var> | <var class="Ar">file</var>]
      [<code class="Fl">--env</code> <var class="Ar">VAR=value</var>]
      [<code class="Fl">--package</code> <var class="Ar">file</var>]
      [<code class="Fl">--no-prompt</code>]
      [<code class="Fl">--notify-tracing-started</code>
      <var class="Ar">name</var>]
    <p class="Pp"></p>
    </td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">import</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--template</code>
      <var class="Ar">path</var> | <var class="Ar">name</var>]
      [<code class="Fl">--package</code> <var class="Ar">file</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">export</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--toc</code> |
      <code class="Fl">--xpath</code> <var class="Ar">expression</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">remodel</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--package</code>
      <var class="Ar">file</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">symbolicate</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--dsym</code>
      <var class="Ar">file</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">list</code> [<var class="Ar">devices</var> |
      <var class="Ar">templates</var> | <var class="Ar">instruments</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><code class="Nm">xctrace</code> is used to record new
    Instruments.app .trace files using the specified recording template. It also
    allows for converting supported converting files of supported input types
    into .trace files and exporting data from .trace files to parseable formats
    like xml.</p>
<p class="Pp">Available commands and their options:</p>
<dl class="Bl-tag">
  <dt id="help"><a class="permalink" href="#help"><code class="Cm">help</code></a></dt>
  <dd>General help or help specific to command argument</dd>
  <dt id="record"><a class="permalink" href="#record"><code class="Cm">record</code></a></dt>
  <dd>Perform a new recording on the specified device and target with the given
      template. Resulting .trace file can be viewed in Instruments.app or
      exported using <code class="Nm">xctrace</code>. Recording can target all
      processes, attach to an existing process or launch a new one.
    <dl class="Bl-tag">
      <dt id="output"><a class="permalink" href="#output"><code class="Fl">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save the trace to the specified path. A path to an existing trace file
          can be used if <code class="Fl">--append-run</code> is specified. In
          this case the provided template will be ignored and the template in
          the existing trace will be used. If the passed path is a directory, a
          uniquely named file will be created in it. If the path contains the
          extension .trace, a new trace will be created with that name at the
          specified path or working directory.</dd>
      <dt id="append-run"><a class="permalink" href="#append-run"><code class="Fl">--append-run</code></a></dt>
      <dd>Allows to target an existing trace file. Specifying it causes new run
          to be appended. New run is recorded with the template that this
          existing trace file was initially recorded with.</dd>
      <dt id="template"><a class="permalink" href="#template"><code class="Fl">--template</code></a>
        <var class="Ar">path</var> | <var class="Ar">name</var></dt>
      <dd>Records using given trace template name or path. If name is specified,
          template needs to be either bundled with an installed Instruments
          Package or located in the Application Support directory for
          Instruments. To retrieve available templates, run
          <code class="Nm">xctrace</code> <code class="Cm">list
          templates.</code></dd>
      <dt id="instrument"><a class="permalink" href="#instrument"><code class="Fl">--instrument</code></a>
        <var class="Ar">name</var></dt>
      <dd>Adds Instrument with the specified name to the recording
          configuration. To retrieve available Instruments, run
          <code class="Nm">xctrace</code> <code class="Cm">list
          instruments.</code></dd>
      <dt id="device"><a class="permalink" href="#device"><code class="Fl">--device</code></a>
        <var class="Ar">name</var> | <var class="Ar">UDID</var></dt>
      <dd>Record on a device with the given name or UDID. If not specified, then
          local device is chosen for the recording. If the word
          <code class="Cm">simulator</code> is included, devices of simulator
          types will be preferred. To get list of available devices, run
          <code class="Nm">xctrace</code> <code class="Cm">list
        devices.</code></dd>
      <dt id="time-limit"><a class="permalink" href="#time-limit"><code class="Fl">--time-limit</code></a>
        <var class="Ar">time</var> [ms|s|m|h]</dt>
      <dd>Limits the recording to the specified time period. Example:
          &quot;--time-limit 5s&quot; or &quot;--time-limit 1m&quot;</dd>
      <dt id="window"><a class="permalink" href="#window"><code class="Fl">--window</code></a>
        <var class="Ar">duration</var> [ms|s|m]</dt>
      <dd>Configure trace to operate in windowed mode, where trace buffer acts
          as a ring buffer, removing old events to make room for new ones.
          Example: &quot;--window 5s&quot;</dd>
      <dt id="all-processes"><a class="permalink" href="#all-processes"><code class="Fl">--all-processes</code></a></dt>
      <dd>Record all processes running on the system.</dd>
      <dt id="attach"><a class="permalink" href="#attach"><code class="Fl">--attach</code></a>
        <var class="Ar">pid</var> | <var class="Ar">name</var></dt>
      <dd>Attach and record running process with the given name or pid.</dd>
      <dt id="launch"><a class="permalink" href="#launch"><code class="Fl">--launch</code></a>
        <code class="Fl">--</code> <var class="Ar">command</var>
        [<var class="Ar">arguments</var>]</dt>
      <dd>Launch and record process with the given name or path and provided
          arguments list. This option should be passed as the last one in the
          <code class="Nm">xctrace</code> command invocation.</dd>
      <dt id="package"><a class="permalink" href="#package"><code class="Fl">--package</code></a>
        <var class="Ar">file</var></dt>
      <dd>Install the given Instruments Package temporarily for the duration of
          a command</dd>
      <dt id="target-stdin"><a class="permalink" href="#target-stdin"><code class="Fl">--target-stdin</code></a>
        <var class="Ar">-</var> | <var class="Ar">file</var></dt>
      <dd>Redirects standard input stream of a launched process in case if
          target device is set to the local Mac. Can be pointing to a file or be
          specified as <var class="Ar">-</var> , which causes standard input of
          <code class="Nm">xctrace</code> to be passed into the standard input
          of a target process.</dd>
      <dt id="target-stdout"><a class="permalink" href="#target-stdout"><code class="Fl">--target-stdout</code></a>
        <var class="Ar">-</var> | <var class="Ar">file</var></dt>
      <dd>Redirects standard output stream of a launched process. Can be
          pointing to a file or be specified as <var class="Ar">-</var> , which
          causes standard output of a target process to be to be redirected into
          the standard output of <code class="Nm">xctrace</code>.</dd>
      <dt id="env"><a class="permalink" href="#env"><code class="Fl">--env</code></a>
        <var class="Ar">VAR=value</var></dt>
      <dd>Sets environment variable for a launched process. Example: &quot;--env
          PATH=/tmp&quot;</dd>
      <dt id="no-prompt"><a class="permalink" href="#no-prompt"><code class="Fl">--no-prompt</code></a></dt>
      <dd>Skip any prompts that would be otherwise presented (like privacy
          warnings)</dd>
      <dt id="notify-tracing-started"><a class="permalink" href="#notify-tracing-started"><code class="Fl">--notify-tracing-started</code></a>
        <var class="Ar">name</var></dt>
      <dd>Send Darwin notification with this name when a recording has
        started.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt id="import"><a class="permalink" href="#import"><code class="Cm">import</code></a></dt>
  <dd>If the specified file is of a support input format, imports the file into
      an Instruments .trace file using the specified template. This file can
      later be viewed using Instruments.app or exported by using
      <code class="Nm">xctrace</code> <code class="Cm">export</code> command.
    <dl class="Bl-tag">
      <dt id="input"><a class="permalink" href="#input"><code class="Fl">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Import data from a supported file format at the given path.</dd>
      <dt id="output~2"><a class="permalink" href="#output~2"><code class="Fl">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save the trace to the specified path. Existing trace files cannot be
          targeted. If the passed path is a directory, a uniquely named file
          will be created in it. If the path contains the extension .trace, a
          new trace will be created with that name at the specified path or
          working directory.</dd>
      <dt id="template~2"><a class="permalink" href="#template~2"><code class="Fl">--template</code></a>
        <var class="Ar">path</var> | <var class="Ar">name</var></dt>
      <dd>Imported using given trace template name or path. Only data that is
          needed by Instruments contained in the template will be imported. If
          name is specified, template needs to be either bundled with an
          installed Instruments Package or located in the Application Support
          directory for Instruments. To retrieve available templates, run
          <code class="Nm">xctrace</code> <code class="Cm">list
          templates.</code></dd>
      <dt id="instrument~2"><a class="permalink" href="#instrument~2"><code class="Fl">--instrument</code></a>
        <var class="Ar">name</var></dt>
      <dd>Adds Instrument with the specified name to the import configuration.
          To retrieve available Instruments, run <code class="Nm">xctrace</code>
          <code class="Cm">list instruments.</code></dd>
      <dt id="package~2"><a class="permalink" href="#package~2"><code class="Fl">--package</code></a>
        <var class="Ar">file</var></dt>
      <dd>Install the given Instruments Package temporarily for the duration of
          a command.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt id="export"><a class="permalink" href="#export"><code class="Cm">export</code></a></dt>
  <dd>Perform a new recording on the specified device and target with the given
      template. Resulting .trace file can be viewed in Instruments.app or
      exported using <code class="Nm">xctrace</code>. Recording can target all
      processes, attach to an existing process or launch a new one.
    <dl class="Bl-tag">
      <dt id="input~2"><a class="permalink" href="#input~2"><code class="Fl">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Export data from .trace file at the given path.</dd>
      <dt id="output~3"><a class="permalink" href="#output~3"><code class="Fl">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save output of the export operation to the given path. If not
          specified, then textual output is being written to the
          <code class="Nm">xctrace</code> standard output.</dd>
      <dt id="toc"><a class="permalink" href="#toc"><code class="Fl">--toc</code></a></dt>
      <dd>Export the table of contents of a trace file. This will contain
          overview of content and exportable entities from the given trace
        file.</dd>
      <dt id="xpath"><a class="permalink" href="#xpath"><code class="Fl">--xpath</code></a>
        <var class="Ar">expression</var></dt>
      <dd>Perform given XPath query on the table of contents to select entities
          to export from the given trace file. Selected entities will be present
          in the export command output.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt id="remodel"><a class="permalink" href="#remodel"><code class="Cm">remodel</code></a></dt>
  <dd>Remodel trace using currently installed packages and their modelers.
    <dl class="Bl-tag">
      <dt id="input~3"><a class="permalink" href="#input~3"><code class="Fl">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Remodel data from .trace file at the given path.</dd>
      <dt id="output~4"><a class="permalink" href="#output~4"><code class="Fl">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save remodeled .trace file to the given path. .</dd>
      <dt id="package~3"><a class="permalink" href="#package~3"><code class="Fl">--package</code></a>
        <var class="Ar">file</var></dt>
      <dd>Install the given Instruments Package temporarily for the duration of
          a command.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt id="symbolicate"><a class="permalink" href="#symbolicate"><code class="Cm">symbolicate</code></a></dt>
  <dd>Symbolicate trace file using supplied debug symbols (dSYM).
    <dl class="Bl-tag">
      <dt id="input~4"><a class="permalink" href="#input~4"><code class="Fl">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Symbolicate addresses in .trace file at the given path.</dd>
      <dt id="output~5"><a class="permalink" href="#output~5"><code class="Fl">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save symbolicated .trace file to the given path. If not specified, the
          symbolicated .trace will be saved to its original location (input
          path).</dd>
      <dt id="dsym"><a class="permalink" href="#dsym"><code class="Fl">--dsym</code></a>
        <var class="Ar">path</var></dt>
      <dd>Use symbol data from dSYM at given path. Path can be a dSYM or a
          directory to search recursively for dSYMs. If not specified, the tool
          will make its best effort to locate dSYMs (it may take a while).</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt id="list"><a class="permalink" href="#list"><code class="Cm">list
    devices</code></a></dt>
  <dd>Lists all of non-host devices that can be used as a target for a new
      recording.</dd>
  <dt id="list~2"><a class="permalink" href="#list~2"><code class="Cm">list
    templates</code></a></dt>
  <dd>Lists all of templates that are known to <code class="Nm">xctrace</code>.
      These include Instruments.app bundled templates, templates from installed
      Instruments Packages and custom templates installed into Application
      Support directory for Instruments.app.</dd>
  <dt id="list~3"><a class="permalink" href="#list~3"><code class="Cm">list
    instruments</code></a></dt>
  <dd>Lists all of the Instruments available to select as part of the record or
      import workflow.
    <p class="Pp"></p>
  </dd>
</dl>
Global options:
<dl class="Bl-tag">
  <dt id="-quiet"><a class="permalink" href="#-quiet"><code class="Cm">--quiet</code></a></dt>
  <dd>Make terminal output less verbose</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Instruments.app may be used to perform trace recordings in a
    graphical environment and may also be used to open trace documents created
    by <code class="Nm">xctrace</code>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp"><code class="Nm">import --input system_logs.logarchive --template
    'Custom'</code></p>
<p class="Pp"><code class="Nm">import --input trace001.ktrace --template
    'Custom' --package '/tmp/PackageToLoad.instrdst' --output
    system.trace</code></p>
<p class="Pp"><code class="Nm">export --input input.trace --toc</code></p>
<p class="Pp"><code class="Nm">export --input input.trace --xpath
    '/trace-toc/run[@number=&quot;1&quot;]/data/table[@schema=&quot;my-table-schema&quot;]'</code></p>
<p class="Pp"><code class="Nm">record --template 'Time Profiler' --all-processes
    --time-limit 5s</code></p>
<p class="Pp"><code class="Nm">record --template 'Time Profiler' --device-name
    ''Chad's iPhone'' --attach 'Trailblazer'</code></p>
<p class="Pp"><code class="Nm">record --template 'Metal System Trace'
    --device-name 'iPhone SE Simulator' --all-processes</code></p>
<p class="Pp"><code class="Nm">record --template 'Time Profiler' --target-stdout
    - --launch -- /tmp/tool arg1 arg2</code></p>
<p class="Pp"><code class="Nm">symbolicate --input input.trace --dsym
    SomeLibrary.dSYM</code></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May. 4, 2020</td>
    <td class="foot-os">macOS</td>
  </tr>
</table>
</body>
</html>
