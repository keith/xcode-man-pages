<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>PERL5200DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL5200DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL5200DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
perl5200delta - what is new for perl v5.20.0
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This document describes differences between the 5.18.0 release and the 5.20.0
  release.
<p class="Pp">If you are upgrading from an earlier release such as 5.16.0, first
    read perl5180delta, which describes differences between 5.16.0 and
  5.18.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Experimental_Subroutine_signatures"><a class="permalink" href="#Experimental_Subroutine_signatures">Experimental
  Subroutine signatures</a></h2>
Declarative syntax to unwrap argument list into lexical variables.
  <span class="Li">&quot;sub foo ($a,$b) {...}&quot;</span> checks the number of
  arguments and puts the arguments into lexical variables. Signatures are not
  equivalent to the existing idiom of <span class="Li">&quot;sub foo { my($a,$b)
  = @_; ... }&quot;</span>. Signatures are only available by enabling a
  non-default feature, and generate warnings about being experimental. The
  syntactic clash with prototypes is managed by disabling the short prototype
  syntax when signatures are enabled.
<p class="Pp">See &quot;Signatures&quot; in perlsub for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_sub_s_now_take_a__prototype__attribute"><a class="permalink" href="#_sub_s_now_take_a__prototype__attribute">&quot;sub&quot;s
  now take a &quot;prototype&quot; attribute</a></h2>
When declaring or defining a <span class="Li">&quot;sub&quot;</span>, the
  prototype can now be specified inside of a
  <span class="Li">&quot;prototype&quot;</span> attribute instead of in parens
  following the name.
<p class="Pp">For example, <span class="Li">&quot;sub foo($$){}&quot;</span>
    could be rewritten as <span class="Li">&quot;sub foo :
    prototype($$){}&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="More_consistent_prototype_parsing"><a class="permalink" href="#More_consistent_prototype_parsing">More
  consistent prototype parsing</a></h2>
Multiple semicolons in subroutine prototypes have long been tolerated and
  treated as a single semicolon. There was one case where this did not happen. A
  subroutine whose prototype begins with &quot;*&quot; or &quot;;*&quot; can
  affect whether a bareword is considered a method name or sub call. This now
  applies also to &quot;;;;*&quot;.
<p class="Pp">Whitespace has long been allowed inside subroutine prototypes, so
    <span class="Li">&quot;sub( $ $ )&quot;</span> is equivalent to
    <span class="Li">&quot;sub($$)&quot;</span>, but until now it was stripped
    when the subroutine was parsed. Hence, whitespace was <i>not</i> allowed in
    prototypes set by
    <span class="Li">&quot;Scalar::Util::set_prototype&quot;</span>. Now it is
    permitted, and the parser no longer strips whitespace. This means
    <span class="Li">&quot;prototype &amp;mysub&quot;</span> returns the
    original prototype, whitespace and all.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_rand__now_uses_a_consistent_random_number_generator"><a class="permalink" href="#_rand__now_uses_a_consistent_random_number_generator">&quot;rand&quot;
  now uses a consistent random number generator</a></h2>
Previously perl would use a platform specific random number generator, varying
  between the libc <b>rand()</b>, <b>random()</b> or <b>drand48()</b>.
<p class="Pp">This meant that the quality of perl's random numbers would vary
    from platform to platform, from the 15 bits of <b>rand()</b> on Windows to
    48-bits on POSIX platforms such as Linux with <b>drand48()</b>.</p>
<p class="Pp">Perl now uses its own internal <b>drand48()</b> implementation on
    all platforms. This does not make perl's
    <span class="Li">&quot;rand&quot;</span> cryptographically secure. [perl
    #115928]</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_slice_syntax"><a class="permalink" href="#New_slice_syntax">New
  slice syntax</a></h2>
The new <span class="Li">%hash{...}</span> and
  <span class="Li">%array[...]</span> syntax returns a list of key/value (or
  index/value) pairs. See &quot;Key/Value Hash Slices&quot; in perldata.
</section>
<section class="Ss">
<h2 class="Ss" id="Experimental_Postfix_Dereferencing"><a class="permalink" href="#Experimental_Postfix_Dereferencing">Experimental
  Postfix Dereferencing</a></h2>
When the <span class="Li">&quot;postderef&quot;</span> feature is in effect, the
  following syntactical equivalencies are set up:
<p class="Pp"><span class="Li"></span></p>
<pre>
  $sref-&gt;$*;  # same as ${ $sref }  # interpolates
  $aref-&gt;@*;  # same as @{ $aref }  # interpolates
  $href-&gt;%*;  # same as %{ $href }
  $cref-&gt;&amp;*;  # same as &amp;{ $cref }
  $gref-&gt;**;  # same as *{ $gref }

  $aref-&gt;$#*; # same as $#{ $aref }

  $gref-&gt;*{ $slot }; # same as *{ $gref }{ $slot }

  $aref-&gt;@[ ... ];  # same as @$aref[ ... ]  # interpolates
  $href-&gt;@{ ... };  # same as @$href{ ... }  # interpolates
  $aref-&gt;%[ ... ];  # same as %$aref[ ... ]
  $href-&gt;%{ ... };  # same as %$href{ ... }
</pre>
<p class="Pp">Those marked as interpolating only interpolate if the associated
    <span class="Li">&quot;postderef_qq&quot;</span> feature is also enabled.
    This feature is <b>experimental</b> and will trigger
    <span class="Li">&quot;experimental::postderef&quot;</span>-category
    warnings when used, unless they are suppressed.</p>
<p class="Pp">For more information, consult the Postfix Dereference Syntax
    section of perlref.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_6.3_now_supported"><a class="permalink" href="#Unicode_6.3_now_supported">Unicode
  6.3 now supported</a></h2>
Perl now supports and is shipped with Unicode 6.3 (though Perl may be recompiled
  with any previous Unicode release as well). A detailed list of Unicode 6.3
  changes is at &lt;http://www.unicode.org/versions/Unicode6.3.0/&gt;.
</section>
<section class="Ss">
<h2 class="Ss" id="New___ep_Unicode___regular_expression_pattern_property"><a class="permalink" href="#New___ep_Unicode___regular_expression_pattern_property">New
  &quot;\p{Unicode}&quot; regular expression pattern property</a></h2>
This is a synonym for <span class="Li">&quot;\p{Any}&quot;</span> and matches
  the set of Unicode-defined code points 0 - 0x10FFFF.
</section>
<section class="Ss">
<h2 class="Ss" id="Better_64_-bit_support"><a class="permalink" href="#Better_64_-bit_support">Better
  64-bit support</a></h2>
On 64-bit platforms, the internal array functions now use 64-bit offsets,
  allowing Perl arrays to hold more than 2**31 elements, if you have the memory
  available.
<p class="Pp">The regular expression engine now supports strings longer than
    2**31 characters. [perl #112790, #116907]</p>
<p class="Pp">The functions PerlIO_get_bufsiz, PerlIO_get_cnt, PerlIO_set_cnt
    and PerlIO_set_ptrcnt now have SSize_t, rather than int, return values and
    parameters.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_use__locale__now_works_on__s-1UTF_-8_s0_locales"><a class="permalink" href="#_use__locale__now_works_on__s-1UTF_-8_s0_locales">&quot;use&#x00A0;locale&quot;
  now works on UTF-8 locales</a></h2>
Until this release, only single-byte locales, such as the ISO 8859 series were
  supported. Now, the increasingly common multi-byte UTF-8 locales are also
  supported. A UTF-8 locale is one in which the character set is Unicode and the
  encoding is UTF-8. The POSIX <span class="Li">&quot;LC_CTYPE&quot;</span>
  category operations (case changing (like
  <span class="Li">&quot;lc()&quot;</span>,
  <span class="Li">&quot;\U&quot;</span>), and character classification
  (<span class="Li">&quot;\w&quot;</span>,
  <span class="Li">&quot;\D&quot;</span>,
  <span class="Li">&quot;qr/[[:punct:]]/&quot;</span>)) under such a locale work
  just as if not under locale, but instead as if under
  <span class="Li">&quot;use&#x00A0;feature&#x00A0;'unicode_strings'&quot;</span>,
  except taint rules are followed. Sorting remains by code point order in this
  release. [perl #56820].
</section>
<section class="Ss">
<h2 class="Ss" id="_use__locale__now_compiles_on_systems_without_locale_ability"><a class="permalink" href="#_use__locale__now_compiles_on_systems_without_locale_ability">&quot;use&#x00A0;locale&quot;
  now compiles on systems without locale ability</a></h2>
Previously doing this caused the program to not compile. Within its scope the
  program behaves as if in the &quot;C&quot; locale. Thus programs written for
  platforms that support locales can run on locale-less platforms without
  change. Attempts to change the locale away from the &quot;C&quot; locale will,
  of course, fail.
</section>
<section class="Ss">
<h2 class="Ss" id="More_locale_initialization_fallback_options"><a class="permalink" href="#More_locale_initialization_fallback_options">More
  locale initialization fallback options</a></h2>
If there was an error with locales during Perl start-up, it immediately gave up
  and tried to use the <span class="Li">&quot;C&quot;</span> locale. Now it
  first tries using other locales given by the environment variables, as
  detailed in &quot;ENVIRONMENT&quot; in perllocale. For example, if
  <span class="Li">&quot;LC_ALL&quot;</span> and
  <span class="Li">&quot;LANG&quot;</span> are both set, and using the
  <span class="Li">&quot;LC_ALL&quot;</span> locale fails, Perl will now try the
  <span class="Li">&quot;LANG&quot;</span> locale, and only if that fails, will
  it fall back to <span class="Li">&quot;C&quot;</span>. On Windows machines,
  Perl will try, ahead of using <span class="Li">&quot;C&quot;</span>, the
  system default locale if all the locales given by environment variables fail.
</section>
<section class="Ss">
<h2 class="Ss" id="__-DL__runtime_option_now_added_for_tracing_locale_setting"><a class="permalink" href="#__-DL__runtime_option_now_added_for_tracing_locale_setting">&quot;-DL&quot;
  runtime option now added for tracing locale setting</a></h2>
This is designed for Perl core developers to aid in field debugging bugs
  regarding locales.
</section>
<section class="Ss">
<h2 class="Ss" id="_fB_-F_fP_now_implies__fB_-a_fP_and__fB_-a_fP_implies__fB_-n_fP"><a class="permalink" href="#_fB_-F_fP_now_implies__fB_-a_fP_and__fB_-a_fP_implies__fB_-n_fP"><b>-F</b>
  now implies <b>-a</b> and <b>-a</b> implies <b>-n</b></a></h2>
Previously <b>-F</b> without <b>-a</b> was a no-op, and <b>-a</b> without
  <b>-n</b> or <b>-p</b> was a no-op, with this change, if you supply <b>-F</b>
  then both <b>-a</b> and <b>-n</b> are implied and if you supply <b>-a</b> then
  <b>-n</b> is implied.
<p class="Pp">You can still use <b>-p</b> for its extra behaviour. [perl
    #116190]</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$a_and_$b_warnings_exemption"><a class="permalink" href="#$a_and_$b_warnings_exemption">$a
  and $b warnings exemption</a></h2>
The special variables <span class="Li">$a</span> and <span class="Li">$b</span>,
  used in <span class="Li">&quot;sort&quot;</span>, are now exempt from
  &quot;used once&quot; warnings, even where
  <span class="Li">&quot;sort&quot;</span> is not used. This makes it easier for
  CPAN modules to provide functions using <span class="Li">$a</span> and
  <span class="Li">$b</span> for similar purposes. [perl #120462]
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Security"><a class="permalink" href="#Security">Security</a></h1>
<section class="Ss">
<h2 class="Ss" id="Avoid_possible_read_of__fBfree()_fPd_memory_during_parsing"><a class="permalink" href="#Avoid_possible_read_of__fBfree()_fPd_memory_during_parsing">Avoid
  possible read of <b>free()</b>d memory during parsing</a></h2>
It was possible that <b>free()</b>d memory could be read during parsing in the
  unusual circumstance of the Perl program ending with a heredoc and the last
  line of the file on disk having no terminating newline character. This has now
  been fixed.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="_do__can_no_longer_be_used_to_call_subroutines"><a class="permalink" href="#_do__can_no_longer_be_used_to_call_subroutines">&quot;do&quot;
  can no longer be used to call subroutines</a></h2>
The <span class="Li">&quot;do SUBROUTINE(LIST)&quot;</span> form has resulted in
  a deprecation warning since Perl v5.0.0, and is now a syntax error.
</section>
<section class="Ss">
<h2 class="Ss" id="Quote-like_escape_changes"><a class="permalink" href="#Quote-like_escape_changes">Quote-like
  escape changes</a></h2>
The character after <span class="Li">&quot;\c&quot;</span> in a double-quoted
  string (&quot;...&quot; or qq(...)) or regular expression must now be a
  printable character and may not be <span class="Li">&quot;{&quot;</span>.
<p class="Pp">A literal <span class="Li">&quot;{&quot;</span> after
    <span class="Li">&quot;\B&quot;</span> or
    <span class="Li">&quot;\b&quot;</span> is now fatal.</p>
<p class="Pp">These were deprecated in perl v5.14.0.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Tainting_happens_under_more_circumstances;_now_conforms_to_documentation"><a class="permalink" href="#Tainting_happens_under_more_circumstances;_now_conforms_to_documentation">Tainting
  happens under more circumstances; now conforms to documentation</a></h2>
This affects regular expression matching and changing the case of a string
  (<span class="Li">&quot;lc&quot;</span>,
  <span class="Li">&quot;\U&quot;</span>, <i>etc</i>.) within the scope of
  <span class="Li">&quot;use locale&quot;</span>. The result is now tainted
  based on the operation, no matter what the contents of the string were, as the
  documentation (perlsec, &quot;SECURITY&quot; in perllocale) indicates it
  should. Previously, for the case change operation, if the string contained no
  characters whose case change could be affected by the locale, the result would
  not be tainted. For example, the result of
  <span class="Li">&quot;uc()&quot;</span> on an empty string or one containing
  only above-Latin1 code points is now tainted, and wasn't before. This leads to
  more consistent tainting results. Regular expression patterns taint their
  non-binary results (like <span class="Li">$&amp;</span>,
  <span class="Li">$2</span>) if and only if the pattern contains elements whose
  matching depends on the current (potentially tainted) locale. Like the case
  changing functions, the actual contents of the string being matched now do not
  matter, whereas formerly it did. For example, if the pattern contains a
  <span class="Li">&quot;\w&quot;</span>, the results will be tainted even if
  the match did not have to use that portion of the pattern to succeed or fail,
  because what a <span class="Li">&quot;\w&quot;</span> matches depends on
  locale. However, for example, a <span class="Li">&quot;.&quot;</span> in a
  pattern will not enable tainting, because the dot matches any single
  character, and what the current locale is doesn't change in any way what
  matches and what doesn't.
</section>
<section class="Ss">
<h2 class="Ss" id="__ep___,___eP____matching_has_changed_for_non-Unicode_code_points."><a class="permalink" href="#__ep___,___eP____matching_has_changed_for_non-Unicode_code_points.">&quot;\p{}&quot;,
  &quot;\P{}&quot; matching has changed for non-Unicode code points.</a></h2>
<span class="Li">&quot;\p{}&quot;</span> and
  <span class="Li">&quot;\P{}&quot;</span> are defined by Unicode only on
  Unicode-defined code points (<span class="Li">&quot;U+0000&quot;</span>
  through <span class="Li">&quot;U+10FFFF&quot;</span>). Their behavior on
  matching these legal Unicode code points is unchanged, but there are changes
  for code points <span class="Li">0x110000</span> and above. Previously, Perl
  treated the result of matching <span class="Li">&quot;\p{}&quot;</span> and
  <span class="Li">&quot;\P{}&quot;</span> against these as
  <span class="Li">&quot;undef&quot;</span>, which translates into
  &quot;false&quot;. For <span class="Li">&quot;\P{}&quot;</span>, this was then
  complemented into &quot;true&quot;. A warning was supposed to be raised when
  this happened. However, various optimizations could prevent the warning, and
  the results were often counter-intuitive, with both a match and its seeming
  complement being false. Now all non-Unicode code points are treated as typical
  unassigned Unicode code points. This generally is more Do-What-I-Mean. A
  warning is raised only if the results are arguably different from a strict
  Unicode approach, and from what Perl used to do. Code that needs to be
  strictly Unicode compliant can make this warning fatal, and then Perl always
  raises the warning.
<p class="Pp">Details are in &quot;Beyond Unicode code points&quot; in
    perlunicode.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="__ep_All___has_been_expanded_to_match_all_possible_code_points"><a class="permalink" href="#__ep_All___has_been_expanded_to_match_all_possible_code_points">&quot;\p{All}&quot;
  has been expanded to match all possible code points</a></h2>
The Perl-defined regular expression pattern element
  <span class="Li">&quot;\p{All}&quot;</span>, unused on CPAN, used to match
  just the Unicode code points; now it matches all possible code points; that
  is, it is equivalent to <span class="Li">&quot;qr/./s&quot;</span>. Thus
  <span class="Li">&quot;\p{All}&quot;</span> is no longer synonymous with
  <span class="Li">&quot;\p{Any}&quot;</span>, which continues to match just the
  Unicode code points, as Unicode says it should.
</section>
<section class="Ss">
<h2 class="Ss" id="Data::Dumper's_output_may_change"><a class="permalink" href="#Data::Dumper's_output_may_change">Data::Dumper's
  output may change</a></h2>
Depending on the data structures dumped and the settings set for Data::Dumper,
  the dumped output may have changed from previous versions.
<p class="Pp">If you have tests that depend on the exact output of Data::Dumper,
    they may fail.</p>
<p class="Pp">To avoid this problem in your code, test against the data
    structure from evaluating the dumped structure, instead of the dump
  itself.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Locale_decimal_point_character_no_longer_leaks_outside_of__use__locale__scope"><a class="permalink" href="#Locale_decimal_point_character_no_longer_leaks_outside_of__use__locale__scope">Locale
  decimal point character no longer leaks outside of
  &quot;use&#x00A0;locale&quot; scope</a></h2>
This is actually a bug fix, but some code has come to rely on the bug being
  present, so this change is listed here. The current locale that the program is
  running under is not supposed to be visible to Perl code except within the
  scope of a <span class="Li">&quot;use&#x00A0;locale&quot;</span>. However,
  until now under certain circumstances, the character used for a decimal point
  (often a comma) leaked outside the scope. If your code is affected by this
  change, simply add a <span class="Li">&quot;use&#x00A0;locale&quot;</span>.
</section>
<section class="Ss">
<h2 class="Ss" id="Assignments_of_Windows_sockets_error_codes_to_$!_now_prefer__fIerrno.h_fP_values_over__fBWSAGetLastError()_fP_values"><a class="permalink" href="#Assignments_of_Windows_sockets_error_codes_to_$!_now_prefer__fIerrno.h_fP_values_over__fBWSAGetLastError()_fP_values">Assignments
  of Windows sockets error codes to $! now prefer <i>errno.h</i> values over
  <b>WSAGetLastError()</b> values</a></h2>
In previous versions of Perl, Windows sockets error codes as returned by
  <b>WSAGetLastError()</b> were assigned to $!, and some constants such as
  ECONNABORTED, not in <i>errno.h</i> in VC++ (or the various Windows ports of
  gcc) were defined to corresponding WSAE* values to allow $! to be tested
  against the E* constants exported by Errno and POSIX.
<p class="Pp">This worked well until VC++ 2010 and later, which introduced new
    E* constants with values &gt; 100 into <i>errno.h</i>, including some being
    (re)defined by perl to WSAE* values. That caused problems when linking XS
    code against other libraries which used the original definitions of
    <i>errno.h</i> constants.</p>
<p class="Pp">To avoid this incompatibility, perl now maps WSAE* error codes to
    E* values where possible, and assigns those values to $!. The E* constants
    exported by Errno and POSIX are updated to match so that testing $! against
    them, wherever previously possible, will continue to work as expected, and
    all E* constants found in <i>errno.h</i> are now exported from those modules
    with their original <i>errno.h</i> values.</p>
<p class="Pp">In order to avoid breakage in existing Perl code which assigns
    WSAE* values to $!, perl now intercepts the assignment and performs the same
    mapping to E* values as it uses internally when assigning to $! itself.</p>
<p class="Pp">However, one backwards-incompatibility remains: existing Perl code
    which compares $! against the numeric values of the WSAE* error codes that
    were previously assigned to $! will now be broken in those cases where a
    corresponding E* value has been assigned instead. This is only an issue for
    those E* values &lt; 100, which were always exported from Errno and POSIX
    with their original <i>errno.h</i> values, and therefore could not be used
    for WSAE* error code tests (e.g. WSAEINVAL is 10022, but the corresponding
    EINVAL is 22). (E* values &gt; 100, if present, were redefined to WSAE*
    values anyway, so compatibility can be achieved by using the E* constants,
    which will work both before and after this change, albeit using different
    numeric values under the hood.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Functions__PerlIO_vsprintf__and__PerlIO_sprintf__have_been_removed"><a class="permalink" href="#Functions__PerlIO_vsprintf__and__PerlIO_sprintf__have_been_removed">Functions
  &quot;PerlIO_vsprintf&quot; and &quot;PerlIO_sprintf&quot; have been
  removed</a></h2>
These two functions, undocumented, unused in CPAN, and problematic, have been
  removed.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Deprecations"><a class="permalink" href="#Deprecations">Deprecations</a></h1>
<section class="Ss">
<h2 class="Ss" id="The__/_eC/__character_class"><a class="permalink" href="#The__/_eC/__character_class">The
  &quot;/\C/&quot; character class</a></h2>
The <span class="Li">&quot;/\C/&quot;</span> regular expression character class
  is deprecated. From perl 5.22 onwards it will generate a warning, and from
  perl 5.24 onwards it will be a regular expression compiler error. If you need
  to examine the individual bytes that make up a UTF8-encoded character, then
  use <span class="Li">&quot;utf8::encode()&quot;</span> on the string (or a
  copy) first.
</section>
<section class="Ss">
<h2 class="Ss" id="Literal_control_characters_in_variable_names"><a class="permalink" href="#Literal_control_characters_in_variable_names">Literal
  control characters in variable names</a></h2>
This deprecation affects things like $\cT, where \cT is a literal control (such
  as a <span class="Li">&quot;NAK&quot;</span> or
  <span class="Li">&quot;NEGATIVE ACKNOWLEDGE&quot;</span> character) in the
  source code. Surprisingly, it appears that originally this was intended as the
  canonical way of accessing variables like $^T, with the caret form only being
  added as an alternative.
<p class="Pp">The literal control form is being deprecated for two main reasons.
    It has what are likely unfixable bugs, such as $\cI not working as an alias
    for $^I, and their usage not being portable to non-ASCII platforms: While
    $^T will work everywhere, \cT is whitespace in EBCDIC. [perl #119123]</p>
</section>
<section class="Ss">
<h2 class="Ss" id="References_to_non-integers_and_non-positive_integers_in_$/"><a class="permalink" href="#References_to_non-integers_and_non-positive_integers_in_$/">References
  to non-integers and non-positive integers in $/</a></h2>
Setting <span class="Li">$/</span> to a reference to zero or a reference to a
  negative integer is now deprecated, and will behave <b>exactly</b> as though
  it was set to <span class="Li">&quot;undef&quot;</span>. If you want slurp
  behavior set <span class="Li">$/</span> to
  <span class="Li">&quot;undef&quot;</span> explicitly.
<p class="Pp">Setting <span class="Li">$/</span> to a reference to a non integer
    is now forbidden and will throw an error. Perl has never documented what
    would happen in this context and while it used to behave the same as setting
    <span class="Li">$/</span> to the address of the references in future it may
    behave differently, so we have forbidden this usage.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Character_matching_routines_in__s-1POSIX_s0"><a class="permalink" href="#Character_matching_routines_in__s-1POSIX_s0">Character
  matching routines in POSIX</a></h2>
Use of any of these functions in the <span class="Li">&quot;POSIX&quot;</span>
  module is now deprecated: <span class="Li">&quot;isalnum&quot;</span>,
  <span class="Li">&quot;isalpha&quot;</span>,
  <span class="Li">&quot;iscntrl&quot;</span>,
  <span class="Li">&quot;isdigit&quot;</span>,
  <span class="Li">&quot;isgraph&quot;</span>,
  <span class="Li">&quot;islower&quot;</span>,
  <span class="Li">&quot;isprint&quot;</span>,
  <span class="Li">&quot;ispunct&quot;</span>,
  <span class="Li">&quot;isspace&quot;</span>,
  <span class="Li">&quot;isupper&quot;</span>, and
  <span class="Li">&quot;isxdigit&quot;</span>. The functions are buggy and
  don't work on UTF-8 encoded strings. See their entries in POSIX for more
  information.
<p class="Pp">A warning is raised on the first call to any of them from each
    place in the code that they are called. (Hence a repeated statement in a
    loop will raise just the one warning.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Interpreter-based_threads_are_now__fIdiscouraged_fP"><a class="permalink" href="#Interpreter-based_threads_are_now__fIdiscouraged_fP">Interpreter-based
  threads are now <i>discouraged</i></a></h2>
The &quot;interpreter-based threads&quot; provided by Perl are not the fast,
  lightweight system for multitasking that one might expect or hope for. Threads
  are implemented in a way that make them easy to misuse. Few people know how to
  use them correctly or will be able to provide help.
<p class="Pp">The use of interpreter-based threads in perl is officially
    discouraged.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Module_removals"><a class="permalink" href="#Module_removals">Module
  removals</a></h2>
The following modules will be removed from the core distribution in a future
  release, and will at that time need to be installed from CPAN. Distributions
  on CPAN which require these modules will need to list them as prerequisites.
<p class="Pp">The core versions of these modules will now issue
    <span class="Li">&quot;deprecated&quot;</span>-category warnings to alert
    you to this fact. To silence these deprecation warnings, install the modules
    in question from CPAN.</p>
<p class="Pp">Note that the planned removal of these modules from core does not
    reflect a judgement about the quality of the code and should not be taken as
    a suggestion that their use be halted. Their disinclusion from core
    primarily hinges on their necessity to bootstrapping a fully functional,
    CPAN-capable Perl installation, not on concerns over their design.</p>
<dl class="Bl-tag">
  <dt>CGI and its associated CGI:: packages</dt>
  <dd></dd>
  <dt>inc::latest</dt>
  <dd></dd>
  <dt>Package::Constants</dt>
  <dd></dd>
  <dt>Module::Build and its associated Module::Build:: packages</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Utility_removals"><a class="permalink" href="#Utility_removals">Utility
  removals</a></h2>
The following utilities will be removed from the core distribution in a future
  release, and will at that time need to be installed from CPAN.
<dl class="Bl-tag">
  <dt>find2perl</dt>
  <dd></dd>
  <dt>s2p</dt>
  <dd></dd>
  <dt>a2p</dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_Enhancements"><a class="permalink" href="#Performance_Enhancements">Performance
  Enhancements</a></h1>
<ul class="Bl-bullet">
  <li>Perl has a new copy-on-write mechanism that avoids the need to copy the
      internal string buffer when assigning from one scalar to another. This
      makes copying large strings appear much faster. Modifying one of the two
      (or more) strings after an assignment will force a copy internally. This
      makes it unnecessary to pass strings by reference for efficiency.
    <p class="Pp">This feature was already available in 5.18.0, but wasn't
        enabled by default. It is the default now, and so you no longer need
        build perl with the <i>Configure</i> argument:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    -Accflags=-DPERL_NEW_COPY_ON_WRITE
    </pre>
    <p class="Pp">It can be disabled (for now) in a perl build with:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    -Accflags=-DPERL_NO_COW
    </pre>
    <p class="Pp">On some operating systems Perl can be compiled in such a way
        that any attempt to modify string buffers shared by multiple SVs will
        crash. This way XS authors can test that their modules handle
        copy-on-write scalars correctly. See &quot;Copy on Write&quot; in
        perlguts for detail.</p>
  </li>
  <li>Perl has an optimizer for regular expression patterns. It analyzes the
      pattern to find things such as the minimum length a string has to be to
      match, etc. It now better handles code points that are above the Latin1
      range.</li>
  <li>Executing a regex that contains the <span class="Li">&quot;^&quot;</span>
      anchor (or its variant under the <span class="Li">&quot;/m&quot;</span>
      flag) has been made much faster in several situations.</li>
  <li>Precomputed hash values are now used in more places during method
    lookup.</li>
  <li>Constant hash key lookups (<span class="Li">$hash{key}</span> as opposed
      to <span class="Li">$hash{$key}</span>) have long had the internal hash
      value computed at compile time, to speed up lookup. This optimisation has
      only now been applied to hash slices as well.</li>
  <li>Combined <span class="Li">&quot;and&quot;</span> and
      <span class="Li">&quot;or&quot;</span> operators in void context, like
      those generated for <span class="Li">&quot;unless ($a &amp;&amp;
      $b)&quot;</span> and <span class="Li">&quot;if ($a || b)&quot;</span> now
      short circuit directly to the end of the statement. [perl #120128]</li>
  <li>In certain situations, when <span class="Li">&quot;return&quot;</span> is
      the last statement in a subroutine's main scope, it will be optimized out.
      This means code like:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub baz { return $cat; }
    </pre>
    <p class="Pp">will now behave like:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  sub baz { $cat; }
    </pre>
    <p class="Pp">which is notably faster.</p>
    <p class="Pp">[perl #120765]</p>
  </li>
  <li>Code like:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $x; # or @x, %x
  my $y;
    </pre>
    <p class="Pp">is now optimized to:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my ($x, $y);
    </pre>
    <p class="Pp">In combination with the padrange optimization introduced in
        v5.18.0, this means longer uninitialized my variable statements are also
        optimized, so:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $x; my @y; my %z;
    </pre>
    <p class="Pp">becomes:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my ($x, @y, %z);
    </pre>
    <p class="Pp">[perl #121077]</p>
  </li>
  <li>The creation of certain sorts of lists, including array and hash slices,
      is now faster.</li>
  <li>The optimisation for arrays indexed with a small constant integer is now
      applied for integers in the range -128..127, rather than 0..255. This
      should speed up Perl code using expressions like
      <span class="Li">$x[-1]</span>, at the expense of (presumably much rarer)
      code using expressions like <span class="Li">$x[200]</span>.</li>
  <li>The first iteration over a large hash (using
      <span class="Li">&quot;keys&quot;</span> or
      <span class="Li">&quot;each&quot;</span>) is now faster. This is achieved
      by preallocating the hash's internal iterator state, rather than lazily
      creating it when the hash is first iterated. (For small hashes, the
      iterator is still created only when first needed. The assumption is that
      small hashes are more likely to be used as objects, and therefore never
      allocated. For large hashes, that's less likely to be true, and the cost
      of allocating the iterator is swamped by the cost of allocating space for
      the hash itself.)</li>
  <li>When doing a global regex match on a string that came from the
      <span class="Li">&quot;readline&quot;</span> or
      <span class="Li">&quot;&lt;&gt;&quot;</span> operator, the data is no
      longer copied unnecessarily. [perl #121259]</li>
  <li>Dereferencing (as in <span class="Li">&quot;$obj-&gt;[0]&quot;</span> or
      <span class="Li">&quot;$obj-&gt;{k}&quot;</span>) is now faster when
      <span class="Li">$obj</span> is an instance of a class that has overloaded
      methods, but doesn't overload any of the dereferencing methods
      <span class="Li">&quot;@{}&quot;</span>,
      <span class="Li">&quot;%{}&quot;</span>, and so on.</li>
  <li>Perl's optimiser no longer skips optimising code that follows certain
      <span class="Li">&quot;eval {}&quot;</span> expressions (including those
      with an apparent infinite loop).</li>
  <li>The implementation now does a better job of avoiding meaningless work at
      runtime. Internal effect-free &quot;null&quot; operations (created as a
      side-effect of parsing Perl programs) are normally deleted during
      compilation. That deletion is now applied in some situations that weren't
      previously handled.</li>
  <li>Perl now does less disk I/O when dealing with Unicode properties that
      cover up to three ranges of consecutive code points.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Modules_and_Pragmata"><a class="permalink" href="#New_Modules_and_Pragmata">New
  Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li>experimental 0.007 has been added to the Perl core.</li>
  <li>IO::Socket::IP 0.29 has been added to the Perl core.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Updated_Modules_and_Pragmata"><a class="permalink" href="#Updated_Modules_and_Pragmata">Updated
  Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li>Archive::Tar has been upgraded from version 1.90 to 1.96.</li>
  <li>arybase has been upgraded from version 0.06 to 0.07.</li>
  <li>Attribute::Handlers has been upgraded from version 0.94 to 0.96.</li>
  <li>attributes has been upgraded from version 0.21 to 0.22.</li>
  <li>autodie has been upgraded from version 2.13 to 2.23.</li>
  <li>AutoLoader has been upgraded from version 5.73 to 5.74.</li>
  <li>autouse has been upgraded from version 1.07 to 1.08.</li>
  <li>B has been upgraded from version 1.42 to 1.48.</li>
  <li>B::Concise has been upgraded from version 0.95 to 0.992.</li>
  <li>B::Debug has been upgraded from version 1.18 to 1.19.</li>
  <li>B::Deparse has been upgraded from version 1.20 to 1.26.</li>
  <li>base has been upgraded from version 2.18 to 2.22.</li>
  <li>Benchmark has been upgraded from version 1.15 to 1.18.</li>
  <li>bignum has been upgraded from version 0.33 to 0.37.</li>
  <li>Carp has been upgraded from version 1.29 to 1.3301.</li>
  <li>CGI has been upgraded from version 3.63 to 3.65. NOTE: CGI is deprecated
      and may be removed from a future version of Perl.</li>
  <li>charnames has been upgraded from version 1.36 to 1.40.</li>
  <li>Class::Struct has been upgraded from version 0.64 to 0.65.</li>
  <li>Compress::Raw::Bzip2 has been upgraded from version 2.060 to 2.064.</li>
  <li>Compress::Raw::Zlib has been upgraded from version 2.060 to 2.065.</li>
  <li>Config::Perl::V has been upgraded from version 0.17 to 0.20.</li>
  <li>constant has been upgraded from version 1.27 to 1.31.</li>
  <li>CPAN has been upgraded from version 2.00 to 2.05.</li>
  <li>CPAN::Meta has been upgraded from version 2.120921 to 2.140640.</li>
  <li>CPAN::Meta::Requirements has been upgraded from version 2.122 to
    2.125.</li>
  <li>CPAN::Meta::YAML has been upgraded from version 0.008 to 0.012.</li>
  <li>Data::Dumper has been upgraded from version 2.145 to 2.151.</li>
  <li>DB has been upgraded from version 1.04 to 1.07.</li>
  <li>DB_File has been upgraded from version 1.827 to 1.831.</li>
  <li>DBM_Filter has been upgraded from version 0.05 to 0.06.</li>
  <li>deprecate has been upgraded from version 0.02 to 0.03.</li>
  <li>Devel::Peek has been upgraded from version 1.11 to 1.16.</li>
  <li>Devel::PPPort has been upgraded from version 3.20 to 3.21.</li>
  <li>diagnostics has been upgraded from version 1.31 to 1.34.</li>
  <li>Digest::MD5 has been upgraded from version 2.52 to 2.53.</li>
  <li>Digest::SHA has been upgraded from version 5.84 to 5.88.</li>
  <li>DynaLoader has been upgraded from version 1.18 to 1.25.</li>
  <li>Encode has been upgraded from version 2.49 to 2.60.</li>
  <li>encoding has been upgraded from version 2.6_01 to 2.12.</li>
  <li>English has been upgraded from version 1.06 to 1.09.
    <p class="Pp"><span class="Li">$OLD_PERL_VERSION</span> was added as an
        alias of <span class="Li">$]</span>.</p>
  </li>
  <li>Errno has been upgraded from version 1.18 to 1.20_03.</li>
  <li>Exporter has been upgraded from version 5.68 to 5.70.</li>
  <li>ExtUtils::CBuilder has been upgraded from version 0.280210 to
    0.280216.</li>
  <li>ExtUtils::Command has been upgraded from version 1.17 to 1.18.</li>
  <li>ExtUtils::Embed has been upgraded from version 1.30 to 1.32.</li>
  <li>ExtUtils::Install has been upgraded from version 1.59 to 1.67.</li>
  <li>ExtUtils::MakeMaker has been upgraded from version 6.66 to 6.98.</li>
  <li>ExtUtils::Miniperl has been upgraded from version to 1.01.</li>
  <li>ExtUtils::ParseXS has been upgraded from version 3.18 to 3.24.</li>
  <li>ExtUtils::Typemaps has been upgraded from version 3.19 to 3.24.</li>
  <li>ExtUtils::XSSymSet has been upgraded from version 1.2 to 1.3.</li>
  <li>feature has been upgraded from version 1.32 to 1.36.</li>
  <li>fields has been upgraded from version 2.16 to 2.17.</li>
  <li>File::Basename has been upgraded from version 2.84 to 2.85.</li>
  <li>File::Copy has been upgraded from version 2.26 to 2.29.</li>
  <li>File::DosGlob has been upgraded from version 1.10 to 1.12.</li>
  <li>File::Fetch has been upgraded from version 0.38 to 0.48.</li>
  <li>File::Find has been upgraded from version 1.23 to 1.27.</li>
  <li>File::Glob has been upgraded from version 1.20 to 1.23.</li>
  <li>File::Spec has been upgraded from version 3.40 to 3.47.</li>
  <li>File::Temp has been upgraded from version 0.23 to 0.2304.</li>
  <li>FileCache has been upgraded from version 1.08 to 1.09.</li>
  <li>Filter::Simple has been upgraded from version 0.89 to 0.91.</li>
  <li>Filter::Util::Call has been upgraded from version 1.45 to 1.49.</li>
  <li>Getopt::Long has been upgraded from version 2.39 to 2.42.</li>
  <li>Getopt::Std has been upgraded from version 1.07 to 1.10.</li>
  <li>Hash::Util::FieldHash has been upgraded from version 1.10 to 1.15.</li>
  <li>HTTP::Tiny has been upgraded from version 0.025 to 0.043.</li>
  <li>I18N::Langinfo has been upgraded from version 0.10 to 0.11.</li>
  <li>I18N::LangTags has been upgraded from version 0.39 to 0.40.</li>
  <li>if has been upgraded from version 0.0602 to 0.0603.</li>
  <li>inc::latest has been upgraded from version 0.4003 to 0.4205. NOTE:
      inc::latest is deprecated and may be removed from a future version of
      Perl.</li>
  <li>integer has been upgraded from version 1.00 to 1.01.</li>
  <li>IO has been upgraded from version 1.28 to 1.31.</li>
  <li>IO::Compress::Gzip and friends have been upgraded from version 2.060 to
      2.064.</li>
  <li>IPC::Cmd has been upgraded from version 0.80 to 0.92.</li>
  <li>IPC::Open3 has been upgraded from version 1.13 to 1.16.</li>
  <li>IPC::SysV has been upgraded from version 2.03 to 2.04.</li>
  <li>JSON::PP has been upgraded from version 2.27202 to 2.27203.</li>
  <li>List::Util has been upgraded from version 1.27 to 1.38.</li>
  <li>locale has been upgraded from version 1.02 to 1.03.</li>
  <li>Locale::Codes has been upgraded from version 3.25 to 3.30.</li>
  <li>Locale::Maketext has been upgraded from version 1.23 to 1.25.</li>
  <li>Math::BigInt has been upgraded from version 1.9991 to 1.9993.</li>
  <li>Math::BigInt::FastCalc has been upgraded from version 0.30 to 0.31.</li>
  <li>Math::BigRat has been upgraded from version 0.2604 to 0.2606.</li>
  <li>MIME::Base64 has been upgraded from version 3.13 to 3.14.</li>
  <li>Module::Build has been upgraded from version 0.4003 to 0.4205. NOTE:
      Module::Build is deprecated and may be removed from a future version of
      Perl.</li>
  <li>Module::CoreList has been upgraded from version 2.89 to 3.10.</li>
  <li>Module::Load has been upgraded from version 0.24 to 0.32.</li>
  <li>Module::Load::Conditional has been upgraded from version 0.54 to
    0.62.</li>
  <li>Module::Metadata has been upgraded from version 1.000011 to 1.000019.</li>
  <li>mro has been upgraded from version 1.11 to 1.16.</li>
  <li>Net::Ping has been upgraded from version 2.41 to 2.43.</li>
  <li>Opcode has been upgraded from version 1.25 to 1.27.</li>
  <li>Package::Constants has been upgraded from version 0.02 to 0.04. NOTE:
      Package::Constants is deprecated and may be removed from a future version
      of Perl.</li>
  <li>Params::Check has been upgraded from version 0.36 to 0.38.</li>
  <li>parent has been upgraded from version 0.225 to 0.228.</li>
  <li>Parse::CPAN::Meta has been upgraded from version 1.4404 to 1.4414.</li>
  <li>Perl::OSType has been upgraded from version 1.003 to 1.007.</li>
  <li>perlfaq has been upgraded from version 5.0150042 to 5.0150044.</li>
  <li>PerlIO has been upgraded from version 1.07 to 1.09.</li>
  <li>PerlIO::encoding has been upgraded from version 0.16 to 0.18.</li>
  <li>PerlIO::scalar has been upgraded from version 0.16 to 0.18.</li>
  <li>PerlIO::via has been upgraded from version 0.12 to 0.14.</li>
  <li>Pod::Escapes has been upgraded from version 1.04 to 1.06.</li>
  <li>Pod::Functions has been upgraded from version 1.06 to 1.08.</li>
  <li>Pod::Html has been upgraded from version 1.18 to 1.21.</li>
  <li>Pod::Parser has been upgraded from version 1.60 to 1.62.</li>
  <li>Pod::Perldoc has been upgraded from version 3.19 to 3.23.</li>
  <li>Pod::Usage has been upgraded from version 1.61 to 1.63.</li>
  <li>POSIX has been upgraded from version 1.32 to 1.38_03.</li>
  <li>re has been upgraded from version 0.23 to 0.26.</li>
  <li>Safe has been upgraded from version 2.35 to 2.37.</li>
  <li>Scalar::Util has been upgraded from version 1.27 to 1.38.</li>
  <li>SDBM_File has been upgraded from version 1.09 to 1.11.</li>
  <li>Socket has been upgraded from version 2.009 to 2.013.</li>
  <li>Storable has been upgraded from version 2.41 to 2.49.</li>
  <li>strict has been upgraded from version 1.07 to 1.08.</li>
  <li>subs has been upgraded from version 1.01 to 1.02.</li>
  <li>Sys::Hostname has been upgraded from version 1.17 to 1.18.</li>
  <li>Sys::Syslog has been upgraded from version 0.32 to 0.33.</li>
  <li>Term::Cap has been upgraded from version 1.13 to 1.15.</li>
  <li>Term::ReadLine has been upgraded from version 1.12 to 1.14.</li>
  <li>Test::Harness has been upgraded from version 3.26 to 3.30.</li>
  <li>Test::Simple has been upgraded from version 0.98 to 1.001002.</li>
  <li>Text::ParseWords has been upgraded from version 3.28 to 3.29.</li>
  <li>Text::Tabs has been upgraded from version 2012.0818 to 2013.0523.</li>
  <li>Text::Wrap has been upgraded from version 2012.0818 to 2013.0523.</li>
  <li>Thread has been upgraded from version 3.02 to 3.04.</li>
  <li>Thread::Queue has been upgraded from version 3.02 to 3.05.</li>
  <li>threads has been upgraded from version 1.86 to 1.93.</li>
  <li>threads::shared has been upgraded from version 1.43 to 1.46.</li>
  <li>Tie::Array has been upgraded from version 1.05 to 1.06.</li>
  <li>Tie::File has been upgraded from version 0.99 to 1.00.</li>
  <li>Tie::Hash has been upgraded from version 1.04 to 1.05.</li>
  <li>Tie::Scalar has been upgraded from version 1.02 to 1.03.</li>
  <li>Tie::StdHandle has been upgraded from version 4.3 to 4.4.</li>
  <li>Time::HiRes has been upgraded from version 1.9725 to 1.9726.</li>
  <li>Time::Piece has been upgraded from version 1.20_01 to 1.27.</li>
  <li>Unicode::Collate has been upgraded from version 0.97 to 1.04.</li>
  <li>Unicode::Normalize has been upgraded from version 1.16 to 1.17.</li>
  <li>Unicode::UCD has been upgraded from version 0.51 to 0.57.</li>
  <li>utf8 has been upgraded from version 1.10 to 1.13.</li>
  <li>version has been upgraded from version 0.9902 to 0.9908.</li>
  <li>vmsish has been upgraded from version 1.03 to 1.04.</li>
  <li>warnings has been upgraded from version 1.18 to 1.23.</li>
  <li>Win32 has been upgraded from version 0.47 to 0.49.</li>
  <li>XS::Typemap has been upgraded from version 0.10 to 0.13.</li>
  <li>XSLoader has been upgraded from version 0.16 to 0.17.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Documentation"><a class="permalink" href="#Documentation">Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Documentation"><a class="permalink" href="#New_Documentation">New
  Documentation</a></h2>
<i>perlrepository</i>
<p class="Pp">This document was removed (actually, renamed perlgit and given a
    major overhaul) in Perl v5.14, causing Perl documentation websites to show
    the now out of date version in Perl v5.12 as the latest version. It has now
    been restored in stub form, directing readers to current information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Documentation"><a class="permalink" href="#Changes_to_Existing_Documentation">Changes
  to Existing Documentation</a></h2>
<i>perldata</i>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>New sections have been added to document the new index/value array slice
      and key/value hash slice syntax.</dd>
</dl>
<p class="Pp"><i>perldebguts</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The <span class="Li">&quot;DB::goto&quot;</span> and
      <span class="Li">&quot;DB::lsub&quot;</span> debugger subroutines are now
      documented. [perl #77680]</dd>
</dl>
<p class="Pp"><i>perlexperiment</i></p>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;\s&quot;</span> matching
      <span class="Li">&quot;\cK&quot;</span> is marked experimental.</li>
  <li>ithreads were accepted in v5.8.0 (but are discouraged as of v5.20.0).</li>
  <li>Long doubles are not considered experimental.</li>
  <li>Code in regular expressions, regular expression backtracking verbs, and
      lvalue subroutines are no longer listed as experimental. (This also
      affects perlre and perlsub.)</li>
</ul>
<p class="Pp"><i>perlfunc</i></p>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;chop&quot;</span> and
      <span class="Li">&quot;chomp&quot;</span> now note that they can reset the
      hash iterator.</li>
  <li><span class="Li">&quot;exec&quot;</span>'s handling of arguments is now
      more clearly documented.</li>
  <li><span class="Li">&quot;eval EXPR&quot;</span> now has caveats about
      expanding floating point numbers in some locales.</li>
  <li><span class="Li">&quot;goto EXPR&quot;</span> is now documented to handle
      an expression that evalutes to a code reference as if it was
      <span class="Li">&quot;goto &amp;$coderef&quot;</span>. This behavior is
      at least ten years old.</li>
  <li>Since Perl v5.10, it has been possible for subroutines in
      <span class="Li">@INC</span> to return a reference to a scalar holding
      initial source code to prepend to the file. This is now documented.</li>
  <li>The documentation of <span class="Li">&quot;ref&quot;</span> has been
      updated to recommend the use of
      <span class="Li">&quot;blessed&quot;</span>,
      <span class="Li">&quot;isa&quot;</span> and
      <span class="Li">&quot;reftype&quot;</span> when dealing with references
      to blessed objects.</li>
</ul>
<p class="Pp"><i>perlguts</i></p>
<ul class="Bl-bullet">
  <li>Numerous minor changes have been made to reflect changes made to the perl
      internals in this release.</li>
  <li>New sections on Read-Only Values and Copy on Write have been added.</li>
</ul>
<p class="Pp"><i>perlhack</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The Super Quick Patch Guide section has been updated.</dd>
</dl>
<p class="Pp"><i>perlhacktips</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The documentation has been updated to include some more examples of
      <span class="Li">&quot;gdb&quot;</span> usage.</dd>
</dl>
<p class="Pp"><i>perllexwarn</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The perllexwarn documentation used to describe the hierarchy of warning
      categories understood by the warnings pragma. That description has now
      been moved to the warnings documentation itself, leaving perllexwarn as a
      stub that points to it. This change consolidates all documentation for
      lexical warnings in a single place.</dd>
</dl>
<p class="Pp"><i>perllocale</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The documentation now mentions <i></i><b><i>fc()</i></b><i></i> and
      <span class="Li">&quot;\F&quot;</span>, and includes many clarifications
      and corrections in general.</dd>
</dl>
<p class="Pp"><i>perlop</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The language design of Perl has always called for monomorphic operators.
      This is now mentioned explicitly.</dd>
</dl>
<p class="Pp"><i>perlopentut</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The <span class="Li">&quot;open&quot;</span> tutorial has been completely
      rewritten by Tom Christiansen, and now focuses on covering only the
      basics, rather than providing a comprehensive reference to all things
      openable. This rewrite came as the result of a vigorous discussion on
      perl5-porters kicked off by a set of improvements written by Alexander
      Hartmaier to the existing perlopentut. A &quot;more than you ever wanted
      to know about <span class="Li">&quot;open&quot;</span>&quot; document may
      follow in subsequent versions of perl.</dd>
</dl>
<p class="Pp"><i>perlre</i></p>
<ul class="Bl-bullet">
  <li>The fact that the regexp engine makes no effort to call (?{}) and (??{})
      constructs any specified number of times (although it will basically DWIM
      in case of a successful match) has been documented.</li>
  <li>The <span class="Li">&quot;/r&quot;</span> modifier (for non-destructive
      substitution) is now documented. [perl #119151]</li>
  <li>The documentation for <span class="Li">&quot;/x&quot;</span> and
      <span class="Li">&quot;(?# comment)&quot;</span> has been expanded and
      clarified.</li>
</ul>
<p class="Pp"><i>perlreguts</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The documentation has been updated in the light of recent changes to
      <i>regcomp.c</i>.</dd>
</dl>
<p class="Pp"><i>perlsub</i></p>
<ul class="Bl-bullet">
  <li>The need to predeclare recursive functions with prototypes in order for
      the prototype to be honoured in the recursive call is now documented.
      [perl #2726]</li>
  <li>A list of subroutine names used by the perl implementation is now
      included. [perl #77680]</li>
</ul>
<p class="Pp"><i>perltrap</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>There is now a JavaScript section.</dd>
</dl>
<p class="Pp"><i>perlunicode</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The documentation has been updated to reflect
      <span class="Li">&quot;Bidi_Class&quot;</span> changes in Unicode
    6.3.</dd>
</dl>
<p class="Pp"><i>perlvar</i></p>
<ul class="Bl-bullet">
  <li>A new section explaining the performance issues of $`, $&amp; and $',
      including workarounds and changes in different versions of Perl, has been
      added.</li>
  <li>Three English variable names which have long been documented but do not
      actually exist have been removed from the documentation. These were
      <span class="Li">$OLD_PERL_VERSION</span>, <span class="Li">$OFMT</span>,
      and <span class="Li">$ARRAY_BASE</span>.
    <p class="Pp">(Actually,
        <span class="Li">&quot;OLD_PERL_VERSION&quot;</span> <i>does</i> exist,
        starting with this revision, but remained undocumented until perl
        5.22.0.)</p>
  </li>
</ul>
<p class="Pp"><i>perlxs</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Several problems in the <span class="Li">&quot;MY_CXT&quot;</span> example
      have been fixed.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Diagnostics"><a class="permalink" href="#Diagnostics">Diagnostics</a></h1>
The following additions or changes have been made to diagnostic output,
  including warnings and fatal error messages. For the complete list of
  diagnostic messages, see perldiag.
<section class="Ss">
<h2 class="Ss" id="New_Diagnostics"><a class="permalink" href="#New_Diagnostics">New
  Diagnostics</a></h2>
<i>New Errors</i>
<ul class="Bl-bullet">
  <li>delete argument is index/value array slice, use array slice
    <p class="Pp">(F) You used index/value array slice syntax
        (<span class="Li">%array[...]</span>) as the argument to
        <span class="Li">&quot;delete&quot;</span>. You probably meant
        <span class="Li">@array[...]</span> with an @ symbol instead.</p>
  </li>
  <li>delete argument is key/value hash slice, use hash slice
    <p class="Pp">(F) You used key/value hash slice syntax
        (<span class="Li">%hash{...}</span>) as the argument to
        <span class="Li">&quot;delete&quot;</span>. You probably meant
        <span class="Li">@hash{...}</span> with an @ symbol instead.</p>
  </li>
  <li>Magical list constants are not supported
    <p class="Pp">(F) You assigned a magical array to a stash element, and then
        tried to use the subroutine from the same slot. You are asking Perl to
        do something it cannot do, details subject to change between Perl
        versions.</p>
  </li>
  <li>Added Setting $/ to a <span class="Li">%s</span> reference is
    forbidden</li>
</ul>
<p class="Pp"><i>New Warnings</i></p>
<ul class="Bl-bullet">
  <li><span class="Li">%s</span> on reference is experimental:
    <p class="Pp">The &quot;auto-deref&quot; feature is experimental.</p>
    <p class="Pp">Starting in v5.14.0, it was possible to use push, pop, keys,
        and other built-in functions not only on aggregate types, but on
        references to them. The feature was not deployed to its original
        intended specification, and now may become redundant to postfix
        dereferencing. It has always been categorized as an experimental
        feature, and in v5.20.0 is carries a warning as such.</p>
    <p class="Pp">Warnings will now be issued at compile time when these
        operations are detected.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  no if $] &gt;= 5.01908, warnings =&gt; &quot;experimental::autoderef&quot;;
    </pre>
    <p class="Pp">Consider, though, replacing the use of these features, as they
        may change behavior again before becoming stable.</p>
  </li>
  <li>A sequence of multiple spaces in a charnames alias definition is
      deprecated
    <p class="Pp">Trailing white-space in a charnames alias definition is
        deprecated</p>
    <p class="Pp">These two deprecation warnings involving
        <span class="Li">&quot;\N{...}&quot;</span> were incorrectly
        implemented. They did not warn by default (now they do) and could not be
        made fatal via <span class="Li">&quot;use warnings FATAL =&gt;
        'deprecated'&quot;</span> (now they can).</p>
  </li>
  <li>Attribute prototype(%s) discards earlier prototype attribute in same sub
    <p class="Pp">(W misc) A sub was declared as <span class="Li">&quot;sub foo
        : prototype(A) : prototype(B) {}&quot;</span>, for example. Since each
        sub can only have one prototype, the earlier declaration(s) are
        discarded while the last one is applied.</p>
  </li>
  <li>Invalid \0 character in <span class="Li">%s</span> for
      <span class="Li">%s:</span> <span class="Li">%s</span>\0%s
    <p class="Pp">(W syscalls) Embedded \0 characters in pathnames or other
        system call arguments produce a warning as of 5.20. The parts after the
        \0 were formerly ignored by system calls.</p>
  </li>
  <li>Matched non-Unicode code point 0x%X against Unicode property; may not be
      portable.
    <p class="Pp">This replaces the message &quot;Code point 0x%X is not
        Unicode, all \p{} matches fail; all \P{} matches succeed&quot;.</p>
  </li>
  <li>Missing ']' in prototype for <span class="Li">%s</span> :
      <span class="Li">%s</span>
    <p class="Pp">(W illegalproto) A grouping was started with
        <span class="Li">&quot;[&quot;</span> but never closed with
        <span class="Li">&quot;]&quot;</span>.</p>
  </li>
  <li>Possible precedence issue with control flow operator
    <p class="Pp">(W syntax) There is a possible problem with the mixing of a
        control flow operator (e.g. <span class="Li">&quot;return&quot;</span>)
        and a low-precedence operator like
        <span class="Li">&quot;or&quot;</span>. Consider:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub { return $a or $b; }
    </pre>
    <p class="Pp">This is parsed as:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub { (return $a) or $b; }
    </pre>
    <p class="Pp">Which is effectively just:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub { return $a; }
    </pre>
    <p class="Pp">Either use parentheses or the high-precedence variant of the
        operator.</p>
    <p class="Pp">Note this may be also triggered for constructs like:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub { 1 if die; }
    </pre>
  </li>
  <li>Postfix dereference is experimental
    <p class="Pp">(S experimental::postderef) This warning is emitted if you use
        the experimental postfix dereference syntax. Simply suppress the warning
        if you want to use the feature, but know that in doing so you are taking
        the risk of using an experimental feature which may change or be removed
        in a future Perl version:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    no warnings &quot;experimental::postderef&quot;;
    use feature &quot;postderef&quot;, &quot;postderef_qq&quot;;
    $ref-&gt;$*;
    $aref-&gt;@*;
    $aref-&gt;@[@indices];
    ... etc ...
    </pre>
  </li>
  <li>Prototype '%s' overridden by attribute 'prototype(%s)' in
      <span class="Li">%s</span>
    <p class="Pp">(W prototype) A prototype was declared in both the parentheses
        after the sub name and via the prototype attribute. The prototype in
        parentheses is useless, since it will be replaced by the prototype from
        the attribute before it's ever used.</p>
  </li>
  <li>Scalar value @%s[%s] better written as $%s[%s]
    <p class="Pp">(W syntax) In scalar context, you've used an array index/value
        slice (indicated by %) to select a single element of an array. Generally
        it's better to ask for a scalar value (indicated by $). The difference
        is that <span class="Li">$foo[&amp;bar]</span> always behaves like a
        scalar, both in the value it returns and when evaluating its argument,
        while <span class="Li">%foo[&amp;bar]</span> provides a list context to
        its subscript, which can do weird things if you're expecting only one
        subscript. When called in list context, it also returns the index (what
        <span class="Li">&amp;bar</span> returns) in addition to the value.</p>
  </li>
  <li>Scalar value @%s{%s} better written as $%s{%s}
    <p class="Pp">(W syntax) In scalar context, you've used a hash key/value
        slice (indicated by %) to select a single element of a hash. Generally
        it's better to ask for a scalar value (indicated by $). The difference
        is that <span class="Li">$foo{&amp;bar}</span> always behaves like a
        scalar, both in the value it returns and when evaluating its argument,
        while <span class="Li">@foo{&amp;bar}</span> and provides a list context
        to its subscript, which can do weird things if you're expecting only one
        subscript. When called in list context, it also returns the key in
        addition to the value.</p>
  </li>
  <li>Setting $/ to a reference to <span class="Li">%s</span> as a form of slurp
      is deprecated, treating as undef</li>
  <li>Unexpected exit <span class="Li">%u</span>
    <p class="Pp">(S) <b>exit()</b> was called or the script otherwise finished
        gracefully when <span class="Li">&quot;PERL_EXIT_WARN&quot;</span> was
        set in <span class="Li">&quot;PL_exit_flags&quot;</span>.</p>
  </li>
  <li>Unexpected exit failure <span class="Li">%d</span>
    <p class="Pp">(S) An uncaught <b>die()</b> was called when
        <span class="Li">&quot;PERL_EXIT_WARN&quot;</span> was set in
        <span class="Li">&quot;PL_exit_flags&quot;</span>.</p>
  </li>
  <li>Use of literal control characters in variable names is deprecated
    <p class="Pp">(D deprecated) Using literal control characters in the source
        to refer to the ^FOO variables, like $^X and ${^GLOBAL_PHASE} is now
        deprecated. This only affects code like $\cT, where \cT is a control
        (like a <span class="Li">&quot;SOH&quot;</span>) in the source code:
        ${&quot;\cT&quot;} and $^T remain valid.</p>
  </li>
  <li>Useless use of greediness modifier
    <p class="Pp">This fixes [Perl #42957].</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Diagnostics"><a class="permalink" href="#Changes_to_Existing_Diagnostics">Changes
  to Existing Diagnostics</a></h2>
<ul class="Bl-bullet">
  <li>Warnings and errors from the regexp engine are now UTF-8 clean.</li>
  <li>The &quot;Unknown switch condition&quot; error message has some slight
      changes. This error triggers when there is an unknown condition in a
      <span class="Li">&quot;(?(foo))&quot;</span> conditional. The error
      message used to read:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    Unknown switch condition (?(%s in regex;
    </pre>
    <p class="Pp">But what <span class="Li">%s</span> could be was mostly up to
        luck. For <span class="Li">&quot;(?(foobar))&quot;</span>, you might
        have seen &quot;fo&quot; or &quot;f&quot;. For Unicode characters, you
        would generally get a corrupted string. The message has been changed to
        read:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    Unknown switch condition (?(...)) in regex;
    </pre>
    <p class="Pp">Additionally, the <span class="Li">'&lt;-- HERE'</span> marker
        in the error will now point to the correct spot in the regex.</p>
  </li>
  <li>The &quot;%s &quot;\x%X&quot; does not map to Unicode&quot; warning is now
      correctly listed as a severe warning rather than as a fatal error.</li>
  <li>Under rare circumstances, one could get a &quot;Can't coerce readonly REF
      to string&quot; instead of the customary &quot;Modification of a read-only
      value&quot;. This alternate error message has been removed.</li>
  <li>&quot;Ambiguous use of * resolved as operator *&quot;: This and similar
      warnings about &quot;%&quot; and &quot;&amp;&quot; used to occur in some
      circumstances where there was no operator of the type cited, so the
      warning was completely wrong. This has been fixed [perl #117535,
    #76910].</li>
  <li>Warnings about malformed subroutine prototypes are now more consistent in
      how the prototypes are rendered. Some of these warnings would truncate
      prototypes containing nulls. In other cases one warning would suppress
      another. The warning about illegal characters in prototypes no longer says
      &quot;after '_'&quot; if the bad character came before the
    underscore.</li>
  <li>Perl folding rules are not up-to-date for 0x%X; please use the perlbug
      utility to report; in regex; marked by &lt;-- HERE in m/%s/
    <p class="Pp">This message is now only in the regexp category, and not in
        the deprecated category. It is still a default (i.e., severe) warning
        [perl #89648].</p>
  </li>
  <li>%%s[%s] in scalar context better written as $%s[%s]
    <p class="Pp">This warning now occurs for any
        <span class="Li">%array[$index]</span> or
        <span class="Li">%hash{key}</span> known to be in scalar context at
        compile time. Previously it was worded &quot;Scalar value %%s[%s] better
        written as $%s[%s]&quot;.</p>
  </li>
  <li>Switch condition not recognized in regex; marked by &lt;-- HERE in m/%s/:
    <p class="Pp">The description for this diagnostic has been extended to cover
        all cases where the warning may occur. Issues with the positioning of
        the arrow indicator have also been resolved.</p>
  </li>
  <li>The error messages for <span class="Li">&quot;my($a?$b$c)&quot;</span> and
      <span class="Li">&quot;my(do{})&quot;</span> now mention &quot;conditional
      expression&quot; and &quot;do block&quot;, respectively, instead of
      reading 'Can't declare null operation in &quot;my&quot;'.</li>
  <li>When <span class="Li">&quot;use re &quot;debug&quot;&quot;</span> executes
      a regex containing a backreference, the debugging output now shows what
      string is being matched.</li>
  <li>The now fatal error message <span class="Li">&quot;Character following
      &quot;\c&quot; must be ASCII&quot;</span> has been reworded as
      <span class="Li">&quot;Character following &quot;\c&quot; must be
      printable ASCII&quot;</span> to emphasize that in
      <span class="Li">&quot;\c</span><i>X</i><span class="Li">&quot;</span>,
      <i>X</i> must be a <i>printable (non-control)</i> ASCII character.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<i>a2p</i>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>A possible crash from an off-by-one error when trying to access before the
      beginning of a buffer has been fixed. [perl #120244]</dd>
</dl>
<p class="Pp"><i></i><i>bisect.pl</i><i></i></p>
<p class="Pp">The git bisection tool <i>Porting/bisect.pl</i> has had many
    enhancements.</p>
<p class="Pp">It is provided as part of the source distribution but not
    installed because it is not self-contained as it relies on being run from
    within a git checkout. Note also that it makes no attempt to fix tests,
    correct runtime bugs or make something useful to install - its purpose is to
    make minimal changes to get any historical revision of interest to build and
    run as close as possible to &quot;as-was&quot;, and thereby make
    <span class="Li">&quot;git bisect&quot;</span> easy to use.</p>
<ul class="Bl-bullet">
  <li>Can optionally run the test case with a timeout.</li>
  <li>Can now run in-place in a clean git checkout.</li>
  <li>Can run the test case under
    <span class="Li">&quot;valgrind&quot;</span>.</li>
  <li>Can apply user supplied patches and fixes to the source checkout before
      building.</li>
  <li>Now has fixups to enable building several more historical ranges of
      bleadperl, which can be useful for pinpointing the origins of bugs or
      behaviour changes.</li>
</ul>
<p class="Pp"><i>find2perl</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>find2perl now handles <span class="Li">&quot;?&quot;</span> wildcards
      correctly. [perl #113054]</dd>
</dl>
<p class="Pp"><i>perlbug</i></p>
<ul class="Bl-bullet">
  <li><i>perlbug</i> now has a <span class="Li">&quot;-p&quot;</span> option for
      attaching patches with a bug report.</li>
  <li>perlbug has been modified to supply the report template with CRLF line
      endings on Windows. [perl #121277
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121277&gt;]</li>
  <li>perlbug now makes as few assumptions as possible about the encoding of the
      report. This will likely change in the future to assume UTF-8 by default
      but allow a user override.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Configuration_and_Compilation"><a class="permalink" href="#Configuration_and_Compilation">Configuration
  and Compilation</a></h1>
<ul class="Bl-bullet">
  <li>The <i>Makefile.PL</i> for SDBM_File now generates a better
      <i>Makefile</i>, which avoids a race condition during parallel makes,
      which could cause the build to fail. This is the last known parallel make
      problem (on *nix platforms), and therefore we believe that a parallel make
      should now always be error free.</li>
  <li><i>installperl</i> and <i>installman</i>'s option handling has been
      refactored to use Getopt::Long. Both are used by the <i>Makefile</i>
      <span class="Li">&quot;install&quot;</span> targets, and are not
      installed, so these changes are only likely to affect custom installation
      scripts.</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Single letter options now also have long names.</li>
  <li>Invalid options are now rejected.</li>
  <li>Command line arguments that are not options are now rejected.</li>
  <li>Each now has a <span class="Li">&quot;--help&quot;</span> option to
      display the usage message.</li>
</ul>
</div>
<div class="Bd-indent">
<p class="Pp">The behaviour for all valid documented invocations is
  unchanged.</p>
</div>
<ul class="Bl-bullet">
  <li>Where possible, the build now avoids recursive invocations of <i>make</i>
      when building pure-Perl extensions, without removing any parallelism from
      the build. Currently around 80 extensions can be processed directly by the
      <i>make_ext.pl</i> tool, meaning that 80 invocations of <i>make</i> and
      160 invocations of <i>miniperl</i> are no longer made.</li>
  <li>The build system now works correctly when compiling under GCC or Clang
      with link-time optimization enabled (the
      <span class="Li">&quot;-flto&quot;</span> option). [perl #113022]</li>
  <li>Distinct library basenames with
      <span class="Li">&quot;d_libname_unique&quot;</span>.
    <p class="Pp">When compiling perl with this option, the library files for XS
        modules are named something &quot;unique&quot; -- for example,
        Hash/Util/Util.so becomes Hash/Util/PL_Hash__Util.so. This behavior is
        similar to what currently happens on VMS, and serves as groundwork for
        the Android port.</p>
  </li>
  <li><span class="Li">&quot;sysroot&quot;</span> option to indicate the logical
      root directory under gcc and clang.
    <p class="Pp">When building with this option set, both Configure and the
        compilers search for all headers and libraries under this new sysroot,
        instead of /.</p>
    <p class="Pp">This is a huge time saver if cross-compiling, but can also
        help on native builds if your toolchain's files have non-standard
        locations.</p>
  </li>
  <li>The cross-compilation model has been renovated. There's several new
      options, and some backwards-incompatible changes:
    <p class="Pp">We now build binaries for miniperl and generate_uudmap to be
        used on the host, rather than running every miniperl call on the target;
        this means that, short of 'make test', we no longer need access to the
        target system once Configure is done. You can provide already-built
        binaries through the <span class="Li">&quot;hostperl&quot;</span> and
        <span class="Li">&quot;hostgenerate&quot;</span> options to
      Configure.</p>
    <p class="Pp">Additionally, if targeting an EBCDIC platform from an ASCII
        host, or viceversa, you'll need to run Configure with
        <span class="Li">&quot;-Uhostgenerate&quot;</span>, to indicate that
        generate_uudmap should be run on the target.</p>
    <p class="Pp">Finally, there's also a way of having Configure end early,
        right after building the host binaries, by cross-compiling without
        specifying a <span class="Li">&quot;targethost&quot;</span>.</p>
    <p class="Pp">The incompatible changes include no longer using xconfig.h,
        xlib, or Cross.pm, so canned config files and Makefiles will have to be
        updated.</p>
  </li>
  <li>Related to the above, there is now a way of specifying the location of sh
      (or equivalent) on the target system:
      <span class="Li">&quot;targetsh&quot;</span>.
    <p class="Pp">For example, Android has its sh in /system/bin/sh, so if
        cross-compiling from a more normal Unixy system with sh in /bin/sh,
        &quot;targetsh&quot; would end up as /system/bin/sh, and &quot;sh&quot;
        as /bin/sh.</p>
  </li>
  <li>By default, <b>gcc</b> 4.9 does some optimizations that break perl. The
      <b>-fwrapv</b> option disables those optimizations (and probably others),
      so for <b>gcc</b> 4.3 and later (since the there might be similar problems
      lurking on older versions too, but <b>-fwrapv</b> was broken before 4.3,
      and the optimizations probably won't go away), <i>Configure</i> now adds
      <b>-fwrapv</b> unless the user requests <b>-fno-wrapv</b>, which disables
      <b>-fwrapv</b>, or <b>-fsanitize=undefined</b>, which turns the overflows
      <b>-fwrapv</b> ignores into runtime errors. [perl #121505
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121505&gt;]</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Testing"><a class="permalink" href="#Testing">Testing</a></h1>
<ul class="Bl-bullet">
  <li>The <span class="Li">&quot;test.valgrind&quot;</span> make target now
      allows tests to be run in parallel. This target allows Perl's test suite
      to be run under Valgrind, which detects certain sorts of C programming
      errors, though at significant cost in running time. On suitable hardware,
      allowing parallel execution claws back a lot of that additional cost.
      [perl #121431]</li>
  <li>Various tests in <i>t/porting/</i> are no longer skipped when the perl
      <i>.git</i> directory is outside the perl tree and pointed to by
      <span class="Li">$GIT_DIR</span>. [perl #120505]</li>
  <li>The test suite no longer fails when the user's interactive shell maintains
      a <span class="Li">$PWD</span> environment variable, but the
      <i>/bin/sh</i> used for running tests doesn't.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Support"><a class="permalink" href="#Platform_Support">Platform
  Support</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Platforms"><a class="permalink" href="#New_Platforms">New
  Platforms</a></h2>
<dl class="Bl-tag">
  <dt>Android</dt>
  <dd>Perl can now be built for Android, either natively or through
      cross-compilation, for all three currently available architectures (ARM,
      MIPS, and x86), on a wide range of versions.</dd>
  <dt>Bitrig</dt>
  <dd>Compile support has been added for Bitrig, a fork of OpenBSD.</dd>
  <dt>FreeMiNT</dt>
  <dd>Support has been added for FreeMiNT, a free open-source OS for the Atari
      ST system and its successors, based on the original MiNT that was
      officially adopted by Atari.</dd>
  <dt>Synology</dt>
  <dd>Synology ships its NAS boxes with a lean Linux distribution (DSM) on
      relative cheap CPU's (like the Marvell Kirkwood mv6282 - ARMv5tel or
      Freescale QorIQ P1022 ppc - e500v2) not meant for workstations or
      development. These boxes should build now. The basic problems are the
      non-standard location for tools.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Discontinued_Platforms"><a class="permalink" href="#Discontinued_Platforms">Discontinued
  Platforms</a></h2>
<dl class="Bl-tag">
  <dt>&quot;sfio&quot;</dt>
  <dd>Code related to supporting the <span class="Li">&quot;sfio&quot;</span>
      I/O system has been removed.
    <p class="Pp">Perl 5.004 added support to use the native API of
        <span class="Li">&quot;sfio&quot;</span>, AT&amp;T's Safe/Fast I/O
        library. This code still built with v5.8.0, albeit with many regression
        tests failing, but was inadvertently broken before the v5.8.1 release,
        meaning that it has not worked on any version of Perl released since
        then. In over a decade we have received no bug reports about this, hence
        it is clear that no-one is using this functionality on any version of
        Perl that is still supported to any degree.</p>
  </dd>
  <dt>AT&amp;T 3b1</dt>
  <dd>Configure support for the 3b1, also known as the AT&amp;T Unix PC (and the
      similar AT&amp;T 7300), has been removed.</dd>
  <dt>DG/UX</dt>
  <dd>DG/UX was a Unix sold by Data General. The last release was in April 2001.
      It only runs on Data General's own hardware.</dd>
  <dt>EBCDIC</dt>
  <dd>In the absence of a regular source of smoke reports, code intended to
      support native EBCDIC platforms will be removed from perl before
    5.22.0.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Platform-Specific_Notes"><a class="permalink" href="#Platform-Specific_Notes">Platform-Specific
  Notes</a></h2>
<dl class="Bl-tag">
  <dt>Cygwin</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><b>recv()</b> on a connected handle would populate the returned sender
      address with whatever happened to be in the working buffer. <b>recv()</b>
      now uses a workaround similar to the Win32 <b>recv()</b> wrapper and
      returns an empty string when <b>recvfrom</b>(2) doesn't modify the
      supplied address length. [perl #118843]</li>
  <li>Fixed a build error in cygwin.c on Cygwin 1.7.28.
    <p class="Pp">Tests now handle the errors that occur when
        <span class="Li">&quot;cygserver&quot;</span> isn't running.</p>
  </li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>GNU/Hurd</dt>
  <dd>The BSD compatibility library <span class="Li">&quot;libbsd&quot;</span>
      is no longer required for builds.</dd>
  <dt>Linux</dt>
  <dd>The hints file now looks for
      <span class="Li">&quot;libgdbm_compat&quot;</span> only if
      <span class="Li">&quot;libgdbm&quot;</span> itself is also wanted. The
      former is never useful without the latter, and in some circumstances,
      including it could actually prevent building.</dd>
  <dt>Mac OS</dt>
  <dd>The build system now honors an <span class="Li">&quot;ld&quot;</span>
      setting supplied by the user running <i>Configure</i>.</dd>
  <dt>MidnightBSD</dt>
  <dd><span class="Li">&quot;objformat&quot;</span> was removed from version
      0.4-RELEASE of MidnightBSD and had been deprecated on earlier versions.
      This caused the build environment to be erroneously configured for
      <span class="Li">&quot;a.out&quot;</span> rather than
      <span class="Li">&quot;elf&quot;</span>. This has been now been
    corrected.</dd>
  <dt>Mixed-endian platforms</dt>
  <dd>The code supporting <span class="Li">&quot;pack&quot;</span> and
      <span class="Li">&quot;unpack&quot;</span> operations on mixed endian
      platforms has been removed. We believe that Perl has long been unable to
      build on mixed endian architectures (such as PDP-11s), so we don't think
      that this change will affect any platforms which were able to build
      v5.18.0.</dd>
  <dt>VMS</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>The <span class="Li">&quot;PERL_ENV_TABLES&quot;</span> feature to control
      the population of <span class="Li">%ENV</span> at perl start-up was broken
      in Perl 5.16.0 but has now been fixed.</li>
  <li>Skip access checks on remotes in <b>opendir()</b>. [perl #121002]</li>
  <li>A check for glob metacharacters in a path returned by the
      <span class="Li">&quot;glob()&quot;</span> operator has been replaced with
      a check for VMS wildcard characters. This saves a significant number of
      unnecessary <span class="Li">&quot;lstat()&quot;</span> calls such that
      some simple glob operations become 60-80% faster.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>Win32</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li><span class="Li">&quot;rename&quot;</span> and
      <span class="Li">&quot;link&quot;</span> on Win32 now set $! to ENOSPC and
      EDQUOT when appropriate. [perl #119857]</li>
  <li>The BUILD_STATIC and ALL_STATIC makefile options for linking some or
      (nearly) all extensions statically (into perl520.dll, and into a separate
      perl-static.exe too) were broken for MinGW builds. This has now been
      fixed.
    <p class="Pp">The ALL_STATIC option has also been improved to include the
        Encode and Win32 extensions (for both VC++ and MinGW builds).</p>
  </li>
  <li>Support for building with Visual C++ 2013 has been added. There are
      currently two possible test failures (see &quot;Testing Perl on
      Windows&quot; in perlwin32) which will hopefully be resolved soon.</li>
  <li>Experimental support for building with Intel C++ Compiler has been added.
      The nmake makefile (win32/Makefile) and the dmake makefile
      (win32/makefile.mk) can be used. A &quot;nmake test&quot; will not pass at
      this time due to <i>cpan/CGI/t/url.t</i>.</li>
  <li>Killing a process tree with &quot;kill&quot; in perlfunc and a negative
      signal, was broken starting in 5.18.0. In this bug,
      <span class="Li">&quot;kill&quot;</span> always returned 0 for a negative
      signal even for valid PIDs, and no processes were terminated. This has
      been fixed [perl #121230].</li>
  <li>The time taken to build perl on Windows has been reduced quite
      significantly (time savings in the region of 30-40% are typically seen) by
      reducing the number of, usually failing, I/O calls for each
      <span class="Li">&quot;require()&quot;</span> (for <b>miniperl.exe</b>
      only). [perl #121119
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121119&gt;]</li>
  <li>About 15 minutes of idle sleeping was removed from running
      <span class="Li">&quot;make test&quot;</span> due to a bug in which the
      timeout monitor used for tests could not be cancelled once the test
      completes, and the full timeout period elapsed before running the next
      test file. [perl #121395
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121395&gt;]</li>
  <li>On a perl built without pseudo-fork (pseudo-fork builds were not affected
      by this bug), killing a process tree with
      <span class="Li">&quot;kill()&quot;</span> and a negative signal resulted
      in <span class="Li">&quot;kill()&quot;</span> inverting the returned
      value. For example, if <span class="Li">&quot;kill()&quot;</span> killed 1
      process tree PID then it returned 0 instead of 1, and if
      <span class="Li">&quot;kill()&quot;</span> was passed 2 invalid PIDs then
      it returned 2 instead of 0. This has probably been the case since the
      process tree kill feature was implemented on Win32. It has now been
      corrected to follow the documented behaviour. [perl #121230
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121230&gt;]</li>
  <li>When building a 64-bit perl, an uninitialized memory read in
      <b>miniperl.exe</b>, used during the build process, could lead to a 4GB
      <b>wperl.exe</b> being created. This has now been fixed. (Note that
      <b>perl.exe</b> itself was unaffected, but obviously <b>wperl.exe</b>
      would have been completely broken.) [perl #121471
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121471&gt;]</li>
  <li>Perl can now be built with <b>gcc</b> version 4.8.1 from
      &lt;http://www.mingw.org&gt;. This was previously broken due to an
      incorrect definition of <b>DllMain()</b> in one of perl's source files.
      Earlier <b>gcc</b> versions were also affected when using version 4 of the
      w32api package. Versions of <b>gcc</b> available from
      &lt;http://mingw-w64.sourceforge.net/&gt; were not affected. [perl #121643
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121643&gt;]</li>
  <li>The test harness now has no failures when perl is built on a FAT drive
      with the Windows OS on an NTFS drive. [perl #21442
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=21442&gt;]</li>
  <li>When cloning the context stack in <b>fork()</b> emulation,
      <b>Perl_cx_dup()</b> would crash accessing parameter information for
      context stack entries that included no parameters, as with
      <span class="Li">&quot;&amp;foo;&quot;</span>. [perl #121721
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121721&gt;]</li>
  <li>Introduced by perl #113536
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=113536&gt;, a memory
      leak on every call to <span class="Li">&quot;system&quot;</span> and
      backticks (<span class="Li">&quot; `` &quot;</span>), on most Win32 Perls
      starting from 5.18.0 has been fixed. The memory leak only occurred if you
      enabled pseudo-fork in your build of Win32 Perl, and were running that
      build on Server 2003 R2 or newer OS. The leak does not appear on WinXP
      SP3. [perl #121676
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=121676&gt;]</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>WinCE</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>The building of XS modules has largely been restored. Several still cannot
      (yet) be built but it is now possible to build Perl on WinCE with only a
      couple of further patches (to Socket and ExtUtils::MakeMaker), hopefully
      to be incorporated soon.</li>
  <li>Perl can now be built in one shot with no user intervention on WinCE by
      running <span class="Li">&quot;nmake -f Makefile.ce all&quot;</span>.
    <p class="Pp">Support for building with EVC (Embedded Visual C++) 4 has been
        restored. Perl can also be built using Smart Devices for Visual C++ 2005
        or 2008.</p>
  </li>
</ul>
</div>
<div class="Bd-indent"></div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Internal_Changes"><a class="permalink" href="#Internal_Changes">Internal
  Changes</a></h1>
<ul class="Bl-bullet">
  <li>The internal representation has changed for the match variables
      <span class="Li">$1</span>, <span class="Li">$2</span> etc., $`, $&amp;,
      $', ${^PREMATCH}, ${^MATCH} and ${^POSTMATCH}. It uses slightly less
      memory, avoids string comparisons and numeric conversions during lookup,
      and uses 23 fewer lines of C. This change should not affect any external
      code.</li>
  <li>Arrays now use NULL internally to represent unused slots, instead of
      &amp;PL_sv_undef. &amp;PL_sv_undef is no longer treated as a special
      value, so av_store(av, 0, &amp;PL_sv_undef) will cause element 0 of that
      array to hold a read-only undefined scalar.
      <span class="Li">&quot;$array[0] = anything&quot;</span> will croak and
      <span class="Li">&quot;\$array[0]&quot;</span> will compare equal to
      <span class="Li">&quot;\undef&quot;</span>.</li>
  <li>The SV returned by <b>HeSVKEY_force()</b> now correctly reflects the
      UTF8ness of the underlying hash key when that key is not stored as a SV.
      [perl #79074]</li>
  <li>Certain rarely used functions and macros available to XS code are now
      deprecated. These are:
      <span class="Li">&quot;utf8_to_uvuni_buf&quot;</span> (use
      <span class="Li">&quot;utf8_to_uvchr_buf&quot;</span> instead),
      <span class="Li">&quot;valid_utf8_to_uvuni&quot;</span> (use
      <span class="Li">&quot;utf8_to_uvchr_buf&quot;</span> instead),
      <span class="Li">&quot;NATIVE_TO_NEED&quot;</span> (this did not work
      properly anyway), and <span class="Li">&quot;ASCII_TO_NEED&quot;</span>
      (this did not work properly anyway).
    <p class="Pp">Starting in this release, almost never does application code
        need to distinguish between the platform's character set and Latin1, on
        which the lowest 256 characters of Unicode are based. New code should
        not use <span class="Li">&quot;utf8n_to_uvuni&quot;</span> (use
        <span class="Li">&quot;utf8_to_uvchr_buf&quot;</span> instead), nor
        <span class="Li">&quot;uvuni_to_utf8&quot;</span> (use
        <span class="Li">&quot;uvchr_to_utf8&quot;</span> instead),</p>
  </li>
  <li>The Makefile shortcut targets for many rarely (or never) used testing and
      profiling targets have been removed, or merged into the only other
      Makefile target that uses them. Specifically, these targets are gone,
      along with documentation that referenced them or explained how to use
      them:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    check.third check.utf16 check.utf8 coretest minitest.prep
    minitest.utf16 perl.config.dashg perl.config.dashpg
    perl.config.gcov perl.gcov perl.gprof perl.gprof.config
    perl.pixie perl.pixie.atom perl.pixie.config perl.pixie.irix
    perl.third perl.third.config perl.valgrind.config purecovperl
    pureperl quantperl test.deparse test.taintwarn test.third
    test.torture test.utf16 test.utf8 test_notty.deparse
    test_notty.third test_notty.valgrind test_prep.third
    test_prep.valgrind torturetest ucheck ucheck.third ucheck.utf16
    ucheck.valgrind utest utest.third utest.utf16 utest.valgrind
    </pre>
    <p class="Pp">It's still possible to run the relevant commands by
        &quot;hand&quot; - no underlying functionality has been removed.</p>
  </li>
  <li>It is now possible to keep Perl from initializing locale handling. For the
      most part, Perl doesn't pay attention to locale. (See perllocale.)
      Nonetheless, until now, on startup, it has always initialized locale
      handling to the system default, just in case the program being executed
      ends up using locales. (This is one of the first things a locale-aware
      program should do, long before Perl knows if it will actually be needed or
      not.) This works well except when Perl is embedded in another application
      which wants a locale that isn't the system default. Now, if the
      environment variable
      <span class="Li">&quot;PERL_SKIP_LOCALE_INIT&quot;</span> is set at the
      time Perl is started, this initialization step is skipped. Prior to this,
      on Windows platforms, the only workaround for this deficiency was to use a
      hacked-up copy of internal Perl code. Applications that need to use older
      Perls can discover if the embedded Perl they are using needs the
      workaround by testing that the C preprocessor symbol
      <span class="Li">&quot;HAS_SKIP_LOCALE_INIT&quot;</span> is not defined.
      [RT #38193]</li>
  <li><span class="Li">&quot;BmRARE&quot;</span> and
      <span class="Li">&quot;BmPREVIOUS&quot;</span> have been removed. They
      were not used anywhere and are not part of the API. For XS modules, they
      are now #defined as 0.</li>
  <li><span class="Li">&quot;sv_force_normal&quot;</span>, which usually croaks
      on read-only values, used to allow read-only values to be modified at
      compile time. This has been changed to croak on read-only values
      regardless. This change uncovered several core bugs.</li>
  <li>Perl's new copy-on-write mechanism (which is now enabled by default),
      allows any <span class="Li">&quot;SvPOK&quot;</span> scalar to be
      automatically upgraded to a copy-on-write scalar when copied. A reference
      count on the string buffer is stored in the string buffer itself.
    <p class="Pp">For example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $ perl -MDevel::Peek -e'$a=&quot;abc&quot;; $b = $a; Dump $a; Dump $b'
    SV = PV(0x260cd80) at 0x2620ad8
      REFCNT = 1
      FLAGS = (POK,IsCOW,pPOK)
      PV = 0x2619bc0 &quot;abc&quot;\0
      CUR = 3
      LEN = 16
      COW_REFCNT = 1
    SV = PV(0x260ce30) at 0x2620b20
      REFCNT = 1
      FLAGS = (POK,IsCOW,pPOK)
      PV = 0x2619bc0 &quot;abc&quot;\0
      CUR = 3
      LEN = 16
      COW_REFCNT = 1
    </pre>
    <p class="Pp">Note that both scalars share the same PV buffer and have a
        COW_REFCNT greater than zero.</p>
    <p class="Pp">This means that XS code which wishes to modify the
        <span class="Li">&quot;SvPVX()&quot;</span> buffer of an SV should call
        <span class="Li">&quot;SvPV_force()&quot;</span> or similar first, to
        ensure a valid (and unshared) buffer, and to call
        <span class="Li">&quot;SvSETMAGIC()&quot;</span> afterwards. This in
        fact has always been the case (for example hash keys were already
        copy-on-write); this change just spreads the COW behaviour to a wider
        variety of SVs.</p>
    <p class="Pp">One important difference is that before 5.18.0, shared
        hash-key scalars used to have the
        <span class="Li">&quot;SvREADONLY&quot;</span> flag set; this is no
        longer the case.</p>
    <p class="Pp">This new behaviour can still be disabled by running
        <i>Configure</i> with <b>-Accflags=-DPERL_NO_COW</b>. This option will
        probably be removed in Perl 5.22.</p>
  </li>
  <li><span class="Li">&quot;PL_sawampersand&quot;</span> is now a constant. The
      switch this variable provided (to enable/disable the pre-match copy
      depending on whether <span class="Li">$&amp;</span> had been seen) has
      been removed and replaced with copy-on-write, eliminating a few bugs.
    <p class="Pp">The previous behaviour can still be enabled by running
        <i>Configure</i> with <b>-Accflags=-DPERL_SAWAMPERSAND</b>.</p>
  </li>
  <li>The functions <span class="Li">&quot;my_swap&quot;</span>,
      <span class="Li">&quot;my_htonl&quot;</span> and
      <span class="Li">&quot;my_ntohl&quot;</span> have been removed. It is
      unclear why these functions were ever marked as <i>A</i>, part of the API.
      XS code can't call them directly, as it can't rely on them being compiled.
      Unsurprisingly, no code on CPAN references them.</li>
  <li>The signature of the
      <span class="Li">&quot;Perl_re_intuit_start()&quot;</span> regex function
      has changed; the function pointer
      <span class="Li">&quot;intuit&quot;</span> in the regex engine plugin
      structure has also changed accordingly. A new parameter,
      <span class="Li">&quot;strbeg&quot;</span> has been added; this has the
      same meaning as the same-named parameter in
      <span class="Li">&quot;Perl_regexec_flags&quot;</span>. Previously intuit
      would try to guess the start of the string from the passed SV (if any),
      and would sometimes get it wrong (e.g. with an overloaded SV).</li>
  <li>The signature of the
      <span class="Li">&quot;Perl_regexec_flags()&quot;</span> regex function
      has changed; the function pointer <span class="Li">&quot;exec&quot;</span>
      in the regex engine plugin structure has also changed to match. The
      <span class="Li">&quot;minend&quot;</span> parameter now has type
      <span class="Li">&quot;SSize_t&quot;</span> to better support 64-bit
      systems.</li>
  <li>XS code may use various macros to change the case of a character or code
      point (for example <span class="Li">&quot;toLOWER_utf8()&quot;</span>).
      Only a couple of these were documented until now; and now they should be
      used in preference to calling the underlying functions. See
      &quot;Character case changing&quot; in perlapi.</li>
  <li>The code dealt rather inconsistently with uids and gids. Some places
      assumed that they could be safely stored in UVs, others in IVs, others in
      ints. Four new macros are introduced: <b>SvUID()</b>, <b>sv_setuid()</b>,
      <b>SvGID()</b>, and <b>sv_setgid()</b></li>
  <li><span class="Li">&quot;sv_pos_b2u_flags&quot;</span> has been added to the
      API. It is similar to <span class="Li">&quot;sv_pos_b2u&quot;</span>, but
      supports long strings on 64-bit platforms.</li>
  <li><span class="Li">&quot;PL_exit_flags&quot;</span> can now be used by perl
      embedders or other XS code to have perl
      <span class="Li">&quot;warn&quot;</span> or
      <span class="Li">&quot;abort&quot;</span> on an attempted exit. [perl
      #52000]</li>
  <li>Compiling with
      <span class="Li">&quot;-Accflags=-PERL_BOOL_AS_CHAR&quot;</span> now
      allows C99 and C++ compilers to emulate the aliasing of
      <span class="Li">&quot;bool&quot;</span> to
      <span class="Li">&quot;char&quot;</span> that perl does for C89 compilers.
      [perl #120314]</li>
  <li>The <span class="Li">&quot;sv&quot;</span> argument in
      &quot;sv_2pv_flags&quot; in perlapi, &quot;sv_2iv_flags&quot; in perlapi,
      &quot;sv_2uv_flags&quot; in perlapi, and &quot;sv_2nv_flags&quot; in
      perlapi and their older wrappers sv_2pv, sv_2iv, sv_2uv, sv_2nv, is now
      non-NULL. Passing NULL now will crash. When the non-NULL marker was
      introduced en masse in 5.9.3 the functions were marked non-NULL, but since
      the creation of the SV API in 5.0 alpha 2, if NULL was passed, the
      functions returned 0 or false-type values. The code that supports
      <span class="Li">&quot;sv&quot;</span> argument being non-NULL dates to
      5.0 alpha 2 directly, and indirectly to Perl 1.0 (pre 5.0 api). The lack
      of documentation that the functions accepted a NULL
      <span class="Li">&quot;sv&quot;</span> was corrected in 5.11.0 and between
      5.11.0 and 5.19.5 the functions were marked NULLOK. As an optimization the
      NULLOK code has now been removed, and the functions became non-NULL marked
      again, because core getter-type macros never pass NULL to these functions
      and would crash before ever passing NULL.
    <p class="Pp">The only way a NULL <span class="Li">&quot;sv&quot;</span> can
        be passed to sv_2*v* functions is if XS code directly calls sv_2*v*.
        This is unlikely as XS code uses Sv*V* macros to get the underlying
        value out of the SV. One possible situation which leads to a NULL
        <span class="Li">&quot;sv&quot;</span> being passed to sv_2*v*
        functions, is if XS code defines its own getter type Sv*V* macros, which
        check for NULL <b>before</b> dereferencing and checking the SV's flags
        through public API Sv*OK* macros or directly using private API
        <span class="Li">&quot;SvFLAGS&quot;</span>, and if
        <span class="Li">&quot;sv&quot;</span> is NULL, then calling the sv_2*v
        functions with a NULL litteral or passing the
        <span class="Li">&quot;sv&quot;</span> containing a NULL value.</p>
  </li>
  <li>newATTRSUB is now a macro
    <p class="Pp">The public API newATTRSUB was previously a macro to the
        private function Perl_newATTRSUB. Function Perl_newATTRSUB has been
        removed. newATTRSUB is now macro to a different internal function.</p>
  </li>
  <li>Changes in warnings raised by
      <span class="Li">&quot;utf8n_to_uvchr()&quot;</span>
    <p class="Pp">This bottom level function decodes the first character of a
        UTF-8 string into a code point. It is accessible to
        <span class="Li">&quot;XS&quot;</span> level code, but it's discouraged
        from using it directly. There are higher level functions that call this
        that should be used instead, such as &quot;utf8_to_uvchr_buf&quot; in
        perlapi. For completeness though, this documents some changes to it.
        Now, tests for malformations are done before any tests for other
        potential issues. One of those issues involves code points so large that
        they have never appeared in any official standard (the current standard
        has scaled back the highest acceptable code point from earlier
        versions). It is possible (though not done in CPAN) to warn and/or
        forbid these code points, while accepting smaller code points that are
        still above the legal Unicode maximum. The warning message for this now
        includes the code point if representable on the machine. Previously it
        always displayed raw bytes, which is what it still does for
        non-representable code points.</p>
  </li>
  <li>Regexp engine changes that affect the pluggable regex engine interface
    <p class="Pp">Many flags that used to be exposed via regexp.h and used to
        populate the extflags member of struct regexp have been removed. These
        fields were technically private to Perl's own regexp engine and should
        not have been exposed there in the first place.</p>
    <p class="Pp">The affected flags are:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    RXf_NOSCAN
    RXf_CANY_SEEN
    RXf_GPOS_SEEN
    RXf_GPOS_FLOAT
    RXf_ANCH_BOL
    RXf_ANCH_MBOL
    RXf_ANCH_SBOL
    RXf_ANCH_GPOS
    </pre>
    <p class="Pp">As well as the follow flag masks:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    RXf_ANCH_SINGLE
    RXf_ANCH
    </pre>
    <p class="Pp">All have been renamed to PREGf_ equivalents and moved to
        regcomp.h.</p>
    <p class="Pp">The behavior previously achieved by setting one or more of the
        RXf_ANCH_ flags (via the RXf_ANCH mask) have now been replaced by a
        *single* flag bit in extflags:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    RXf_IS_ANCHORED
    </pre>
    <p class="Pp">pluggable regex engines which previously used to set these
        flags should now set this flag ALONE.</p>
  </li>
  <li>The Perl core now consistently uses
      <span class="Li">&quot;av_tindex()&quot;</span> (&quot;the top index of an
      array&quot;) as a more clearly-named synonym for
      <span class="Li">&quot;av_len()&quot;</span>.</li>
  <li>The obscure interpreter variable
      <span class="Li">&quot;PL_timesbuf&quot;</span> is expected to be removed
      early in the 5.21.x development series, so that Perl 5.22.0 will not
      provide it to XS authors. While the variable still exists in 5.20.0, we
      hope that this advance warning of the deprecation will help anyone who is
      using that variable.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Regular_Expressions"><a class="permalink" href="#Regular_Expressions">Regular
  Expressions</a></h2>
<ul class="Bl-bullet">
  <li>Fixed a small number of regexp constructions that could either fail to
      match or crash perl when the string being matched against was allocated
      above the 2GB line on 32-bit systems. [RT #118175]</li>
  <li>Various memory leaks involving the parsing of the
      <span class="Li">&quot;(?[...])&quot;</span> regular expression construct
      have been fixed.</li>
  <li><span class="Li">&quot;(?[...])&quot;</span> now allows interpolation of
      precompiled patterns consisting of
      <span class="Li">&quot;(?[...])&quot;</span> with bracketed character
      classes inside (<span class="Li">&quot;$pat =</span>
      <span class="Li">qr/(?[&#x00A0;[a]&#x00A0;])/;
      /(?[&#x00A0;$pat&#x00A0;])/&quot;</span>). Formerly, the brackets would
      confuse the regular expression parser.</li>
  <li>The &quot;Quantifier unexpected on zero-length expression&quot; warning
      message could appear twice starting in Perl v5.10 for a regular expression
      also containing alternations (e.g., &quot;a|b&quot;) triggering the trie
      optimisation.</li>
  <li>Perl v5.18 inadvertently introduced a bug whereby interpolating mixed up-
      and down-graded UTF-8 strings in a regex could result in malformed UTF-8
      in the pattern: specifically if a downgraded character in the range
      <span class="Li">&quot;\x80..\xff&quot;</span> followed a UTF-8 string,
      e.g.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    utf8::upgrade(  my $u = &quot;\x{e5}&quot;);
    utf8::downgrade(my $d = &quot;\x{e5}&quot;);
    /$u$d/
    </pre>
    <p class="Pp">[RT #118297]</p>
  </li>
  <li>In regular expressions containing multiple code blocks, the values of
      <span class="Li">$1</span>, <span class="Li">$2</span>, etc., set by
      nested regular expression calls would leak from one block to the next. Now
      these variables always refer to the outer regular expression at the start
      of an embedded block [perl #117917].</li>
  <li><span class="Li">&quot;/$qr/p&quot;</span> was broken in Perl 5.18.0; the
      <span class="Li">&quot;/p&quot;</span> flag was ignored. This has been
      fixed. [perl #118213]</li>
  <li>Starting in Perl 5.18.0, a construct like
      <span class="Li">&quot;/[#](?{})/x&quot;</span> would have its
      <span class="Li">&quot;#&quot;</span> incorrectly interpreted as a
      comment. The code block would be skipped, unparsed. This has been
      corrected.</li>
  <li>Starting in Perl 5.001, a regular expression like
      <span class="Li">&quot;/[#$a]/x&quot;</span> or
      <span class="Li">&quot;/[#]$a/x&quot;</span> would have its
      <span class="Li">&quot;#&quot;</span> incorrectly interpreted as a
      comment, so the variable would not interpolate. This has been corrected.
      [perl #45667]</li>
  <li>Perl 5.18.0 inadvertently made dereferenced regular expressions
      (<span class="Li">&quot;${&#x00A0;qr//&#x00A0;}&quot;</span>) false as
      booleans. This has been fixed.</li>
  <li>The use of <span class="Li">&quot;\G&quot;</span> in regular expressions,
      where it's not at the start of the pattern, is now slightly less buggy
      (although it is still somewhat problematic).</li>
  <li>Where a regular expression included code blocks
      (<span class="Li">&quot;/(?{...})/&quot;</span>), and where the use of
      constant overloading triggered a re-compilation of the code block, the
      second compilation didn't see its outer lexical scope. This was a
      regression in Perl 5.18.0.</li>
  <li>The string position set by <span class="Li">&quot;pos&quot;</span> could
      shift if the string changed representation internally to or from utf8.
      This could happen, e.g., with references to objects with string
      overloading.</li>
  <li>Taking references to the return values of two
      <span class="Li">&quot;pos&quot;</span> calls with the same argument, and
      then assigning a reference to one and
      <span class="Li">&quot;undef&quot;</span> to the other, could result in
      assertion failures or memory leaks.</li>
  <li>Elements of @- and @+ now update correctly when they refer to non-existent
      captures. Previously, a referenced element (<span class="Li">&quot;$ref =
      \$-[1]&quot;</span>) could refer to the wrong match after subsequent
      matches.</li>
  <li>The code that parses regex backrefs (or ambiguous backref/octals) such as
      \123 did a simple <b>atoi()</b>, which could wrap round to negative values
      on long digit strings and cause segmentation faults. This has now been
      fixed. [perl #119505]</li>
  <li>Assigning another typeglob to <span class="Li">&quot;*^R&quot;</span> no
      longer makes the regular expression engine crash.</li>
  <li>The <span class="Li">&quot;\N&quot;</span> regular expression escape, when
      used without the curly braces (to mean
      <span class="Li">&quot;[^\n]&quot;</span>), was ignoring a following
      <span class="Li">&quot;*&quot;</span> if followed by whitespace under /x.
      It had been this way since <span class="Li">&quot;\N&quot;</span> to mean
      <span class="Li">&quot;[^\n]&quot;</span> was introduced in 5.12.0.</li>
  <li><span class="Li">&quot;s///&quot;</span>,
      <span class="Li">&quot;tr///&quot;</span> and
      <span class="Li">&quot;y///&quot;</span> now work when a wide character is
      used as the delimiter. [perl #120463]</li>
  <li>Some cases of unterminated (?...) sequences in regular expressions (e.g.,
      <span class="Li">&quot;/(?&lt;/&quot;</span>) have been fixed to produce
      the proper error message instead of &quot;panic: memory wrap&quot;. Other
      cases (e.g., <span class="Li">&quot;/(?(/&quot;</span>) have yet to be
      fixed.</li>
  <li>When a reference to a reference to an overloaded object was returned from
      a regular expression <span class="Li">&quot;(??{...})&quot;</span> code
      block, an incorrect implicit dereference could take place if the inner
      reference had been returned by a code block previously.</li>
  <li>A tied variable returned from
      <span class="Li">&quot;(??{...})&quot;</span> sees the inner values of
      match variables (i.e., the <span class="Li">$1</span> etc. from any
      matches inside the block) in its FETCH method. This was not the case if a
      reference to an overloaded object was the last thing assigned to the tied
      variable. Instead, the match variables referred to the outer pattern
      during the FETCH call.</li>
  <li>Fix unexpected tainting via regexp using locale. Previously, under certain
      conditions, the use of character classes could cause tainting when it
      shouldn't. Some character classes are locale-dependent, but before this
      patch, sometimes tainting was happening even for character classes that
      don't depend on the locale. [perl #120675]</li>
  <li>Under certain conditions, Perl would throw an error if in a lookbehind
      assertion in a regexp, the assertion referred to a named subpattern,
      complaining the lookbehind was variable when it wasn't. This has been
      fixed. [perl #120600], [perl #120618]. The current fix may be improved on
      in the future.</li>
  <li><span class="Li">$^R</span> wasn't available outside of the regular
      expression that initialized it. [perl #121070]</li>
  <li>A large set of fixes and refactoring for <b>re_intuit_start()</b> was
      merged, the highlights are:</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Fixed a panic when compiling the regular expression
      <span class="Li">&quot;/\x{100}[xy]\x{100}{2}/&quot;</span>.</li>
  <li>Fixed a performance regression when performing a global pattern match
      against a UTF-8 string. [perl #120692]</li>
  <li>Fixed another performance issue where matching a regular expression like
      <span class="Li">&quot;/ab.{1,2}x/&quot;</span> against a long UTF-8
      string would unnecessarily calculate byte offsets for a large portion of
      the string. [perl #120692]</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Fixed an alignment error when compiling regular expressions when built
      with GCC on HP-UX 64-bit.</li>
  <li>On 64-bit platforms <span class="Li">&quot;pos&quot;</span> can now be set
      to a value higher than 2**31-1. [perl #72766]</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_5_Debugger_and__-d"><a class="permalink" href="#Perl_5_Debugger_and__-d">Perl
  5 Debugger and -d</a></h2>
<ul class="Bl-bullet">
  <li>The debugger's <span class="Li">&quot;man&quot;</span> command been fixed.
      It was broken in the v5.18.0 release. The
      <span class="Li">&quot;man&quot;</span> command is aliased to the names
      <span class="Li">&quot;doc&quot;</span> and
      <span class="Li">&quot;perldoc&quot;</span> - all now work again.</li>
  <li><span class="Li">@_</span> is now correctly visible in the debugger,
      fixing a regression introduced in v5.18.0's debugger. [RT #118169]</li>
  <li>Under copy-on-write builds (the default as of 5.20.0)
      <span class="Li">&quot;${'_&lt;-e'}[0]&quot;</span> no longer gets
      mangled. This is the first line of input saved for the debugger's use for
      one-liners [perl #118627].</li>
  <li>On non-threaded builds, setting
      <span class="Li">&quot;${&quot;_&lt;filename&quot;}&quot;</span> to a
      reference or typeglob no longer causes
      <span class="Li">&quot;__FILE__&quot;</span> and some error messages to
      produce a corrupt string, and no longer prevents
      <span class="Li">&quot;#line&quot;</span> directives in string evals from
      providing the source lines to the debugger. Threaded builds were
      unaffected.</li>
  <li>Starting with Perl 5.12, line numbers were off by one if the <b>-d</b>
      switch was used on the #! line. Now they are correct.</li>
  <li><span class="Li">&quot;*DB::DB = sub {} if 0&quot;</span> no longer stops
      Perl's debugging mode from finding
      <span class="Li">&quot;DB::DB&quot;</span> subs declared thereafter.</li>
  <li><span class="Li">&quot;%{'_&lt;...'}&quot;</span> hashes now set
      breakpoints on the corresponding
      <span class="Li">&quot;@{'_&lt;...'}&quot;</span> rather than whichever
      array <span class="Li">@DB::dbline</span> is aliased to. [perl
    #119799]</li>
  <li>Call set-magic when setting <span class="Li">$DB::sub</span>. [perl
      #121255]</li>
  <li>The debugger's &quot;n&quot; command now respects lvalue subroutines and
      steps over them [perl #118839].</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Lexical_Subroutines"><a class="permalink" href="#Lexical_Subroutines">Lexical
  Subroutines</a></h2>
<ul class="Bl-bullet">
  <li>Lexical constants (<span class="Li">&quot;my sub a() { 42 }&quot;</span>)
      no longer crash when inlined.</li>
  <li>Parameter prototypes attached to lexical subroutines are now respected
      when compiling sub calls without parentheses. Previously, the prototypes
      were honoured only for calls <i>with</i> parentheses. [RT #116735]</li>
  <li>Syntax errors in lexical subroutines in combination with calls to the same
      subroutines no longer cause crashes at compile time.</li>
  <li>Deep recursion warnings no longer crash lexical subroutines. [RT
    #118521]</li>
  <li>The dtrace sub-entry probe now works with lexical subs, instead of
      crashing [perl #118305].</li>
  <li>Undefining an inlinable lexical subroutine (<span class="Li">&quot;my sub
      foo() { 42 } undef</span> <span class="Li">&amp;foo&quot;</span>) would
      result in a crash if warnings were turned on.</li>
  <li>An undefined lexical sub used as an inherited method no longer
    crashes.</li>
  <li>The presence of a lexical sub named &quot;CORE&quot; no longer stops the
      CORE:: prefix from working.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Everything_Else"><a class="permalink" href="#Everything_Else">Everything
  Else</a></h2>
<ul class="Bl-bullet">
  <li>The OP allocation code now returns correctly aligned memory in all cases
      for <span class="Li">&quot;struct pmop&quot;</span>. Previously it could
      return memory only aligned to a 4-byte boundary, which is not correct for
      an ithreads build with 64 bit IVs on some 32 bit platforms. Notably, this
      caused the build to fail completely on sparc GNU/Linux. [RT #118055]</li>
  <li>Evaluating large hashes in scalar context is now much faster, as the
      number of used chains in the hash is now cached for larger hashes. Smaller
      hashes continue not to store it and calculate it when needed, as this
      saves one IV. That would be 1 IV overhead for every object built from a
      hash. [RT #114576]</li>
  <li>Perl v5.16 inadvertently introduced a bug whereby calls to XSUBs that were
      not visible at compile time were treated as lvalues and could be assigned
      to, even when the subroutine was not an lvalue sub. This has been fixed.
      [RT #117947]</li>
  <li>In Perl v5.18.0 dualvars that had an empty string for the string part but
      a non-zero number for the number part starting being treated as true. In
      previous versions they were treated as false, the string representation
      taking precedeence. The old behaviour has been restored. [RT #118159]</li>
  <li>Since Perl v5.12, inlining of constants that override built-in keywords of
      the same name had countermanded <span class="Li">&quot;use
      subs&quot;</span>, causing subsequent mentions of the constant to use the
      built-in keyword instead. This has been fixed.</li>
  <li>The warning produced by <span class="Li">&quot;-l $handle&quot;</span> now
      applies to IO refs and globs, not just to glob refs. That warning is also
      now UTF8-clean. [RT #117595]</li>
  <li><span class="Li">&quot;delete local $ENV{nonexistent_env_var}&quot;</span>
      no longer leaks memory.</li>
  <li><span class="Li">&quot;sort&quot;</span> and
      <span class="Li">&quot;require&quot;</span> followed by a keyword prefixed
      with <span class="Li">&quot;CORE::&quot;</span> now treat it as a keyword,
      and not as a subroutine or module name. [RT #24482]</li>
  <li>Through certain conundrums, it is possible to cause the current package to
      be freed. Certain operators (<span class="Li">&quot;bless&quot;</span>,
      <span class="Li">&quot;reset&quot;</span>,
      <span class="Li">&quot;open&quot;</span>,
      <span class="Li">&quot;eval&quot;</span>) could not cope and would crash.
      They have been made more resilient. [RT #117941]</li>
  <li>Aliasing filehandles through glob-to-glob assignment would not update
      internal method caches properly if a package of the same name as the
      filehandle existed, resulting in filehandle method calls going to the
      package instead. This has been fixed.</li>
  <li><span class="Li">&quot;./Configure -de -Dusevendorprefix&quot;</span>
      didn't default. [RT #64126]</li>
  <li>The <span class="Li">&quot;Statement unlikely to be reached&quot;</span>
      warning was listed in perldiag as an
      <span class="Li">&quot;exec&quot;</span>-category warning, but was enabled
      and disabled by the <span class="Li">&quot;syntax&quot;</span> category.
      On the other hand, the <span class="Li">&quot;exec&quot;</span> category
      controlled its fatal-ness. It is now entirely handled by the
      <span class="Li">&quot;exec&quot;</span> category.</li>
  <li>The &quot;Replacement list is longer that search list&quot; warning for
      <span class="Li">&quot;tr///&quot;</span> and
      <span class="Li">&quot;y///&quot;</span> no longer occurs in the presence
      of the <span class="Li">&quot;/c&quot;</span> flag. [RT #118047]</li>
  <li>Stringification of NVs are not cached so that the lexical locale controls
      stringification of the decimal point. [perl #108378] [perl #115800]</li>
  <li>There have been several fixes related to Perl's handling of locales. perl
      #38193 was described above in &quot;Internal Changes&quot;. Also fixed is
      #118197, where the radix (decimal point) character had to be an ASCII
      character (which doesn't work for some non-Western languages); and
      #115808, in which <span class="Li">&quot;POSIX::setlocale()&quot;</span>
      on failure returned an <span class="Li">&quot;undef&quot;</span> which
      didn't warn about not being defined even if those warnings were
    enabled.</li>
  <li>Compiling a <span class="Li">&quot;split&quot;</span> operator whose third
      argument is a named constant evaluating to 0 no longer causes the
      constant's value to change.</li>
  <li>A named constant used as the second argument to
      <span class="Li">&quot;index&quot;</span> no longer gets coerced to a
      string if it is a reference, regular expression, dualvar, etc.</li>
  <li>A named constant evaluating to the undefined value used as the second
      argument to <span class="Li">&quot;index&quot;</span> no longer produces
      &quot;uninitialized&quot; warnings at compile time. It will still produce
      them at run time.</li>
  <li>When a scalar was returned from a subroutine in
      <span class="Li">@INC</span>, the referenced scalar was magically
      converted into an IO thingy, possibly resulting in &quot;Bizarre
      copy&quot; errors if that scalar continued to be used elsewhere. Now Perl
      uses an internal copy of the scalar instead.</li>
  <li>Certain uses of the <span class="Li">&quot;sort&quot;</span> operator are
      optimised to modify an array in place, such as <span class="Li">&quot;@a =
      sort @a&quot;</span>. During the sorting, the array is made read-only. If
      a sort block should happen to die, then the array remained read-only even
      outside the <span class="Li">&quot;sort&quot;</span>. This has been
    fixed.</li>
  <li><span class="Li">$a</span> and <span class="Li">$b</span> inside a sort
      block are aliased to the actual arguments to
      <span class="Li">&quot;sort&quot;</span>, so they can be modified through
      those two variables. This did not always work, e.g., for lvalue subs and
      <span class="Li">$#ary</span>, and probably many other operators. It works
      now.</li>
  <li>The arguments to <span class="Li">&quot;sort&quot;</span> are now all in
      list context. If the <span class="Li">&quot;sort&quot;</span> itself were
      called in void or scalar context, then <i>some</i>, but not all, of the
      arguments used to be in void or scalar context.</li>
  <li>Subroutine prototypes with Unicode characters above U+00FF were getting
      mangled during closure cloning. This would happen with subroutines closing
      over lexical variables declared outside, and with lexical subs.</li>
  <li><span class="Li">&quot;UNIVERSAL::can&quot;</span> now treats its first
      argument the same way that method calls do: Typeglobs and glob references
      with non-empty IO slots are treated as handles, and strings are treated as
      filehandles, rather than packages, if a handle with that name exists [perl
      #113932].</li>
  <li>Method calls on typeglobs (e.g.,
      <span class="Li">&quot;*ARGV-&gt;getline&quot;</span>) used to stringify
      the typeglob and then look it up again. Combined with changes in Perl
      5.18.0, this allowed <span class="Li">&quot;*foo-&gt;bar&quot;</span> to
      call methods on the &quot;foo&quot; package (like
      <span class="Li">&quot;foo-&gt;bar&quot;</span>). In some cases it could
      cause the method to be called on the wrong handle. Now a typeglob argument
      is treated as a handle (just like
      <span class="Li">&quot;(\*foo)-&gt;bar&quot;</span>), or, if its IO slot
      is empty, an error is raised.</li>
  <li>Assigning a vstring to a tied variable or to a subroutine argument aliased
      to a nonexistent hash or array element now works, without flattening the
      vstring into a regular string.</li>
  <li><span class="Li">&quot;pos&quot;</span>,
      <span class="Li">&quot;tie&quot;</span>,
      <span class="Li">&quot;tied&quot;</span> and
      <span class="Li">&quot;untie&quot;</span> did not work properly on
      subroutine arguments aliased to nonexistent hash and array elements [perl
      #77814, #27010].</li>
  <li>The <span class="Li">&quot;=&gt;&quot;</span> fat arrow operator can now
      quote built-in keywords even if it occurs on the next line, making it
      consistent with how it treats other barewords.</li>
  <li>Autovivifying a subroutine stub via
      <span class="Li">&quot;\&amp;$glob&quot;</span> started causing crashes in
      Perl 5.18.0 if the <span class="Li">$glob</span> was merely a copy of a
      real glob, i.e., a scalar that had had a glob assigned to it. This has
      been fixed. [perl #119051]</li>
  <li>Perl used to leak an implementation detail when it came to referencing the
      return values of certain operators. <span class="Li">&quot;for ($a+$b) {
      warn \$_; warn \$_ }&quot;</span> used to display two different memory
      addresses, because the <span class="Li">&quot;\&quot;</span> operator was
      copying the variable. Under threaded builds, it would also happen for
      constants (<span class="Li">&quot;for(1) { ... }&quot;</span>). This has
      been fixed. [perl #21979, #78194, #89188, #109746, #114838, #115388]</li>
  <li>The range operator <span class="Li">&quot;..&quot;</span> was returning
      the same modifiable scalars with each call, unless it was the only thing
      in a <span class="Li">&quot;foreach&quot;</span> loop header. This meant
      that changes to values within the list returned would be visible the next
      time the operator was executed. [perl #3105]</li>
  <li>Constant folding and subroutine inlining no longer cause operations that
      would normally return new modifiable scalars to return read-only values
      instead.</li>
  <li>Closures of the form <span class="Li">&quot;sub () { $some_variable
      }&quot;</span> are no longer inlined, causing changes to the variable to
      be ignored by callers of the subroutine. [perl #79908]</li>
  <li>Return values of certain operators such as
      <span class="Li">&quot;ref&quot;</span> would sometimes be shared between
      recursive calls to the same subroutine, causing the inner call to modify
      the value returned by <span class="Li">&quot;ref&quot;</span> in the outer
      call. This has been fixed.</li>
  <li><span class="Li">&quot;__PACKAGE__&quot;</span> and constants returning a
      package name or hash key are now consistently read-only. In various
      previous Perl releases, they have become mutable under certain
      circumstances.</li>
  <li>Enabling &quot;used once&quot; warnings no longer causes crashes on stash
      circularities created at compile time
      (<span class="Li">&quot;*Foo::Bar::Foo:: = *Foo::&quot;</span>).</li>
  <li>Undef constants used in hash keys (<span class="Li">&quot;use constant u
      =&gt; undef; $h{+u}&quot;</span>) no longer produce
      &quot;uninitialized&quot; warnings at compile time.</li>
  <li>Modifying a substitution target inside the substitution replacement no
      longer causes crashes.</li>
  <li>The first statement inside a string eval used to use the wrong pragma
      setting sometimes during constant folding. <span class="Li">&quot;eval 'uc
      chr 0xe0'&quot;</span> would randomly choose between Unicode, byte, and
      locale semantics. This has been fixed.</li>
  <li>The handling of return values of <span class="Li">@INC</span> filters
      (subroutines returned by subroutines in <span class="Li">@INC</span>) has
      been fixed in various ways. Previously tied variables were mishandled, and
      setting <span class="Li">$_</span> to a reference or typeglob could result
      in crashes.</li>
  <li>The <span class="Li">&quot;SvPVbyte&quot;</span> XS function has been
      fixed to work with tied scalars returning something other than a string.
      It used to return utf8 in those cases where
      <span class="Li">&quot;SvPV&quot;</span> would.</li>
  <li>Perl 5.18.0 inadvertently made <span class="Li">&quot;--&quot;</span> and
      <span class="Li">&quot;++&quot;</span> crash on dereferenced regular
      expressions, and stopped <span class="Li">&quot;++&quot;</span> from
      flattening vstrings.</li>
  <li><span class="Li">&quot;bless&quot;</span> no longer dies with &quot;Can't
      bless non-reference value&quot; if its first argument is a tied
    reference.</li>
  <li><span class="Li">&quot;reset&quot;</span> with an argument no longer skips
      copy-on-write scalars, regular expressions, typeglob copies, and vstrings.
      Also, when encountering those or read-only values, it no longer skips any
      array or hash with the same name.</li>
  <li><span class="Li">&quot;reset&quot;</span> with an argument now skips
      scalars aliased to typeglobs (<span class="Li">&quot;for $z (*foo) { reset
      &quot;z&quot; }&quot;</span>). Previously it would corrupt memory or
      crash.</li>
  <li><span class="Li">&quot;ucfirst&quot;</span> and
      <span class="Li">&quot;lcfirst&quot;</span> were not respecting the bytes
      pragma. This was a regression from Perl 5.12. [perl #117355]</li>
  <li>Changes to <span class="Li">&quot;UNIVERSAL::DESTROY&quot;</span> now
      update DESTROY caches in all classes, instead of causing classes that have
      already had objects destroyed to continue using the old sub. This was a
      regression in Perl 5.18. [perl #114864]</li>
  <li>All known false-positive occurrences of the deprecation warning
      &quot;Useless use of '\'; doesn't escape metacharacter '%c'&quot;, added
      in Perl 5.18.0, have been removed. [perl #119101]</li>
  <li>The value of $^E is now saved across signal handlers on Windows. [perl
      #85104]</li>
  <li>A lexical filehandle (as in <span class="Li">&quot;open my
      $fh...&quot;</span>) is usually given a name based on the current package
      and the name of the variable, e.g. &quot;main::$fh&quot;. Under recursion,
      the filehandle was losing the &quot;$fh&quot; part of the name. This has
      been fixed.</li>
  <li>Uninitialized values returned by XSUBs are no longer exempt from
      uninitialized warnings. [perl #118693]</li>
  <li><span class="Li">&quot;elsif (&quot;&quot;)&quot;</span> no longer
      erroneously produces a warning about void context. [perl #118753]</li>
  <li>Passing <span class="Li">&quot;undef&quot;</span> to a subroutine now
      causes <span class="Li">@_</span> to contain the same read-only undefined
      scalar that <span class="Li">&quot;undef&quot;</span> returns.
      Furthermore, <span class="Li">&quot;exists $_[0]&quot;</span> will now
      return true if <span class="Li">&quot;undef&quot;</span> was the first
      argument. [perl #7508, #109726]</li>
  <li>Passing a non-existent array element to a subroutine does not usually
      autovivify it unless the subroutine modifies its argument. This did not
      work correctly with negative indices and with non-existent elements within
      the array. The element would be vivified immediately. The delayed
      vivification has been extended to work with those. [perl #118691]</li>
  <li>Assigning references or globs to the scalar returned by $#foo after the
      <span class="Li">@foo</span> array has been freed no longer causes
      assertion failures on debugging builds and memory leaks on regular
    builds.</li>
  <li>On 64-bit platforms, large ranges like 1..1000000000000 no longer crash,
      but eat up all your memory instead. [perl #119161]</li>
  <li><span class="Li">&quot;__DATA__&quot;</span> now puts the
      <span class="Li">&quot;DATA&quot;</span> handle in the right package, even
      if the current package has been renamed through glob assignment.</li>
  <li>When <span class="Li">&quot;die&quot;</span>,
      <span class="Li">&quot;last&quot;</span>,
      <span class="Li">&quot;next&quot;</span>,
      <span class="Li">&quot;redo&quot;</span>,
      <span class="Li">&quot;goto&quot;</span> and
      <span class="Li">&quot;exit&quot;</span> unwind the scope, it is possible
      for <span class="Li">&quot;DESTROY&quot;</span> recursively to call a
      subroutine or format that is currently being exited. It that case,
      sometimes the lexical variables inside the sub would start out having
      values from the outer call, instead of being undefined as they should.
      This has been fixed. [perl #119311]</li>
  <li>${^MPEN} is no longer treated as a synonym for ${^MATCH}.</li>
  <li>Perl now tries a little harder to return the correct line number in
      <span class="Li">&quot;(caller)[2]&quot;</span>. [perl #115768]</li>
  <li>Line numbers inside multiline quote-like operators are now reported
      correctly. [perl #3643]</li>
  <li><span class="Li">&quot;#line&quot;</span> directives inside code embedded
      in quote-like operators are now respected.</li>
  <li>Line numbers are now correct inside the second here-doc when two here-doc
      markers occur on the same line.</li>
  <li>An optimization in Perl 5.18 made incorrect assumptions causing a bad
      interaction with the Devel::CallParser CPAN module. If the module was
      loaded then lexical variables declared in separate statements following a
      <span class="Li">&quot;my(...)&quot;</span> list might fail to be cleared
      on scope exit.</li>
  <li><span class="Li">&amp;xsub</span> and <span class="Li">&quot;goto
      &amp;xsub&quot;</span> calls now allow the called subroutine to autovivify
      elements of <span class="Li">@_</span>.</li>
  <li><span class="Li">&amp;xsub</span> and <span class="Li">&quot;goto
      &amp;xsub&quot;</span> no longer crash if *_ has been undefined and has no
      ARRAY entry (i.e. <span class="Li">@_</span> does not exist).</li>
  <li><span class="Li">&amp;xsub</span> and <span class="Li">&quot;goto
      &amp;xsub&quot;</span> now work with tied <span class="Li">@_</span>.</li>
  <li>Overlong identifiers no longer cause a buffer overflow (and a crash). They
      started doing so in Perl 5.18.</li>
  <li>The warning &quot;Scalar value <span class="Li">@hash</span>{foo} better
      written as <span class="Li">$hash</span>{foo}&quot; now produces far fewer
      false positives. In particular,
      <span class="Li">@hash{+function_returning_a_list}</span> and
      <span class="Li">@hash{ qw &quot;foo bar baz&quot; }</span> no longer
      warn. The same applies to array slices. [perl #28380, #114024]</li>
  <li><span class="Li">&quot;$! = EINVAL; waitpid(0, WNOHANG);&quot;</span> no
      longer goes into an internal infinite loop. [perl #85228]</li>
  <li>A possible segmentation fault in filehandle duplication has been
    fixed.</li>
  <li>A subroutine in <span class="Li">@INC</span> can return a reference to a
      scalar containing the initial contents of the file. However, that scalar
      was freed prematurely if not referenced elsewhere, giving random
    results.</li>
  <li><span class="Li">&quot;last&quot;</span> no longer returns values that the
      same statement has accumulated so far, fixing amongst other things the
      long-standing bug that <span class="Li">&quot;push @a, last&quot;</span>
      would try to return the <span class="Li">@a</span>, copying it like a
      scalar in the process and resulting in the error, &quot;Bizarre copy of
      ARRAY in last.&quot; [perl #3112]</li>
  <li>In some cases, closing file handles opened to pipe to or from a process,
      which had been duplicated into a standard handle, would call perl's
      internal waitpid wrapper with a pid of zero. With the fix for [perl
      #85228] this zero pid was passed to
      <span class="Li">&quot;waitpid&quot;</span>, possibly blocking the
      process. This wait for process zero no longer occurs. [perl #119893]</li>
  <li><span class="Li">&quot;select&quot;</span> used to ignore magic on the
      fourth (timeout) argument, leading to effects such as
      <span class="Li">&quot;select&quot;</span> blocking indefinitely rather
      than the expected sleep time. This has now been fixed. [perl #120102]</li>
  <li>The class name in <span class="Li">&quot;for my class $foo&quot;</span> is
      now parsed correctly. In the case of the second character of the class
      name being followed by a digit (e.g. 'a1b') this used to give the error
      &quot;Missing $ on loop variable&quot;. [perl #120112]</li>
  <li>Perl 5.18.0 accidentally disallowed
      <span class="Li">&quot;-bareword&quot;</span> under
      <span class="Li">&quot;use strict&quot;</span> and
      <span class="Li">&quot;use integer&quot;</span>. This has been fixed.
      [perl #120288]</li>
  <li><span class="Li">&quot;-a&quot;</span> at the start of a line (or a hyphen
      with any single letter that is not a filetest operator) no longer produces
      an erroneous 'Use of &quot;-a&quot; without parentheses is ambiguous'
      warning. [perl #120288]</li>
  <li>Lvalue context is now properly propagated into bare blocks and
      <span class="Li">&quot;if&quot;</span> and
      <span class="Li">&quot;else&quot;</span> blocks in lvalue subroutines.
      Previously, arrays and hashes would sometimes incorrectly be flattened
      when returned in lvalue list context, or &quot;Bizarre copy&quot; errors
      could occur. [perl #119797]</li>
  <li>Lvalue context is now propagated to the branches of
      <span class="Li">&quot;||&quot;</span> and
      <span class="Li">&quot;&amp;&amp;&quot;</span> (and their alphabetic
      equivalents, <span class="Li">&quot;or&quot;</span> and
      <span class="Li">&quot;and&quot;</span>). This means
      <span class="Li">&quot;foreach (pos $x || pos $y) {...}&quot;</span> now
      allows <span class="Li">&quot;pos&quot;</span> to be modified through
      <span class="Li">$_</span>.</li>
  <li><span class="Li">&quot;stat&quot;</span> and
      <span class="Li">&quot;readline&quot;</span> remember the last handle
      used; the former for the special <span class="Li">&quot;_&quot;</span>
      filehandle, the latter for
      <span class="Li">&quot;${^LAST_FH}&quot;</span>.
      <span class="Li">&quot;eval &quot;*foo if 0&quot;&quot;</span> where *foo
      was the last handle passed to <span class="Li">&quot;stat&quot;</span> or
      <span class="Li">&quot;readline&quot;</span> could cause that handle to be
      forgotten if the handle were not opened yet. This has been fixed.</li>
  <li>Various cases of <span class="Li">&quot;delete $::{a}&quot;</span>,
      <span class="Li">&quot;delete $::{ENV}&quot;</span> etc. causing a crash
      have been fixed. [perl #54044]</li>
  <li>Setting <span class="Li">$!</span> to EACCESS before calling
      <span class="Li">&quot;require&quot;</span> could affect
      <span class="Li">&quot;require&quot;</span>'s behaviour. This has been
      fixed.</li>
  <li>The &quot;Can't use \1 to mean <span class="Li">$1</span> in
      expression&quot; warning message now only occurs on the right-hand
      (replacement) part of a substitution. Formerly it could happen in code
      embedded in the left-hand side, or in any other quote-like operator.</li>
  <li>Blessing into a reference (<span class="Li">&quot;bless $thisref,
      $thatref&quot;</span>) has long been disallowed, but magical scalars for
      the second like <span class="Li">$/</span> and those tied were exempt.
      They no longer are. [perl #119809]</li>
  <li>Blessing into a reference was accidentally allowed in 5.18 if the class
      argument were a blessed reference with stale method caches (i.e., whose
      class had had subs defined since the last method call). They are
      disallowed once more, as in 5.16.</li>
  <li><span class="Li">&quot;$x-&gt;{key}&quot;</span> where
      <span class="Li">$x</span> was declared as <span class="Li">&quot;my Class
      $x&quot;</span> no longer crashes if a Class::FIELDS subroutine stub has
      been declared.</li>
  <li><span class="Li">@$obj{'key'}</span> and
      <span class="Li">&quot;${$obj}{key}&quot;</span> used to be exempt from
      compile-time field checking (&quot;No such class field&quot;; see fields)
      but no longer are.</li>
  <li>A nonexistent array element with a large index passed to a subroutine that
      ties the array and then tries to access the element no longer results in a
      crash.</li>
  <li>Declaring a subroutine stub named NEGATIVE_INDICES no longer makes
      negative array indices crash when the current package is a tied array
      class.</li>
  <li>Declaring a <span class="Li">&quot;require&quot;</span>,
      <span class="Li">&quot;glob&quot;</span>, or
      <span class="Li">&quot;do&quot;</span> subroutine stub in the
      CORE::GLOBAL:: package no longer makes compilation of calls to the
      corresponding functions crash.</li>
  <li>Aliasing CORE::GLOBAL:: functions to constants stopped working in Perl
      5.10 but has now been fixed.</li>
  <li>When <span class="Li">&quot;`...`&quot;</span> or
      <span class="Li">&quot;qx/.../&quot;</span> calls a
      <span class="Li">&quot;readpipe&quot;</span> override, double-quotish
      interpolation now happens, as is the case when there is no override.
      Previously, the presence of an override would make these quote-like
      operators act like <span class="Li">&quot;q{}&quot;</span>, suppressing
      interpolation. [perl #115330]</li>
  <li><span class="Li">&quot;&lt;&lt;&lt;`...`&quot;</span> here-docs (with
      backticks as the delimiters) now call
      <span class="Li">&quot;readpipe&quot;</span> overrides. [perl
    #119827]</li>
  <li><span class="Li">&quot;&amp;CORE::exit()&quot;</span> and
      <span class="Li">&quot;&amp;CORE::die()&quot;</span> now respect vmsish
      hints.</li>
  <li>Undefining a glob that triggers a DESTROY method that undefines the same
      glob is now safe. It used to produce &quot;Attempt to free unreferenced
      glob pointer&quot; warnings and leak memory.</li>
  <li>If subroutine redefinition (<span class="Li">&quot;eval 'sub
      foo{}'&quot;</span> or <span class="Li">&quot;newXS&quot;</span> for XS
      code) triggers a DESTROY method on the sub that is being redefined, and
      that method assigns a subroutine to the same slot
      (<span class="Li">&quot;*foo = sub {}&quot;</span>),
      <span class="Li">$_[0]</span> is no longer left pointing to a freed
      scalar. Now DESTROY is delayed until the new subroutine has been
      installed.</li>
  <li>On Windows, perl no longer calls <b>CloseHandle()</b> on a socket handle.
      This makes debugging easier on Windows by removing certain irrelevant bad
      handle exceptions. It also fixes a race condition that made socket
      functions randomly fail in a Perl process with multiple OS threads, and
      possible test failures in <i>dist/IO/t/cachepropagate-tcp.t</i>. [perl
      #120091/118059]</li>
  <li>Formats involving UTF-8 encoded strings, or strange vars like ties,
      overloads, or stringified refs (and in recent perls, pure NOK vars) would
      generally do the wrong thing in formats when the var is treated as a
      string and repeatedly chopped, as in
      <span class="Li">&quot;^&lt;&lt;&lt;~~&quot;</span> and similar. This has
      now been resolved. [perl #33832/45325/113868/119847/119849/119851]</li>
  <li><span class="Li">&quot;semctl(..., SETVAL, ...)&quot;</span> would set the
      semaphore to the top 32-bits of the supplied integer instead of the bottom
      32-bits on 64-bit big-endian systems. [perl #120635]</li>
  <li><span class="Li">&quot;readdir()&quot;</span> now only sets
      <span class="Li">$!</span> on error. <span class="Li">$!</span> is no
      longer set to <span class="Li">&quot;EBADF&quot;</span> when then
      terminating <span class="Li">&quot;undef&quot;</span> is read from the
      directory unless the system call sets <span class="Li">$!</span>. [perl
      #118651]</li>
  <li><span class="Li">&amp;CORE::glob</span> no longer causes an intermittent
      crash due to perl's stack getting corrupted. [perl #119993]</li>
  <li><span class="Li">&quot;open&quot;</span> with layers that load modules
      (e.g., &quot;&lt;:encoding(utf8)&quot;) no longer runs the risk of
      crashing due to stack corruption.</li>
  <li>Perl 5.18 broke autoloading via
      <span class="Li">&quot;-&gt;SUPER::foo&quot;</span> method calls by
      looking up AUTOLOAD from the current package rather than the current
      package's superclass. This has been fixed. [perl #120694]</li>
  <li>A longstanding bug causing <span class="Li">&quot;do {} until
      CONSTANT&quot;</span>, where the constant holds a true value, to read
      unallocated memory has been resolved. This would usually happen after a
      syntax error. In past versions of Perl it has crashed intermittently.
      [perl #72406]</li>
  <li>Fix HP-UX <span class="Li">$!</span> failure. HP-UX <b>strerror()</b>
      returns an empty string for an unknown error code. This caused an
      assertion to fail under DEBUGGING builds. Now instead, the returned string
      for <span class="Li">&quot;$!&quot;</span> contains text indicating the
      code is for an unknown error.</li>
  <li>Individually-tied elements of <span class="Li">@INC</span> (as in
      <span class="Li">&quot;tie $INC[0]...&quot;</span>) are now handled
      correctly. Formerly, whether a sub returned by such a tied element would
      be treated as a sub depended on whether a FETCH had occurred
    previously.</li>
  <li><span class="Li">&quot;getc&quot;</span> on a byte-sized handle after the
      same <span class="Li">&quot;getc&quot;</span> operator had been used on a
      utf8 handle used to treat the bytes as utf8, resulting in erratic behavior
      (e.g., malformed UTF-8 warnings).</li>
  <li>An initial <span class="Li">&quot;{&quot;</span> at the beginning of a
      format argument line was always interpreted as the beginning of a block
      prior to v5.18. In Perl v5.18, it started being treated as an ambiguous
      token. The parser would guess whether it was supposed to be an anonymous
      hash constructor or a block based on the contents. Now the previous
      behavious has been restored. [perl #119973]</li>
  <li>In Perl v5.18 <span class="Li">&quot;undef *_; goto &amp;sub&quot;</span>
      and <span class="Li">&quot;local *_; goto &amp;sub&quot;</span> started
      crashing. This has been fixed. [perl #119949]</li>
  <li>Backticks (<span class="Li">&quot; `` &quot;</span> or
      <span class="Li">&quot; qx// &quot;</span>) combined with multiple threads
      on Win32 could result in output sent to stdout on one thread being
      captured by backticks of an external command in another thread.
    <p class="Pp">This could occur for pseudo-forked processes too, as Win32's
        pseudo-fork is implemented in terms of threads. [perl #77672]</p>
  </li>
  <li><span class="Li">&quot;open $fh, &quot;&gt;+&quot;, undef&quot;</span> no
      longer leaks memory when TMPDIR is set but points to a directory a
      temporary file cannot be created in. [perl #120951]</li>
  <li><span class="Li">&quot; for ( $h{k} || '' ) &quot;</span> no longer
      auto-vivifies <span class="Li">$h{k}</span>. [perl #120374]</li>
  <li>On Windows machines, Perl now emulates the POSIX use of the environment
      for locale initialization. Previously, the environment was ignored. See
      &quot;ENVIRONMENT&quot; in perllocale.</li>
  <li>Fixed a crash when destroying a self-referencing GLOB. [perl #121242]</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
<ul class="Bl-bullet">
  <li>IO::Socket is known to fail tests on AIX 5.3. There is a patch
      &lt;https://rt.perl.org/Ticket/Display.html?id=120835&gt; in the request
      tracker, #120835, which may be applied to future releases.</li>
  <li>The following modules are known to have test failures with this version of
      Perl. Patches have been submitted, so there will hopefully be new releases
      soon:</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Data::Structure::Util version 0.15</li>
  <li>HTML::StripScripts version 1.05</li>
  <li>List::Gather version 0.08.</li>
</ul>
</div>
<div class="Bd-indent"></div>
</section>
<section class="Sh">
<h1 class="Sh" id="Obituary"><a class="permalink" href="#Obituary">Obituary</a></h1>
Diana Rosa, 27, of Rio de Janeiro, went to her long rest on May 10, 2014, along
  with the plush camel she kept hanging on her computer screen all the time. She
  was a passionate Perl hacker who loved the language and its community, and who
  never missed a Rio.pm event. She was a true artist, an enthusiast about
  writing code, singing arias and graffiting walls. We'll never forget you.
<p class="Pp">Greg McCarroll died on August 28, 2013.</p>
<p class="Pp">Greg was well known for many good reasons. He was one of the
    organisers of the first YAPC::Europe, which concluded with an unscheduled
    auction where he frantically tried to raise extra money to avoid the
    conference making a loss. It was Greg who mistakenly arrived for a london.pm
    meeting a week late; some years later he was the one who sold the choice of
    official meeting date at a YAPC::Europe auction, and eventually as glorious
    leader of london.pm he got to inherit the irreverent confusion that he had
    created.</p>
<p class="Pp">Always helpful, friendly and cheerfully optimistic, you will be
    missed, but never forgotten.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Acknowledgements"><a class="permalink" href="#Acknowledgements">Acknowledgements</a></h1>
Perl 5.20.0 represents approximately 12 months of development since Perl 5.18.0
  and contains approximately 470,000 lines of changes across 2,900 files from
  124 authors.
<p class="Pp">Excluding auto-generated files, documentation and release tools,
    there were approximately 280,000 lines of changes to 1,800 .pm, .t, .c and
    .h files.</p>
<p class="Pp">Perl continues to flourish into its third decade thanks to a
    vibrant community of users and developers. The following people are known to
    have contributed the improvements that became Perl 5.20.0:</p>
<p class="Pp">Aaron Crane, Abhijit Menon-Sen, Abigail, Abir Viqar, Alan Haggai
    Alavi, Alan Hourihane, Alexander Voronov, Alexandr Ciornii, Andy Dougherty,
    Anno Siegel, Aristotle Pagaltzis, Arthur Axel 'fREW' Schmidt, Brad Gilbert,
    Brendan Byrd, Brian Childs, Brian Fraser, Brian Gottreu, Chris 'BinGOs'
    Williams, Christian Millour, Colin Kuskie, Craig A. Berry, Dabrien 'Dabe'
    Murphy, Dagfinn Ilmari Mannsaaker, Daniel Dragan, Darin McBride, David
    Golden, David Leadbeater, David Mitchell, David Nicol, David Steinbrunner,
    Dennis Kaarsemaker, Dominic Hargreaves, Ed Avis, Eric Brine, Evan Zacks,
    Father Chrysostomos, Florian Ragwitz, Francois Perrad, Gavin Shelley, Gideon
    Israel Dsouza, Gisle Aas, Graham Knop, H.Merijn Brand, Hauke D, Heiko
    Eissfeldt, Hiroo Hayashi, Hojung Youn, James E Keenan, Jarkko Hietaniemi,
    Jerry D. Hedden, Jess Robinson, Jesse Luehrs, Johan Vromans, John Gardiner
    Myers, John Goodyear, John P. Linderman, John Peacock, kafka, Kang-min Liu,
    Karen Etheridge, Karl Williamson, Keedi Kim, Kent Fredric, kevin dawson,
    Kevin Falcone, Kevin Ryde, Leon Timmermans, Lukas Mai, Marc Simpson, Marcel
    Gruenauer, Marco Peereboom, Marcus Holland-Moritz, Mark Jason Dominus,
    Martin McGrath, Matthew Horsfall, Max Maischein, Mike Doherty, Moritz Lenz,
    Nathan Glenn, Nathan Trapuzzano, Neil Bowers, Neil Williams, Nicholas Clark,
    Niels Thykier, Niko Tyni, Olivier Mengue, Owain G. Ainsworth, Paul Green,
    Paul Johnson, Peter John Acklam, Peter Martini, Peter Rabbitson, Petr PisaX,
    Philip Boulain, Philip Guenther, Piotr Roszatycki, Rafael Garcia-Suarez,
    Reini Urban, Reuben Thomas, Ricardo Signes, Ruslan Zakirov, Sergey Alekseev,
    Shirakata Kentaro, Shlomi Fish, Slaven Rezic, Smylers, Steffen Mueller,
    Steve Hay, Sullivan Beck, Thomas Sibley, Tobias Leich, Toby Inkster,
    Tokuhiro Matsuno, Tom Christiansen, Tom Hukins, Tony Cook, Victor Efimov,
    Viktor Turskyi, Vladimir Timofeev, YAMASHINA Hio, Yves Orton, Zefram, Zsban
    Ambrus, AEvar Arnfjoerd` Bjarmason.</p>
<p class="Pp">The list above is almost certainly incomplete as it is
    automatically generated from version control history. In particular, it does
    not include the names of the (very much appreciated) contributors who
    reported issues to the Perl bug tracker.</p>
<p class="Pp">Many of the changes included in this version originated in the
    CPAN modules included in Perl's core. We're grateful to the entire CPAN
    community for helping Perl to flourish.</p>
<p class="Pp">For a more complete list of all of Perl's historical contributors,
    please see the <i>AUTHORS</i> file in the Perl source distribution.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
If you find what you think is a bug, you might check the articles recently
  posted to the comp.lang.perl.misc newsgroup and the perl bug database at
  http://rt.perl.org/perlbug/ . There may also be information at
  http://www.perl.org/ , the Perl Home Page.
<p class="Pp">If you believe you have an unreported bug, please run the perlbug
    program included with your release. Be sure to trim your bug down to a tiny
    but sufficient test case. Your bug report, along with the output of
    <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team.</p>
<p class="Pp">If the bug you are reporting has security implications, which make
    it inappropriate to send to a publicly archived mailing list, then please
    send it to perl5-security-report@perl.org. This points to a closed
    subscription unarchived mailing list, which includes all the core
    committers, who will be able to help assess the impact of issues, figure out
    a resolution, and help co-ordinate the release of patches to mitigate or fix
    the problem across all platforms on which Perl is supported. Please only use
    this address for security issues in the Perl core, not for modules
    independently distributed on CPAN.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The <i>Changes</i> file for an explanation of how to view exhaustive details on
  what changed.
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-24</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
