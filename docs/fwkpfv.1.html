<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Process this file with
   groff -man -Tascii fwkpfv.1 | less
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>fwkpfv(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">fwkpfv(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">fwkpfv(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">fwkpfv</code> &#x2014; <span class="Nd">FireWire
    kprintf viewer</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">fwkpfv</code></td>
    <td>[<code class="Fl">--appendlog</code>]
      [<code class="Fl">--openlog</code>] [<code class="Fl">--newlog</code>]
      [<code class="Fl">--prefix</code>] [<code class="Fl">--publish</code>]
      [<code class="Fl">--single</code>]
      [<code class="Fl">--buffer</code>=<var class="Ar">boot-args</var>]
      [<code class="Fl">--setargs</code>[=<var class="Ar">boot-args</var>]]
      [<code class="Fl">--setpm</code>] [<code class="Fl">--disable</code>]
      [<code class="Fl">--erase</code>] [<code class="Fl">--ioff</code>]
      [<code class="Fl">--restart</code>] [<code class="Fl">--help</code>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Use fwkpfv to receive FireWire kprintf logging. FireWireKPrintf
    redirects &quot;kprintf()&quot; logging to FireWire. Kernel printfs or
    &quot;kprintfs&quot; are used by many kernel services as a low level logging
    mechanism. They can also be used in third party kernel extensions. FireWire
    kprintfs are available very early in the kernel's startup and right until
    the cpu is powered down at sleep, restarted, or shutdown. Similarly, they
    are available almost as soon as the cpu is powered when waking. They can be
    useful for debugging kernel code (including KEXTs), particularly sleep/wake
    issues where the display and/or ethernet is unavailable.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The available options are as follows:</p>
<dl class="Bl-tag">
  <dt id="appendlog"><a class="permalink" href="#appendlog"><code class="Fl">--appendlog</code></a>,
    <code class="Fl">-a</code></dt>
  <dd>Append output logging to /tmp/fwkpf.log.</dd>
  <dt id="openlog"><a class="permalink" href="#openlog"><code class="Fl">--openlog</code></a>,
    <code class="Fl">-o</code></dt>
  <dd>Open log file with Console.app. Only valid with
      <code class="Fl">-a</code>.</dd>
  <dt id="newlog"><a class="permalink" href="#newlog"><code class="Fl">--newlog</code></a>,
    <code class="Fl">-n</code></dt>
  <dd>Create a new log file, rather than append. Only valid with
      <code class="Fl">-a</code>.</dd>
  <dt id="prefix"><a class="permalink" href="#prefix"><code class="Fl">--prefix</code></a>,
    <code class="Fl">-p</code></dt>
  <dd>Prefix logger machine's ID to each log.</dd>
  <dt id="publish"><a class="permalink" href="#publish"><code class="Fl">--publish</code></a>,
    <code class="Fl">-k</code></dt>
  <dd>Do not publish FireWire unit directory keys.</dd>
  <dt id="single"><a class="permalink" href="#single"><code class="Fl">--single</code></a>,
    <code class="Fl">-s</code></dt>
  <dd>Use a single window even if multiple loggers are present.</dd>
  <dt id="buffer"><a class="permalink" href="#buffer"><code class="Fl">--buffer</code></a>=<var class="Ar">size</var>,
    <code class="Fl">-b</code><var class="Ar">size</var></dt>
  <dd>Sets the host's psuedo address space queue buffer to
      <var class="Ar">size</var>in bytes. Increasing this value may help avoid
      potential packet loss. The default buffer size is 204,800 bytes.</dd>
  <dt id="file"><a class="permalink" href="#file"><code class="Fl">--file</code></a>=<var class="Ar">path</var>,
    <code class="Fl">-b</code><code class="Fl">-</code><var class="Ar">path</var></dt>
  <dd>Sets the log file path, if in use, to <var class="Ar">path</var>given as a
      path to a file. The tilde character is not allowed.</dd>
  <dt id="setargs"><a class="permalink" href="#setargs"><code class="Fl">--setargs</code></a>[=<var class="Ar">boot-args</var>],
    <code class="Fl">-r</code>[<var class="Ar">boot-args</var>]</dt>
  <dd>Sets the nvram boot-args on the current machine to
      <var class="Ar">boot-args</var>. This flag should only be used on the
      target machine (which is contrary to typical usage cases, when this tool
      is used on the host). If <var class="Ar">boot-args</var> is not passed,
      the tool will prompt the user as to which boot-args are to be set.</dd>
  <dt id="setpm"><a class="permalink" href="#setpm"><code class="Fl">--setpm</code></a>,
    <code class="Fl">-m</code></dt>
  <dd>Sets the nvram boot-args on the current machine to &quot;debug=0x14e
      io=0x880&quot;. This flag should only be used on the target machine (which
      is contrary to typical usage cases, when this tool is used on the
    host).</dd>
  <dt id="disable"><a class="permalink" href="#disable"><code class="Fl">--disable</code></a>,
    <code class="Fl">-x</code></dt>
  <dd>Sets the nvram boot-args on the current machine to &quot;debug=0x146&quot;
      which disables kprintf logging. This flag should only be used on the
      target machine (which is contrary to typical usage cases, when this tool
      is used on the host).</dd>
  <dt id="erase"><a class="permalink" href="#erase"><code class="Fl">--erase</code></a>,
    <code class="Fl">-e</code></dt>
  <dd>Deletes the boot-args variable from nvram. This flag should only be used
      on the target machine (which is contrary to typical usage cases, when this
      tool is used on the host).</dd>
  <dt id="ioff"><a class="permalink" href="#ioff"><code class="Fl">--ioff</code></a></dt>
  <dd>Turns off interactive mode.</dd>
  <dt id="restart"><a class="permalink" href="#restart"><code class="Fl">--restart</code></a></dt>
  <dd>Automatically restarts the machine only after the nvram has been modified
      by this tool.</dd>
  <dt id="help"><a class="permalink" href="#help"><code class="Fl">--help</code></a>,
    <code class="Fl">-h</code></dt>
  <dd>Displays usage info for fwkpfv.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATABILITY"><a class="permalink" href="#COMPATABILITY">COMPATABILITY</a></h1>
<p class="Pp">Unlike in the past, Mac OS X 10.5 has integrated FireWireKPrintf
    functionality, so it is not necessary to install a separate kext to enable
    kprintf logging over FireWire.</p>
<p class="Pp">While the symbol for kprintf() is available at all times, the
    calls are essentially ignored unless activated with a boot argument (see
    below).</p>
<p class="Pp">While the new FireWireKPrintf is integrated with the normal
    FireWire stack, once the machine begins logging kprintfs via FireWire,
    normal FireWire services will stop until the machine is restarted. Once in
    logging mode, all typical FireWire services (like FireWire hard disk access)
    will be unavailable. It is expected that any devices connected before
    logging will be forcefully removed. If you need to log while also using the
    FireWire stack, please use FireLog (see the FireWireSDK).</p>
<p class="Pp">The new integrated FireWireKPrintf cannot be used while the old
    AppleFireWireKPrintf.kext is installed. Remove it to use the integrated
    version.</p>
<p class="Pp">The new viewer will be able to capture kprintf logs from the
    old-style AppleFireWireKPrintf.kext, however, the old-style viewer will not
    work with the integrated FireWireKPrintf services.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<p class="Pp">To use the FireWireKPrintf, two machines must be setup as
  such:</p>
<ul class="Bl-dash">
  <li>On the Target machine (to be debugged):
    <ol class="Bl-enum Bd-indent Bl-compact">
      <li>Boot the Mac from the partition you wish to use.</li>
      <li>Set kernel boot arguments to enable kernel printfs:
        <div class="Bd Bd-indent"><code class="Li">% sudo nvram
          boot-args=&quot;debug=0x8&quot;</code></div>
        While only the debug bit equivalent to '0x8' is required for kprintf
          logging, you may want to set the debug variable to '0x14e' to enable
          other debugging services. For more information on the debug flags,
          please see Technical Note TN2118. For more logging options, please see
          &lt;Kernel/IOKit/IOKitDebug.h&gt;.</li>
      <li>Restart the target Mac.</li>
      <li>Disconnect any FireWire device.</li>
    </ol>
  </li>
  <li>On the debugger machine with Mac OS X and Developer Tools installed, run
      from Terminal.app:
    <div class="Bd Bd-indent"><code class="Li">% fwkpfv</code></div>
    <div class="Bd Bd-indent"><code class="Li">(If the machine is running Tiger:
      Run the FireWireKPrintf viewer tool included in the FireWireSDK available
      at http://developer.apple.com/sdk/.)</code></div>
  </li>
  <li>Connect the two machines together using a FireWire cable.</li>
  <li>After 5 seconds, you should see output in the viewer and kprintf logging
      is flowing. Note: At this point, normal FireWire services will cease to
      exist on the target until the machine is restarted.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="TARGET-SIDE_OPTIONS"><a class="permalink" href="#TARGET-SIDE_OPTIONS">TARGET-SIDE
  OPTIONS</a></h1>
<p class="Pp">FireWireKPrintf implements a few options that can be set as a
    &quot;boot-arg,&quot; much like the &quot;debug&quot; variable. The
    &quot;fwkpf&quot; variable specifies the timestamp format (calculated on the
    target, before transmission), timestamp padding, verbose kprintf printing,
    and synchronous mode. To set the &quot;fwkpf&quot; variable, choose a
    timestamp unit and add any of the &quot;additive&quot; options. The default
    timestamp is 0x4 (microseconds).</p>
<p class="Pp">Timestamp Formats (not additive):</p>
<dl class="Bl-tag">
  <dt><var class="Ar">0x0</var></dt>
  <dd>Converted FW Cycle Time Units (c) - Classic time format shown as
      &quot;Seconds.Microseconds&quot;. The Second unit rolls over every 128
      seconds. Driven by the FireWire clock.</dd>
  <dt><var class="Ar">0x1</var></dt>
  <dd>Absolute Time Units (a) - &quot;Absolute&quot; time units derived directly
      from the kernel's uptime clock.</dd>
  <dt><var class="Ar">0x2</var></dt>
  <dd>FireWire Time Units (w) - Shown as &quot;Seconds:Cycles:Offset&quot;.
      Driven by the FireWire clock. Seconds rollover every 128 seconds. 8000
      cycles per second. 3072 offset counts per cycle. Equivalent to FireBug's
      time format.</dd>
  <dt><var class="Ar">0x3</var></dt>
  <dd>Nanoseconds Time Units (n) - The kernel's uptime clock converted to
      nanoseconds.</dd>
  <dt><var class="Ar">0x4</var></dt>
  <dd>Microseconds Time Units (u) - The kernel's uptime clock converted to
      microseconds.</dd>
  <dt><var class="Ar">0x5</var></dt>
  <dd>Milliseconds Time Units (m) - The kernel's uptime clock converted to
      milliseconds.</dd>
  <dt><var class="Ar">0x6</var></dt>
  <dd>Seconds Time Units (s) - Shown as
      &quot;Seconds:Milliseconds:Microseconds&quot;. Converted from kernel's
      uptime clock.</dd>
  <dt><var class="Ar">0x7</var></dt>
  <dd>Day Time Units (d) -
      &quot;Days:Hours:Minutes:Seconds:Milliseconds:Microseconds&quot;.
      Converted from kernel's uptime clock.</dd>
  <dt><var class="Ar">0xF</var></dt>
  <dd>No Time Units (-) - No time units, displayed as &quot;-&quot;.</dd>
</dl>
<p class="Pp">Additive Options:</p>
<dl class="Bl-tag">
  <dt><var class="Ar">0x10</var></dt>
  <dd>Append output logging to /Library/Logs/FireWireKPrintf.log.</dd>
  <dt><var class="Ar">0x100</var></dt>
  <dd>Open log file with Console.app. Only valid with &quot;-o&quot;.</dd>
  <dt><var class="Ar">0x800</var></dt>
  <dd>Create a new log file, rather than append. Only valid with
    &quot;-o&quot;.</dd>
  <dt><var class="Ar">0x8000</var></dt>
  <dd>Prefix logger machine's ID to each log.</dd>
</dl>
For example, if you wish to display microsecond time units with padding,
  synchronous mode enabled, and verbose printing disabled, the target's
  boot-args would be as follows: &quot;debug=0x14e fwkpf=0x114&quot;. On the
  target, run the following in Terminal.app: % sudo nvram
  boot-args=&quot;debug=0x14e fwkpf=0x114&quot;
<p class="Pp">If not defined, the &quot;fwkpf&quot; variable defaults to
    &quot;0x004.&quot;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DECIPHERING_THE_OUTPUT"><a class="permalink" href="#DECIPHERING_THE_OUTPUT">DECIPHERING
  THE OUTPUT</a></h1>
<p class="Pp">Once the viewer is running, he target machine is logging, and both
    machines are connected with a FireWire cable, you will see output similar to
    the following:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">% fwkpfv</code></div>
<div class="Bd Bd-indent"><code class="Li">Welcome to FireWireKPrintf (viewer
  x.x.x).</code></div>
<div class="Bd Bd-indent"><code class="Li">c&gt;50.097255 AppleFWOHCI_KPF
  version x.x.x</code></div>
<div class="Bd Bd-indent"><code class="Li">c&gt;55.110783 AppleFWOHCI_KPF
  (re)initialized</code></div>
<div class="Bd Bd-indent"><code class="Li">c&gt;55.110793 Log saver</code></div>
<div class="Bd Bd-indent"><code class="Li">c&gt;55.129614 in.c: warning can't
  plumb proto if=fw0 type 144 error=17</code></div>
<dl class="Bl-tag">
  <dt>'Welcome to FireWireKPrintf (viewer x.x.x)'</dt>
  <dd>signifies viewer tool start correctly. If multiple interfaces are present
      on the debugger machine, it will give an interface count.</dd>
  <dt>'AppleFWOHCI_KPF version x.x.x'</dt>
  <dd>signifies the AppleFireWireKPrintf kext has (re)initialized the FireWire
      hardware for use in a FireWIreKPrintf manner.</dd>
  <dt>'FWKPF: Time Format-&gt;...'</dt>
  <dd>displays the time format declared in the target's boot-args. See the
      &quot;Options&quot; section of this document to select a different time
      format.</dd>
  <dt>'c&gt;13.481567'</dt>
  <dd>displays the time at which the kprintf call was logged. Prefixed with the
      letter that corresponds to the time formats listed above. The format of
      this time log is displayed upon start and can be changed in the target's
      boot-args. See above.</dd>
  <dt>'... in.c: warning can't...'</dt>
  <dd>the const char * string from the kprintf() call; the log. (This is a
      normal log.)</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="TROUBLESHOOTING"><a class="permalink" href="#TROUBLESHOOTING">TROUBLESHOOTING</a></h1>
<p class="Pp">If you are seeing the following symptoms:</p>
<p class="Pp">There is no output from the fwkpfv tool on the second machine:</p>
<ul class="Bl-dash Bd-indent Bl-compact">
  <li>Make sure the two machines are connected with a good FireWire cable.</li>
  <li>Run &quot;nvram boot-args&quot; and verify that the boot-args are set
      correctly.</li>
  <li>Be sure you're using the new fwkpfv utility, version 2.1 or newer.</li>
</ul>
<p class="Pp">The machine hangs at boot:</p>
<ul class="Bl-dash Bd-indent Bl-compact">
  <li>Sometimes the console will hang at boot when there is a high volume of
      logging to screen. Try booting in non-verbose mode or limiting the volume
      of logging. Remove the &quot;-v&quot; from your machine's boot-args. Or
      remove &quot;io=0x80&quot;.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="DISABLING"><a class="permalink" href="#DISABLING">DISABLING</a></h1>
<p class="Pp">To disable the FireWireKPrintf, delete the target machine's
    boot-args. Within Terminal.app run the following:</p>
<ul class="Bl-dash Bd-indent Bl-compact">
  <li>% sudo nvram -d boot-args</li>
  <li>
    <br/>
     OR set the boot-args variable to your previous setting.</li>
  <li>Restart to target Mac.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<section class="Ss">
<h2 class="Ss" id="Other_debug/boot-arg_options:"><a class="permalink" href="#Other_debug/boot-arg_options:">Other
  debug/boot-arg options:</a></h2>
<p class="Pp">For more information on the debug flags, please see Technical Note
    TN2118. Setting the boot-arg variable &quot;io&quot; to &quot;0x80&quot;
    will turn on a significant volume of power management logging, which may be
    useful while debugging sleep/wake issues. Similarly, adding the
    &quot;-v&quot; argument to the boot-args will enable Mac OS X's verbose
    mode. This may be useful for watching local logging during boot or shutdown.
    For example, to add power management logging and verbose mode:</p>
<div class="Bd Bd-indent"><code class="Li">% sudo nvram
  boot-args=&quot;debug=0x8 io=0x80 -v&quot;</code></div>
</section>
<section class="Ss">
<h2 class="Ss" id="The_timestamps_for_very_early_boot_logs_are_inconsistent:"><a class="permalink" href="#The_timestamps_for_very_early_boot_logs_are_inconsistent:">The
  timestamps for very early boot logs are inconsistent:</a></h2>
<p class="Pp">FireWireKPrintf tries to catch kprintf calls as soon as its
    start() routine is called. All kprintf calls after this point will be saved
    until the FireWire hardware has been initialized completely (which is also
    early in the boot process), however, the timestamps for these very early
    logs will reference the time they were sent via FireWire, not when kprintf()
    was called. All timestamps can be assumed accurate after the log from
    FireWireKPrintf that reads something similar to:</p>
<div class="Bd Bd-indent"><code class="Li">FWKPF: Time
  Format-&gt;...</code></div>
</section>
<section class="Ss">
<h2 class="Ss" id="The_timestamps_for_very_early_wake_logs_are_inconsistent:"><a class="permalink" href="#The_timestamps_for_very_early_wake_logs_are_inconsistent:">The
  timestamps for very early wake logs are inconsistent:</a></h2>
<p class="Pp">Similar to very early boot logs, kprintf() calls by the kernel
    very early upon wake will be saved and sent after the FireWire hardware has
    had time to initialize. Likewise, the timestamps for these early logs may
    reflect a yet-to-be-initialized cpu time. These timestamps will be extremely
    large and clearly recognizable.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Synchronous_or_Non-Synchronous?:"><a class="permalink" href="#Synchronous_or_Non-Synchronous?:">Synchronous
  or Non-Synchronous?:</a></h2>
<p class="Pp">With exception to the two cases above (very early boot and very
    early sleep) when the FireWire hardware cannot be initialized without
    stopping kernel progression, all FireWireKPrintf logs are sent
    synchronously. This means that if the log is sent successfully, it is
    guaranteed to be on the wire before the call returns. If the log cannot be
    sent, an error will be written to system.log.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_know_if_I_have_enabled_FireWireKPrintf_and_have_'normal'_FireWire_disabled?:"><a class="permalink" href="#How_do_I_know_if_I_have_enabled_FireWireKPrintf_and_have_'normal'_FireWire_disabled?:">How
  do I know if I have enabled FireWireKPrintf and have 'normal' FireWire
  disabled?:</a></h2>
<p class="Pp">The &quot;FireWire&quot; tab of
    &quot;/Applications/Utilities/System Profiler.app&quot; will allow you to
    see if FireWireKPrintf has disabled normal FireWire services. To this end,
    if FireWire is disabled, unplug any FireWire cables and restart the Mac to
    restore normal FireWire services. Additionally, be mindful to restart
    machines that have dropped into logging mode as soon as you have finished
    using FireWireKPrintf logging.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="My_boot-args_disappeared_unexpectedly:"><a class="permalink" href="#My_boot-args_disappeared_unexpectedly:">My
  boot-args disappeared unexpectedly:</a></h2>
<p class="Pp">Some applications, such as the Startup Disk preference pane, set
    the boot-args themselves. Therefore, it is always best to boot to the
    partition you wish to debug, set the boot-args, and then restart.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="My_FireWire_drive_mounts_on_a_second_machine_and_then_disappears_off_the_first:"><a class="permalink" href="#My_FireWire_drive_mounts_on_a_second_machine_and_then_disappears_off_the_first:">My
  FireWire drive mounts on a second machine and then disappears off the
  first:</a></h2>
<p class="Pp">When a viewer Mac is connected to a logging (target) Mac, all
    normal FireWire services stop, including FireWire disk access. It may take a
    few moments for the disk to disappear on the logging Mac, but once you have
    connected a viewer Mac, it will be impossible to use a FireWire hard disk
    without restarting.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="I_see_an_error_when_I_first_connect:"><a class="permalink" href="#I_see_an_error_when_I_first_connect:">I
  see an error when I first connect:</a></h2>
<p class="Pp">The following log is often shown when you first connect:</p>
<div class="Bd Bd-indent"><code class="Li">in.c: warning can't plumb proto
  if=fw0 type 144 error=17</code></div>
It is a normal log from a different part of the system and should not be of any
  concern.
</section>
<section class="Ss">
<h2 class="Ss" id="Compatibility_with_Intel_and_PPC:"><a class="permalink" href="#Compatibility_with_Intel_and_PPC:">Compatibility
  with Intel and PPC:</a></h2>
<p class="Pp">FireWireKPrintf works on both Intel and PowerPC based Macs. The
    integrated FireWireKPrintf and fwkpfv is new for Leopard and is not included
    in any previous OS release.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Other_FireWire_Devices:"><a class="permalink" href="#Other_FireWire_Devices:">Other
  FireWire Devices:</a></h2>
<p class="Pp">To avoid conflicts it is best not to have other FireWire devices
    plugged into the host or target machines while using FireWireKPrintf. Having
    more than 2 nodes total (i.e. the two CPUs) may cause unexpected
  results.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Logging_from_multiple_machines:"><a class="permalink" href="#Logging_from_multiple_machines:">Logging
  from multiple machines:</a></h2>
<p class="Pp">The fwkpfv utility is able to receive logging from multiple
    machines. Connecting more than one logging target machine to a viewer will
    result in individual Terminal windows showing machine specific logs. A full,
    unparsed log is saved to &quot;/Library/Logs/fwkpf.log&quot;. You may also
    force machine ID prefixation to each log by specifying the &quot;-i&quot;
    flags to fwkpfv.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Using_FireWireKPrintf_with_FireWireKDP:"><a class="permalink" href="#Using_FireWireKPrintf_with_FireWireKDP:">Using
  FireWireKPrintf with FireWireKDP:</a></h2>
<p class="Pp">FireWireKPrintf is compatible with FireWireKDP. To use both, it is
    recommended to set the boot-args using the following command: % sudo nvram
    boot-args=&quot;debug=0x14e kdp_match_name=firewire&quot; Of course, you may
    modify or add boot-args to suit your needs (see note above).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_clear_the_viewer?:"><a class="permalink" href="#How_do_I_clear_the_viewer?:">How
  do I clear the viewer?:</a></h2>
<p class="Pp">Remember, you can clear the scrollback buffer of Terminal.app by
    selecting &quot;Clear Scrollback&quot; (or Cmd-K) from the
    &quot;Scrollback&quot; menu.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_do_I_see_different_logging_with_different_machines?:"><a class="permalink" href="#Why_do_I_see_different_logging_with_different_machines?:">Why
  do I see different logging with different machines?:</a></h2>
<p class="Pp">The &quot;built-in&quot; kprintf output is target machine
    specific. This is due to special casing of hardware and other states. It may
    also vary with operating system version and even kext versions. Remember, a
    developer can change their kprintf() calls at any time.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Can_I_see_more_logging?:"><a class="permalink" href="#Can_I_see_more_logging?:">Can
  I see more logging?:</a></h2>
<p class="Pp">Most Macs have the ability to output a significant volume of power
    management logging, which may be useful while debugging sleep/wake issues.
    Many options are defined in &lt;Kernel/IOKit/IOKitDebug.h&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What_about_FireLog?:"><a class="permalink" href="#What_about_FireLog?:">What
  about FireLog?:</a></h2>
<p class="Pp">FireLog and FireWireKPrintf are different, both in theory and
    practice. FireLog is a high speed logging system which requires a framework.
    Most importantly, FireLog uses a buffering system (in a pull manner) to
    prevent the loss of logs during high logging volume or low processing time.
    Conversely, FireWireKPrintf employs a push method of sending each log onto
    the wire as soon as it is available. Furthermore, FireWireKPrintf is
    available sooner in the kernel's startup. FireLog is an excellent solution
    if you need high speed logging.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt><span class="Pa">/usr/bin/fwkpfv</span></dt>
  <dd>is installed as part of the Mac OS X Developer Tools.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">fwkdp(1)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 15, 2008</td>
    <td class="foot-os">Mac OS X</td>
  </tr>
</table>
</body>
</html>
