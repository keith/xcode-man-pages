<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>File::pushd(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">File::pushd(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">File::pushd(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">File::pushd - change directory temporarily for a limited scope</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 1.016</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre> use File::pushd;
 chdir $ENV{HOME};
 # change directory again for a limited scope
 {
     my $dir = pushd( '/tmp' );
     # working directory changed to /tmp
 }
 # working directory has reverted to $ENV{HOME}
 # tempd() is equivalent to pushd( File::Temp::tempdir )
 {
     my $dir = tempd();
 }
 # object stringifies naturally as an absolute path
 {
    my $dir = pushd( '/tmp' );
    my $filename = File::Spec-&gt;catfile( $dir, &quot;somefile.txt&quot; );
    # gives /tmp/somefile.txt
 }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">File::pushd does a temporary
    <span class="Li">&quot;chdir&quot;</span> that is easily and automatically
    reverted, similar to <span class="Li">&quot;pushd&quot;</span> in some Unix
    command shells. It works by creating an object that caches the original
    working directory. When the object is destroyed, the destructor calls
    <span class="Li">&quot;chdir&quot;</span> to revert to the original working
    directory. By storing the object in a lexical variable with a limited scope,
    this happens automatically at the end of the scope.</p>
<p class="Pp">This is very handy when working with temporary directories for
    tasks like testing; a function is provided to streamline getting a temporary
    directory from File::Temp.</p>
<p class="Pp">For convenience, the object stringifies as the canonical form of
    the absolute pathname of the directory entered.</p>
<p class="Pp"><b>Warning</b>: if you create multiple
    <span class="Li">&quot;pushd&quot;</span> objects in the same lexical scope,
    their destruction order is not guaranteed and you might not wind up in the
    directory you expect.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<pre> use File::pushd;
</pre>
<p class="Pp">Using File::pushd automatically imports the
    <span class="Li">&quot;pushd&quot;</span> and
    <span class="Li">&quot;tempd&quot;</span> functions.</p>
<section class="Ss">
<h2 class="Ss" id="pushd"><a class="permalink" href="#pushd">pushd</a></h2>
<pre> {
     my $dir = pushd( $target_directory );
 }
</pre>
<p class="Pp">Caches the current working directory, calls
    <span class="Li">&quot;chdir&quot;</span> to change to the target directory,
    and returns a File::pushd object. When the object is destroyed, the working
    directory reverts to the original directory.</p>
<p class="Pp">The provided target directory can be a relative or absolute path.
    If called with no arguments, it uses the current directory as its target and
    returns to the current directory when the object is destroyed.</p>
<p class="Pp">If the target directory does not exist or if the directory change
    fails for some reason, <span class="Li">&quot;pushd&quot;</span> will die
    with an error message.</p>
<p class="Pp">Can be given a hashref as an optional second argument. The only
    supported option is <span class="Li">&quot;untaint_pattern&quot;</span>,
    which is used to untaint file paths involved. It defaults to
    {qr{^(&quot;&quot; in -+@\w.+)$}}, which is reasonably restrictive (e.g. it
    does not even allow spaces in the path). Change this to suit your
    circumstances and security needs if running under taint mode. *Note*: you
    must include the parentheses in the pattern to capture the untainted portion
    of the path.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="tempd"><a class="permalink" href="#tempd">tempd</a></h2>
<pre> {
     my $dir = tempd();
 }
</pre>
<p class="Pp">This function is like <span class="Li">&quot;pushd&quot;</span>
    but automatically creates and calls
    <span class="Li">&quot;chdir&quot;</span> to a temporary directory created
    by File::Temp. Unlike normal File::Temp cleanup which happens at the end of
    the program, this temporary directory is removed when the object is
    destroyed. (But also see <span class="Li">&quot;preserve&quot;</span>.) A
    warning will be issued if the directory cannot be removed.</p>
<p class="Pp">As with <span class="Li">&quot;pushd&quot;</span>,
    <span class="Li">&quot;tempd&quot;</span> will die if
    <span class="Li">&quot;chdir&quot;</span> fails.</p>
<p class="Pp">It may be given a single options hash that will be passed
    internally to <span class="Li">&quot;pushd&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="preserve"><a class="permalink" href="#preserve">preserve</a></h2>
<pre> {
     my $dir = tempd();
     $dir-&gt;preserve;      # mark to preserve at end of scope
     $dir-&gt;preserve(0);   # mark to delete at end of scope
 }
</pre>
<p class="Pp">Controls whether a temporary directory will be cleaned up when the
    object is destroyed. With no arguments,
    <span class="Li">&quot;preserve&quot;</span> sets the directory to be
    preserved. With an argument, the directory will be preserved if the argument
    is true, or marked for cleanup if the argument is false. Only
    <span class="Li">&quot;tempd&quot;</span> objects may be marked for cleanup.
    (Target directories to <span class="Li">&quot;pushd&quot;</span> are always
    preserved.) <span class="Li">&quot;preserve&quot;</span> returns true if the
    directory will be preserved, and false otherwise.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<p class="Pp"><span class="Li">&quot;pushd&quot;</span> and
    <span class="Li">&quot;tempd&quot;</span> warn with message
    <span class="Li">&quot;Useless use of
    File::pushd::</span><span class="Li"><i>%s</i></span><span class="Li"> in
    void context&quot;</span> if called in void context and the warnings
    category <span class="Li">&quot;void&quot;</span> is enabled.</p>
<p class="Pp"></p>
<pre>  {
    use warnings 'void';
    pushd();
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>File::chdir</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
<section class="Ss">
<h2 class="Ss" id="Bugs_/_Feature_Requests"><a class="permalink" href="#Bugs_/_Feature_Requests">Bugs
  / Feature Requests</a></h2>
<p class="Pp">Please report any bugs or feature requests through the issue
    tracker at &lt;https://github.com/dagolden/File-pushd/issues&gt;. You will
    be notified automatically of any progress on your issue.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Source_Code"><a class="permalink" href="#Source_Code">Source
  Code</a></h2>
<p class="Pp">This is open source software. The code repository is available for
    public review and contribution under the terms of the license.</p>
<p class="Pp">&lt;https://github.com/dagolden/File-pushd&gt;</p>
<p class="Pp"></p>
<pre>  git clone https://github.com/dagolden/File-pushd.git
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">David Golden &lt;dagolden@cpan.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Diab Jerius &lt;djerius@cfa.harvard.edu&gt;</li>
  <li>Graham Ollis &lt;plicease@cpan.org&gt;</li>
  <li>Olivier Mengu&#x00E9; &lt;dolmen@cpan.org&gt;</li>
  <li>Shoichi Kaji &lt;skaji@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is Copyright (c) 2018 by David A Golden.</p>
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"></p>
<pre>  The Apache License, Version 2.0, January 2004
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-05-20</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
