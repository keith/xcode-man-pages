<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>MIME::WordDecoder(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MIME::WordDecoder(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">MIME::WordDecoder(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
MIME::WordDecoder - decode RFC 2047 encoded words to a local representation
<p class="Pp">WARNING: Most of this module is deprecated and may disappear. The
    only function you should use for MIME decoding is
    &quot;mime_to_perl_string&quot;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
See MIME::Words for the basics of encoded words. See &quot;DESCRIPTION&quot; for
  how this class works.
<p class="Pp"><span class="Li"></span></p>
<pre>
    use MIME::WordDecoder;


    ### Get the default word-decoder (used by unmime()):
    $wd = default MIME::WordDecoder;

    ### Get a word-decoder which maps to ISO-8859-1 (Latin1):
    $wd = supported MIME::WordDecoder &quot;ISO-8859-1&quot;;


    ### Decode a MIME string (e.g., into Latin1) via the default decoder:
    $str = $wd-&gt;decode('To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld&gt;');

    ### Decode a string using the default decoder, non-OO style:
    $str = unmime('To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld&gt;');

    ### Decode a string to an internal Perl string, non-OO style
    ### The result is likely to have the UTF8 flag ON.
    $str = mime_to_perl_string('To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld&gt;');
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
WARNING: Most of this module is deprecated and may disappear. It duplicates
  (badly) the function of the standard 'Encode' module. The only function you
  should rely on is mime_to_perl_string.
<p class="Pp">A MIME::WordDecoder consists, fundamentally, of a hash which maps
    a character set name (US-ASCII, ISO-8859-1, etc.) to a subroutine which
    knows how to take bytes in that character set and turn them into the target
    string representation. Ideally, this target representation would be Unicode,
    but we don't want to overspecify the translation that takes place: if you
    want to convert MIME strings directly to Big5, that's your own decision.</p>
<p class="Pp">The subroutine will be invoked with two arguments: DATA (the data
    in the given character set), and CHARSET (the upcased character set
  name).</p>
<p class="Pp">For example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    ### Keep 7-bit characters as-is, convert 8-bit characters to '#':
    sub keep7bit {
        local $_ = shift;
        tr/\x00-\x7F/#/c;
        $_;
    }
</pre>
<p class="Pp">Here's a decoder which uses that:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   ### Construct a decoder:
   $wd = MIME::WordDecoder-&gt;new({'US-ASCII'   =&gt; &quot;KEEP&quot;,   ### sub { $_[0] }
                                 'ISO-8859-1' =&gt; \&amp;keep7bit,
                                 'ISO-8859-2' =&gt; \&amp;keep7bit,
                                 'Big5'       =&gt; &quot;WARN&quot;,
                                 '*'          =&gt; &quot;DIE&quot;});

   ### Convert some MIME text to a pure ASCII string...
   $ascii = $wd-&gt;decode('To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld&gt;');

   ### ...which will now hold: &quot;To: Keld J#rn Simonsen &lt;keld&gt;&quot;
</pre>
<p class="Pp">The UTF-8 built-in decoder decodes everything into Perl's internal
    string format, possibly turning on the internal UTF8 flag. Use it like
  this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $wd = supported MIME::WordDecoder 'UTF-8';
    $perl_string = $wd-&gt;decode('To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld&gt;');
    # perl_string will be a valid UTF-8 string with the &quot;UTF8&quot; flag set.
</pre>
<p class="Pp">Generally, you should use the UTF-8 decoder in preference to
    &quot;unmime&quot;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PUBLIC_INTERFACE"><a class="permalink" href="#PUBLIC_INTERFACE">PUBLIC
  INTERFACE</a></h1>
<dl class="Bl-tag">
  <dt>default [DECODER]</dt>
  <dd><i>Class method.</i> Get/set the default DECODER object.</dd>
  <dt>supported CHARSET, [DECODER]</dt>
  <dd><i>Class method.</i> If just CHARSET is given, returns a decoder object
      which maps data into that character set (the character set is forced to
      all-uppercase).
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $wd = supported MIME::WordDecoder &quot;ISO-8859-1&quot;;
    </pre>
    <p class="Pp">If DECODER is given, installs such an object:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    MIME::WordDecoder-&gt;supported(&quot;ISO-8859-1&quot; =&gt;
                                 (new MIME::WordDecoder::ISO_8859 &quot;1&quot;));
    </pre>
    <p class="Pp">You should not override this method.</p>
  </dd>
  <dt>new [\@HANDLERS]</dt>
  <dd><i>Class method, constructor.</i> If \@HANDLERS is given, then
      <span class="Li">@HANDLERS</span> is passed to <b>handler()</b> to
      initialize the internal map.</dd>
  <dt>handler CHARSET=&gt;\&amp;SUBREF, ...</dt>
  <dd><i>Instance method.</i> Set the handler SUBREF for a given CHARSET, for as
      many pairs as you care to supply.
    <p class="Pp">When performing the translation of a MIME-encoded string, a
        given SUBREF will be invoked when translating a block of text in
        character set CHARSET. The subroutine will be invoked with the following
        arguments:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    DATA    - the data in the given character set.
    CHARSET - the upcased character set name, which may prove useful
              if you are using the same SUBREF for multiple CHARSETs.
    DECODER - the decoder itself, if it contains configuration information
              that your handler function needs.
    </pre>
    <p class="Pp">For example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $wd = new MIME::WordDecoder;
    $wd-&gt;handler('US-ASCII'   =&gt; &quot;KEEP&quot;);
    $wd-&gt;handler('ISO-8859-1' =&gt; \&amp;handle_latin1,
                 'ISO-8859-2' =&gt; \&amp;handle_latin1,
                 '*'          =&gt; &quot;DIE&quot;);
    </pre>
    <p class="Pp">Notice that, much as with <span class="Li">%SIG</span>, the
        SUBREF can also be taken from a set of special keywords:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   KEEP     Pass data through unchanged.
   IGNORE   Ignore data in this character set, without warning.
   WARN     Ignore data in this character set, with warning.
   DIE      Fatal exception with &quot;can't handle character set&quot; message.
    </pre>
    <p class="Pp">The subroutine for the special CHARSET of 'raw' is used for
        raw (non-MIME-encoded) text, which is supposed to be US-ASCII. The
        handler for 'raw' defaults to whatever was specified for 'US-ASCII' at
        the time of construction.</p>
    <p class="Pp">The subroutine for the special CHARSET of '*' is used for any
        unrecognized character set. The default action for '*' is WARN.</p>
  </dd>
  <dt>decode STRING</dt>
  <dd><i>Instance method.</i> Decode a STRING which might contain MIME-encoded
      components into a local representation (e.g., UTF-8, etc.).</dd>
  <dt>unmime STRING</dt>
  <dd><i>Function, exported.</i> Decode the given STRING using the
      <b>default()</b> decoder. See <b>default()</b>.
    <p class="Pp">You should consider using the UTF-8 decoder instead. It
        decodes MIME strings into Perl's internal string format.</p>
  </dd>
  <dt>mime_to_perl_string</dt>
  <dd><i>Function, exported.</i> Decode the given STRING into an internal Perl
      Unicode string. You should use this function in preference to all others.
    <p class="Pp">The result of mime_to_perl_string is likely to have Perl's
        UTF8 flag set.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SUBCLASSES"><a class="permalink" href="#SUBCLASSES">SUBCLASSES</a></h1>
<dl class="Bl-tag">
  <dt>MIME::WordDecoder::ISO_8859</dt>
  <dd>A simple decoder which keeps US-ASCII and the 7-bit characters of ISO-8859
      character sets and UTF8, and also keeps 8-bit characters from the
      indicated character set.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    ### Construct:
    $wd = new MIME::WordDecoder::ISO_8859 2;    ### ISO-8859-2

    ### What to translate unknown characters to (can also use empty):
    ### Default is &quot;?&quot;.
    $wd-&gt;unknown(&quot;?&quot;);

    ### Collapse runs of unknown characters to a single unknown()?
    ### Default is false.
    $wd-&gt;collapse(1);
    </pre>
    <p class="Pp">According to <b>http://czyborra.com/charsets/iso8859.html</b>
        (ca. November 2000):</p>
    <p class="Pp">ISO 8859 is a full series of 10 (and soon even more)
        standardized multilingual single-byte coded (8bit) graphic character
        sets for writing in alphabetic languages:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    1. Latin1 (West European)
    2. Latin2 (East European)
    3. Latin3 (South European)
    4. Latin4 (North European)
    5. Cyrillic
    6. Arabic
    7. Greek
    8. Hebrew
    9. Latin5 (Turkish)
   10. Latin6 (Nordic)
    </pre>
    <p class="Pp">The ISO 8859 charsets are not even remotely as complete as the
        truly great Unicode but they have been around and usable for quite a
        while (first registered Internet charsets for use with MIME) and have
        already offered a major improvement over the plain 7bit US-ASCII.</p>
    <p class="Pp">Characters 0 to 127 are always identical with US-ASCII and the
        positions 128 to 159 hold some less used control characters: the
        so-called C1 set from ISO 6429.</p>
  </dd>
  <dt>MIME::WordDecoder::US_ASCII</dt>
  <dd>A subclass of the ISO-8859-1 decoder which discards 8-bit characters.
      You're probably better off using ISO-8859-1.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
MIME::Tools
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Eryq (<i>eryq@zeegee.com</i>), ZeeGee Software Inc
  (<i>http://www.zeegee.com</i>). Dianne Skoll (dfs@roaringpenguin.com)
  http://www.roaringpenguin.com
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-19</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
