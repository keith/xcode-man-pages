<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
       Title: git-daemon
      Author: [FIXME: author] [see http://www.docbook.org/tdg5/en/html/author]
   Generator: DocBook XSL Stylesheets v1.79.2 <http://docbook.sf.net/>
        Date: 2025-07-22
      Manual: Git Manual
      Source: Git 2.50.1.428.g0e8243a355
    Language: English
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>GIT-DAEMON(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GIT-DAEMON(1)</td>
    <td class="head-vol">Git Manual</td>
    <td class="head-rtitle">GIT-DAEMON(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">git-daemon - A really simple server for Git repositories</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre><b>git</b> <b>daemon</b> [<b>--verbose</b>] [<b>--syslog</b>] [<b>--export-all</b>]
	   [<b>--timeout=</b><i>&lt;n&gt;</i>] [<b>--init-timeout=</b><i>&lt;n&gt;</i>] [<b>--max-connections=</b><i>&lt;n&gt;</i>]
	   [<b>--strict-paths</b>] [<b>--base-path=</b><i>&lt;path&gt;</i>] [<b>--base-path-relaxed</b>]
	   [<b>--user-path</b> | <b>--user-path=</b><i>&lt;path&gt;</i>]
	   [<b>--interpolated-path=</b><i>&lt;pathtemplate&gt;</i>]
	   [<b>--reuseaddr</b>] [<b>--detach</b>] [<b>--pid-file=</b><i>&lt;file&gt;</i>]
	   [<b>--enable=</b><i>&lt;service&gt;</i>] [<b>--disable=</b><i>&lt;service&gt;</i>]
	   [<b>--allow-override=</b><i>&lt;service&gt;</i>] [<b>--forbid-override=</b><i>&lt;service&gt;</i>]
	   [<b>--access-hook=</b><i>&lt;path&gt;</i>] [<b>--</b>[<b>no-</b>]<b>informative-errors</b>]
	   [<b>--inetd</b> |
	     [<b>--listen=</b><i>&lt;host-or-ipaddr&gt;</i>] [<b>--port=</b><i>&lt;n&gt;</i>]
	     [<b>--user=</b><i>&lt;user&gt;</i> [<b>--group=</b><i>&lt;group&gt;</i>]]]
	   [<b>--log-destination=</b>(<b>stderr</b>|<b>syslog</b>|<b>none</b>)]
	   [<i>&lt;directory&gt;</i>...]</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">A really simple TCP Git daemon that normally listens on port
    &quot;DEFAULT_GIT_PORT&quot; aka 9418. It waits for a connection asking for
    a service, and will serve that service if it is enabled.</p>
<p class="Pp">It verifies that the directory has the magic file
    &quot;git-daemon-export-ok&quot;, and it will refuse to export any Git
    directory that hasn&#x2019;t explicitly been marked for export this way
    (unless the <b>--export-all</b> parameter is specified). If you pass some
    directory paths as <b>git</b> <b>daemon</b> arguments, the offers are
    limited to repositories within those directories.</p>
<p class="Pp">By default, only <b>upload-pack</b> service is enabled, which
    serves <b>git</b> <b>fetch-pack</b> and <b>git</b> <b>ls-remote</b> clients,
    which are invoked from <b>git</b> <b>fetch</b>, <b>git</b> <b>pull</b>, and
    <b>git</b> <b>clone</b>.</p>
<p class="Pp">This is ideally suited for read-only updates, i.e., pulling from
    Git repositories.</p>
<p class="Pp">An <b>upload-archive</b> also exists to serve <b>git</b>
    <b>archive</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp"><b>--strict-paths</b></p>
<div class="Bd-indent">Match paths exactly (i.e. don&#x2019;t allow
  &quot;/foo/repo&quot; when the real path is &quot;/foo/repo.git&quot; or
  &quot;/foo/repo/.git&quot;) and don&#x2019;t do user-relative paths.
  <b>git</b> <b>daemon</b> will refuse to start when this option is enabled and
  no directory arguments are provided.</div>
<p class="Pp"><b>--base-path=</b><i>&lt;path&gt;</i></p>
<div class="Bd-indent">Remap all the path requests as relative to the given
  path. This is sort of &quot;Git root&quot; - if you run <b>git</b>
  <b>daemon</b> with <b>--base-path=/srv/git</b> on <b>example.com</b>, then if
  you later try to pull from <b>git://example.com/hello.git</b>, <b>git</b>
  <b>daemon</b> will interpret the path as <b>/srv/git/hello.git</b>.</div>
<p class="Pp"><b>--base-path-relaxed</b></p>
<div class="Bd-indent">If <b>--base-path</b> is enabled and repo lookup fails,
  with this option <b>git</b> <b>daemon</b> will attempt to lookup without
  prefixing the base path. This is useful for switching to <b>--base-path</b>
  usage, while still allowing the old paths.</div>
<p class="Pp"><b>--interpolated-path=</b><i>&lt;pathtemplate&gt;</i></p>
<div class="Bd-indent">To support virtual hosting, an interpolated path template
  can be used to dynamically construct alternate paths. The template supports
  <b>%H</b> for the target hostname as supplied by the client but converted to
  all lowercase, <b>%CH</b> for the canonical hostname, <b>%IP</b> for the
  server&#x2019;s IP address, <b>%P</b> for the port number, and <b>%D</b> for
  the absolute path of the named repository. After interpolation, the path is
  validated against the directory list.</div>
<p class="Pp"><b>--export-all</b></p>
<div class="Bd-indent">Allow pulling from all directories that look like Git
  repositories (have the <i>objects</i> and <i>refs</i> subdirectories), even if
  they do not have the <b>git-daemon-export-ok</b> file.</div>
<p class="Pp"><b>--inetd</b></p>
<div class="Bd-indent">Have the server run as an inetd service. Implies
  <b>--syslog</b> (may be overridden with <b>--log-destination=</b>).
  Incompatible with <b>--detach</b>, <b>--port</b>, <b>--listen</b>,
  <b>--user</b> and <b>--group</b> options.</div>
<p class="Pp"><b>--listen=</b><i>&lt;host-or-ipaddr&gt;</i></p>
<div class="Bd-indent">Listen on a specific IP address or hostname. IP addresses
  can be either an IPv4 address or an IPv6 address if supported. If IPv6 is not
  supported, then <b>--listen=</b><i>&lt;hostname&gt;</i> is also not supported
  and <b>--listen</b> must be given an IPv4 address. Can be given more than
  once. Incompatible with <b>--inetd</b> option.</div>
<p class="Pp"><b>--port=</b><i>&lt;n&gt;</i></p>
<div class="Bd-indent">Listen on an alternative port. Incompatible with
  <b>--inetd</b> option.</div>
<p class="Pp"><b>--init-timeout=</b><i>&lt;n&gt;</i></p>
<div class="Bd-indent">Timeout (in seconds) between the moment the connection is
  established and the client request is received (typically a rather low value,
  since that should be basically immediate).</div>
<p class="Pp"><b>--timeout=</b><i>&lt;n&gt;</i></p>
<div class="Bd-indent">Timeout (in seconds) for specific client sub-requests.
  This includes the time it takes for the server to process the sub-request and
  the time spent waiting for the next client&#x2019;s request.</div>
<p class="Pp"><b>--max-connections=</b><i>&lt;n&gt;</i></p>
<div class="Bd-indent">Maximum number of concurrent clients, defaults to 32. Set
  it to zero for no limit.</div>
<p class="Pp"><b>--syslog</b></p>
<div class="Bd-indent">Short for <b>--log-destination=syslog</b>.</div>
<p class="Pp"><b>--log-destination=</b><i>&lt;destination&gt;</i></p>
<div class="Bd-indent">Send log messages to the specified destination. Note that
  this option does not imply <b>--verbose</b>, thus by default only error
  conditions will be logged. The <i>&lt;destination&gt;</i> must be one of:
<p class="Pp"><b>stderr</b></p>
<div class="Bd-indent">Write to standard error. Note that if <b>--detach</b> is
  specified, the process disconnects from the real standard error, making this
  destination effectively equivalent to <b>none</b>.</div>
<p class="Pp"><b>syslog</b></p>
<div class="Bd-indent">Write to syslog, using the <b>git-daemon</b>
  identifier.</div>
<p class="Pp"><b>none</b></p>
<div class="Bd-indent">Disable all logging.</div>
<p class="Pp">The default destination is <b>syslog</b> if <b>--inetd</b> or
    <b>--detach</b> is specified, otherwise <b>stderr</b>.</p>
</div>
<p class="Pp"><b>--user-path</b>, <b>--user-path=</b><i>&lt;path&gt;</i></p>
<div class="Bd-indent">Allow ~user notation to be used in requests. When
  specified with no parameter, a request to git://host/~alice/foo is taken as a
  request to access <i>foo</i> repository in the home directory of user
  <b>alice</b>. If <b>--user-path=</b><i>&lt;path&gt;</i> is specified, the same
  request is taken as a request to access <i>&lt;path&gt;</i><b>/foo</b>
  repository in the home directory of user <b>alice</b>.</div>
<p class="Pp"><b>--verbose</b></p>
<div class="Bd-indent">Log details about the incoming connections and requested
  files.</div>
<p class="Pp"><b>--reuseaddr</b></p>
<div class="Bd-indent">Use <b>SO_REUSEADDR</b> when binding the listening
  socket. This allows the server to restart without waiting for old connections
  to time out.</div>
<p class="Pp"><b>--detach</b></p>
<div class="Bd-indent">Detach from the shell. Implies <b>--syslog</b>.</div>
<p class="Pp"><b>--pid-file=</b><i>&lt;file&gt;</i></p>
<div class="Bd-indent">Save the process id in <i>&lt;file&gt;</i>. Ignored when
  the daemon is run under <b>--inetd</b>.</div>
<p class="Pp"><b>--user=</b><i>&lt;user&gt;</i>,
    <b>--group=</b><i>&lt;group&gt;</i></p>
<div class="Bd-indent">Change daemon&#x2019;s uid and gid before entering the
  service loop. When only <b>--user</b> is given without <b>--group</b>, the
  primary group ID for the user is used. The values of the option are given to
  <b>getpwnam</b>(<b>3</b>) and <b>getgrnam</b>(<b>3</b>) and numeric IDs are
  not supported.
<p class="Pp">Giving these options is an error when used with <b>--inetd</b>;
    use the facility of inet daemon to achieve the same before spawning
    <b>git</b> <b>daemon</b> if needed.</p>
<p class="Pp">Like many programs that switch user id, the daemon does not reset
    environment variables such as <b>HOME</b> when it runs git programs, e.g.
    <b>upload-pack</b> and <b>receive-pack</b>. When using this option, you may
    also want to set and export <b>HOME</b> to point at the home directory of
    <i>&lt;user&gt;</i> before starting the daemon, and make sure any Git
    configuration files in that directory are readable by
  <i>&lt;user&gt;</i>.</p>
</div>
<p class="Pp"><b>--enable=</b><i>&lt;service&gt;</i>,
    <b>--disable=</b><i>&lt;service&gt;</i></p>
<div class="Bd-indent">Enable/disable the service site-wide per default. Note
  that a service disabled site-wide can still be enabled per repository if it is
  marked overridable and the repository enables the service with a configuration
  item.</div>
<p class="Pp"><b>--allow-override=</b><i>&lt;service&gt;</i>,
    <b>--forbid-override=</b><i>&lt;service&gt;</i></p>
<div class="Bd-indent">Allow/forbid overriding the site-wide default with per
  repository configuration. By default, all the services may be
  overridden.</div>
<p class="Pp"><b>--informative-errors</b>, <b>--no-informative-errors</b></p>
<div class="Bd-indent">When informative errors are turned on, git-daemon will
  report more verbose errors to the client, differentiating conditions like
  &quot;no such repository&quot; from &quot;repository not exported&quot;. This
  is more convenient for clients, but may leak information about the existence
  of unexported repositories. When informative errors are not enabled, all
  errors report &quot;access denied&quot; to the client. The default is
  <b>--no-informative-errors</b>.</div>
<p class="Pp"><b>--access-hook=</b><i>&lt;path&gt;</i></p>
<div class="Bd-indent">Every time a client connects, first run an external
  command specified by the &lt;path&gt; with service name (e.g.
  &quot;upload-pack&quot;), path to the repository, hostname (<b>%H</b>),
  canonical hostname (<b>%CH</b>), IP address (<b>%IP</b>), and TCP port
  (<b>%P</b>) as its command-line arguments. The external command can decide to
  decline the service by exiting with a non-zero status (or to allow it by
  exiting with a zero status). It can also look at the $REMOTE_ADDR and
  <b>$REMOTE_PORT</b> environment variables to learn about the requestor when
  making this decision.
<p class="Pp">The external command can optionally write a single line to its
    standard output to be sent to the requestor as an error message when it
    declines the service.</p>
</div>
<p class="Pp"><i>&lt;directory&gt;</i></p>
<div class="Bd-indent">The remaining arguments provide a list of directories. If
  any directories are specified, then the <b>git-daemon</b> process will serve a
  requested directory only if it is contained in one of these directories. If
  <b>--strict-paths</b> is specified, then the requested directory must match
  one of these directories exactly.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SERVICES"><a class="permalink" href="#SERVICES">SERVICES</a></h1>
<p class="Pp">These services can be globally enabled/disabled using the
    command-line options of this command. If finer-grained control is desired
    (e.g. to allow <b>git</b> <b>archive</b> to be run against only in a few
    selected repositories the daemon serves), the per-repository configuration
    file can be used to enable or disable them.</p>
<p class="Pp">upload-pack</p>
<div class="Bd-indent">This serves <b>git</b> <b>fetch-pack</b> and <b>git</b>
  <b>ls-remote</b> clients. It is enabled by default, but a repository can
  disable it by setting <b>daemon.uploadpack</b> configuration item to
  <b>false</b>.</div>
<p class="Pp">upload-archive</p>
<div class="Bd-indent">This serves <b>git</b> <b>archive</b> <b>--remote</b>. It
  is disabled by default, but a repository can enable it by setting
  <b>daemon.uploadarch</b> configuration item to <b>true</b>.</div>
<p class="Pp">receive-pack</p>
<div class="Bd-indent">This serves <b>git</b> <b>send-pack</b> clients, allowing
  anonymous push. It is disabled by default, as there is <i>no</i>
  authentication in the protocol (in other words, anybody can push anything into
  the repository, including removal of refs). This is solely meant for a closed
  LAN setting where everybody is friendly. This service can be enabled by
  setting <b>daemon.receivepack</b> configuration item to <b>true</b>.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">We assume the following in /etc/services</p>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>$ grep 9418 /etc/services
git             9418/tcp                # Git Version Control System</pre>
</div>
</div>
<p class="Pp"><i>git daemon</i> as inetd server</p>
<div class="Bd-indent">To set up <i>git daemon</i> as an inetd service that
  handles any repository within <b>/pub/foo</b> or <b>/pub/bar</b>, place an
  entry like the following into <b>/etc/inetd</b> all on one line:
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
<br/>
        git stream tcp nowait nobody  /usr/bin/git
<br/>
                git daemon --inetd --verbose --export-all
<br/>
                /pub/foo /pub/bar</pre>
</div>
</div>
<p class="Pp"><i>git daemon</i> as inetd server for virtual hosts</p>
<div class="Bd-indent">To set up <i>git daemon</i> as an inetd service that
  handles repositories for different virtual hosts, <b>www.example.com</b> and
  <b>www.example.org</b>, place an entry like the following into
  <b>/etc/inetd</b> all on one line:
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
<br/>
        git stream tcp nowait nobody /usr/bin/git
<br/>
                git daemon --inetd --verbose --export-all
<br/>
                --interpolated-path=/pub/%H%D
<br/>
                /pub/www.example.org/software
<br/>
                /pub/www.example.com/software
<br/>
                /software</pre>
</div>
<p class="Pp">In this example, the root-level directory <b>/pub</b> will contain
    a subdirectory for each virtual host name supported. Further, both hosts
    advertise repositories simply as
    <b>git://www.example.com/software/repo.git</b>. For pre-1.4.0 clients, a
    symlink from <b>/software</b> into the appropriate default repository could
    be made as well.</p>
</div>
<p class="Pp"><i>git daemon</i> as regular daemon for virtual hosts</p>
<div class="Bd-indent">To set up <b>git</b> <b>daemon</b> as a regular,
  non-inetd service that handles repositories for multiple virtual hosts based
  on their IP addresses, start the daemon like this:
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
<br/>
        git daemon --verbose --export-all
<br/>
                --interpolated-path=/pub/%IP/%D
<br/>
                /pub/192.168.1.200/software
<br/>
                /pub/10.10.220.23/software</pre>
</div>
<p class="Pp">In this example, the root-level directory <b>/pub</b> will contain
    a subdirectory for each virtual host IP address supported. Repositories can
    still be accessed by hostname though, assuming they correspond to these IP
    addresses.</p>
</div>
<p class="Pp">selectively enable/disable services per repository</p>
<div class="Bd-indent">To enable <b>git</b> <b>archive</b> <b>--remote</b> and
  disable <b>git</b> <b>fetch</b> against a repository, have the following in
  the configuration file in the repository (that is the file <i>config</i> next
  to <b>HEAD</b>, <i>refs</i> and <i>objects</i>).
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
<br/>
        [daemon]
<br/>
                uploadpack = false
<br/>
                uploadarch = true</pre>
</div>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<p class="Pp"><b>git</b> <b>daemon</b> will set <b>REMOTE_ADDR</b> to the IP
    address of the client that connected to it, if the IP address is available.
    <b>REMOTE_ADDR</b> will be available in the environment of hooks called when
    services are performed.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GIT"><a class="permalink" href="#GIT">GIT</a></h1>
<p class="Pp">Part of the <b>git</b>(1) suite</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">06/06/2021</td>
    <td class="foot-os">Git 2.32.0</td>
  </tr>
</table>
</body>
</html>
