<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$OpenBSD: pax.1,v 1.54 2008/06/11 07:42:50 jmc Exp $
  	$NetBSD: pax.1,v 1.3 1995/03/21 09:07:37 cgd Exp $
  
   Copyright (c) 1992 Keith Muller.
   Copyright (c) 1992, 1993
  	The Regents of the University of California.  All rights reserved.
  
   This code is derived from software contributed to Berkeley by
   Keith Muller of the University of California, San Diego.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
  	@(#)pax.1	8.4 (Berkeley) 4/18/94
   -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>PAX(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PAX(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PAX(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">pax</code> &#x2014;
<div class="Nd">read and write file archives and copy directory
  hierarchies</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">pax</code></td>
    <td>[<code class="Fl">-0cdjnOvz</code>]
      [<code class="Fl">-E</code>&#x00A0;<var class="Ar">limit</var>]
      [<code class="Fl">-f</code>&#x00A0;<var class="Ar">archive</var>]
      [<code class="Fl">-G</code>&#x00A0;<var class="Ar">group</var>]
      [<code class="Fl">-s</code>&#x00A0;<var class="Ar">replstr</var>]
      [<code class="Fl">-T</code>&#x00A0;<var class="Ar">range</var>]
      [<code class="Fl">-U</code>&#x00A0;<var class="Ar">user</var>]
      [<var class="Ar">pattern&#x00A0;...</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pax</code></td>
    <td><code class="Fl">-r</code> [<code class="Fl">-0cDdijknOuvYZz</code>]
      [<code class="Fl">-E</code>&#x00A0;<var class="Ar">limit</var>]
      [<code class="Fl">-f</code>&#x00A0;<var class="Ar">archive</var>]
      [<code class="Fl">-G</code>&#x00A0;<var class="Ar">group</var>]
      [<code class="Fl">-o</code>&#x00A0;<var class="Ar">options</var>]
      [<code class="Fl">-p</code>&#x00A0;<var class="Ar">string</var>]
      [<code class="Fl">-s</code>&#x00A0;<var class="Ar">replstr</var>]
      [<code class="Fl">-T</code>&#x00A0;<var class="Ar">range</var>]
      [<code class="Fl">-U</code>&#x00A0;<var class="Ar">user</var>]
      [<var class="Ar">pattern&#x00A0;...</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pax</code></td>
    <td><code class="Fl">-w</code> [<code class="Fl">-0adHijLOPtuvXz</code>]
      [<code class="Fl">-B</code>&#x00A0;<var class="Ar">bytes</var>]
      [<code class="Fl">-b</code>&#x00A0;<var class="Ar">blocksize</var>]
      [<code class="Fl">-f</code>&#x00A0;<var class="Ar">archive</var>]
      [<code class="Fl">-G</code>&#x00A0;<var class="Ar">group</var>]
      [<code class="Fl">-o</code>&#x00A0;<var class="Ar">options</var>]
      [<code class="Fl">-s</code>&#x00A0;<var class="Ar">replstr</var>]
      [<code class="Fl">-T</code>&#x00A0;<var class="Ar">range</var>]
      [<code class="Fl">-U</code>&#x00A0;<var class="Ar">user</var>]
      [<code class="Fl">-x</code>&#x00A0;<var class="Ar">format</var>]
      [<var class="Ar">file&#x00A0;...</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pax</code></td>
    <td><code class="Fl">-rw</code>
      [<code class="Fl">-0DdHijkLlnOPtuvXYZ</code>]
      [<code class="Fl">-G</code>&#x00A0;<var class="Ar">group</var>]
      [<code class="Fl">-p</code>&#x00A0;<var class="Ar">string</var>]
      [<code class="Fl">-s</code>&#x00A0;<var class="Ar">replstr</var>]
      [<code class="Fl">-T</code>&#x00A0;<var class="Ar">range</var>]
      [<code class="Fl">-U</code>&#x00A0;<var class="Ar">user</var>]
      [<var class="Ar">file&#x00A0;...</var>]&#x00A0;<var class="Ar">directory</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">pax</code> will read, write, and list the members of an archive
  file and will copy directory hierarchies. <code class="Nm">pax</code>
  operation is independent of the specific archive format and supports a wide
  variety of different archive formats. A list of supported archive formats can
  be found under the description of the <code class="Fl">-x</code> option.
<p class="Pp">The presence of the <code class="Fl">-r</code> and the
    <code class="Fl">-w</code> options specifies which of the following
    functional modes <code class="Nm">pax</code> will operate under:
    <i class="Em">list</i>, <i class="Em">read</i>, <i class="Em">write</i>, and
    <i class="Em">copy</i>.</p>
<dl class="Bl-tag">
  <dt>&lt;none&gt;</dt>
  <dd><i class="Em">List</i>. <code class="Nm">pax</code> will write to standard
      output a table of contents of the members of the archive file read from
      standard input, whose pathnames match the specified
      <var class="Ar">pattern</var> arguments. The table of contents contains
      one filename per line and is written using single line buffering.</dd>
  <dt><a class="permalink" href="#r"><code class="Fl" id="r">-r</code></a></dt>
  <dd><i class="Em">Read</i>. <code class="Nm">pax</code> extracts the members
      of the archive file read from the standard input, with pathnames matching
      the specified <var class="Ar">pattern</var> arguments. The archive format
      and blocking is automatically determined on input. When an extracted file
      is a directory, the entire file hierarchy rooted at that directory is
      extracted. Extracted files are created either at absolute paths (those
      that begin with a / character) or relative to the current file hierarchy
      unless the <code class="Fl">-s</code> option is used to remove leading
      slashes or add a relative path prefix. Files being extracted to absolute
      paths may overwrite files outside of the current working directory, so
      care should be taken when extracting untrusted archives. The setting of
      ownership, access and modification times, and file mode of the extracted
      files are discussed in more detail under the <code class="Fl">-p</code>
      option.</dd>
  <dt><a class="permalink" href="#w"><code class="Fl" id="w">-w</code></a></dt>
  <dd><i class="Em">Write</i>. <code class="Nm">pax</code> writes an archive
      containing the <var class="Ar">file</var> operands to standard output
      using the specified archive format. When no <var class="Ar">file</var>
      operands are specified, a list of files to copy with one per line is read
      from standard input. When a <var class="Ar">file</var> operand is also a
      directory, the entire file hierarchy rooted at that directory will be
      included.</dd>
  <dt><a class="permalink" href="#rw"><code class="Fl" id="rw">-rw</code></a></dt>
  <dd><i class="Em">Copy</i>. <code class="Nm">pax</code> copies the
      <var class="Ar">file</var> operands to the destination
      <var class="Ar">directory</var>. When no <var class="Ar">file</var>
      operands are specified, a list of files to copy with one per line is read
      from the standard input. When a <var class="Ar">file</var> operand is also
      a directory the entire file hierarchy rooted at that directory will be
      included. The effect of the <i class="Em">copy</i> is as if the copied
      files were written to an archive file and then subsequently extracted,
      except that there may be hard links between the original and the copied
      files (see the <code class="Fl">-l</code> option below).
    <p class="Pp"><b class="Sy">Warning</b>: The destination
        <var class="Ar">directory</var> must not be one of the
        <var class="Ar">file</var> operands or a member of a file hierarchy
        rooted at one of the <var class="Ar">file</var> operands. The result of
        a <i class="Em">copy</i> under these conditions is unpredictable.</p>
  </dd>
</dl>
<p class="Pp">While processing a damaged archive during a <i class="Em">read</i>
    or <i class="Em">list</i> operation, <code class="Nm">pax</code> will
    attempt to recover from media defects and will search through the archive to
    locate and process the largest number of archive members possible (see the
    <code class="Fl">-E</code> option for more details on error handling).</p>
<p class="Pp">The <var class="Ar">directory</var> operand specifies a
    destination directory pathname. If the <var class="Ar">directory</var>
    operand does not exist, or it is not writable by the user, or it is not of
    type directory, <code class="Nm">pax</code> will exit with a non-zero exit
    status.</p>
<p class="Pp">The <var class="Ar">pattern</var> operand is used to select one or
    more pathnames of archive members. Archive members are selected using the
    pattern matching notation described by <a class="Xr">glob(3)</a>. When the
    <var class="Ar">pattern</var> operand is not supplied, all members of the
    archive will be selected. When a <var class="Ar">pattern</var> matches a
    directory, the entire file hierarchy rooted at that directory will be
    selected. When a <var class="Ar">pattern</var> operand does not select at
    least one archive member, <code class="Nm">pax</code> will write these
    <var class="Ar">pattern</var> operands in a diagnostic message to standard
    error and then exit with a non-zero exit status.</p>
<p class="Pp">The <var class="Ar">file</var> operand specifies the pathname of a
    file to be copied or archived. When a <var class="Ar">file</var> operand
    does not select at least one archive member, <code class="Nm">pax</code>
    will write these <var class="Ar">file</var> operand pathnames in a
    diagnostic message to standard error and then exit with a non-zero exit
    status.</p>
<p class="Pp">The options are as follows:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#0"><code class="Fl" id="0">-0</code></a></dt>
  <dd>Use the NUL (&#x2018;<code class="Li">\0</code>&#x2019;) character as a
      pathname terminator, instead of newline
      (&#x2018;<code class="Li">\n</code>&#x2019;). This applies only to the
      pathnames read from standard input in the write and copy modes, and to the
      pathnames written to standard output in list mode. This option is expected
      to be used in concert with the <code class="Fl">-print0</code> function in
      <a class="Xr">find(1)</a> or the <code class="Fl">-0</code> flag in
      <a class="Xr">xargs(1)</a>.</dd>
  <dt><a class="permalink" href="#a"><code class="Fl" id="a">-a</code></a></dt>
  <dd>Append the given <var class="Ar">file</var> operands to the end of an
      archive that was previously written. If an archive format is not specified
      with a <code class="Fl">-x</code> option, the format currently being used
      in the archive will be selected. Any attempt to append to an archive in a
      format different from the format already used in the archive will cause
      <code class="Nm">pax</code> to exit immediately with a non-zero exit
      status. The blocking size used in the archive volume where writing starts
      will continue to be used for the remainder of that archive volume.
    <p class="Pp"><b class="Sy">Warning</b>: Many storage devices are not able
        to support the operations necessary to perform an append operation. Any
        attempt to append to an archive stored on such a device may damage the
        archive or have other unpredictable results. Tape drives in particular
        are more likely to not support an append operation. An archive stored in
        a regular file system file or on a disk device will usually support an
        append operation.</p>
  </dd>
  <dt><a class="permalink" href="#B"><code class="Fl" id="B">-B</code></a>
    <var class="Ar">bytes</var></dt>
  <dd>Limit the number of bytes written to a single archive volume to
      <var class="Ar">bytes</var>. The <var class="Ar">bytes</var> limit can end
      with &#x2018;<code class="Li">m</code>&#x2019;,
      &#x2018;<code class="Li">k</code>&#x2019;, or
      &#x2018;<code class="Li">b</code>&#x2019; to specify multiplication by
      1048576 (1M), 1024 (1K) or 512, respectively. A pair of
      <var class="Ar">bytes</var> limits can be separated by
      &#x2018;<code class="Li">x</code>&#x2019; to indicate a product.
    <p class="Pp"><i class="Em">Warning</i>: Only use this option when writing
        an archive to a device which supports an end of file read condition
        based on last (or largest) write offset (such as a regular file or a
        tape drive). The use of this option with a floppy or hard disk is not
        recommended.</p>
  </dd>
  <dt><a class="permalink" href="#b"><code class="Fl" id="b">-b</code></a>
    <var class="Ar">blocksize</var></dt>
  <dd>When <i class="Em">writing</i> an archive, block the output at a positive
      decimal integer number of bytes per write to the archive file. The
      <var class="Ar">blocksize</var> must be a multiple of 512 bytes with a
      maximum of 64512 bytes. Archive block sizes larger than 32256 bytes
      violate the POSIX standard and will not be portable to all systems. A
      <var class="Ar">blocksize</var> can end with
      &#x2018;<code class="Li">k</code>&#x2019; or
      &#x2018;<code class="Li">b</code>&#x2019; to specify multiplication by
      1024 (1K) or 512, respectively. A pair of <var class="Ar">blocksizes</var>
      can be separated by &#x2018;<code class="Li">x</code>&#x2019; to indicate
      a product. A specific archive device may impose additional restrictions on
      the size of blocking it will support. When blocking is not specified, the
      default <var class="Ar">blocksize</var> is dependent on the specific
      archive format being used (see the <code class="Fl">-x</code>
    option).</dd>
  <dt><a class="permalink" href="#c"><code class="Fl" id="c">-c</code></a></dt>
  <dd>Match all file or archive members <i class="Em">except</i> those specified
      by the <var class="Ar">pattern</var> and <var class="Ar">file</var>
      operands.</dd>
  <dt><a class="permalink" href="#D"><code class="Fl" id="D">-D</code></a></dt>
  <dd>This option is the same as the <code class="Fl">-u</code> option, except
      that the file inode change time is checked instead of the file
      modification time. The file inode change time can be used to select files
      whose inode information (e.g., UID, GID, etc.) is newer than a copy of the
      file in the destination <var class="Ar">directory</var>.</dd>
  <dt><a class="permalink" href="#d"><code class="Fl" id="d">-d</code></a></dt>
  <dd>Cause files of type directory being copied or archived, or archive members
      of type directory being extracted, to match only the directory file or
      archive member and not the file hierarchy rooted at the directory.</dd>
  <dt><a class="permalink" href="#E"><code class="Fl" id="E">-E</code></a>
    <var class="Ar">limit</var></dt>
  <dd>Limit the number of consecutive read faults while trying to read a flawed
      archive to <var class="Ar">limit</var>. With a positive
      <var class="Ar">limit</var>, <code class="Nm">pax</code> will attempt to
      recover from an archive read error and will continue processing starting
      with the next file stored in the archive. A <var class="Ar">limit</var> of
      0 will cause <code class="Nm">pax</code> to stop operation after the first
      read error is detected on an archive volume. A <var class="Ar">limit</var>
      of <code class="Li">NONE</code> will cause <code class="Nm">pax</code> to
      attempt to recover from read errors forever. The default
      <var class="Ar">limit</var> is a small positive number of retries.
    <p class="Pp"><i class="Em">Warning</i>: Using this option with
        <code class="Li">NONE</code> should be used with extreme caution as
        <code class="Nm">pax</code> may get stuck in an infinite loop on a very
        badly flawed archive.</p>
  </dd>
  <dt><a class="permalink" href="#f"><code class="Fl" id="f">-f</code></a>
    <var class="Ar">archive</var></dt>
  <dd>Specify <var class="Ar">archive</var> as the pathname of the input or
      output archive, overriding the default standard input (for
      <i class="Em">list</i> and <i class="Em">read</i>) or standard output (for
      <i class="Em">write</i>). A single archive may span multiple files and
      different archive devices. When required, <code class="Nm">pax</code> will
      prompt for the pathname of the file or device of the next volume in the
      archive.</dd>
  <dt><a class="permalink" href="#G"><code class="Fl" id="G">-G</code></a>
    <var class="Ar">group</var></dt>
  <dd>Select a file based on its <var class="Ar">group</var> name, or when
      starting with a <code class="Cm">#</code>, a numeric GID. A
      &#x2018;<code class="Li">\</code>&#x2019; can be used to escape the
      <code class="Cm">#</code>. Multiple <code class="Fl">-G</code> options may
      be supplied and checking stops with the first match.</dd>
  <dt><a class="permalink" href="#H"><code class="Fl" id="H">-H</code></a></dt>
  <dd>Follow only command-line symbolic links while performing a physical file
      system traversal.</dd>
  <dt><a class="permalink" href="#i"><code class="Fl" id="i">-i</code></a></dt>
  <dd>Interactively rename files or archive members. For each archive member
      matching a <var class="Ar">pattern</var> operand or each file matching a
      <var class="Ar">file</var> operand, <code class="Nm">pax</code> will
      prompt to <span class="Pa">/dev/tty</span> giving the name of the file,
      its file mode, and its modification time. <code class="Nm">pax</code> will
      then read a line from <span class="Pa">/dev/tty</span>. If this line is
      blank, the file or archive member is skipped. If this line consists of a
      single period, the file or archive member is processed with no
      modification to its name. Otherwise, its name is replaced with the
      contents of the line. <code class="Nm">pax</code> will immediately exit
      with a non-zero exit status if <code class="Dv">EOF</code> is encountered
      when reading a response or if <span class="Pa">/dev/tty</span> cannot be
      opened for reading and writing.</dd>
  <dt><a class="permalink" href="#j"><code class="Fl" id="j">-j</code></a></dt>
  <dd>Use bzip2 to compress (decompress) the archive while writing (reading).
      The bzip2 utility must be installed separately. Incompatible with
      <code class="Fl">-a</code>.</dd>
  <dt><a class="permalink" href="#k"><code class="Fl" id="k">-k</code></a></dt>
  <dd>Do not overwrite existing files.</dd>
  <dt><a class="permalink" href="#L"><code class="Fl" id="L">-L</code></a></dt>
  <dd>Follow all symbolic links to perform a logical file system traversal.</dd>
  <dt><a class="permalink" href="#l"><code class="Fl" id="l">-l</code></a></dt>
  <dd>(The lowercase letter &#x201C;ell&#x201D;.) Link files. In the
      <i class="Em">copy</i> mode (<code class="Fl">-r</code>
      <code class="Fl">-w</code>), hard links are made between the source and
      destination file hierarchies whenever possible.</dd>
  <dt><a class="permalink" href="#n"><code class="Fl" id="n">-n</code></a></dt>
  <dd>Select the first archive member that matches each
      <var class="Ar">pattern</var> operand. No more than one archive member is
      matched for each <var class="Ar">pattern</var>. When members of type
      directory are matched, the file hierarchy rooted at that directory is also
      matched (unless <code class="Fl">-d</code> is also specified).</dd>
  <dt><a class="permalink" href="#O"><code class="Fl" id="O">-O</code></a></dt>
  <dd>Force the archive to be one volume. If a volume ends prematurely,
      <code class="Nm">pax</code> will not prompt for a new volume. This option
      can be useful for automated tasks where error recovery cannot be performed
      by a human.</dd>
  <dt><a class="permalink" href="#o"><code class="Fl" id="o">-o</code></a>
    <var class="Ar">options</var></dt>
  <dd>Information to modify the algorithm for extracting or writing archive
      files which is specific to the archive format specified by
      <code class="Fl">-x</code>. In general, <var class="Ar">options</var> take
      the form: <var class="Ar">name</var>=<var class="Ar">value</var>.
    <p class="Pp">The following options are available for the old
        <span class="Ux">BSD</span> <i class="Em">tar</i> format:</p>
    <p class="Pp"></p>
    <dl class="Bl-tag Bl-compact">
      <dt><a class="permalink" href="#nodir"><code class="Cm" id="nodir">nodir</code></a></dt>
      <dd style="width: auto;">&#x00A0;</dd>
      <dt><a class="permalink" href="#write_opt=nodir"><code class="Cm" id="write_opt=nodir">write_opt=nodir</code></a></dt>
      <dd>When writing archives, omit the storage of directories.</dd>
    </dl>
  </dd>
  <dt><a class="permalink" href="#P"><code class="Fl" id="P">-P</code></a></dt>
  <dd>Do not follow symbolic links, perform a physical file system traversal.
      This is the default mode.</dd>
  <dt><a class="permalink" href="#p"><code class="Fl" id="p">-p</code></a>
    <var class="Ar">string</var></dt>
  <dd>Specify one or more file characteristic options (privileges). The
      <var class="Ar">string</var> option-argument is a string specifying file
      characteristics to be retained or discarded on extraction. The string
      consists of the specification characters <code class="Cm">a</code>,
      <code class="Cm">e</code>, <code class="Cm">m</code>,
      <code class="Cm">o</code>, and <code class="Cm">p</code>. Multiple
      characteristics can be concatenated within the same string and multiple
      <code class="Fl">-p</code> options can be specified. The meanings of the
      specification characters are as follows:
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#a_2"><code class="Cm" id="a_2">a</code></a></dt>
      <dd>Do not preserve file access times. By default, file access times are
          preserved whenever possible.</dd>
      <dt><a class="permalink" href="#e"><code class="Cm" id="e">e</code></a></dt>
      <dd>&#x201C;Preserve everything&#x201D;, the user ID, group ID, file mode
          bits, file access time, and file modification time. This is intended
          to be used by <i class="Em">root</i>, someone with all the appropriate
          privileges, in order to preserve all aspects of the files as they are
          recorded in the archive. The <code class="Cm">e</code> flag is the sum
          of the <code class="Cm">o</code> and <code class="Cm">p</code>
        flags.</dd>
      <dt><a class="permalink" href="#m"><code class="Cm" id="m">m</code></a></dt>
      <dd>Do not preserve file modification times. By default, file modification
          times are preserved whenever possible.</dd>
      <dt><a class="permalink" href="#o_2"><code class="Cm" id="o_2">o</code></a></dt>
      <dd>Preserve the user ID and group ID.</dd>
      <dt><a class="permalink" href="#p_2"><code class="Cm" id="p_2">p</code></a></dt>
      <dd>&#x201C;Preserve&#x201D; the file mode bits. This is intended to be
          used by a <i class="Em">user</i> with regular privileges who wants to
          preserve all aspects of the file other than the ownership. The file
          times are preserved by default, but two other flags are offered to
          disable this and use the time of extraction instead.</dd>
    </dl>
    <p class="Pp">In the preceding list, &#x2018;preserve&#x2019; indicates that
        an attribute stored in the archive is given to the extracted file,
        subject to the permissions of the invoking process. Otherwise the
        attribute of the extracted file is determined as part of the normal file
        creation action. If neither the <code class="Cm">e</code> nor the
        <code class="Cm">o</code> specification character is specified, or the
        user ID and group ID are not preserved for any reason,
        <code class="Nm">pax</code> will not set the
        <code class="Dv">S_ISUID</code> (<i class="Em">setuid</i>) and
        <code class="Dv">S_ISGID</code> (<i class="Em">setgid</i>) bits of the
        file mode. If the preservation of any of these items fails for any
        reason, <code class="Nm">pax</code> will write a diagnostic message to
        standard error. Failure to preserve these items will affect the final
        exit status, but will not cause the extracted file to be deleted. If the
        file characteristic letters in any of the string option-arguments are
        duplicated or conflict with each other, the one(s) given last will take
        precedence. For example, if <code class="Fl">-p</code>
        <var class="Ar">eme</var> is specified, file modification times are
        still preserved.</p>
  </dd>
  <dt><a class="permalink" href="#r_2"><code class="Fl" id="r_2">-r</code></a></dt>
  <dd>Read an archive file from standard input and extract the specified
      <var class="Ar">file</var> operands. If any intermediate directories are
      needed in order to extract an archive member, these directories will be
      created as if <a class="Xr">mkdir(2)</a> was called with the bitwise
      inclusive OR of <code class="Dv">S_IRWXU</code>,
      <code class="Dv">S_IRWXG</code>, and <code class="Dv">S_IRWXO</code> as
      the mode argument. When the selected archive format supports the
      specification of linked files and these files cannot be linked while the
      archive is being extracted, <code class="Nm">pax</code> will write a
      diagnostic message to standard error and exit with a non-zero exit status
      at the completion of operation.</dd>
  <dt><a class="permalink" href="#s"><code class="Fl" id="s">-s</code></a>
    <var class="Ar">replstr</var></dt>
  <dd>Modify the archive member names according to the substitution expression
      <var class="Ar">replstr</var>, using the syntax of the
      <a class="Xr">ed(1)</a> utility regular expressions.
      <var class="Ar">file</var> or <var class="Ar">pattern</var> arguments may
      be given to restrict the list of archive members to those specified.
    <p class="Pp">The format of these regular expressions is:</p>
    <p class="Pp"></p>
    <div class="Bd Bd-indent"><code class="Li">/old/new/[gp]</code></div>
    <p class="Pp">As in <a class="Xr">ed(1)</a>, <var class="Ar">old</var> is a
        basic regular expression (see <a class="Xr">re_format(7)</a>) and
        <var class="Ar">new</var> can contain an ampersand
        (&#x2018;<code class="Li">&amp;</code>&#x2019;),
        &#x2018;<code class="Li">\<i class="Em">n</i></code>&#x2019; (where
        <i class="Em">n</i> is a digit) back-references, or subexpression
        matching. The <var class="Ar">old</var> string may also contain newline
        characters. Any non-null character can be used as a delimiter
        (&#x2018;<code class="Li">/</code>&#x2019; is shown here). Multiple
        <code class="Fl">-s</code> expressions can be specified. The expressions
        are applied in the order they are specified on the command line,
        terminating with the first successful substitution.</p>
    <p class="Pp">The optional trailing <code class="Cm">g</code> continues to
        apply the substitution expression to the pathname substring, which
        starts with the first character following the end of the last successful
        substitution. The first unsuccessful substitution stops the operation of
        the <code class="Cm">g</code> option. The optional trailing
        <code class="Cm">p</code> will cause the final result of a successful
        substitution to be written to standard error in the following
      format:</p>
    <p class="Pp"></p>
    <div class="Bd Bd-indent"><i class="Em">original-pathname</i>
      <span class="No">&gt;&gt;</span> <i class="Em">new-pathname</i></div>
    <p class="Pp">File or archive member names that substitute to the empty
        string are not selected and will be skipped.</p>
  </dd>
  <dt><a class="permalink" href="#T"><code class="Fl" id="T">-T</code></a>
    <var class="Ar">range</var></dt>
  <dd>Allow files to be selected based on a file modification or inode change
      time falling within the specified time range. The range has the format:
    <div class="Bd Pp
      Bd-indent">[<var class="Ar">from_date</var>][,<var class="Ar">to_date</var>][/[<code class="Cm">c</code>][<code class="Cm">m</code>]]</div>
    <p class="Pp">The dates specified by <var class="Ar">from_date</var> to
        <var class="Ar">to_date</var> are inclusive. If only a
        <var class="Ar">from_date</var> is supplied, all files with a
        modification or inode change time equal to or younger are selected. If
        only a <var class="Ar">to_date</var> is supplied, all files with a
        modification or inode change time equal to or older will be selected.
        When the <var class="Ar">from_date</var> is equal to the
        <var class="Ar">to_date</var>, only files with a modification or inode
        change time of exactly that time will be selected.</p>
    <p class="Pp">When <code class="Nm">pax</code> is in the
        <i class="Em">write</i> or <i class="Em">copy</i> mode, the optional
        trailing field [<code class="Cm">c</code>] [<code class="Cm">m</code>]
        can be used to determine which file time (inode change, file
        modification or both) are used in the comparison. If neither is
        specified, the default is to use file modification time only. The
        <code class="Cm">m</code> specifies the comparison of file modification
        time (the time when the file was last written). The
        <code class="Cm">c</code> specifies the comparison of inode change time
        (the time when the file inode was last changed; e.g., a change of owner,
        group, mode, etc). When <code class="Cm">c</code> and
        <code class="Cm">m</code> are both specified, then the modification and
        inode change times are both compared.</p>
    <p class="Pp">The inode change time comparison is useful in selecting files
        whose attributes were recently changed or selecting files which were
        recently created and had their modification time reset to an older time
        (as what happens when a file is extracted from an archive and the
        modification time is preserved). Time comparisons using both file times
        is useful when <code class="Nm">pax</code> is used to create a time
        based incremental archive (only files that were changed during a
        specified time range will be archived).</p>
    <p class="Pp">A time range is made up of six different fields and each field
        must contain two digits. The format is:</p>
    <p class="Pp"></p>
    <div class="Bd
      Bd-indent"><code class="Li">[[[[[cc]yy]mm]dd]HH]MM[.SS]</code></div>
    <p class="Pp">Where <var class="Ar">cc</var> is the first two digits of the
        year (the century), <var class="Ar">yy</var> is the last two digits of
        the year, the first <var class="Ar">mm</var> is the month (from 01 to
        12), <var class="Ar">dd</var> is the day of the month (from 01 to 31),
        <var class="Ar">HH</var> is the hour of the day (from 00 to 23),
        <var class="Ar">MM</var> is the minute (from 00 to 59), and
        <var class="Ar">SS</var> is the seconds (from 00 to 59). The minute
        field <var class="Ar">MM</var> is required, while the other fields are
        optional and must be added in the following order:
        <var class="Ar">HH</var>, <var class="Ar">dd</var>,
        <var class="Ar">mm</var>, <var class="Ar">yy</var>,
        <var class="Ar">cc</var>.</p>
    <p class="Pp">The <var class="Ar">SS</var> field may be added independently
        of the other fields. Time ranges are relative to the current time, so
        <code class="Ic">-T 1234/cm</code> would select all files with a
        modification or inode change time of 12:34 PM today or later. Multiple
        <code class="Fl">-T</code> time range can be supplied and checking stops
        with the first match.</p>
  </dd>
  <dt><a class="permalink" href="#t"><code class="Fl" id="t">-t</code></a></dt>
  <dd>Reset the access times of any file or directory read or accessed by
      <code class="Nm">pax</code> to be the same as they were before being read
      or accessed by <code class="Nm">pax</code>.</dd>
  <dt><a class="permalink" href="#U"><code class="Fl" id="U">-U</code></a>
    <var class="Ar">user</var></dt>
  <dd>Select a file based on its <var class="Ar">user</var> name, or when
      starting with a <code class="Cm">#</code>, a numeric UID. A
      &#x2018;<code class="Li">\</code>&#x2019; can be used to escape the
      <code class="Cm">#</code>. Multiple <code class="Fl">-U</code> options may
      be supplied and checking stops with the first match.</dd>
  <dt><a class="permalink" href="#u"><code class="Fl" id="u">-u</code></a></dt>
  <dd>Ignore files that are older (having a less recent file modification time)
      than a pre-existing file or archive member with the same name. During
      <i class="Em">read</i>, an archive member with the same name as a file in
      the file system will be extracted if the archive member is newer than the
      file. During <i class="Em">write</i>, a file system member with the same
      name as an archive member will be written to the archive if it is newer
      than the archive member. During <i class="Em">copy</i>, the file in the
      destination hierarchy is replaced by the file in the source hierarchy or
      by a link to the file in the source hierarchy if the file in the source
      hierarchy is newer.</dd>
  <dt><a class="permalink" href="#v"><code class="Fl" id="v">-v</code></a></dt>
  <dd>During a <i class="Em">list</i> operation, produce a verbose table of
      contents using the format of the <a class="Xr">ls(1)</a> utility with the
      <code class="Fl">-l</code> option. For pathnames representing a hard link
      to a previous member of the archive, the output has the format:
    <p class="Pp"></p>
    <div class="Bd Bd-indent"><code class="Li"><i class="Em">ls -l listing</i>
      <code class="Li">==</code> <i class="Em">link-name</i></code></div>
    <p class="Pp">For pathnames representing a symbolic link, the output has the
        format:</p>
    <p class="Pp"></p>
    <div class="Bd Bd-indent"><code class="Li"><i class="Em">ls -l listing</i>
      <code class="Li">=&gt;</code> <i class="Em">link-name</i></code></div>
    <p class="Pp">Where <i class="Em">ls -l listing</i> is the output format
        specified by the <a class="Xr">ls(1)</a> utility when used with the
        <code class="Fl">-l</code> option. Otherwise for all the other
        operational modes (<i class="Em">read</i>, <i class="Em">write</i>,
        <span class="No">and</span> <i class="Em">copy</i>), pathnames are
        written and flushed to standard error without a trailing newline as soon
        as processing begins on that file or archive member. The trailing
        newline is not buffered and is written only after the file has been read
        or written.</p>
  </dd>
  <dt><a class="permalink" href="#w_2"><code class="Fl" id="w_2">-w</code></a></dt>
  <dd>Write files to the standard output in the specified archive format. When
      no <var class="Ar">file</var> operands are specified, standard input is
      read for a list of pathnames with one per line without any leading or
      trailing &#x27E8;blanks&#x27E9;.</dd>
  <dt><a class="permalink" href="#X"><code class="Fl" id="X">-X</code></a></dt>
  <dd>When traversing the file hierarchy specified by a pathname, do not descend
      into directories that have a different device ID. See the
      <code class="Li">st_dev</code> field as described in
      <a class="Xr">stat(2)</a> for more information about device IDs.</dd>
  <dt><a class="permalink" href="#x"><code class="Fl" id="x">-x</code></a>
    <var class="Ar">format</var></dt>
  <dd>Specify the output archive format, with the default format being
      <code class="Cm">ustar</code>. <code class="Nm">pax</code> currently
      supports the following formats:
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#bcpio"><code class="Cm" id="bcpio">bcpio</code></a></dt>
      <dd>The old binary cpio format. The default blocksize for this format is
          5120 bytes. This format is not very portable and should not be used
          when other formats are available. Inode and device information about a
          file (used for detecting file hard links by this format), which may be
          truncated by this format, is detected by <code class="Nm">pax</code>
          and is repaired.</dd>
      <dt><a class="permalink" href="#cpio"><code class="Cm" id="cpio">cpio</code></a></dt>
      <dd>The extended cpio interchange format specified in the
          <span class="St">IEEE Std 1003.2 (&#x201C;POSIX.2&#x201D;)</span>
          standard. The default blocksize for this format is 5120 bytes. Inode
          and device information about a file (used for detecting file hard
          links by this format), which may be truncated by this format, is
          detected by <code class="Nm">pax</code> and is repaired.</dd>
      <dt><a class="permalink" href="#sv4cpio"><code class="Cm" id="sv4cpio">sv4cpio</code></a></dt>
      <dd>The System V release 4 cpio. The default blocksize for this format is
          5120 bytes. Inode and device information about a file (used for
          detecting file hard links by this format), which may be truncated by
          this format, is detected by <code class="Nm">pax</code> and is
          repaired.</dd>
      <dt><a class="permalink" href="#sv4crc"><code class="Cm" id="sv4crc">sv4crc</code></a></dt>
      <dd>The System V release 4 cpio with file CRC checksums. The default
          blocksize for this format is 5120 bytes. Inode and device information
          about a file (used for detecting file hard links by this format),
          which may be truncated by this format, is detected by
          <code class="Nm">pax</code> and is repaired.</dd>
      <dt><a class="permalink" href="#tar"><code class="Cm" id="tar">tar</code></a></dt>
      <dd>The old <span class="Ux">BSD</span> tar format as found in
          <span class="Ux">4.3BSD</span>. The default blocksize for this format
          is 10240 bytes. Pathnames stored by this format must be 100 characters
          or less in length. Only <i class="Em">regular</i> files,
          <i class="Em">hard links</i>, <i class="Em">soft links</i>, and
          <i class="Em">directories</i> will be archived (other file system
          types are not supported). For backwards compatibility with even older
          tar formats, a <code class="Fl">-o</code> option can be used when
          writing an archive to omit the storage of directories. This option
          takes the form:
        <p class="Pp"></p>
        <div class="Bd Bd-indent"><code class="Li"><code class="Fl">-o</code>
          <code class="Cm">write_opt=nodir</code></code></div>
      </dd>
      <dt><a class="permalink" href="#ustar"><code class="Cm" id="ustar">ustar</code></a></dt>
      <dd>The extended tar interchange format specified in the
          <span class="St">IEEE Std 1003.2 (&#x201C;POSIX.2&#x201D;)</span>
          standard. The default blocksize for this format is 10240 bytes.
          Filenames stored by this format must be 100 characters or less in
          length; the total pathname must be 255 characters or less.</dd>
    </dl>
    <p class="Pp"><code class="Nm">pax</code> will detect and report any file
        that it is unable to store or extract as the result of any specific
        archive format restrictions. The individual archive formats may impose
        additional restrictions on use. Typical archive format restrictions
        include (but are not limited to): file pathname length, file size, link
        pathname length, and the type of the file.</p>
  </dd>
  <dt><a class="permalink" href="#Y"><code class="Fl" id="Y">-Y</code></a></dt>
  <dd>This option is the same as the <code class="Fl">-D</code> option, except
      that the inode change time is checked using the pathname created after all
      the file name modifications have completed.</dd>
  <dt><a class="permalink" href="#Z"><code class="Fl" id="Z">-Z</code></a></dt>
  <dd>This option is the same as the <code class="Fl">-u</code> option, except
      that the modification time is checked using the pathname created after all
      the file name modifications have completed.</dd>
  <dt><a class="permalink" href="#z"><code class="Fl" id="z">-z</code></a></dt>
  <dd>Use <a class="Xr">gzip(1)</a> to compress (decompress) the archive while
      writing (reading). Incompatible with <code class="Fl">-a</code>.</dd>
  <dt><a class="permalink" href="#-insecure"><code class="Fl" id="-insecure">--insecure</code></a></dt>
  <dd>Normally <code class="Nm">pax</code> ignores filenames or symbolic links
      that contain &#x201C;..&#x201D; as a path component. With this option,
      files that contain &#x201C;..&#x201D; can be processed.</dd>
</dl>
<p class="Pp">The options that operate on the names of files or archive members
    (<code class="Fl">-c</code>, <code class="Fl">-i</code>,
    <code class="Fl">-j</code>, <code class="Fl">-n</code>,
    <code class="Fl">-s</code>, <code class="Fl">-u</code>,
    <code class="Fl">-v</code>, <code class="Fl">-D</code>,
    <code class="Fl">-G</code>, <code class="Fl">-T</code>,
    <code class="Fl">-U</code>, <code class="Fl">-Y</code>, and
    <code class="Fl">-Z</code>) interact as follows.</p>
<p class="Pp">When extracting files during a <i class="Em">read</i> operation,
    archive members are &#x2018;selected&#x2019;, based only on the user
    specified pattern operands as modified by the <code class="Fl">-c</code>,
    <code class="Fl">-n</code>, <code class="Fl">-u</code>,
    <code class="Fl">-D</code>, <code class="Fl">-G</code>,
    <code class="Fl">-T</code>, <code class="Fl">-U</code> options. Then any
    <code class="Fl">-s</code> and <code class="Fl">-i</code> options will
    modify in that order, the names of these selected files. Then the
    <code class="Fl">-Y</code> and <code class="Fl">-Z</code> options will be
    applied based on the final pathname. Finally, the <code class="Fl">-v</code>
    option will write the names resulting from these modifications.</p>
<p class="Pp">When archiving files during a <i class="Em">write</i> operation,
    or copying files during a <i class="Em">copy</i> operation, archive members
    are &#x2018;selected&#x2019;, based only on the user specified pathnames as
    modified by the <code class="Fl">-n</code>, <code class="Fl">-u</code>,
    <code class="Fl">-D</code>, <code class="Fl">-G</code>,
    <code class="Fl">-T</code>, and <code class="Fl">-U</code> options (the
    <code class="Fl">-D</code> option only applies during a copy operation).
    Then any <code class="Fl">-s</code> and <code class="Fl">-i</code> options
    will modify in that order, the names of these selected files. Then during a
    <i class="Em">copy</i> operation the <code class="Fl">-Y</code> and the
    <code class="Fl">-Z</code> options will be applied based on the final
    pathname. Finally, the <code class="Fl">-v</code> option will write the
    names resulting from these modifications.</p>
<p class="Pp">When one or both of the <code class="Fl">-u</code> or
    <code class="Fl">-D</code> options are specified along with the
    <code class="Fl">-n</code> option, a file is not considered selected unless
    it is newer than the file to which it is compared.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#TMPDIR"><code class="Ev" id="TMPDIR">TMPDIR</code></a></dt>
  <dd>Path in which to store temporary files.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
Copy the contents of the current directory to the device
  <span class="Pa">/dev/rst0</span>:
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ pax -w -f /dev/rst0 .</code></div>
<p class="Pp">Give the verbose table of contents for an archive stored in
    <span class="Pa">filename</span>:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ pax -v -f filename</code></div>
<p class="Pp">This sequence of commands will copy the entire
    <span class="Pa">olddir</span> directory hierarchy to
    <span class="Pa">newdir</span>:</p>
<div class="Bd Pp Bd-indent">
<pre>
$ mkdir newdir
$ cd olddir
$ pax -rw . ../newdir
</pre>
</div>
<p class="Pp">Extract files from the archive <span class="Pa">a.pax</span>.
    Files rooted in <span class="Pa">/usr</span> are extracted relative to the
    current working directory; all other files are extracted to their unmodified
    path.</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ pax -r -s ',^/usr/,,' -f
  a.pax</code></div>
<p class="Pp">This can be used to interactively select the files to copy from
    the current directory to <span class="Pa">dest_dir</span>:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ pax -rw -i . dest_dir</code></div>
<p class="Pp">Extract all files from the archive <span class="Pa">a.pax</span>
    which are owned by <i class="Em">root</i> with group <i class="Em">bin</i>
    and preserve all file permissions:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ pax -r -pe -U root -G bin -f
  a.pax</code></div>
<p class="Pp">Update (and list) only those files in the destination directory
    <span class="Pa">/backup</span> which are older (less recent inode change or
    file modification times) than files with the same name found in the source
    file tree <span class="Pa">home</span>:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ pax -r -w -v -Y -Z home
  /backup</code></div>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<code class="Nm">pax</code> will exit with one of the following values:
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>0</dt>
  <dd>All files were processed successfully.</dd>
  <dt>1</dt>
  <dd>An error occurred.</dd>
</dl>
</div>
<p class="Pp">Whenever <code class="Nm">pax</code> cannot create a file or a
    link when reading an archive or cannot find a file when writing an archive,
    or cannot preserve the user ID, group ID, or file mode when the
    <code class="Fl">-p</code> option is specified, a diagnostic message is
    written to standard error and a non-zero exit status will be returned, but
    processing will continue. In the case where <code class="Nm">pax</code>
    cannot create a link to a file, <code class="Nm">pax</code> will not create
    a second copy of the file.</p>
<p class="Pp">If the extraction of a file from an archive is prematurely
    terminated by a signal or error, <code class="Nm">pax</code> may have only
    partially extracted a file the user wanted. Additionally, the file modes of
    extracted files and directories may have incorrect file bits, and the
    modification and access times may be wrong.</p>
<p class="Pp">If the creation of an archive is prematurely terminated by a
    signal or error, <code class="Nm">pax</code> may have only partially created
    the archive, which may violate the specific archive format
  specification.</p>
<p class="Pp">If while doing a <i class="Em">copy</i>,
    <code class="Nm">pax</code> detects a file is about to overwrite itself, the
    file is not copied, a diagnostic message is written to standard error and
    when <code class="Nm">pax</code> completes it will exit with a non-zero exit
    status.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">cpio(1)</a>, <a class="Xr">tar(1)</a>
<p class="Pp">&quot;Archiving with Pax&quot;, Dru Lavigne, ONLamp.com BSD
    DevCenter,
  http://www.onlamp.com/pub/a/bsd/2002/08/22/FreeBSD_Basics.html</p>
<p class="Pp">pax(1) manual page,
  http://heirloom.sourceforge.net/man/pax.1.html</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
The <code class="Nm">pax</code> utility is compliant with the
  <span class="St">IEEE Std 1003.1-2004 (&#x201C;POSIX.1&#x201D;)</span>
  specification.
<p class="Pp">The flags [<code class="Fl">-0BDEGHjLOPTUYZz</code>], the archive
    formats <i class="Em">bcpio</i>, <i class="Em">sv4cpio</i>,
    <i class="Em">sv4crc</i>, <i class="Em">tar</i>, and the flawed archive
    handling during <i class="Em">list</i> and <i class="Em">read</i> operations
    are extensions to that specification.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
Keith Muller at the University of California, San Diego.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 11, 2008</td>
    <td class="foot-os">Mac OS X 10.15</td>
  </tr>
</table>
</body>
</html>
