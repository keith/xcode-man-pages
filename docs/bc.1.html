<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   SPDX-License-Identifier: BSD-2-Clause
  
   Copyright (c) 2018-2021 Gavin D. Howard and contributors.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
  
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
  
   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>BC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BC(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">BC(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">bc - arbitrary-precision decimal arithmetic language and
    calculator</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>bc</b> [<b>-ghilPqRsvVw</b>] [<b>--global-stacks</b>]
    [<b>--help</b>] [<b>--interactive</b>] [<b>--mathlib</b>]
    [<b>--no-prompt</b>] [<b>--no-read-prompt</b>] [<b>--quiet</b>]
    [<b>--standard</b>] [<b>--warn</b>] [<b>--version</b>] [<b>-e</b>
    <i>expr</i>] [<b>--expression</b>=<i>expr</i>...] [<b>-f</b> <i>file</i>...]
    [<b>--file</b>=<i>file</i>...] [<i>file</i>...]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">bc(1) is an interactive processor for a language first
    standardized in 1991 by POSIX. (The current standard is here
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html).) The
    language provides unlimited precision decimal arithmetic and is somewhat
    C-like, but there are differences. Such differences will be noted in this
    document.</p>
<p class="Pp">After parsing and handling options, this bc(1) reads any files
    given on the command line and executes them before reading from
    <b>stdin</b>.</p>
<p class="Pp">This bc(1) is a drop-in replacement for <i>any</i> bc(1),
    including (and especially) the GNU bc(1). It also has many extensions and
    extra features beyond other implementations.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The following are the options that bc(1) accepts.</p>
<p class="Pp"><b>-g</b>, <b>--global-stacks</b></p>
<p class="Pp">: Turns the globals <b>ibase</b>, <b>obase</b>, <b>scale</b>, and
    <b>seed</b> into stacks.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This has the effect that a copy of the current value of all four are pushed
onto a stack for every function call, as well as popped when every function
returns. This means that functions can assign to any and all of those
globals without worrying that the change will affect other functions.
Thus, a hypothetical function named **output(x,b)** that simply printed
**x** in base **b** could be written like this:
<br/>
    define void output(x, b) {
<br/>
        obase=b
<br/>
        x
<br/>
    }
instead of like this:
<br/>
    define void output(x, b) {
<br/>
        auto c
<br/>
        c=obase
<br/>
        obase=b
<br/>
        x
<br/>
        obase=c
<br/>
    }
This makes writing functions much easier.
(**Note**: the function **output(x,b)** exists in the extended math library.
<br/>
 See the **LIBRARY** section.)
However, since using this flag means that functions cannot set **ibase**,
**obase**, **scale**, or **seed** globally, functions that are made to do so
cannot work anymore. There are two possible use cases for that, and each has
a solution.
First, if a function is called on startup to turn bc(1) into a number
converter, it is possible to replace that capability with various shell
aliases. Examples:
<br/>
    alias d2o=&quot;bc -e ibase=A -e obase=8&quot;
<br/>
    alias h2b=&quot;bc -e ibase=G -e obase=2&quot;
Second, if the purpose of a function is to set **ibase**, **obase**,
**scale**, or **seed** globally for any other purpose, it could be split
into one to four functions (based on how many globals it sets) and each of
those functions could return the desired value for a global.
For functions that set **seed**, the value assigned to **seed** is not
propagated to parent functions. This means that the sequence of
pseudo-random numbers that they see will not be the same sequence of
pseudo-random numbers that any parent sees. This is only the case once
**seed** has been set.
If a function desires to not affect the sequence of pseudo-random numbers
of its parents, but wants to use the same **seed**, it can use the following
line:
<br/>
    seed = seed
If the behavior of this option is desired for every run of bc(1), then users
could make sure to define **BC_ENV_ARGS** and include this option (see the
**ENVIRONMENT VARIABLES** section for more details).
If **-s**, **-w**, or any equivalents are used, this option is ignored.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-h</b>, <b>--help</b></p>
<p class="Pp">: Prints a usage message and quits.</p>
<p class="Pp"><b>-i</b>, <b>--interactive</b></p>
<p class="Pp">: Forces interactive mode. (See the <b>INTERACTIVE MODE</b>
    section.)</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-l</b>, <b>--mathlib</b></p>
<p class="Pp">: Sets <b>scale</b> (see the <b>SYNTAX</b> section) to <b>20</b>
    and loads the included math library and the extended math library before
    running any code, including any expressions or files specified on the
    command line.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
To learn what is in the libraries, see the **LIBRARY** section.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-P</b>, <b>--no-prompt</b></p>
<p class="Pp">: Disables the prompt in TTY mode. (The prompt is only enabled in
    TTY mode. See the <b>TTY MODE</b> section.) This is mostly for those users
    that do not want a prompt or are not used to having them in bc(1). Most of
    those users would want to put this option in <b>BC_ENV_ARGS</b> (see the
    <b>ENVIRONMENT VARIABLES</b> section).</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-R</b>, <b>--no-read-prompt</b></p>
<p class="Pp">: Disables the read prompt in TTY mode. (The read prompt is only
    enabled in TTY mode. See the <b>TTY MODE</b> section.) This is mostly for
    those users that do not want a read prompt or are not used to having them in
    bc(1). Most of those users would want to put this option in
    <b>BC_ENV_ARGS</b> (see the <b>ENVIRONMENT VARIABLES</b> section). This
    option is also useful in hash bang lines of bc(1) scripts that prompt for
    user input.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This option does not disable the regular prompt because the read prompt is
only used when the **read()** built-in function is called.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-q</b>, <b>--quiet</b></p>
<p class="Pp">: This option is for compatibility with the GNU bc(1)
    (https://www.gnu.org/software/bc/); it is a no-op. Without this option, GNU
    bc(1) prints a copyright header. This bc(1) only prints the copyright header
    if one or more of the <b>-v</b>, <b>-V</b>, or <b>--version</b> options are
    given.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-s</b>, <b>--standard</b></p>
<p class="Pp">: Process exactly the language defined by the standard
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html) and
    error if any extensions are used.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-v</b>, <b>-V</b>, <b>--version</b></p>
<p class="Pp">: Print the version information (copyright header) and exit.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-w</b>, <b>--warn</b></p>
<p class="Pp">: Like <b>-s</b> and <b>--standard</b>, except that warnings (and
    not errors) are printed for non-standard extensions and execution continues
    normally.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-e</b> <i>expr</i>, <b>--expression</b>=<i>expr</i></p>
<p class="Pp">: Evaluates <i>expr</i>. If multiple expressions are given, they
    are evaluated in order. If files are given as well (see below), the
    expressions and files are evaluated in the order given. This means that if a
    file is given before an expression, the file is read in and evaluated
  first.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If this option is given on the command-line (i.e., not in **BC_ENV_ARGS**,
see the **ENVIRONMENT VARIABLES** section), then after processing all
expressions and files, bc(1) will exit, unless **-** (**stdin**) was given
as an argument at least once to **-f** or **-\-file**, whether on the
command-line or in **BC_ENV_ARGS**. However, if any other **-e**,
**-\-expression**, **-f**, or **-\-file** arguments are given after **-f-**
or equivalent is given, bc(1) will give a fatal error and exit.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-f</b> <i>file</i>, <b>--file</b>=<i>file</i></p>
<p class="Pp">: Reads in <i>file</i> and evaluates it, line by line, as though
    it were read through <b>stdin</b>. If expressions are also given (see
    above), the expressions are evaluated in the order given.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If this option is given on the command-line (i.e., not in **BC_ENV_ARGS**,
see the **ENVIRONMENT VARIABLES** section), then after processing all
expressions and files, bc(1) will exit, unless **-** (**stdin**) was given
as an argument at least once to **-f** or **-\-file**. However, if any other
**-e**, **-\-expression**, **-f**, or **-\-file** arguments are given after
**-f-** or equivalent is given, bc(1) will give a fatal error and exit.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp">All long options are <b>non-portable extensions</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">Any non-error output is written to <b>stdout</b>. In addition, if
    history (see the <b>HISTORY</b> section) and the prompt (see the <b>TTY
    MODE</b> section) are enabled, both are output to <b>stdout</b>.</p>
<p class="Pp"><b>Note</b>: Unlike other bc(1) implementations, this bc(1) will
    issue a fatal error (see the <b>EXIT STATUS</b> section) if it cannot write
    to <b>stdout</b>, so if <b>stdout</b> is closed, as in <b>bc &gt;&amp;-</b>,
    it will quit with an error. This is done so that bc(1) can report problems
    when <b>stdout</b> is redirected to a file.</p>
<p class="Pp">If there are scripts that depend on the behavior of other bc(1)
    implementations, it is recommended that those scripts be changed to redirect
    <b>stdout</b> to <b>/dev/null</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">Any error output is written to <b>stderr</b>.</p>
<p class="Pp"><b>Note</b>: Unlike other bc(1) implementations, this bc(1) will
    issue a fatal error (see the <b>EXIT STATUS</b> section) if it cannot write
    to <b>stderr</b>, so if <b>stderr</b> is closed, as in <b>bc
    2&gt;&amp;-</b>, it will quit with an error. This is done so that bc(1) can
    exit with an error code when <b>stderr</b> is redirected to a file.</p>
<p class="Pp">If there are scripts that depend on the behavior of other bc(1)
    implementations, it is recommended that those scripts be changed to redirect
    <b>stderr</b> to <b>/dev/null</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNTAX"><a class="permalink" href="#SYNTAX">SYNTAX</a></h1>
<p class="Pp">The syntax for bc(1) programs is mostly C-like, with some
    differences. This bc(1) follows the POSIX standard
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html), which
    is a much more thorough resource for the language this bc(1) accepts. This
    section is meant to be a summary and a listing of all the extensions to the
    standard.</p>
<p class="Pp">In the sections below, <b>E</b> means expression, <b>S</b> means
    statement, and <b>I</b> means identifier.</p>
<p class="Pp">Identifiers (<b>I</b>) start with a lowercase letter and can be
    followed by any number (up to <b>BC_NAME_MAX-1</b>) of lowercase letters
    (<b>a-z</b>), digits (<b>0-9</b>), and underscores (<b>_</b>). The regex is
    <b>[a-z][a-z0-9_]*</b>. Identifiers with more than one character (letter)
    are a <b>non-portable extension</b>.</p>
<p class="Pp"><b>ibase</b> is a global variable determining how to interpret
    constant numbers. It is the &quot;input&quot; base, or the number base used
    for interpreting input numbers. <b>ibase</b> is initially <b>10</b>. If the
    <b>-s</b> (<b>--standard</b>) and <b>-w</b> (<b>--warn</b>) flags were not
    given on the command line, the max allowable value for <b>ibase</b> is
    <b>36</b>. Otherwise, it is <b>16</b>. The min allowable value for
    <b>ibase</b> is <b>2</b>. The max allowable value for <b>ibase</b> can be
    queried in bc(1) programs with the <b>maxibase()</b> built-in function.</p>
<p class="Pp"><b>obase</b> is a global variable determining how to output
    results. It is the &quot;output&quot; base, or the number base used for
    outputting numbers. <b>obase</b> is initially <b>10</b>. The max allowable
    value for <b>obase</b> is <b>BC_BASE_MAX</b> and can be queried in bc(1)
    programs with the <b>maxobase()</b> built-in function. The min allowable
    value for <b>obase</b> is <b>0</b>. If <b>obase</b> is <b>0</b>, values are
    output in scientific notation, and if <b>obase</b> is <b>1</b>, values are
    output in engineering notation. Otherwise, values are output in the
    specified base.</p>
<p class="Pp">Outputting in scientific and engineering notations are
    <b>non-portable</b> <b>extensions</b>.</p>
<p class="Pp">The <i>scale</i> of an expression is the number of digits in the
    result of the expression right of the decimal point, and <b>scale</b> is a
    global variable that sets the precision of any operations, with exceptions.
    <b>scale</b> is initially <b>0</b>. <b>scale</b> cannot be negative. The max
    allowable value for <b>scale</b> is <b>BC_SCALE_MAX</b> and can be queried
    in bc(1) programs with the <b>maxscale()</b> built-in function.</p>
<p class="Pp">bc(1) has both <i>global</i> variables and <i>local</i> variables.
    All <i>local</i> variables are local to the function; they are parameters or
    are introduced in the <b>auto</b> list of a function (see the
    <b>FUNCTIONS</b> section). If a variable is accessed which is not a
    parameter or in the <b>auto</b> list, it is assumed to be <i>global</i>. If
    a parent function has a <i>local</i> variable version of a variable that a
    child function considers <i>global</i>, the value of that <i>global</i>
    variable in the child function is the value of the variable in the parent
    function, not the value of the actual <i>global</i> variable.</p>
<p class="Pp">All of the above applies to arrays as well.</p>
<p class="Pp">The value of a statement that is an expression (i.e., any of the
    named expressions or operands) is printed unless the lowest precedence
    operator is an assignment operator <i>and</i> the expression is
    notsurrounded by parentheses.</p>
<p class="Pp">The value that is printed is also assigned to the special variable
    <b>last</b>. A single dot (<b>.</b>) may also be used as a synonym for
    <b>last</b>. These are <b>non-portable extensions</b>.</p>
<p class="Pp">Either semicolons or newlines may separate statements.</p>
<section class="Ss">
<h2 class="Ss" id="Comments"><a class="permalink" href="#Comments">Comments</a></h2>
<p class="Pp">There are two kinds of comments:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Block comments are enclosed in <b>/*</b> and <b>*/</b>.</dd>
  <dt>2.</dt>
  <dd>Line comments go from <b>#</b> until, and not including, the next newline.
      This is a <b>non-portable extension</b>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Named_Expressions"><a class="permalink" href="#Named_Expressions">Named
  Expressions</a></h2>
<p class="Pp">The following are named expressions in bc(1):</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Variables: <b>I</b></dd>
  <dt>2.</dt>
  <dd>Array Elements: <b>I[E]</b></dd>
  <dt>3.</dt>
  <dd><b>ibase</b></dd>
  <dt>4.</dt>
  <dd><b>obase</b></dd>
  <dt>5.</dt>
  <dd><b>scale</b></dd>
  <dt>6.</dt>
  <dd><b>seed</b></dd>
  <dt>7.</dt>
  <dd><b>last</b> or a single dot (<b>.</b>)</dd>
</dl>
<p class="Pp">Numbers 6 and 7 are <b>non-portable extensions</b>.</p>
<p class="Pp">The meaning of <b>seed</b> is dependent on the current
    pseudo-random number generator but is guaranteed to not change except for
    new major versions.</p>
<p class="Pp">The <i>scale</i> and sign of the value may be significant.</p>
<p class="Pp">If a previously used <b>seed</b> value is assigned to <b>seed</b>
    and used again, the pseudo-random number generator is guaranteed to produce
    the same sequence of pseudo-random numbers as it did when the <b>seed</b>
    value was previously used.</p>
<p class="Pp">The exact value assigned to <b>seed</b> is not guaranteed to be
    returned if <b>seed</b> is queried again immediately. However, if
    <b>seed</b> <i>does</i> return a different value, both values, when assigned
    to <b>seed</b>, are guaranteed to produce the same sequence of pseudo-random
    numbers. This means that certain values assigned to <b>seed</b> will
    <i>not</i> produce unique sequences of pseudo-random numbers. The value of
    <b>seed</b> will change after any use of the <b>rand()</b> and
    <b>irand(E)</b> operands (see the <i>Operands</i> subsection below), except
    if the parameter passed to <b>irand(E)</b> is <b>0</b>, <b>1</b>, or
    negative.</p>
<p class="Pp">There is no limit to the length (number of significant decimal
    digits) or <i>scale</i> of the value that can be assigned to
  <b>seed</b>.</p>
<p class="Pp">Variables and arrays do not interfere; users can have arrays named
    the same as variables. This also applies to functions (see the
    <b>FUNCTIONS</b> section), so a user can have a variable, array, and
    function that all have the same name, and they will not shadow each other,
    whether inside of functions or not.</p>
<p class="Pp">Named expressions are required as the operand of
    <b>increment</b>/<b>decrement</b> operators and as the left side of
    <b>assignment</b> operators (see the <i>Operators</i> subsection).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Operands"><a class="permalink" href="#Operands">Operands</a></h2>
<p class="Pp">The following are valid operands in bc(1):</p>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>Numbers (see the <i>Numbers</i> subsection below).</dd>
  <dt> 2.</dt>
  <dd>Array indices (<b>I[E]</b>).</dd>
  <dt> 3.</dt>
  <dd><b>(E)</b>: The value of <b>E</b> (used to change precedence).</dd>
  <dt> 4.</dt>
  <dd><b>sqrt(E)</b>: The square root of <b>E</b>. <b>E</b> must be
      non-negative.</dd>
  <dt> 5.</dt>
  <dd><b>length(E)</b>: The number of significant decimal digits in
    <b>E</b>.</dd>
  <dt> 6.</dt>
  <dd><b>length(I[])</b>: The number of elements in the array <b>I</b>. This is
      a <b>non-portable extension</b>.</dd>
  <dt> 7.</dt>
  <dd><b>scale(E)</b>: The <i>scale</i> of <b>E</b>.</dd>
  <dt> 8.</dt>
  <dd><b>abs(E)</b>: The absolute value of <b>E</b>. This is a <b>non-portable
      extension</b>.</dd>
  <dt> 9.</dt>
  <dd><b>I()</b>, <b>I(E)</b>, <b>I(E, E)</b>, and so on, where <b>I</b> is an
      identifier for a non-<b>void</b> function (see the <i>Void Functions</i>
      subsection of the <b>FUNCTIONS</b> section). The <b>E</b> argument(s) may
      also be arrays of the form <b>I[]</b>, which will automatically be turned
      into array references (see the <i>Array References</i> subsection of the
      <b>FUNCTIONS</b> section) if the corresponding parameter in the function
      definition is an array reference.</dd>
  <dt>10.</dt>
  <dd><b>read()</b>: Reads a line from <b>stdin</b> and uses that as an
      expression. The result of that expression is the result of the
      <b>read()</b> operand. This is a <b>non-portable extension</b>.</dd>
  <dt>11.</dt>
  <dd><b>maxibase()</b>: The max allowable <b>ibase</b>. This is a
      <b>non-portable extension</b>.</dd>
  <dt>12.</dt>
  <dd><b>maxobase()</b>: The max allowable <b>obase</b>. This is a
      <b>non-portable extension</b>.</dd>
  <dt>13.</dt>
  <dd><b>maxscale()</b>: The max allowable <b>scale</b>. This is a
      <b>non-portable extension</b>.</dd>
  <dt>14.</dt>
  <dd><b>rand()</b>: A pseudo-random integer between <b>0</b> (inclusive) and
      <b>BC_RAND_MAX</b> (inclusive). Using this operand will change the value
      of <b>seed</b>. This is a <b>non-portable extension</b>.</dd>
  <dt>15.</dt>
  <dd><b>irand(E)</b>: A pseudo-random integer between <b>0</b> (inclusive) and
      the value of <b>E</b> (exclusive). If <b>E</b> is negative or is a
      non-integer (<b>E</b>'s <i>scale</i> is not <b>0</b>), an error is raised,
      and bc(1) resets (see the <b>RESET</b> section) while <b>seed</b> remains
      unchanged. If <b>E</b> is larger than <b>BC_RAND_MAX</b>, the higher bound
      is honored by generating several pseudo-random integers, multiplying them
      by appropriate powers of <b>BC_RAND_MAX+1</b>, and adding them together.
      Thus, the size of integer that can be generated with this operand is
      unbounded. Using this operand will change the value of <b>seed</b>, unless
      the value of <b>E</b> is <b>0</b> or <b>1</b>. In that case, <b>0</b> is
      returned, and <b>seed</b> is <i>not</i> changed. This is a <b>non-portable
      extension</b>.</dd>
  <dt>16.</dt>
  <dd><b>maxrand()</b>: The max integer returned by <b>rand()</b>. This is a
      <b>non-portable extension</b>.</dd>
</dl>
<p class="Pp">The integers generated by <b>rand()</b> and <b>irand(E)</b> are
    guaranteed to be as unbiased as possible, subject to the limitations of the
    pseudo-random number generator.</p>
<p class="Pp"><b>Note</b>: The values returned by the pseudo-random number
    generator with <b>rand()</b> and <b>irand(E)</b> are guaranteed to
    <i>NOT</i> be cryptographically secure. This is a consequence of using a
    seeded pseudo-random number generator. However, they <i>are</i> guaranteed
    to be reproducible with identical <b>seed</b> values. This means that the
    pseudo-random values from bc(1) should only be used where a reproducible
    stream of pseudo-random numbers is <i>ESSENTIAL</i>. In any other case, use
    a non-seeded pseudo-random number generator.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Numbers"><a class="permalink" href="#Numbers">Numbers</a></h2>
<p class="Pp">Numbers are strings made up of digits, uppercase letters, and at
    most <b>1</b> period for a radix. Numbers can have up to <b>BC_NUM_MAX</b>
    digits. Uppercase letters are equal to <b>9</b> + their position in the
    alphabet (i.e., <b>A</b> equals <b>10</b>, or <b>9+1</b>). If a digit or
    letter makes no sense with the current value of <b>ibase</b>, they are set
    to the value of the highest valid digit in <b>ibase</b>.</p>
<p class="Pp">Single-character numbers (i.e., <b>A</b> alone) take the value
    that they would have if they were valid digits, regardless of the value of
    <b>ibase</b>. This means that <b>A</b> alone always equals decimal <b>10</b>
    and <b>Z</b> alone always equals decimal <b>35</b>.</p>
<p class="Pp">In addition, bc(1) accepts numbers in scientific notation. These
    have the form <b>&lt;number&gt;e&lt;integer&gt;</b>. The exponent (the
    portion after the <b>e</b>) must be an integer. An example is
    <b>1.89237e9</b>, which is equal to <b>1892370000</b>. Negative exponents
    are also allowed, so <b>4.2890e-3</b> is equal to <b>0.0042890</b>.</p>
<p class="Pp">Using scientific notation is an error or warning if the <b>-s</b>
    or <b>-w</b>, respectively, command-line options (or equivalents) are
  given.</p>
<p class="Pp"><b>WARNING</b>: Both the number and the exponent in scientific
    notation are interpreted according to the current <b>ibase</b>, but the
    number is still multiplied by <b>10^exponent</b> regardless of the current
    <b>ibase</b>. For example, if <b>ibase</b> is <b>16</b> and bc(1) is given
    the number string <b>FFeA</b>, the resulting decimal number will be
    <b>2550000000000</b>, and if bc(1) is given the number string <b>10e-4</b>,
    the resulting decimal number will be <b>0.0016</b>.</p>
<p class="Pp">Accepting input as scientific notation is a <b>non-portable</b>
    <b>extension</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Operators"><a class="permalink" href="#Operators">Operators</a></h2>
<p class="Pp">The following arithmetic and logical operators can be used. They
    are listed in order of decreasing precedence. Operators in the same group
    have the same precedence.</p>
<p class="Pp"><b>++</b> <b>--</b></p>
<p class="Pp">: Type: Prefix and Postfix</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: None
Description: **increment**, **decrement**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-</b> <b>!</b></p>
<p class="Pp">: Type: Prefix</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: None
Description: **negation**, **boolean not**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>$</b></p>
<p class="Pp">: Type: Postfix</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: None
Description: **truncation**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>@</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Right
Description: **set precision**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>^</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Right
Description: **power**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>*</b> <b>/</b> <b>%</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Left
Description: **multiply**, **divide**, **modulus**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>+</b> <b>-</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Left
Description: **add**, **subtract**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>&lt;&lt;</b> <b>&gt;&gt;</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Left
Description: **shift left**, **shift right**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>=</b> <b>&lt;&lt;=</b> <b>&gt;&gt;=</b> <b>+=</b> <b>-=</b>
    <b>*=</b> <b>/=</b> <b>%=</b> <b>^=</b> <b>@=</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Right
Description: **assignment**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>==</b> <b>&lt;=</b> <b>&gt;=</b> <b>!=</b> <b>&lt;</b>
    <b>&gt;</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Left
Description: **relational**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>&amp;&amp;</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Left
Description: **boolean and**
    </pre>
  </dd>
</dl>
<p class="Pp"><b>||</b></p>
<p class="Pp">: Type: Binary</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Associativity: Left
Description: **boolean or**
    </pre>
  </dd>
</dl>
<p class="Pp">The operators will be described in more detail below.</p>
<p class="Pp"><b>++</b> <b>--</b></p>
<p class="Pp">: The prefix and postfix <b>increment</b> and <b>decrement</b>
    operators behave exactly like they would in C. They require a named
    expression (see the <i>Named Expressions</i> subsection) as an operand.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The prefix versions of these operators are more efficient; use them where
possible.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>-</b></p>
<p class="Pp">: The <b>negation</b> operator returns <b>0</b> if a user attempts
    to negate any expression with the value <b>0</b>. Otherwise, a copy of the
    expression with its sign flipped is returned.</p>
<p class="Pp"><b>!</b></p>
<p class="Pp">: The <b>boolean not</b> operator returns <b>1</b> if the
    expression is <b>0</b>, or <b>0</b> otherwise.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>$</b></p>
<p class="Pp">: The <b>truncation</b> operator returns a copy of the given
    expression with all of its <i>scale</i> removed.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>@</b></p>
<p class="Pp">: The <b>set precision</b> operator takes two expressions and
    returns a copy of the first with its <i>scale</i> equal to the value of the
    second expression. That could either mean that the number is returned
    without change (if the <i>scale</i> of the first expression matches the
    value of the second expression), extended (if it is less), or truncated (if
    it is more).</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The second expression must be an integer (no *scale*) and non-negative.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>^</b></p>
<p class="Pp">: The <b>power</b> operator (not the <b>exclusive or</b> operator,
    as it would be in C) takes two expressions and raises the first to the power
    of the value of the second. The <i>scale</i> of the result is equal to
    <b>scale</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The second expression must be an integer (no *scale*), and if it is
negative, the first value must be non-zero.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>*</b></p>
<p class="Pp">: The <b>multiply</b> operator takes two expressions, multiplies
    them, and returns the product. If <b>a</b> is the <i>scale</i> of the first
    expression and <b>b</b> is the <i>scale</i> of the second expression, the
    <i>scale</i> of the result is equal to <b>min(a+b,max(scale,a,b))</b> where
    <b>min()</b> and <b>max()</b> return the obvious values.</p>
<p class="Pp"><b>/</b></p>
<p class="Pp">: The <b>divide</b> operator takes two expressions, divides them,
    and returns the quotient. The <i>scale</i> of the result shall be the value
    of <b>scale</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The second expression must be non-zero.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>%</b></p>
<p class="Pp">: The <b>modulus</b> operator takes two expressions, <b>a</b> and
    <b>b</b>, and evaluates them by 1) Computing <b>a/b</b> to current
    <b>scale</b> and 2) Using the result of step 1 to calculate <b>a-(a/b)*b</b>
    to <i>scale</i> <b>max(scale+scale(b),scale(a))</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The second expression must be non-zero.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>+</b></p>
<p class="Pp">: The <b>add</b> operator takes two expressions, <b>a</b> and
    <b>b</b>, and returns the sum, with a <i>scale</i> equal to the max of the
    <i>scale</i>s of <b>a</b> and <b>b</b>.</p>
<p class="Pp"><b>-</b></p>
<p class="Pp">: The <b>subtract</b> operator takes two expressions, <b>a</b> and
    <b>b</b>, and returns the difference, with a <i>scale</i> equal to the max
    of the <i>scale</i>s of <b>a</b> and <b>b</b>.</p>
<p class="Pp"><b>&lt;&lt;</b></p>
<p class="Pp">: The <b>left shift</b> operator takes two expressions, <b>a</b>
    and <b>b</b>, and returns a copy of the value of <b>a</b> with its decimal
    point moved <b>b</b> places to the right.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The second expression must be an integer (no *scale*) and non-negative.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>&gt;&gt;</b></p>
<p class="Pp">: The <b>right shift</b> operator takes two expressions, <b>a</b>
    and <b>b</b>, and returns a copy of the value of <b>a</b> with its decimal
    point moved <b>b</b> places to the left.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The second expression must be an integer (no *scale*) and non-negative.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>=</b> <b>&lt;&lt;=</b> <b>&gt;&gt;=</b> <b>+=</b> <b>-=</b>
    <b>*=</b> <b>/=</b> <b>%=</b> <b>^=</b> <b>@=</b></p>
<p class="Pp">: The <b>assignment</b> operators take two expressions, <b>a</b>
    and <b>b</b> where <b>a</b> is a named expression (see the <i>Named
    Expressions</i> subsection).</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
For **=**, **b** is copied and the result is assigned to **a**. For all
others, **a** and **b** are applied as operands to the corresponding
arithmetic operator and the result is assigned to **a**.
The **assignment** operators that correspond to operators that are
extensions are themselves **non-portable extensions**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>==</b> <b>&lt;=</b> <b>&gt;=</b> <b>!=</b> <b>&lt;</b>
    <b>&gt;</b></p>
<p class="Pp">: The <b>relational</b> operators compare two expressions,
    <b>a</b> and <b>b</b>, and if the relation holds, according to C language
    semantics, the result is <b>1</b>. Otherwise, it is <b>0</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Note that unlike in C, these operators have a lower precedence than the
**assignment** operators, which means that **a=b\&gt;c** is interpreted as
**(a=b)\&gt;c**.
Also, unlike the [standard][1] requires, these operators can appear anywhere
any other expressions can be used. This allowance is a
**non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>&amp;&amp;</b></p>
<p class="Pp">: The <b>boolean and</b> operator takes two expressions and
    returns <b>1</b> if both expressions are non-zero, <b>0</b> otherwise.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is *not* a short-circuit operator.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>||</b></p>
<p class="Pp">: The <b>boolean or</b> operator takes two expressions and returns
    <b>1</b> if one of the expressions is non-zero, <b>0</b> otherwise.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is *not* a short-circuit operator.
This is a **non-portable extension**.
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Statements"><a class="permalink" href="#Statements">Statements</a></h2>
<p class="Pp">The following items are statements:</p>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd><b>E</b></dd>
  <dt> 2.</dt>
  <dd><b>{</b> <b>S</b> <b>;</b> ... <b>;</b> <b>S</b> <b>}</b></dd>
  <dt> 3.</dt>
  <dd><b>if</b> <b>(</b> <b>E</b> <b>)</b> <b>S</b></dd>
  <dt> 4.</dt>
  <dd><b>if</b> <b>(</b> <b>E</b> <b>)</b> <b>S</b> <b>else</b> <b>S</b></dd>
  <dt> 5.</dt>
  <dd><b>while</b> <b>(</b> <b>E</b> <b>)</b> <b>S</b></dd>
  <dt> 6.</dt>
  <dd><b>for</b> <b>(</b> <b>E</b> <b>;</b> <b>E</b> <b>;</b> <b>E</b> <b>)</b>
      <b>S</b></dd>
  <dt> 7.</dt>
  <dd>An empty statement</dd>
  <dt> 8.</dt>
  <dd><b>break</b></dd>
  <dt> 9.</dt>
  <dd><b>continue</b></dd>
  <dt>10.</dt>
  <dd><b>quit</b></dd>
  <dt>11.</dt>
  <dd><b>halt</b></dd>
  <dt>12.</dt>
  <dd><b>limits</b></dd>
  <dt>13.</dt>
  <dd>A string of characters, enclosed in double quotes</dd>
  <dt>14.</dt>
  <dd><b>print</b> <b>E</b> <b>,</b> ... <b>,</b> <b>E</b></dd>
  <dt>15.</dt>
  <dd><b>I()</b>, <b>I(E)</b>, <b>I(E, E)</b>, and so on, where <b>I</b> is an
      identifier for a <b>void</b> function (see the <i>Void Functions</i>
      subsection of the <b>FUNCTIONS</b> section). The <b>E</b> argument(s) may
      also be arrays of the form <b>I[]</b>, which will automatically be turned
      into array references (see the <i>Array References</i> subsection of the
      <b>FUNCTIONS</b> section) if the corresponding parameter in the function
      definition is an array reference.</dd>
</dl>
<p class="Pp">Numbers 4, 9, 11, 12, 14, and 15 are <b>non-portable
    extensions</b>.</p>
<p class="Pp">Also, as a <b>non-portable extension</b>, any or all of the
    expressions in the header of a for loop may be omitted. If the condition
    (second expression) is omitted, it is assumed to be a constant <b>1</b>.</p>
<p class="Pp">The <b>break</b> statement causes a loop to stop iterating and
    resume execution immediately following a loop. This is only allowed in
    loops.</p>
<p class="Pp">The <b>continue</b> statement causes a loop iteration to stop
    early and returns to the start of the loop, including testing the loop
    condition. This is only allowed in loops.</p>
<p class="Pp">The <b>if</b> <b>else</b> statement does the same thing as in
  C.</p>
<p class="Pp">The <b>quit</b> statement causes bc(1) to quit, even if it is on a
    branch that will not be executed (it is a compile-time command).</p>
<p class="Pp">The <b>halt</b> statement causes bc(1) to quit, if it is executed.
    (Unlike <b>quit</b> if it is on a branch of an <b>if</b> statement that is
    not executed, bc(1) does not quit.)</p>
<p class="Pp">The <b>limits</b> statement prints the limits that this bc(1) is
    subject to. This is like the <b>quit</b> statement in that it is a
    compile-time command.</p>
<p class="Pp">An expression by itself is evaluated and printed, followed by a
    newline.</p>
<p class="Pp">Both scientific notation and engineering notation are available
    for printing the results of expressions. Scientific notation is activated by
    assigning <b>0</b> to <b>obase</b>, and engineering notation is activated by
    assigning <b>1</b> to <b>obase</b>. To deactivate them, just assign a
    different value to <b>obase</b>.</p>
<p class="Pp">Scientific notation and engineering notation are disabled if bc(1)
    is run with either the <b>-s</b> or <b>-w</b> command-line options (or
    equivalents).</p>
<p class="Pp">Printing numbers in scientific notation and/or engineering
    notation is a <b>non-portable extension</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Print_Statement"><a class="permalink" href="#Print_Statement">Print
  Statement</a></h2>
<p class="Pp">The &quot;expressions&quot; in a <b>print</b> statement may also
    be strings. If they are, there are backslash escape sequences that are
    interpreted specially. What those sequences are, and what they cause to be
    printed, are shown below:</p>
<p class="Pp">
  <br/>
   * * * * *</p>
<p class="Pp"><b>\a</b> <b>\a</b> <b>\b</b> <b>\b</b> <b>\\</b> <b>\</b>
    <b>\e</b> <b>\</b> <b>\f</b> <b>\f</b> <b>\n</b> <b>\n</b> <b>\q</b>
    <b>&quot;</b> <b>\r</b> <b>\r</b> <b>\t</b> <b>\t</b></p>
<p class="Pp">
  <br/>
   * * * * *</p>
<p class="Pp">Any other character following a backslash causes the backslash and
    character to be printed as-is.</p>
<p class="Pp">Any non-string expression in a print statement shall be assigned
    to <b>last</b>, like any other expression that is printed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Order_of_Evaluation"><a class="permalink" href="#Order_of_Evaluation">Order
  of Evaluation</a></h2>
<p class="Pp">All expressions in a statment are evaluated left to right, except
    as necessary to maintain order of operations. This means, for example,
    assuming that <b>i</b> is equal to <b>0</b>, in the expression</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
a[i++] = i++
    </pre>
  </dd>
</dl>
<p class="Pp">the first (or 0th) element of <b>a</b> is set to <b>1</b>, and
    <b>i</b> is equal to <b>2</b> at the end of the expression.</p>
<p class="Pp">This includes function arguments. Thus, assuming <b>i</b> is equal
    to <b>0</b>, this means that in the expression</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
x(i++, i++)
    </pre>
  </dd>
</dl>
<p class="Pp">the first argument passed to <b>x()</b> is <b>0</b>, and the
    second argument is <b>1</b>, while <b>i</b> is equal to <b>2</b> before the
    function starts executing.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<p class="Pp">Function definitions are as follows:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
define I(I,...,I){
<br/>
    auto I,...,I
<br/>
    S;...;S
<br/>
    return(E)
}
    </pre>
  </dd>
</dl>
<p class="Pp">Any <b>I</b> in the parameter list or <b>auto</b> list may be
    replaced with <b>I[]</b> to make a parameter or <b>auto</b> var an array,
    and any <b>I</b> in the parameter list may be replaced with <b>*I[]</b> to
    make a parameter an array reference. Callers of functions that take array
    references should not put an asterisk in the call; they must be called with
    just <b>I[]</b> like normal array parameters and will be automatically
    converted into references.</p>
<p class="Pp">As a <b>non-portable extension</b>, the opening brace of a
    <b>define</b> statement may appear on the next line.</p>
<p class="Pp">As a <b>non-portable extension</b>, the return statement may also
    be in one of the following forms:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd><b>return</b></dd>
  <dt>2.</dt>
  <dd><b>return</b> <b>(</b> <b>)</b></dd>
  <dt>3.</dt>
  <dd><b>return</b> <b>E</b></dd>
</dl>
<p class="Pp">The first two, or not specifying a <b>return</b> statement, is
    equivalent to <b>return (0)</b>, unless the function is a <b>void</b>
    function (see the <i>Void Functions</i> subsection below).</p>
<section class="Ss">
<h2 class="Ss" id="Void_Functions"><a class="permalink" href="#Void_Functions">Void
  Functions</a></h2>
<p class="Pp">Functions can also be <b>void</b> functions, defined as
  follows:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
define void I(I,...,I){
<br/>
    auto I,...,I
<br/>
    S;...;S
<br/>
    return
}
    </pre>
  </dd>
</dl>
<p class="Pp">They can only be used as standalone expressions, where such an
    expression would be printed alone, except in a print statement.</p>
<p class="Pp">Void functions can only use the first two <b>return</b> statements
    listed above. They can also omit the return statement entirely.</p>
<p class="Pp">The word &quot;void&quot; is not treated as a keyword; it is still
    possible to have variables, arrays, and functions named <b>void</b>. The
    word &quot;void&quot; is only treated specially right after the
    <b>define</b> keyword.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Array_References"><a class="permalink" href="#Array_References">Array
  References</a></h2>
<p class="Pp">For any array in the parameter list, if the array is declared in
    the form</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
*I[]
    </pre>
  </dd>
</dl>
<p class="Pp">it is a <b>reference</b>. Any changes to the array in the function
    are reflected, when the function returns, to the array that was passed
  in.</p>
<p class="Pp">Other than this, all function arguments are passed by value.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp">All of the functions below, including the functions in the
    extended math library (see the <i>Extended Library</i> subsection below),
    are available when the <b>-l</b> or <b>--mathlib</b> command-line flags are
    given, except that the extended math library is not available when the
    <b>-s</b> option, the <b>-w</b> option, or equivalents are given.</p>
<section class="Ss">
<h2 class="Ss" id="Standard_Library"><a class="permalink" href="#Standard_Library">Standard
  Library</a></h2>
<p class="Pp">The standard
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html) defines
    the following functions for the math library:</p>
<p class="Pp"><b>s(x)</b></p>
<p class="Pp">: Returns the sine of <b>x</b>, which is assumed to be in
  radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>c(x)</b></p>
<p class="Pp">: Returns the cosine of <b>x</b>, which is assumed to be in
    radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>a(x)</b></p>
<p class="Pp">: Returns the arctangent of <b>x</b>, in radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>l(x)</b></p>
<p class="Pp">: Returns the natural logarithm of <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>e(x)</b></p>
<p class="Pp">: Returns the mathematical constant <b>e</b> raised to the power
    of <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>j(x, n)</b></p>
<p class="Pp">: Returns the bessel integer order <b>n</b> (truncated) of
    <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Extended_Library"><a class="permalink" href="#Extended_Library">Extended
  Library</a></h2>
<p class="Pp">The extended library is <i>not</i> loaded when the
    <b>-s</b>/<b>--standard</b> or <b>-w</b>/<b>--warn</b> options are given
    since they are not part of the library defined by the standard
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html).</p>
<p class="Pp">The extended library is a <b>non-portable extension</b>.</p>
<p class="Pp"><b>p(x, y)</b></p>
<p class="Pp">: Calculates <b>x</b> to the power of <b>y</b>, even if <b>y</b>
    is not an integer, and returns the result to the current <b>scale</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
It is an error if **y** is negative and **x** is **0**.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>r(x, p)</b></p>
<p class="Pp">: Returns <b>x</b> rounded to <b>p</b> decimal places according to
    the rounding mode round half away from <b>0</b>
    (https://en.wikipedia.org/wiki/Rounding#Round_half_away_from_zero).</p>
<p class="Pp"><b>ceil(x, p)</b></p>
<p class="Pp">: Returns <b>x</b> rounded to <b>p</b> decimal places according to
    the rounding mode round away from <b>0</b>
    (https://en.wikipedia.org/wiki/Rounding#Rounding_away_from_zero).</p>
<p class="Pp"><b>f(x)</b></p>
<p class="Pp">: Returns the factorial of the truncated absolute value of
    <b>x</b>.</p>
<p class="Pp"><b>perm(n, k)</b></p>
<p class="Pp">: Returns the permutation of the truncated absolute value of
    <b>n</b> of the truncated absolute value of <b>k</b>, if <b>k &lt;= n</b>.
    If not, it returns <b>0</b>.</p>
<p class="Pp"><b>comb(n, k)</b></p>
<p class="Pp">: Returns the combination of the truncated absolute value of
    <b>n</b> of the truncated absolute value of <b>k</b>, if <b>k &lt;= n</b>.
    If not, it returns <b>0</b>.</p>
<p class="Pp"><b>l2(x)</b></p>
<p class="Pp">: Returns the logarithm base <b>2</b> of <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>l10(x)</b></p>
<p class="Pp">: Returns the logarithm base <b>10</b> of <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>log(x, b)</b></p>
<p class="Pp">: Returns the logarithm base <b>b</b> of <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>cbrt(x)</b></p>
<p class="Pp">: Returns the cube root of <b>x</b>.</p>
<p class="Pp"><b>root(x, n)</b></p>
<p class="Pp">: Calculates the truncated value of <b>n</b>, <b>r</b>, and
    returns the <b>r</b>th root of <b>x</b> to the current <b>scale</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **r** is **0** or negative, this raises an error and causes bc(1) to
reset (see the **RESET** section). It also raises an error and causes bc(1)
to reset if **r** is even and **x** is negative.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>pi(p)</b></p>
<p class="Pp">: Returns <b>pi</b> to <b>p</b> decimal places.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>t(x)</b></p>
<p class="Pp">: Returns the tangent of <b>x</b>, which is assumed to be in
    radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>a2(y, x)</b></p>
<p class="Pp">: Returns the arctangent of <b>y/x</b>, in radians. If both
    <b>y</b> and <b>x</b> are equal to <b>0</b>, it raises an error and causes
    bc(1) to reset (see the <b>RESET</b> section). Otherwise, if <b>x</b> is
    greater than <b>0</b>, it returns <b>a(y/x)</b>. If <b>x</b> is less than
    <b>0</b>, and <b>y</b> is greater than or equal to <b>0</b>, it returns
    <b>a(y/x)+pi</b>. If <b>x</b> is less than <b>0</b>, and <b>y</b> is less
    than <b>0</b>, it returns <b>a(y/x)-pi</b>. If <b>x</b> is equal to
    <b>0</b>, and <b>y</b> is greater than <b>0</b>, it returns <b>pi/2</b>. If
    <b>x</b> is equal to <b>0</b>, and <b>y</b> is less than <b>0</b>, it
    returns <b>-pi/2</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This function is the same as the **atan2()** function in many programming
languages.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>sin(x)</b></p>
<p class="Pp">: Returns the sine of <b>x</b>, which is assumed to be in
  radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is an alias of **s(x)**.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>cos(x)</b></p>
<p class="Pp">: Returns the cosine of <b>x</b>, which is assumed to be in
    radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is an alias of **c(x)**.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>tan(x)</b></p>
<p class="Pp">: Returns the tangent of <b>x</b>, which is assumed to be in
    radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is equal to **1** or **-1**, this raises an error and causes bc(1)
to reset (see the **RESET** section).
This is an alias of **t(x)**.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>atan(x)</b></p>
<p class="Pp">: Returns the arctangent of <b>x</b>, in radians.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is an alias of **a(x)**.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>atan2(y, x)</b></p>
<p class="Pp">: Returns the arctangent of <b>y/x</b>, in radians. If both
    <b>y</b> and <b>x</b> are equal to <b>0</b>, it raises an error and causes
    bc(1) to reset (see the <b>RESET</b> section). Otherwise, if <b>x</b> is
    greater than <b>0</b>, it returns <b>a(y/x)</b>. If <b>x</b> is less than
    <b>0</b>, and <b>y</b> is greater than or equal to <b>0</b>, it returns
    <b>a(y/x)+pi</b>. If <b>x</b> is less than <b>0</b>, and <b>y</b> is less
    than <b>0</b>, it returns <b>a(y/x)-pi</b>. If <b>x</b> is equal to
    <b>0</b>, and <b>y</b> is greater than <b>0</b>, it returns <b>pi/2</b>. If
    <b>x</b> is equal to <b>0</b>, and <b>y</b> is less than <b>0</b>, it
    returns <b>-pi/2</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This function is the same as the **atan2()** function in many programming
languages.
This is an alias of **a2(y, x)**.
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>r2d(x)</b></p>
<p class="Pp">: Converts <b>x</b> from radians to degrees and returns the
    result.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>d2r(x)</b></p>
<p class="Pp">: Converts <b>x</b> from degrees to radians and returns the
    result.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a transcendental function (see the *Transcendental Functions*
subsection below).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>frand(p)</b></p>
<p class="Pp">: Generates a pseudo-random number between <b>0</b> (inclusive)
    and <b>1</b> (exclusive) with the number of decimal digits after the decimal
    point equal to the truncated absolute value of <b>p</b>. If <b>p</b> is not
    <b>0</b>, then calling this function will change the value of <b>seed</b>.
    If <b>p</b> is <b>0</b>, then <b>0</b> is returned, and <b>seed</b> is
    <i>not</i> changed.</p>
<p class="Pp"><b>ifrand(i, p)</b></p>
<p class="Pp">: Generates a pseudo-random number that is between <b>0</b>
    (inclusive) and the truncated absolute value of <b>i</b> (exclusive) with
    the number of decimal digits after the decimal point equal to the truncated
    absolute value of <b>p</b>. If the absolute value of <b>i</b> is greater
    than or equal to <b>2</b>, and <b>p</b> is not <b>0</b>, then calling this
    function will change the value of <b>seed</b>; otherwise, <b>0</b> is
    returned and <b>seed</b> is not changed.</p>
<p class="Pp"><b>srand(x)</b></p>
<p class="Pp">: Returns <b>x</b> with its sign flipped with probability
    <b>0.5</b>. In other words, it randomizes the sign of <b>x</b>.</p>
<p class="Pp"><b>brand()</b></p>
<p class="Pp">: Returns a random boolean value (either <b>0</b> or
  <b>1</b>).</p>
<p class="Pp"><b>ubytes(x)</b></p>
<p class="Pp">: Returns the numbers of unsigned integer bytes required to hold
    the truncated absolute value of <b>x</b>.</p>
<p class="Pp"><b>sbytes(x)</b></p>
<p class="Pp">: Returns the numbers of signed, two's-complement integer bytes
    required to hold the truncated value of <b>x</b>.</p>
<p class="Pp"><b>hex(x)</b></p>
<p class="Pp">: Outputs the hexadecimal (base <b>16</b>) representation of
    <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>binary(x)</b></p>
<p class="Pp">: Outputs the binary (base <b>2</b>) representation of
  <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>output(x, b)</b></p>
<p class="Pp">: Outputs the base <b>b</b> representation of <b>x</b>.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>uint(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as an unsigned integer in as few power of two bytes as possible.
    Both outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer or is negative, an error message is printed
instead, but bc(1) is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>int(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as a signed, two's-complement integer in as few power of two bytes
    as possible. Both outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer, an error message is printed instead, but bc(1)
is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>uintn(x, n)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as an unsigned integer in <b>n</b> bytes. Both outputs are split
    into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer, is negative, or cannot fit into **n** bytes, an
error message is printed instead, but bc(1) is not reset (see the **RESET**
section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>intn(x, n)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as a signed, two's-complement integer in <b>n</b> bytes. Both
    outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer or cannot fit into **n** bytes, an error message
is printed instead, but bc(1) is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>uint8(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as an unsigned integer in <b>1</b> byte. Both outputs are split
    into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer, is negative, or cannot fit into **1** byte, an
error message is printed instead, but bc(1) is not reset (see the **RESET**
section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>int8(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as a signed, two's-complement integer in <b>1</b> byte. Both
    outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer or cannot fit into **1** byte, an error message
is printed instead, but bc(1) is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>uint16(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as an unsigned integer in <b>2</b> bytes. Both outputs are split
    into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer, is negative, or cannot fit into **2** bytes, an
error message is printed instead, but bc(1) is not reset (see the **RESET**
section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>int16(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as a signed, two's-complement integer in <b>2</b> bytes. Both
    outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer or cannot fit into **2** bytes, an error message
is printed instead, but bc(1) is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>uint32(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as an unsigned integer in <b>4</b> bytes. Both outputs are split
    into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer, is negative, or cannot fit into **4** bytes, an
error message is printed instead, but bc(1) is not reset (see the **RESET**
section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>int32(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as a signed, two's-complement integer in <b>4</b> bytes. Both
    outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer or cannot fit into **4** bytes, an error message
is printed instead, but bc(1) is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>uint64(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as an unsigned integer in <b>8</b> bytes. Both outputs are split
    into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer, is negative, or cannot fit into **8** bytes, an
error message is printed instead, but bc(1) is not reset (see the **RESET**
section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>int64(x)</b></p>
<p class="Pp">: Outputs the representation, in binary and hexadecimal, of
    <b>x</b> as a signed, two's-complement integer in <b>8</b> bytes. Both
    outputs are split into bytes separated by spaces.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
If **x** is not an integer or cannot fit into **8** bytes, an error message
is printed instead, but bc(1) is not reset (see the **RESET** section).
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>hex_uint(x, n)</b></p>
<p class="Pp">: Outputs the representation of the truncated absolute value of
    <b>x</b> as an unsigned integer in hexadecimal using <b>n</b> bytes. Not all
    of the value will be output if <b>n</b> is too small.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>binary_uint(x, n)</b></p>
<p class="Pp">: Outputs the representation of the truncated absolute value of
    <b>x</b> as an unsigned integer in binary using <b>n</b> bytes. Not all of
    the value will be output if <b>n</b> is too small.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>output_uint(x, n)</b></p>
<p class="Pp">: Outputs the representation of the truncated absolute value of
    <b>x</b> as an unsigned integer in the current <b>obase</b> (see the
    <b>SYNTAX</b> section) using <b>n</b> bytes. Not all of the value will be
    output if <b>n</b> is too small.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
<p class="Pp"><b>output_byte(x, i)</b></p>
<p class="Pp">: Outputs byte <b>i</b> of the truncated absolute value of
    <b>x</b>, where <b>0</b> is the least significant byte and
    <b>number_of_bytes - 1</b> is the most significant byte.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
This is a **void** function (see the *Void Functions* subsection of the
**FUNCTIONS** section).
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Transcendental_Functions"><a class="permalink" href="#Transcendental_Functions">Transcendental
  Functions</a></h2>
<p class="Pp">All transcendental functions can return slightly inaccurate
    results (up to 1 ULP
    (https://en.wikipedia.org/wiki/Unit_in_the_last_place)). This is
    unavoidable, and this article
    (https://people.eecs.berkeley.edu/~wkahan/LOG10HAF.TXT) explains why it is
    impossible and unnecessary to calculate exact results for the transcendental
    functions.</p>
<p class="Pp">Because of the possible inaccuracy, I recommend that users call
    those functions with the precision (<b>scale</b>) set to at least 1 higher
    than is necessary. If exact results are <i>absolutely</i> required, users
    can double the precision (<b>scale</b>) and then truncate.</p>
<p class="Pp">The transcendental functions in the standard math library are:</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><b>s(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>c(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>a(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>l(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>e(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>j(x, n)</b></dd>
</dl>
<p class="Pp">The transcendental functions in the extended math library are:</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><b>l2(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>l10(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>log(x, b)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>pi(p)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>t(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>a2(y, x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>sin(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>cos(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>tan(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>atan(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>atan2(y, x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>r2d(x)</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>d2r(x)</b></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="RESET"><a class="permalink" href="#RESET">RESET</a></h1>
<p class="Pp">When bc(1) encounters an error or a signal that it has a
    non-default handler for, it resets. This means that several things
  happen.</p>
<p class="Pp">First, any functions that are executing are stopped and popped off
    the stack. The behavior is not unlike that of exceptions in programming
    languages. Then the execution point is set so that any code waiting to
    execute (after all functions returned) is skipped.</p>
<p class="Pp">Thus, when bc(1) resets, it skips any remaining code waiting to be
    executed. Then, if it is interactive mode, and the error was not a fatal
    error (see the <b>EXIT STATUS</b> section), it asks for more input;
    otherwise, it exits with the appropriate return code.</p>
<p class="Pp">Note that this reset behavior is different from the GNU bc(1),
    which attempts to start executing the statement right after the one that
    caused an error.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PERFORMANCE"><a class="permalink" href="#PERFORMANCE">PERFORMANCE</a></h1>
<p class="Pp">Most bc(1) implementations use <b>char</b> types to calculate the
    value of <b>1</b> decimal digit at a time, but that can be slow. This bc(1)
    does something different.</p>
<p class="Pp">It uses large integers to calculate more than <b>1</b> decimal
    digit at a time. If built in a environment where <b>BC_LONG_BIT</b> (see the
    <b>LIMITS</b> section) is <b>64</b>, then each integer has <b>9</b> decimal
    digits. If built in an environment where <b>BC_LONG_BIT</b> is <b>32</b>
    then each integer has <b>4</b> decimal digits. This value (the number of
    decimal digits per large integer) is called <b>BC_BASE_DIGS</b>.</p>
<p class="Pp">The actual values of <b>BC_LONG_BIT</b> and <b>BC_BASE_DIGS</b>
    can be queried with the <b>limits</b> statement.</p>
<p class="Pp">In addition, this bc(1) uses an even larger integer for overflow
    checking. This integer type depends on the value of <b>BC_LONG_BIT</b>, but
    is always at least twice as large as the integer type used to store
  digits.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIMITS"><a class="permalink" href="#LIMITS">LIMITS</a></h1>
<p class="Pp">The following are the limits on bc(1):</p>
<p class="Pp"><b>BC_LONG_BIT</b></p>
<p class="Pp">: The number of bits in the <b>long</b> type in the environment
    where bc(1) was built. This determines how many decimal digits can be stored
    in a single large integer (see the <b>PERFORMANCE</b> section).</p>
<p class="Pp"><b>BC_BASE_DIGS</b></p>
<p class="Pp">: The number of decimal digits per large integer (see the
    <b>PERFORMANCE</b> section). Depends on <b>BC_LONG_BIT</b>.</p>
<p class="Pp"><b>BC_BASE_POW</b></p>
<p class="Pp">: The max decimal number that each large integer can store (see
    <b>BC_BASE_DIGS</b>) plus <b>1</b>. Depends on <b>BC_BASE_DIGS</b>.</p>
<p class="Pp"><b>BC_OVERFLOW_MAX</b></p>
<p class="Pp">: The max number that the overflow type (see the
    <b>PERFORMANCE</b> section) can hold. Depends on <b>BC_LONG_BIT</b>.</p>
<p class="Pp"><b>BC_BASE_MAX</b></p>
<p class="Pp">: The maximum output base. Set at <b>BC_BASE_POW</b>.</p>
<p class="Pp"><b>BC_DIM_MAX</b></p>
<p class="Pp">: The maximum size of arrays. Set at <b>SIZE_MAX-1</b>.</p>
<p class="Pp"><b>BC_SCALE_MAX</b></p>
<p class="Pp">: The maximum <b>scale</b>. Set at <b>BC_OVERFLOW_MAX-1</b>.</p>
<p class="Pp"><b>BC_STRING_MAX</b></p>
<p class="Pp">: The maximum length of strings. Set at
  <b>BC_OVERFLOW_MAX-1</b>.</p>
<p class="Pp"><b>BC_NAME_MAX</b></p>
<p class="Pp">: The maximum length of identifiers. Set at
    <b>BC_OVERFLOW_MAX-1</b>.</p>
<p class="Pp"><b>BC_NUM_MAX</b></p>
<p class="Pp">: The maximum length of a number (in decimal digits), which
    includes digits after the decimal point. Set at
  <b>BC_OVERFLOW_MAX-1</b>.</p>
<p class="Pp"><b>BC_RAND_MAX</b></p>
<p class="Pp">: The maximum integer (inclusive) returned by the <b>rand()</b>
    operand. Set at <b>2^BC_LONG_BIT-1</b>.</p>
<p class="Pp">Exponent</p>
<p class="Pp">: The maximum allowable exponent (positive or negative). Set at
    <b>BC_OVERFLOW_MAX</b>.</p>
<p class="Pp">Number of vars</p>
<p class="Pp">: The maximum number of vars/arrays. Set at <b>SIZE_MAX-1</b>.</p>
<p class="Pp">The actual values can be queried with the <b>limits</b>
  statement.</p>
<p class="Pp">These limits are meant to be effectively non-existent; the limits
    are so large (at least on 64-bit machines) that there should not be any
    point at which they become a problem. In fact, memory should be exhausted
    before these limits should be hit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">bc(1) recognizes the following environment variables:</p>
<p class="Pp"><b>POSIXLY_CORRECT</b></p>
<p class="Pp">: If this variable exists (no matter the contents), bc(1) behaves
    as if the <b>-s</b> option was given.</p>
<p class="Pp"><b>BC_ENV_ARGS</b></p>
<p class="Pp">: This is another way to give command-line arguments to bc(1).
    They should be in the same format as all other command-line arguments. These
    are always processed first, so any files given in <b>BC_ENV_ARGS</b> will be
    processed before arguments and files given on the command-line. This gives
    the user the ability to set up &quot;standard&quot; options and files to be
    used at every invocation. The most useful thing for such files to contain
    would be useful functions that the user might want every time bc(1)
  runs.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
The code that parses **BC_ENV_ARGS** will correctly handle quoted arguments,
but it does not understand escape sequences. For example, the string
**&quot;/home/gavin/some bc file.bc&quot;** will be correctly parsed, but the string
**&quot;/home/gavin/some \&quot;bc\&quot; file.bc&quot;** will include the backslashes.
The quote parsing will handle either kind of quotes, **'** or **&quot;**. Thus,
if you have a file with any number of single quotes in the name, you can use
double quotes as the outside quotes, as in **&quot;some 'bc' file.bc&quot;**, and vice
versa if you have a file with double quotes. However, handling a file with
both kinds of quotes in **BC_ENV_ARGS** is not supported due to the
complexity of the parsing, though such files are still supported on the
command-line where the parsing is done by the shell.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>BC_LINE_LENGTH</b></p>
<p class="Pp">: If this environment variable exists and contains an integer that
    is greater than <b>1</b> and is less than <b>UINT16_MAX</b> (<b>2^16-1</b>),
    bc(1) will output lines to that length, including the backslash (<b>\</b>).
    The default line length is <b>70</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">bc(1) returns the following exit statuses:</p>
<p class="Pp"><b>0</b></p>
<p class="Pp">: No error.</p>
<p class="Pp"><b>1</b></p>
<p class="Pp">: A math error occurred. This follows standard practice of using
    <b>1</b> for expected errors, since math errors will happen in the process
    of normal execution.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Math errors include divide by **0**, taking the square root of a negative
number, using a negative number as a bound for the pseudo-random number
generator, attempting to convert a negative number to a hardware integer,
overflow when converting a number to a hardware integer, and attempting to
use a non-integer where an integer is required.
Converting to a hardware integer happens for the second operand of the power
(**\^**), places (**\@**), left shift (**\&lt;\&lt;**), and right shift (**\&gt;\&gt;**)
operators and their corresponding assignment operators.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>2</b></p>
<p class="Pp">: A parse error occurred.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Parse errors include unexpected **EOF**, using an invalid character, failing
to find the end of a string or comment, using a token where it is invalid,
giving an invalid expression, giving an invalid print statement, giving an
invalid function definition, attempting to assign to an expression that is
not a named expression (see the *Named Expressions* subsection of the
**SYNTAX** section), giving an invalid **auto** list, having a duplicate
**auto**/function parameter, failing to find the end of a code block,
attempting to return a value from a **void** function, attempting to use a
variable as a reference, and using any extensions when the option **-s** or
any equivalents were given.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>3</b></p>
<p class="Pp">: A runtime error occurred.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Runtime errors include assigning an invalid number to **ibase**, **obase**,
or **scale**; give a bad expression to a **read()** call, calling **read()**
inside of a **read()** call, type errors, passing the wrong number of
arguments to functions, attempting to call an undefined function, and
attempting to use a **void** function call as a value in an expression.
    </pre>
  </dd>
</dl>
<p class="Pp"><b>4</b></p>
<p class="Pp">: A fatal error occurred.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>
Fatal errors include memory allocation errors, I/O errors, failing to open
files, attempting to use files that do not have only ASCII characters (bc(1)
only accepts ASCII characters), attempting to open a directory as a file,
and giving invalid command-line options.
    </pre>
  </dd>
</dl>
<p class="Pp">The exit status <b>4</b> is special; when a fatal error occurs,
    bc(1) always exits and returns <b>4</b>, no matter what mode bc(1) is
  in.</p>
<p class="Pp">The other statuses will only be returned when bc(1) is not in
    interactive mode (see the <b>INTERACTIVE MODE</b> section), since bc(1)
    resets its state (see the <b>RESET</b> section) and accepts more input when
    one of those errors occurs in interactive mode. This is also the case when
    interactive mode is forced by the <b>-i</b> flag or <b>--interactive</b>
    option.</p>
<p class="Pp">These exit statuses allow bc(1) to be used in shell scripting with
    error checking, and its normal behavior can be forced by using the <b>-i</b>
    flag or <b>--interactive</b> option.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INTERACTIVE_MODE"><a class="permalink" href="#INTERACTIVE_MODE">INTERACTIVE
  MODE</a></h1>
<p class="Pp">Per the standard
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html), bc(1)
    has an interactive mode and a non-interactive mode. Interactive mode is
    turned on automatically when both <b>stdin</b> and <b>stdout</b> are hooked
    to a terminal, but the <b>-i</b> flag and <b>--interactive</b> option can
    turn it on in other cases.</p>
<p class="Pp">In interactive mode, bc(1) attempts to recover from errors (see
    the <b>RESET</b> section), and in normal execution, flushes <b>stdout</b> as
    soon as execution is done for the current input.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="TTY_MODE"><a class="permalink" href="#TTY_MODE">TTY
  MODE</a></h1>
<p class="Pp">If <b>stdin</b>, <b>stdout</b>, and <b>stderr</b> are all
    connected to a TTY, bc(1) turns on &quot;TTY mode.&quot;</p>
<p class="Pp">TTY mode is required for history to be enabled (see the
    <b>COMMAND</b> <b>LINE HISTORY</b> section). It is also required to enable
    special handling for <b>SIGINT</b> signals.</p>
<p class="Pp">The prompt is enabled in TTY mode.</p>
<p class="Pp">TTY mode is different from interactive mode because interactive
    mode is required in the bc(1) specification
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html), and
    interactive mode requires only <b>stdin</b> and <b>stdout</b> to be
    connected to a terminal.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SIGNAL_HANDLING"><a class="permalink" href="#SIGNAL_HANDLING">SIGNAL
  HANDLING</a></h1>
<p class="Pp">Sending a <b>SIGINT</b> will cause bc(1) to stop execution of the
    current input. If bc(1) is in TTY mode (see the <b>TTY MODE</b> section), it
    will reset (see the <b>RESET</b> section). Otherwise, it will clean up and
    exit.</p>
<p class="Pp">Note that &quot;current input&quot; can mean one of two things. If
    bc(1) is processing input from <b>stdin</b> in TTY mode, it will ask for
    more input. If bc(1) is processing input from a file in TTY mode, it will
    stop processing the file and start processing the next file, if one exists,
    or ask for input from <b>stdin</b> if no other file exists.</p>
<p class="Pp">This means that if a <b>SIGINT</b> is sent to bc(1) as it is
    executing a file, it can seem as though bc(1) did not respond to the signal
    since it will immediately start executing the next file. This is by design;
    most files that users execute when interacting with bc(1) have function
    definitions, which are quick to parse. If a file takes a long time to
    execute, there may be a bug in that file. The rest of the files could still
    be executed without problem, allowing the user to continue.</p>
<p class="Pp"><b>SIGTERM</b> and <b>SIGQUIT</b> cause bc(1) to clean up and
    exit, and it uses the default handler for all other signals. The one
    exception is <b>SIGHUP</b>; in that case, when bc(1) is in TTY mode, a
    <b>SIGHUP</b> will cause bc(1) to clean up and exit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMAND_LINE_HISTORY"><a class="permalink" href="#COMMAND_LINE_HISTORY">COMMAND
  LINE HISTORY</a></h1>
<p class="Pp">bc(1) supports interactive command-line editing. If bc(1) is in
    TTY mode (see the <b>TTY MODE</b> section), history is enabled. Previous
    lines can be recalled and edited with the arrow keys.</p>
<p class="Pp"><b>Note</b>: tabs are converted to 8 spaces.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LOCALES"><a class="permalink" href="#LOCALES">LOCALES</a></h1>
<p class="Pp">This bc(1) ships with support for adding error messages for
    different locales and thus, supports <b>LC_MESSAGES</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">dc(1)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp">bc(1) is compliant with the IEEE Std 1003.1-2017
    (&#x201C;POSIX.1-2017&#x201D;)
    (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html)
    specification. The flags <b>-efghiqsvVw</b>, all long options, and the
    extensions noted above are extensions to that specification.</p>
<p class="Pp">Note that the specification explicitly says that bc(1) only
    accepts numbers that use a period (<b>.</b>) as a radix point, regardless of
    the value of <b>LC_NUMERIC</b>.</p>
<p class="Pp">This bc(1) supports error messages for different locales, and
    thus, it supports <b>LC_MESSAGES</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">None are known. Report bugs at https://git.yzena.com/gavin/bc.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Gavin D. Howard &lt;gavin@yzena.com&gt; and contributors.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 2021</td>
    <td class="foot-os">Gavin D. Howard</td>
  </tr>
</table>
</body>
</html>
