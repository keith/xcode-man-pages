<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>Mail::Header(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Mail::Header(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Mail::Header(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Mail::Header - manipulate MIME headers</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre> use Mail::Header;
    
 my $head = Mail::Header-&gt;new;
 my $head = Mail::Header-&gt;new( \*STDIN );
 my $head = Mail::Header-&gt;new( [&lt;&gt;], Modify =&gt; 0);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Read, write, create, and manipulate MIME headers, the leading part
    of each modern e-mail message, but also used in other protocols like HTTP.
    The fields are kept in Mail::Field objects.</p>
<p class="Pp">Be aware that the header fields each have a name part, which shall
    be treated case-insensitive, and a content part, which may be folded over
    multiple lines.</p>
<p class="Pp">Mail::Header does not always follow the RFCs strict enough, does
    not help you with character encodings. It does not use weak references where
    it could (because those did not exist when the module was written) which
    costs some performance and make the implementation a little more
    complicated. The Mail::Message::Head implementation is much newer and
    therefore better.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Constructors"><a class="permalink" href="#Constructors">Constructors</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>dup</b>()</dt>
  <dd>Create a duplicate of the current object.</dd>
  <dt>$obj-&gt;<b>new</b>( [$source], [%options] )</dt>
  <dd></dd>
  <dt id="Mail::Header"><a class="permalink" href="#Mail::Header">Mail::Header-&gt;<b>new</b>(
    [$source], [%options] )</a></dt>
  <dd>The <span class="Li">$source</span> may be either a file descriptor
      (reference to a GLOB) or a reference to an array. If given the new object
      will be initialized with headers either from the array of read from the
      file descriptor.
    <p class="Pp"><span class="Li">%options</span> is a list of options given in
        the form of key-value pairs, just like a hash table. Valid options
      are</p>
    <p class="Pp"></p>
    <pre> -Option    --Default
  FoldLength  79
  MailFrom    'KEEP'
  Modify      false
    </pre>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="FoldLength"><a class="permalink" href="#FoldLength">FoldLength =&gt;
    INTEGER</a></dt>
  <dd>The default length of line to be used when folding header lines. See
      <b>fold_length()</b>.</dd>
  <dt id="MailFrom"><a class="permalink" href="#MailFrom">MailFrom =&gt;
    'IGNORE'|'COERCE'|'KEEP'|'ERROR'</a></dt>
  <dd>See method <b>mail_from()</b>.</dd>
  <dt id="Modify"><a class="permalink" href="#Modify">Modify =&gt;
    BOOLEAN</a></dt>
  <dd>If this value is <i>true</i> then the headers will be re-formatted,
      otherwise the format of the header lines will remain unchanged.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
</section>
<section class="Ss">
<h2 class="Ss" id="_Fake__constructors"><a class="permalink" href="#_Fake__constructors">&quot;Fake&quot;
  constructors</a></h2>
<p class="Pp">Be warned that the next constructors all require an already
    created header object, of which the original content will be destroyed.</p>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>empty</b>()</dt>
  <dd>Empty an existing <span class="Li">&quot;Mail::Header&quot;</span> object
      of all lines.</dd>
  <dt>$obj-&gt;<b>extract</b>(ARRAY)</dt>
  <dd>Extract a header from the given array into an existing Mail::Header
      object. <span class="Li">&quot;extract&quot;</span> <b>will modify</b>
      this array. Returns the object that the method was called on.</dd>
  <dt>$obj-&gt;<b>header</b>( [ARRAY] )</dt>
  <dd><span class="Li">&quot;header&quot;</span> does multiple operations. First
      it will extract a header from the ARRAY, if given. It will then reformat
      the header (if reformatting is permitted), and finally return a reference
      to an array which contains the header in a printable form.</dd>
  <dt>$obj-&gt;<b>header_hashref</b>( [HASH] )</dt>
  <dd>As <b>header()</b>, but it will eventually set headers from a hash
      reference, and it will return the headers as a hash reference.
    <p class="Pp">example:</p>
    <p class="Pp"></p>
    <pre> $fields-&gt;{From} = 'Tobias Brox &lt;tobix@cpan.org&gt;';
 $fields-&gt;{To}   = ['you@somewhere', 'me@localhost'];
 $head-&gt;header_hashref($fields);
    </pre>
  </dd>
  <dt>$obj-&gt;<b>read</b>($fh)</dt>
  <dd>Read a header from the given file descriptor into an existing Mail::Header
      object.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Accessors"><a class="permalink" href="#Accessors">Accessors</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>fold_length</b>( [$tag], [$length] )</dt>
  <dd>Set the default fold length for all tags or just one. With no arguments
      the default fold length is returned. With two arguments it sets the fold
      length for the given tag and returns the previous value. If only
      <span class="Li">$length</span> is given it sets the default fold length
      for the current object.
    <p class="Pp">In the two argument form
        <span class="Li">&quot;fold_length&quot;</span> may be called as a
        static method, setting default fold lengths for tags that will be used
        by <b>all</b> <span class="Li">&quot;Mail::Header&quot;</span> objects.
        See the <span class="Li">&quot;fold&quot;</span> method for a
        description on how <span class="Li">&quot;Mail::Header&quot;</span> uses
        these values.</p>
  </dd>
  <dt>$obj-&gt;<b>mail_from</b>('IGNORE'|'COERCE'|'KEEP'|'ERROR')</dt>
  <dd>This specifies what to do when a <span class="Li">`From '</span> line is
      encountered. Valid values are <span class="Li">&quot;IGNORE&quot;</span> -
      ignore and discard the header, <span class="Li">&quot;ERROR&quot;</span> -
      invoke an error (call die), <span class="Li">&quot;COERCE&quot;</span> -
      rename them as Mail-From and <span class="Li">&quot;KEEP&quot;</span> -
      keep them.</dd>
  <dt>$obj-&gt;<b>modify</b>( [$value] )</dt>
  <dd>If <span class="Li">$value</span> is <i>false</i> then
      <span class="Li">&quot;Mail::Header&quot;</span> will not do any automatic
      reformatting of the headers, other than to ensure that the line starts
      with the tags given.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing"><a class="permalink" href="#Processing">Processing</a></h2>
<dl class="Bl-tag">
  <dt>$obj-&gt;<b>add</b>( $tag, $line [, $index] )</dt>
  <dd>Add a new line to the header. If <span class="Li">$tag</span> is
      <span class="Li">&quot;undef&quot;</span> the tag will be extracted from
      the beginning of the given line. If <span class="Li">$index</span> is
      given, the new line will be inserted into the header at the given point,
      otherwise the new line will be appended to the end of the header.</dd>
  <dt>$obj-&gt;<b>as_string</b>()</dt>
  <dd>Returns the header as a single string.</dd>
  <dt>$obj-&gt;<b>cleanup</b>()</dt>
  <dd>Remove any header line that, other than the tag, only contains
    whitespace</dd>
  <dt>$obj-&gt;<b>combine</b>( $tag [, $with] )</dt>
  <dd>Combine all instances of <span class="Li">$tag</span> into one. The lines
      will be joined together <span class="Li">$with</span>, or a single space
      if not given. The new item will be positioned in the header where the
      first instance was, all other instances of <span class="Li">$tag</span>
      will be removed.</dd>
  <dt>$obj-&gt;<b>count</b>($tag)</dt>
  <dd>Returns the number of times the given atg appears in the header</dd>
  <dt>$obj-&gt;<b>delete</b>( $tag [, $index ] )</dt>
  <dd>Delete a tag from the header. If an <span class="Li">$index</span> id is
      given, then the Nth instance of the tag will be removed. If no
      <span class="Li">$index</span> is given, then all instances of tag will be
      removed.</dd>
  <dt>$obj-&gt;<b>fold</b>( [$length] )</dt>
  <dd>Fold the header. If <span class="Li">$length</span> is not given, then
      <span class="Li">&quot;Mail::Header&quot;</span> uses the following rules
      to determine what length to fold a line.</dd>
  <dt>$obj-&gt;<b>get</b>( $tag [, $index] )</dt>
  <dd>Get the text from a line. If an <span class="Li">$index</span> is given,
      then the text of the Nth instance will be returned. If it is not given the
      return value depends on the context in which
      <span class="Li">&quot;get&quot;</span> was called. In an array context a
      list of all the text from all the instances of the
      <span class="Li">$tag</span> will be returned. In a scalar context the
      text for the first instance will be returned.
    <p class="Pp">The lines are unfolded, but still terminated with a new-line
        (see <span class="Li">&quot;chomp&quot;</span>)</p>
  </dd>
  <dt>$obj-&gt;<b>print</b>( [$fh] )</dt>
  <dd>Print the header to the given file descriptor, or
      <span class="Li">&quot;STDOUT&quot;</span> if no file descriptor is
    given.</dd>
  <dt>$obj-&gt;<b>replace</b>( $tag, $line [, $index ] )</dt>
  <dd>Replace a line in the header. If <span class="Li">$tag</span> is
      <span class="Li">&quot;undef&quot;</span> the tag will be extracted from
      the beginning of the given line. If <span class="Li">$index</span> is
      given the new line will replace the Nth instance of that tag, otherwise
      the first instance of the tag is replaced. If the tag does not appear in
      the header then a new line will be appended to the header.</dd>
  <dt>$obj-&gt;<b>tags</b>()</dt>
  <dd>Returns an array of all the tags that exist in the header. Each tag will
      only appear in the list once. The order of the tags is not specified.</dd>
  <dt>$obj-&gt;<b>unfold</b>( [$tag] )</dt>
  <dd>Unfold all instances of the given tag so that they do not spread across
      multiple lines. If <span class="Li">$tag</span> is not given then all
      lines are unfolded.
    <p class="Pp">The unfolding process is wrong but (for compatibility reasons)
        will not be repaired: only one blank at the start of the line should be
        removed, not all of them.</p>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">This module is part of the MailTools distribution,
    <i>http://perl.overmeer.net/mailtools/</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">The MailTools bundle was developed by Graham Barr. Later, Mark
    Overmeer took over maintenance without commitment to further
  development.</p>
<p class="Pp">Mail::Cap by Gisle Aas &lt;aas@oslonett.no&gt;.
    Mail::Field::AddrList by Peter Orbaek &lt;poe@cit.dk&gt;. Mail::Mailer and
    Mail::Send by Tim Bunce &lt;Tim.Bunce@ig.co.uk&gt;. For other contributors
    see ChangeLog.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">Copyrights 1995-2000 Graham Barr &lt;gbarr@pobox.com&gt; and
    2001-2017 Mark Overmeer &lt;perl@overmeer.net&gt;.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself. See
    <i>http://www.perl.com/perl/misc/Artistic.html</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-05-21</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
