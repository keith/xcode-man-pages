<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
       Title: git-refs
      Author: [FIXME: author] [see http://www.docbook.org/tdg5/en/html/author]
   Generator: DocBook XSL Stylesheets v1.79.2 <http://docbook.sf.net/>
        Date: 2025-07-22
      Manual: Git Manual
      Source: Git 2.50.1.428.g0e8243a355
    Language: English
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>GIT-REFS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GIT-REFS(1)</td>
    <td class="head-vol">Git Manual</td>
    <td class="head-rtitle">GIT-REFS(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">git-refs - Low-level access to refs</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre><b>git</b> <b>refs</b> <b>migrate</b> <b>--ref-format=</b><i>&lt;format&gt;</i> [<b>--no-reflog</b>] [<b>--dry-run</b>]
<b>git</b> <b>refs</b> <b>verify</b> [<b>--strict</b>] [<b>--verbose</b>]</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This command provides low-level access to refs.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMANDS"><a class="permalink" href="#COMMANDS">COMMANDS</a></h1>
<p class="Pp">migrate</p>
<div class="Bd-indent">Migrate ref store between different formats.</div>
<p class="Pp">verify</p>
<div class="Bd-indent">Verify reference database consistency.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The following options are specific to <i>git refs migrate</i>:</p>
<p class="Pp">--ref-format=&lt;format&gt;</p>
<div class="Bd-indent">The ref format to migrate the ref store to. Can be one
  of:
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>files</b> for loose files with packed-refs.
  This is the default.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>reftable</b> for the reftable format. This
  format is experimental and its internals are subject to change.</div>
</div>
<p class="Pp">--dry-run</p>
<div class="Bd-indent">Perform the migration, but do not modify the repository.
  The migrated refs will be written into a separate directory that can be
  inspected separately. The name of the directory will be reported on stdout.
  This can be used to double check that the migration works as expected before
  performing the actual migration.</div>
<p class="Pp">--reflog, --no-reflog</p>
<div class="Bd-indent">Choose between migrating the reflog data to the new
  backend, and discarding them. The default is &quot;--reflog&quot;, to
  migrate.</div>
<p class="Pp">The following options are specific to <i>git refs verify</i>:</p>
<p class="Pp">--strict</p>
<div class="Bd-indent">Enable stricter error checking. This will cause warnings
  to be reported as errors. See <b>git-fsck</b>(1).</div>
<p class="Pp">--verbose</p>
<div class="Bd-indent">When verifying the reference database consistency, be
  chatty.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="KNOWN_LIMITATIONS"><a class="permalink" href="#KNOWN_LIMITATIONS">KNOWN
  LIMITATIONS</a></h1>
<p class="Pp">The ref format migration has several known limitations in its
    current form:</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;It is not possible to migrate repositories that
  have worktrees.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;There is no way to block concurrent writes to the
  repository during an ongoing migration. Concurrent writes can lead to an
  inconsistent migrated state. Users are expected to block writes on a higher
  level. If your repository is registered for scheduled maintenance, it is
  recommended to unregister it first with git-maintenance(1).</div>
<p class="Pp">These limitations may eventually be lifted.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GIT"><a class="permalink" href="#GIT">GIT</a></h1>
<p class="Pp">Part of the <b>git</b>(1) suite</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2025-07-22</td>
    <td class="foot-os">Git 2.50.1.428.g0e8243</td>
  </tr>
</table>
</body>
</html>
