<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Generated from file '/System/Volumes/Data/SWE/macOS/BuildRoots/c40be6c978/Library/Caches/com.apple.xbs/Sources/tcl/tcl-134/tcl_ext/tcllib/tcllib/modules/jpeg/jpeg.man' by tcllib/doctools with format 'nroff'
   Copyright (c) 2004-2005, Code: Aaron Faupell <afaupell@users.sourceforge.net>
   Copyright (c) 2007, Code:  Andreas Kupries <andreas_kupries@users.sourceforge.net>
   Copyright (c) 2004-2009, Doc:  Andreas Kupries <andreas_kupries@users.sourceforge.net>
  
   The definitions below are for supplemental macros used in Tcl/Tk
   manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO
  	Start of list of standard options for a Tk widget.  The
  	options follow on successive lines, in four columns separated
  	by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   RCS: @(#) $Id: man.macros,v 1.1 2009/01/30 04:56:47 andreas_kupries Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>jpeg(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">jpeg(n)</td>
    <td class="head-vol">JPEG image manipulation</td>
    <td class="head-rtitle">jpeg(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>
</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">jpeg - JPEG querying and manipulation of meta data</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">package require <b>Tcl 8.2</b></p>
<p class="Pp">package require <b>jpeg ?0.3.5?</b></p>
<p class="Pp"><b>::jpeg::isJPEG</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::imageInfo</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::dimensions</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::getThumbnail</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::getExif</b> <i>file</i> ?<i>section</i>?</p>
<p class="Pp"><b>::jpeg::formatExif</b> <i>keys</i></p>
<p class="Pp"><b>::jpeg::exifKeys</b></p>
<p class="Pp"><b>::jpeg::removeExif</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::stripJPEG</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::getComments</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::addComment</b> <i>file</i> <i>text</i>...</p>
<p class="Pp"><b>::jpeg::removeComments</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::replaceComment</b> <i>file</i> <i>text</i></p>
<p class="Pp"><b>::jpeg::debug</b> <i>file</i></p>
<p class="Pp"><b>::jpeg::markers</b> <i>channel</i></p>
<p class="Pp"></p>
<pre>
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This package provides commands to query and modify JPEG images.
    JPEG stands for <i>Joint Photography Experts Group</i> and is a standard for
    the lossy compression of photographical images. It is specified at
    <i>LINK_HERE</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMANDS"><a class="permalink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt><b>::jpeg::isJPEG</b> <i>file</i></dt>
  <dd>Returns a boolean value indicating if <i>file</i> is a JPEG image.</dd>
  <dt><b>::jpeg::imageInfo</b> <i>file</i></dt>
  <dd>Returns a dictionary with keys <b>version</b>, <b>units</b>,
      <b>xdensity</b>, <b>ydensity</b>, <b>xthumb</b>, and <b>ythumb</b>. The
      values are the associated properties of the JPEG image in <i>file</i>.
      Throws an error if <i>file</i> is not a JPEG image.</dd>
  <dt><b>::jpeg::dimensions</b> <i>file</i></dt>
  <dd>Returns the dimensions of the JPEG <i>file</i> as a list of the horizontal
      and vertical pixel count. Throws an error if <i>file</i> is not a JPEG
      image.</dd>
  <dt><b>::jpeg::getThumbnail</b> <i>file</i></dt>
  <dd>This procedure will return the binary thumbnail image data, if a JPEG
      thumbnail is included in <i>file</i>, and the empty string otherwise. Note
      that it is possible to include thumbnails in formats other than JPEG
      although that is not common. The command finds thumbnails that are encoded
      in either the JFXX or EXIF segments of the JPEG information. If both are
      present the EXIF thumbnail will take precedence. Throws an error if
      <i>file</i> is not a JPEG image.
    <pre>
<br/>
    set fh [open thumbnail.jpg w+]
<br/>
    fconfigure $fh -translation binary -encoding binary
<br/>
    puts -nonewline $fh [::jpeg::getThumbnail photo.jpg]
<br/>
    close $fh
    </pre>
  </dd>
  <dt><b>::jpeg::getExif</b> <i>file</i> ?<i>section</i>?</dt>
  <dd><i>section</i> must be one of <b>main</b> or <b>thumbnail</b>. The default
      is <b>main</b>. Returns a dictionary containing the EXIF information for
      the specified section. For example:
    <p class="Pp"></p>
    <pre>
<br/>
    set exif {
	Make     Canon
	Model    {Canon DIGITAL IXUS}
	DateTime {2001:06:09 15:17:32}
<br/>
    }
    </pre>
    Throws an error if <i>file</i> is not a JPEG image.</dd>
  <dt><b>::jpeg::formatExif</b> <i>keys</i></dt>
  <dd>Takes a list of key-value pairs as returned by <b>getExif</b> and formats
      many of the values into a more human readable form. As few as one
      key-value may be passed in, the entire exif is not required.
    <pre>
<br/>
    foreach {key val} [::jpeg::formatExif [::jpeg::getExif photo.jpg]] {
<br/>
        puts &quot;$key: $val&quot;
<br/>
    }
    </pre>
    <p class="Pp"></p>
    <pre>
<br/>
    array set exif [::jpeg::getExif photo.jpg]
<br/>
    puts &quot;max f-stop: [::jpeg::formatExif [list MaxAperture $exif(MaxAperture)]]
    </pre>
  </dd>
  <dt><b>::jpeg::exifKeys</b></dt>
  <dd>Returns a list of the EXIF keys which are currently understood. There may
      be keys present in <b>getExif</b> data that are not understood. Those keys
      will appear in a 4 digit hexadecimal format.</dd>
  <dt><b>::jpeg::removeExif</b> <i>file</i></dt>
  <dd>Removes the Exif data segment from the specified file and replaces it with
      a standard JFIF segment. Throws an error if <i>file</i> is not a JPEG
      image.</dd>
  <dt><b>::jpeg::stripJPEG</b> <i>file</i></dt>
  <dd>Removes all metadata from the JPEG file leaving only the image. This
      includes comments, EXIF segments, JFXX segments, and application specific
      segments. Throws an error if <i>file</i> is not a JPEG image.</dd>
  <dt><b>::jpeg::getComments</b> <i>file</i></dt>
  <dd>Returns a list containing all the JPEG comments found in the <i>file</i>.
      Throws an error if <i>file</i> is not a valid JPEG image.</dd>
  <dt><b>::jpeg::addComment</b> <i>file</i> <i>text</i>...</dt>
  <dd>Adds one or more plain <i>text</i> comments to the JPEG image in
      <i>file</i>. Throws an error if <i>file</i> is not a valid JPEG
    image.</dd>
  <dt><b>::jpeg::removeComments</b> <i>file</i></dt>
  <dd>Removes all comments from the file specified. Throws an error if
      <i>file</i> is not a valid JPEG image.</dd>
  <dt><b>::jpeg::replaceComment</b> <i>file</i> <i>text</i></dt>
  <dd>Replaces the first comment in the file with the new <i>text</i>. This is
      merely a shortcut for <b>::jpeg::removeComments</b> and
      <b>::jpeg::addComment</b> Throws an error if <i>file</i> is not a valid
      JPEG image.</dd>
  <dt><b>::jpeg::debug</b> <i>file</i></dt>
  <dd>Prints everything we know about the given file in a nice format.</dd>
  <dt><b>::jpeg::markers</b> <i>channel</i></dt>
  <dd>This is an internal helper command, we document it for use by advanced
      users of the package. The argument <i>channel</i> is an open file handle
      positioned at the start of the first marker (usually 2 bytes). The command
      returns a list with one element for each JFIF marker found in the file.
      Each element consists of a list of the marker name, its offset in the
      file, and its length. The offset points to the beginning of the sections
      data, not the marker itself. The length is the length of the data from the
      offset listed to the start of the next marker.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="LIMITATIONS"><a class="permalink" href="#LIMITATIONS">LIMITATIONS</a></h1>
<p class="Pp">can only work with files cant write exif data gps exif data not
    parsed makernote data not yet implemented</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS,_IDEAS,_FEEDBACK"><a class="permalink" href="#BUGS,_IDEAS,_FEEDBACK">BUGS,
  IDEAS, FEEDBACK</a></h1>
<p class="Pp">This document, and the package it describes, will undoubtedly
    contain bugs and other problems. Please report such in the category
    <i>jpeg</i> of the <i>Tcllib SF Trackers</i>
    [http://sourceforge.net/tracker/?group_id=12883]. Please also report any
    ideas for enhancements you may have for either package and/or
  documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
<p class="Pp">comment, exif, image, jfif, jpeg, thumbnail</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CATEGORY"><a class="permalink" href="#CATEGORY">CATEGORY</a></h1>
<p class="Pp">File formats</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<pre>Copyright (c) 2004-2005, Code: Aaron Faupell &lt;afaupell@users.sourceforge.net&gt;
Copyright (c) 2007, Code:  Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;
Copyright (c) 2004-2009, Doc:  Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">0.3.5</td>
    <td class="foot-os">jpeg</td>
  </tr>
</table>
</body>
</html>
