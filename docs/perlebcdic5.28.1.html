<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>PERLEBCDIC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLEBCDIC(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLEBCDIC(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
perlebcdic - Considerations for running Perl on EBCDIC platforms
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
An exploration of some of the issues facing Perl programmers on EBCDIC based
  computers.
<p class="Pp">Portions of this document that are still incomplete are marked
    with XXX.</p>
<p class="Pp">Early Perl versions worked on some EBCDIC machines, but the last
    known version that ran on EBCDIC was v5.8.7, until v5.22, when the Perl core
    again works on z/OS. Theoretically, it could work on OS/400 or Siemens'
    BS2000 (or their successors), but this is untested. In v5.22 and 5.24, not
    all the modules found on CPAN but shipped with core Perl work on z/OS.</p>
<p class="Pp">If you want to use Perl on a non-z/OS EBCDIC machine, please let
    us know by sending mail to perlbug@perl.org</p>
<p class="Pp">Writing Perl on an EBCDIC platform is really no different than
    writing on an &quot;ASCII&quot; one, but with different underlying numbers,
    as we'll see shortly. You'll have to know something about those
    &quot;ASCII&quot; platforms because the documentation is biased and will
    frequently use example numbers that don't apply to EBCDIC. There are also
    very few CPAN modules that are written for EBCDIC and which don't work on
    ASCII; instead the vast majority of CPAN modules are written for ASCII, and
    some may happen to work on EBCDIC, while a few have been designed to
    portably work on both.</p>
<p class="Pp">If your code just uses the 52 letters A-Z and a-z, plus SPACE, the
    digits 0-9, and the punctuation characters that Perl uses, plus a few
    controls that are denoted by escape sequences like
    <span class="Li">&quot;\n&quot;</span> and
    <span class="Li">&quot;\t&quot;</span>, then there's nothing special about
    using Perl, and your code may very well work on an ASCII machine without
    change.</p>
<p class="Pp">But if you write code that uses
    <span class="Li">&quot;\005&quot;</span> to mean a TAB or
    <span class="Li">&quot;\xC1&quot;</span> to mean an &quot;A&quot;, or
    <span class="Li">&quot;\xDF&quot;</span> to mean a &quot;ye&quot; (small
    <span class="Li">&quot;y&quot;</span> with a diaeresis), then your code may
    well work on your EBCDIC platform, but not on an ASCII one. That's fine to
    do if no one will ever want to run your code on an ASCII platform; but the
    bias in this document will be towards writing code portable between EBCDIC
    and ASCII systems. Again, if every character you care about is easily
    enterable from your keyboard, you don't have to know anything about ASCII,
    but many keyboards don't easily allow you to directly enter, say, the
    character <span class="Li">&quot;\xDF&quot;</span>, so you have to specify
    it indirectly, such as by using the <span class="Li">&quot;\xDF&quot;</span>
    escape sequence. In those cases it's easiest to know something about the
    ASCII/Unicode character sets. If you know that the small &quot;ye&quot; is
    <span class="Li">&quot;U+00FF&quot;</span>, then you can instead specify it
    as <span class="Li">&quot;\N{U+FF}&quot;</span>, and have the computer
    automatically translate it to <span class="Li">&quot;\xDF&quot;</span> on
    your platform, and leave it as <span class="Li">&quot;\xFF&quot;</span> on
    ASCII ones. Or you could specify it by name,
    <span class="Li">&quot;\N{LATIN</span> <span class="Li">SMALL LETTER Y WITH
    DIAERESIS&quot;</span> and not have to know the numbers. Either way works,
    but both require familiarity with Unicode.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMON_CHARACTER_CODE_SETS"><a class="permalink" href="#COMMON_CHARACTER_CODE_SETS">COMMON
  CHARACTER CODE SETS</a></h1>
<section class="Ss">
<h2 class="Ss" id="_s-1ASCII_s0"><a class="permalink" href="#_s-1ASCII_s0">ASCII</a></h2>
The American Standard Code for Information Interchange (ASCII or US-ASCII) is a
  set of integers running from 0 to 127 (decimal) that have standardized
  interpretations by the computers which use ASCII. For example, 65 means the
  letter &quot;A&quot;. The range 0..127 can be covered by setting various bits
  in a 7-bit binary digit, hence the set is sometimes referred to as &quot;7-bit
  ASCII&quot;. ASCII was described by the American National Standards Institute
  document ANSI X3.4-1986. It was also described by ISO 646:1991 (with
  localization for currency symbols). The full ASCII set is given in the table
  below as the first 128 elements. Languages that can be written adequately with
  the characters in ASCII include English, Hawaiian, Indonesian, Swahili and
  some Native American languages.
<p class="Pp">Most non-EBCDIC character sets are supersets of ASCII. That is the
    integers 0-127 mean what ASCII says they mean. But integers 128 and above
    are specific to the character set.</p>
<p class="Pp">Many of these fit entirely into 8 bits, using ASCII as 0-127,
    while specifying what 128-255 mean, and not using anything above 255. Thus,
    these are single-byte (or octet if you prefer) character sets. One important
    one (since Unicode is a superset of it) is the ISO 8859-1 character set.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1ISO_8859_s0"><a class="permalink" href="#_s-1ISO_8859_s0">ISO
  8859</a></h2>
The ISO 8859-<i></i><b><i></i></b><b>$n</b><b><i></i></b><i></i> are a
  collection of character code sets from the International Organization for
  Standardization (ISO), each of which adds characters to the ASCII set that are
  typically found in various languages, many of which are based on the Roman, or
  Latin, alphabet. Most are for European languages, but there are also ones for
  Arabic, Greek, Hebrew, and Thai. There are good references on the web about
  all these.
</section>
<section class="Ss">
<h2 class="Ss" id="Latin_1_(_s-1ISO_8859_-1_s0)"><a class="permalink" href="#Latin_1_(_s-1ISO_8859_-1_s0)">Latin
  1 (ISO 8859-1)</a></h2>
A particular 8-bit extension to ASCII that includes grave and acute accented
  Latin characters. Languages that can employ ISO 8859-1 include all the
  languages covered by ASCII as well as Afrikaans, Albanian, Basque, Catalan,
  Danish, Faroese, Finnish, Norwegian, Portuguese, Spanish, and Swedish. Dutch
  is covered albeit without the ij ligature. French is covered too but without
  the oe ligature. German can use ISO 8859-1 but must do so without German-style
  quotation marks. This set is based on Western European extensions to ASCII and
  is commonly encountered in world wide web work. In IBM character code set
  identification terminology, ISO 8859-1 is also known as CCSID 819 (or
  sometimes 0819 or even 00819).
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1EBCDIC_s0"><a class="permalink" href="#_s-1EBCDIC_s0">EBCDIC</a></h2>
The Extended Binary Coded Decimal Interchange Code refers to a large collection
  of single- and multi-byte coded character sets that are quite different from
  ASCII and ISO 8859-1, and are all slightly different from each other; they
  typically run on host computers. The EBCDIC encodings derive from 8-bit byte
  extensions of Hollerith punched card encodings, which long predate ASCII. The
  layout on the cards was such that high bits were set for the upper and lower
  case alphabetic characters <span class="Li">&quot;[a-z]&quot;</span> and
  <span class="Li">&quot;[A-Z]&quot;</span>, but there were gaps within each
  Latin alphabet range, visible in the table below. These gaps can cause
  complications.
<p class="Pp">Some IBM EBCDIC character sets may be known by character code set
    identification numbers (CCSID numbers) or code page numbers.</p>
<p class="Pp">Perl can be compiled on platforms that run any of three commonly
    used EBCDIC character sets, listed below.</p>
<p class="Pp"><i>The 13 variant characters</i></p>
<p class="Pp">Among IBM EBCDIC character code sets there are 13 characters that
    are often mapped to different integer values. Those characters are known as
    the 13 &quot;variant&quot; characters and are:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    \ [ ] { } ^ ~ ! # | $ @ `
</pre>
<p class="Pp">When Perl is compiled for a platform, it looks at all of these
    characters to guess which EBCDIC character set the platform uses, and adapts
    itself accordingly to that platform. If the platform uses a character set
    that is not one of the three Perl knows about, Perl will either fail to
    compile, or mistakenly and silently choose one of the three.</p>
<p class="Pp"><i>EBCDIC code sets recognized by Perl</i></p>
<dl class="Bl-tag">
  <dt><b>0037</b></dt>
  <dd>Character code set ID 0037 is a mapping of the ASCII plus Latin-1
      characters (i.e. ISO 8859-1) to an EBCDIC set. 0037 is used in North
      American English locales on the OS/400 operating system that runs on
      AS/400 computers. CCSID 0037 differs from ISO 8859-1 in 236 places; in
      other words they agree on only 20 code point values.</dd>
  <dt><b>1047</b></dt>
  <dd>Character code set ID 1047 is also a mapping of the ASCII plus Latin-1
      characters (i.e. ISO 8859-1) to an EBCDIC set. 1047 is used under Unix
      System Services for OS/390 or z/OS, and OpenEdition for VM/ESA. CCSID 1047
      differs from CCSID 0037 in eight places, and from ISO 8859-1 in 236.</dd>
  <dt><b>POSIX-BC</b></dt>
  <dd>The EBCDIC code page in use on Siemens' BS2000 system is distinct from
      1047 and 0037. It is identified below as the POSIX-BC set. Like 0037 and
      1047, it is the same as ISO 8859-1 in 20 code point values.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_code_points_versus__s-1EBCDIC_s0_code_points"><a class="permalink" href="#Unicode_code_points_versus__s-1EBCDIC_s0_code_points">Unicode
  code points versus EBCDIC code points</a></h2>
In Unicode terminology a <i>code point</i> is the number assigned to a
  character: for example, in EBCDIC the character &quot;A&quot; is usually
  assigned the number 193. In Unicode, the character &quot;A&quot; is assigned
  the number 65. All the code points in ASCII and Latin-1 (ISO 8859-1) have the
  same meaning in Unicode. All three of the recognized EBCDIC code sets have 256
  code points, and in each code set, all 256 code points are mapped to
  equivalent Latin1 code points. Obviously, &quot;A&quot; will map to
  &quot;A&quot;, &quot;B&quot; =&gt; &quot;B&quot;, &quot;%&quot; =&gt;
  &quot;%&quot;, etc., for all printable characters in Latin1 and these code
  pages.
<p class="Pp">It also turns out that EBCDIC has nearly precise equivalents for
    the ASCII/Latin1 C0 controls and the DELETE control. (The C0 controls are
    those whose ASCII code points are 0..0x1F; things like TAB, ACK, BEL, etc.)
    A mapping is set up between these ASCII/EBCDIC controls. There isn't such a
    precise mapping between the C1 controls on ASCII platforms and the remaining
    EBCDIC controls. What has been done is to map these controls, mostly
    arbitrarily, to some otherwise unmatched character in the other character
    set. Most of these are very very rarely used nowadays in EBCDIC anyway, and
    their names have been dropped, without much complaint. For example the EO
    (Eight Ones) EBCDIC control (consisting of eight one bits = 0xFF) is mapped
    to the C1 APC control (0x9F), and you can't use the name &quot;EO&quot;.</p>
<p class="Pp">The EBCDIC controls provide three possible line terminator
    characters, CR (0x0D), LF (0x25), and NL (0x15). On ASCII platforms, the
    symbols &quot;NL&quot; and &quot;LF&quot; refer to the same character, but
    in strict EBCDIC terminology they are different ones. The EBCDIC NL is
    mapped to the C1 control called &quot;NEL&quot; (&quot;Next Line&quot;;
    here's a case where the mapping makes quite a bit of sense, and hence isn't
    just arbitrary). On some EBCDIC platforms, this NL or NEL is the typical
    line terminator. This is true of z/OS and BS2000. In these platforms, the C
    compilers will swap the LF and NEL code points, so that
    <span class="Li">&quot;\n&quot;</span> is 0x15, and refers to NL. Perl does
    that too; you can see it in the code chart below. This makes things
    generally &quot;just work&quot; without you even having to be aware that
    there is a swap.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_and__s-1UTF_s0"><a class="permalink" href="#Unicode_and__s-1UTF_s0">Unicode
  and UTF</a></h2>
UTF stands for &quot;Unicode Transformation Format&quot;. UTF-8 is an encoding
  of Unicode into a sequence of 8-bit byte chunks, based on ASCII and Latin-1.
  The length of a sequence required to represent a Unicode code point depends on
  the ordinal number of that code point, with larger numbers requiring more
  bytes. UTF-EBCDIC is like UTF-8, but based on EBCDIC. They are enough alike
  that often, casual usage will conflate the two terms, and use
  &quot;UTF-8&quot; to mean both the UTF-8 found on ASCII platforms, and the
  UTF-EBCDIC found on EBCDIC ones.
<p class="Pp">You may see the term &quot;invariant&quot; character or code
    point. This simply means that the character has the same numeric value and
    representation when encoded in UTF-8 (or UTF-EBCDIC) as when not. (Note that
    this is a very different concept from &quot;The 13 variant characters&quot;
    mentioned above. Careful prose will use the term &quot;UTF-8 invariant&quot;
    instead of just &quot;invariant&quot;, but most often you'll see just
    &quot;invariant&quot;.) For example, the ordinal value of &quot;A&quot; is
    193 in most EBCDIC code pages, and also is 193 when encoded in UTF-EBCDIC.
    All UTF-8 (or UTF-EBCDIC) variant code points occupy at least two bytes when
    encoded in UTF-8 (or UTF-EBCDIC); by definition, the UTF-8 (or UTF-EBCDIC)
    invariant code points are exactly one byte whether encoded in UTF-8 (or
    UTF-EBCDIC), or not. (By now you see why people typically just say
    &quot;UTF-8&quot; when they also mean &quot;UTF-EBCDIC&quot;. For the rest
    of this document, we'll mostly be casual about it too.) In ASCII UTF-8, the
    code points corresponding to the lowest 128 ordinal numbers (0 - 127: the
    ASCII characters) are invariant. In UTF-EBCDIC, there are 160 invariant
    characters. (If you care, the EBCDIC invariants are those characters which
    have ASCII equivalents, plus those that correspond to the C1 controls (128 -
    159 on ASCII platforms).)</p>
<p class="Pp">A string encoded in UTF-EBCDIC may be longer (very rarely shorter)
    than one encoded in UTF-8. Perl extends both UTF-8 and UTF-EBCDIC so that
    they can encode code points above the Unicode maximum of U+10FFFF. Both
    extensions are constructed to allow encoding of any code point that fits in
    a 64-bit word.</p>
<p class="Pp">UTF-EBCDIC is defined by Unicode Technical Report #16
    &lt;http://www.unicode.org/reports/tr16&gt; (often referred to as just
    TR16). It is defined based on CCSID 1047, not allowing for the differences
    for other code pages. This allows for easy interchange of text between
    computers running different code pages, but makes it unusable, without
    adaptation, for Perl on those other code pages.</p>
<p class="Pp">The reason for this unusability is that a fundamental assumption
    of Perl is that the characters it cares about for parsing and lexical
    analysis are the same whether or not the text is in UTF-8. For example, Perl
    expects the character <span class="Li">&quot;[&quot;</span> to have the same
    representation, no matter if the string containing it (or program text) is
    UTF-8 encoded or not. To ensure this, Perl adapts UTF-EBCDIC to the
    particular code page so that all characters it expects to be UTF-8 invariant
    are in fact UTF-8 invariant. This means that text generated on a computer
    running one version of Perl's UTF-EBCDIC has to be translated to be
    intelligible to a computer running another.</p>
<p class="Pp">TR16 implies a method to extend UTF-EBCDIC to encode points up
    through
    <span class="Li">&quot;2&#x00A0;**&#x00A0;31&#x00A0;-&#x00A0;1&quot;</span>.
    Perl uses this method for code points up through
    <span class="Li">&quot;2&#x00A0;**&#x00A0;30&#x00A0;-&#x00A0;1&quot;</span>,
    but uses an incompatible method for larger ones, to enable it to handle much
    larger code points than otherwise.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Using_Encode"><a class="permalink" href="#Using_Encode">Using
  Encode</a></h2>
Starting from Perl 5.8 you can use the standard module Encode to translate from
  EBCDIC to Latin-1 code points. Encode knows about more EBCDIC character sets
  than Perl can currently be compiled to run on.
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Encode 'from_to';

   my %ebcdic = ( 176 =&gt; 'cp37', 95 =&gt; 'cp1047', 106 =&gt; 'posix-bc' );

   # $a is in EBCDIC code points
   from_to($a, $ebcdic{ord '^'}, 'latin1');
   # $a is ISO 8859-1 code points
</pre>
<p class="Pp">and from Latin-1 code points to EBCDIC code points</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Encode 'from_to';

   my %ebcdic = ( 176 =&gt; 'cp37', 95 =&gt; 'cp1047', 106 =&gt; 'posix-bc' );

   # $a is ISO 8859-1 code points
   from_to($a, 'latin1', $ebcdic{ord '^'});
   # $a is in EBCDIC code points
</pre>
<p class="Pp">For doing I/O it is suggested that you use the autotranslating
    features of PerlIO, see perluniintro.</p>
<p class="Pp">Since version 5.8 Perl uses the PerlIO I/O library. This enables
    you to use different encodings per IO channel. For example you may use</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use Encode;
    open($f, &quot;&gt;:encoding(ascii)&quot;, &quot;test.ascii&quot;);
    print $f &quot;Hello World!\n&quot;;
    open($f, &quot;&gt;:encoding(cp37)&quot;, &quot;test.ebcdic&quot;);
    print $f &quot;Hello World!\n&quot;;
    open($f, &quot;&gt;:encoding(latin1)&quot;, &quot;test.latin1&quot;);
    print $f &quot;Hello World!\n&quot;;
    open($f, &quot;&gt;:encoding(utf8)&quot;, &quot;test.utf8&quot;);
    print $f &quot;Hello World!\n&quot;;
</pre>
<p class="Pp">to get four files containing &quot;Hello World!\n&quot; in ASCII,
    CP 0037 EBCDIC, ISO 8859-1 (Latin-1) (in this example identical to ASCII
    since only ASCII characters were printed), and UTF-EBCDIC (in this example
    identical to normal EBCDIC since only characters that don't differ between
    EBCDIC and UTF-EBCDIC were printed). See the documentation of Encode::PerlIO
    for details.</p>
<p class="Pp">As the PerlIO layer uses raw IO (bytes) internally, all this
    totally ignores things like the type of your filesystem (ASCII or
  EBCDIC).</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SINGLE_OCTET_TABLES"><a class="permalink" href="#SINGLE_OCTET_TABLES">SINGLE
  OCTET TABLES</a></h1>
The following tables list the ASCII and Latin 1 ordered sets including the
  subsets: C0 controls (0..31), ASCII graphics (32..7e), delete (7f), C1
  controls (80..9f), and Latin-1 (a.k.a. ISO 8859-1) (a0..ff). In the table
  names of the Latin 1 extensions to ASCII have been labelled with character
  names roughly corresponding to <i>The Unicode Standard, Version 6.1</i> albeit
  with substitutions such as <span class="Li">&quot;s/LATIN//&quot;</span> and
  <span class="Li">&quot;s/VULGAR//&quot;</span> in all cases;
  <span class="Li">&quot;s/CAPITAL&#x00A0;LETTER//&quot;</span> in some cases;
  and
  <span class="Li">&quot;s/SMALL&#x00A0;LETTER&#x00A0;([A-Z])/\l$1/&quot;</span>
  in some other cases. Controls are listed using their Unicode 6.2
  abbreviations. The differences between the 0037 and 1047 sets are flagged with
  <span class="Li">&quot;**&quot;</span>. The differences between the 1047 and
  POSIX-BC sets are flagged with <span class="Li">&quot;##.&quot;</span> All
  <span class="Li">&quot;ord()&quot;</span> numbers listed are decimal. If you
  would rather see this table listing octal values, then run the table (that is,
  the pod source text of this document, since this recipe may not work with a
  pod2_other_format translation) through:
<dl class="Bl-tag">
  <dt>recipe 0</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
    perl -ne 'if(/(.{29})(\d+)\s+(\d+)\s+(\d+)\s+(\d+)/)' \
     -e '{printf(&quot;%s%-5.03o%-5.03o%-5.03o%.03o\n&quot;,$1,$2,$3,$4,$5)}' \
     perlebcdic.pod
</pre>
<p class="Pp">If you want to retain the UTF-x code points then in script form
    you might want to write:</p>
<dl class="Bl-tag">
  <dt>recipe 1</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
 open(FH,&quot;&lt;perlebcdic.pod&quot;) or die &quot;Could not open perlebcdic.pod: $!&quot;;
 while (&lt;FH&gt;) {
     if (/(.{29})(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\.?(\d*)
                                                     \s+(\d+)\.?(\d*)/x)
     {
         if ($7 ne '' &amp;&amp; $9 ne '') {
             printf(
                &quot;%s%-5.03o%-5.03o%-5.03o%-5.03o%-3o.%-5o%-3o.%.03o\n&quot;,
                                            $1,$2,$3,$4,$5,$6,$7,$8,$9);
         }
         elsif ($7 ne '') {
             printf(&quot;%s%-5.03o%-5.03o%-5.03o%-5.03o%-3o.%-5o%.03o\n&quot;,
                                           $1,$2,$3,$4,$5,$6,$7,$8);
         }
         else {
             printf(&quot;%s%-5.03o%-5.03o%-5.03o%-5.03o%-5.03o%.03o\n&quot;,
                                                $1,$2,$3,$4,$5,$6,$8);
         }
     }
 }
</pre>
<p class="Pp">If you would rather see this table listing hexadecimal values then
    run the table through:</p>
<dl class="Bl-tag">
  <dt>recipe 2</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
    perl -ne 'if(/(.{29})(\d+)\s+(\d+)\s+(\d+)\s+(\d+)/)' \
     -e '{printf(&quot;%s%-5.02X%-5.02X%-5.02X%.02X\n&quot;,$1,$2,$3,$4,$5)}' \
     perlebcdic.pod
</pre>
<p class="Pp">Or, in order to retain the UTF-x code points in hexadecimal:</p>
<dl class="Bl-tag">
  <dt>recipe 3</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
 open(FH,&quot;&lt;perlebcdic.pod&quot;) or die &quot;Could not open perlebcdic.pod: $!&quot;;
 while (&lt;FH&gt;) {
     if (/(.{29})(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\.?(\d*)
                                                     \s+(\d+)\.?(\d*)/x)
     {
         if ($7 ne '' &amp;&amp; $9 ne '') {
             printf(
                &quot;%s%-5.02X%-5.02X%-5.02X%-5.02X%-2X.%-6.02X%02X.%02X\n&quot;,
                                           $1,$2,$3,$4,$5,$6,$7,$8,$9);
         }
         elsif ($7 ne '') {
             printf(&quot;%s%-5.02X%-5.02X%-5.02X%-5.02X%-2X.%-6.02X%02X\n&quot;,
                                              $1,$2,$3,$4,$5,$6,$7,$8);
         }
         else {
             printf(&quot;%s%-5.02X%-5.02X%-5.02X%-5.02X%-5.02X%02X\n&quot;,
                                                  $1,$2,$3,$4,$5,$6,$8);
         }
     }
 }


                          ISO
                         8859-1             POS-         CCSID
                         CCSID  CCSID CCSID IX-          1047
  chr                     0819   0037 1047  BC  UTF-8  UTF-EBCDIC
 ---------------------------------------------------------------------
 &lt;NUL&gt;                       0    0    0    0    0        0
 &lt;SOH&gt;                       1    1    1    1    1        1
 &lt;STX&gt;                       2    2    2    2    2        2
 &lt;ETX&gt;                       3    3    3    3    3        3
 &lt;EOT&gt;                       4    55   55   55   4        55
 &lt;ENQ&gt;                       5    45   45   45   5        45
 &lt;ACK&gt;                       6    46   46   46   6        46
 &lt;BEL&gt;                       7    47   47   47   7        47
 &lt;BS&gt;                        8    22   22   22   8        22
 &lt;HT&gt;                        9    5    5    5    9        5
 &lt;LF&gt;                        10   37   21   21   10       21  **
 &lt;VT&gt;                        11   11   11   11   11       11
 &lt;FF&gt;                        12   12   12   12   12       12
 &lt;CR&gt;                        13   13   13   13   13       13
 &lt;SO&gt;                        14   14   14   14   14       14
 &lt;SI&gt;                        15   15   15   15   15       15
 &lt;DLE&gt;                       16   16   16   16   16       16
 &lt;DC1&gt;                       17   17   17   17   17       17
 &lt;DC2&gt;                       18   18   18   18   18       18
 &lt;DC3&gt;                       19   19   19   19   19       19
 &lt;DC4&gt;                       20   60   60   60   20       60
 &lt;NAK&gt;                       21   61   61   61   21       61
 &lt;SYN&gt;                       22   50   50   50   22       50
 &lt;ETB&gt;                       23   38   38   38   23       38
 &lt;CAN&gt;                       24   24   24   24   24       24
 &lt;EOM&gt;                       25   25   25   25   25       25
 &lt;SUB&gt;                       26   63   63   63   26       63
 &lt;ESC&gt;                       27   39   39   39   27       39
 &lt;FS&gt;                        28   28   28   28   28       28
 &lt;GS&gt;                        29   29   29   29   29       29
 &lt;RS&gt;                        30   30   30   30   30       30
 &lt;US&gt;                        31   31   31   31   31       31
 &lt;SPACE&gt;                     32   64   64   64   32       64
 !                           33   90   90   90   33       90
 &quot;                           34   127  127  127  34       127
 #                           35   123  123  123  35       123
 $                           36   91   91   91   36       91
 %                           37   108  108  108  37       108
 &amp;                           38   80   80   80   38       80
 '                           39   125  125  125  39       125
 (                           40   77   77   77   40       77
 )                           41   93   93   93   41       93
 *                           42   92   92   92   42       92
 +                           43   78   78   78   43       78
 ,                           44   107  107  107  44       107
 -                           45   96   96   96   45       96
 .                           46   75   75   75   46       75
 /                           47   97   97   97   47       97
 0                           48   240  240  240  48       240
 1                           49   241  241  241  49       241
 2                           50   242  242  242  50       242
 3                           51   243  243  243  51       243
 4                           52   244  244  244  52       244
 5                           53   245  245  245  53       245
 6                           54   246  246  246  54       246
 7                           55   247  247  247  55       247
 8                           56   248  248  248  56       248
 9                           57   249  249  249  57       249
 :                           58   122  122  122  58       122
 ;                           59   94   94   94   59       94
 &lt;                           60   76   76   76   60       76
 =                           61   126  126  126  61       126
 &gt;                           62   110  110  110  62       110
 ?                           63   111  111  111  63       111
 @                           64   124  124  124  64       124
 A                           65   193  193  193  65       193
 B                           66   194  194  194  66       194
 C                           67   195  195  195  67       195
 D                           68   196  196  196  68       196
 E                           69   197  197  197  69       197
 F                           70   198  198  198  70       198
 G                           71   199  199  199  71       199
 H                           72   200  200  200  72       200
 I                           73   201  201  201  73       201
 J                           74   209  209  209  74       209
 K                           75   210  210  210  75       210
 L                           76   211  211  211  76       211
 M                           77   212  212  212  77       212
 N                           78   213  213  213  78       213
 O                           79   214  214  214  79       214
 P                           80   215  215  215  80       215
 Q                           81   216  216  216  81       216
 R                           82   217  217  217  82       217
 S                           83   226  226  226  83       226
 T                           84   227  227  227  84       227
 U                           85   228  228  228  85       228
 V                           86   229  229  229  86       229
 W                           87   230  230  230  87       230
 X                           88   231  231  231  88       231
 Y                           89   232  232  232  89       232
 Z                           90   233  233  233  90       233
 [                           91   186  173  187  91       173  ** ##
 \                           92   224  224  188  92       224  ##
 ]                           93   187  189  189  93       189  **
 ^                           94   176  95   106  94       95   ** ##
 _                           95   109  109  109  95       109
 `                           96   121  121  74   96       121  ##
 a                           97   129  129  129  97       129
 b                           98   130  130  130  98       130
 c                           99   131  131  131  99       131
 d                           100  132  132  132  100      132
 e                           101  133  133  133  101      133
 f                           102  134  134  134  102      134
 g                           103  135  135  135  103      135
 h                           104  136  136  136  104      136
 i                           105  137  137  137  105      137
 j                           106  145  145  145  106      145
 k                           107  146  146  146  107      146
 l                           108  147  147  147  108      147
 m                           109  148  148  148  109      148
 n                           110  149  149  149  110      149
 o                           111  150  150  150  111      150
 p                           112  151  151  151  112      151
 q                           113  152  152  152  113      152
 r                           114  153  153  153  114      153
 s                           115  162  162  162  115      162
 t                           116  163  163  163  116      163
 u                           117  164  164  164  117      164
 v                           118  165  165  165  118      165
 w                           119  166  166  166  119      166
 x                           120  167  167  167  120      167
 y                           121  168  168  168  121      168
 z                           122  169  169  169  122      169
 {                           123  192  192  251  123      192  ##
 |                           124  79   79   79   124      79
 }                           125  208  208  253  125      208  ##
 ~                           126  161  161  255  126      161  ##
 &lt;DEL&gt;                       127  7    7    7    127      7
 &lt;PAD&gt;                       128  32   32   32   194.128  32
 &lt;HOP&gt;                       129  33   33   33   194.129  33
 &lt;BPH&gt;                       130  34   34   34   194.130  34
 &lt;NBH&gt;                       131  35   35   35   194.131  35
 &lt;IND&gt;                       132  36   36   36   194.132  36
 &lt;NEL&gt;                       133  21   37   37   194.133  37   **
 &lt;SSA&gt;                       134  6    6    6    194.134  6
 &lt;ESA&gt;                       135  23   23   23   194.135  23
 &lt;HTS&gt;                       136  40   40   40   194.136  40
 &lt;HTJ&gt;                       137  41   41   41   194.137  41
 &lt;VTS&gt;                       138  42   42   42   194.138  42
 &lt;PLD&gt;                       139  43   43   43   194.139  43
 &lt;PLU&gt;                       140  44   44   44   194.140  44
 &lt;RI&gt;                        141  9    9    9    194.141  9
 &lt;SS2&gt;                       142  10   10   10   194.142  10
 &lt;SS3&gt;                       143  27   27   27   194.143  27
 &lt;DCS&gt;                       144  48   48   48   194.144  48
 &lt;PU1&gt;                       145  49   49   49   194.145  49
 &lt;PU2&gt;                       146  26   26   26   194.146  26
 &lt;STS&gt;                       147  51   51   51   194.147  51
 &lt;CCH&gt;                       148  52   52   52   194.148  52
 &lt;MW&gt;                        149  53   53   53   194.149  53
 &lt;SPA&gt;                       150  54   54   54   194.150  54
 &lt;EPA&gt;                       151  8    8    8    194.151  8
 &lt;SOS&gt;                       152  56   56   56   194.152  56
 &lt;SGC&gt;                       153  57   57   57   194.153  57
 &lt;SCI&gt;                       154  58   58   58   194.154  58
 &lt;CSI&gt;                       155  59   59   59   194.155  59
 &lt;ST&gt;                        156  4    4    4    194.156  4
 &lt;OSC&gt;                       157  20   20   20   194.157  20
 &lt;PM&gt;                        158  62   62   62   194.158  62
 &lt;APC&gt;                       159  255  255  95   194.159  255      ##
 &lt;NON-BREAKING SPACE&gt;        160  65   65   65   194.160  128.65
 &lt;INVERTED &quot;!&quot; &gt;             161  170  170  170  194.161  128.66
 &lt;CENT SIGN&gt;                 162  74   74   176  194.162  128.67   ##
 &lt;POUND SIGN&gt;                163  177  177  177  194.163  128.68
 &lt;CURRENCY SIGN&gt;             164  159  159  159  194.164  128.69
 &lt;YEN SIGN&gt;                  165  178  178  178  194.165  128.70
 &lt;BROKEN BAR&gt;                166  106  106  208  194.166  128.71   ##
 &lt;SECTION SIGN&gt;              167  181  181  181  194.167  128.72
 &lt;DIAERESIS&gt;                 168  189  187  121  194.168  128.73   ** ##
 &lt;COPYRIGHT SIGN&gt;            169  180  180  180  194.169  128.74
 &lt;FEMININE ORDINAL&gt;          170  154  154  154  194.170  128.81
 &lt;LEFT POINTING GUILLEMET&gt;   171  138  138  138  194.171  128.82
 &lt;NOT SIGN&gt;                  172  95   176  186  194.172  128.83   ** ##
 &lt;SOFT HYPHEN&gt;               173  202  202  202  194.173  128.84
 &lt;REGISTERED TRADE MARK&gt;     174  175  175  175  194.174  128.85
 &lt;MACRON&gt;                    175  188  188  161  194.175  128.86   ##
 &lt;DEGREE SIGN&gt;               176  144  144  144  194.176  128.87
 &lt;PLUS-OR-MINUS SIGN&gt;        177  143  143  143  194.177  128.88
 &lt;SUPERSCRIPT TWO&gt;           178  234  234  234  194.178  128.89
 &lt;SUPERSCRIPT THREE&gt;         179  250  250  250  194.179  128.98
 &lt;ACUTE ACCENT&gt;              180  190  190  190  194.180  128.99
 &lt;MICRO SIGN&gt;                181  160  160  160  194.181  128.100
 &lt;PARAGRAPH SIGN&gt;            182  182  182  182  194.182  128.101
 &lt;MIDDLE DOT&gt;                183  179  179  179  194.183  128.102
 &lt;CEDILLA&gt;                   184  157  157  157  194.184  128.103
 &lt;SUPERSCRIPT ONE&gt;           185  218  218  218  194.185  128.104
 &lt;MASC. ORDINAL INDICATOR&gt;   186  155  155  155  194.186  128.105
 &lt;RIGHT POINTING GUILLEMET&gt;  187  139  139  139  194.187  128.106
 &lt;FRACTION ONE QUARTER&gt;      188  183  183  183  194.188  128.112
 &lt;FRACTION ONE HALF&gt;         189  184  184  184  194.189  128.113
 &lt;FRACTION THREE QUARTERS&gt;   190  185  185  185  194.190  128.114
 &lt;INVERTED QUESTION MARK&gt;    191  171  171  171  194.191  128.115
 &lt;A WITH GRAVE&gt;              192  100  100  100  195.128  138.65
 &lt;A WITH ACUTE&gt;              193  101  101  101  195.129  138.66
 &lt;A WITH CIRCUMFLEX&gt;         194  98   98   98   195.130  138.67
 &lt;A WITH TILDE&gt;              195  102  102  102  195.131  138.68
 &lt;A WITH DIAERESIS&gt;          196  99   99   99   195.132  138.69
 &lt;A WITH RING ABOVE&gt;         197  103  103  103  195.133  138.70
 &lt;CAPITAL LIGATURE AE&gt;       198  158  158  158  195.134  138.71
 &lt;C WITH CEDILLA&gt;            199  104  104  104  195.135  138.72
 &lt;E WITH GRAVE&gt;              200  116  116  116  195.136  138.73
 &lt;E WITH ACUTE&gt;              201  113  113  113  195.137  138.74
 &lt;E WITH CIRCUMFLEX&gt;         202  114  114  114  195.138  138.81
 &lt;E WITH DIAERESIS&gt;          203  115  115  115  195.139  138.82
 &lt;I WITH GRAVE&gt;              204  120  120  120  195.140  138.83
 &lt;I WITH ACUTE&gt;              205  117  117  117  195.141  138.84
 &lt;I WITH CIRCUMFLEX&gt;         206  118  118  118  195.142  138.85
 &lt;I WITH DIAERESIS&gt;          207  119  119  119  195.143  138.86
 &lt;CAPITAL LETTER ETH&gt;        208  172  172  172  195.144  138.87
 &lt;N WITH TILDE&gt;              209  105  105  105  195.145  138.88
 &lt;O WITH GRAVE&gt;              210  237  237  237  195.146  138.89
 &lt;O WITH ACUTE&gt;              211  238  238  238  195.147  138.98
 &lt;O WITH CIRCUMFLEX&gt;         212  235  235  235  195.148  138.99
 &lt;O WITH TILDE&gt;              213  239  239  239  195.149  138.100
 &lt;O WITH DIAERESIS&gt;          214  236  236  236  195.150  138.101
 &lt;MULTIPLICATION SIGN&gt;       215  191  191  191  195.151  138.102
 &lt;O WITH STROKE&gt;             216  128  128  128  195.152  138.103
 &lt;U WITH GRAVE&gt;              217  253  253  224  195.153  138.104  ##
 &lt;U WITH ACUTE&gt;              218  254  254  254  195.154  138.105
 &lt;U WITH CIRCUMFLEX&gt;         219  251  251  221  195.155  138.106  ##
 &lt;U WITH DIAERESIS&gt;          220  252  252  252  195.156  138.112
 &lt;Y WITH ACUTE&gt;              221  173  186  173  195.157  138.113  ** ##
 &lt;CAPITAL LETTER THORN&gt;      222  174  174  174  195.158  138.114
 &lt;SMALL LETTER SHARP S&gt;      223  89   89   89   195.159  138.115
 &lt;a WITH GRAVE&gt;              224  68   68   68   195.160  139.65
 &lt;a WITH ACUTE&gt;              225  69   69   69   195.161  139.66
 &lt;a WITH CIRCUMFLEX&gt;         226  66   66   66   195.162  139.67
 &lt;a WITH TILDE&gt;              227  70   70   70   195.163  139.68
 &lt;a WITH DIAERESIS&gt;          228  67   67   67   195.164  139.69
 &lt;a WITH RING ABOVE&gt;         229  71   71   71   195.165  139.70
 &lt;SMALL LIGATURE ae&gt;         230  156  156  156  195.166  139.71
 &lt;c WITH CEDILLA&gt;            231  72   72   72   195.167  139.72
 &lt;e WITH GRAVE&gt;              232  84   84   84   195.168  139.73
 &lt;e WITH ACUTE&gt;              233  81   81   81   195.169  139.74
 &lt;e WITH CIRCUMFLEX&gt;         234  82   82   82   195.170  139.81
 &lt;e WITH DIAERESIS&gt;          235  83   83   83   195.171  139.82
 &lt;i WITH GRAVE&gt;              236  88   88   88   195.172  139.83
 &lt;i WITH ACUTE&gt;              237  85   85   85   195.173  139.84
 &lt;i WITH CIRCUMFLEX&gt;         238  86   86   86   195.174  139.85
 &lt;i WITH DIAERESIS&gt;          239  87   87   87   195.175  139.86
 &lt;SMALL LETTER eth&gt;          240  140  140  140  195.176  139.87
 &lt;n WITH TILDE&gt;              241  73   73   73   195.177  139.88
 &lt;o WITH GRAVE&gt;              242  205  205  205  195.178  139.89
 &lt;o WITH ACUTE&gt;              243  206  206  206  195.179  139.98
 &lt;o WITH CIRCUMFLEX&gt;         244  203  203  203  195.180  139.99
 &lt;o WITH TILDE&gt;              245  207  207  207  195.181  139.100
 &lt;o WITH DIAERESIS&gt;          246  204  204  204  195.182  139.101
 &lt;DIVISION SIGN&gt;             247  225  225  225  195.183  139.102
 &lt;o WITH STROKE&gt;             248  112  112  112  195.184  139.103
 &lt;u WITH GRAVE&gt;              249  221  221  192  195.185  139.104  ##
 &lt;u WITH ACUTE&gt;              250  222  222  222  195.186  139.105
 &lt;u WITH CIRCUMFLEX&gt;         251  219  219  219  195.187  139.106
 &lt;u WITH DIAERESIS&gt;          252  220  220  220  195.188  139.112
 &lt;y WITH ACUTE&gt;              253  141  141  141  195.189  139.113
 &lt;SMALL LETTER thorn&gt;        254  142  142  142  195.190  139.114
 &lt;y WITH DIAERESIS&gt;          255  223  223  223  195.191  139.115
</pre>
<p class="Pp">If you would rather see the above table in CCSID 0037 order rather
    than ASCII + Latin-1 order then run the table through:</p>
<dl class="Bl-tag">
  <dt>recipe 4</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
 perl \
    -ne 'if(/.{29}\d{1,3}\s{2,4}\d{1,3}\s{2,4}\d{1,3}\s{2,4}\d{1,3}/)'\
     -e '{push(@l,$_)}' \
     -e 'END{print map{$_-&gt;[0]}' \
     -e '          sort{$a-&gt;[1] &lt;=&gt; $b-&gt;[1]}' \
     -e '          map{[$_,substr($_,34,3)]}@l;}' perlebcdic.pod
</pre>
<p class="Pp">If you would rather see it in CCSID 1047 order then change the
    number 34 in the last line to 39, like this:</p>
<dl class="Bl-tag">
  <dt>recipe 5</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
 perl \
    -ne 'if(/.{29}\d{1,3}\s{2,4}\d{1,3}\s{2,4}\d{1,3}\s{2,4}\d{1,3}/)'\
    -e '{push(@l,$_)}' \
    -e 'END{print map{$_-&gt;[0]}' \
    -e '          sort{$a-&gt;[1] &lt;=&gt; $b-&gt;[1]}' \
    -e '          map{[$_,substr($_,39,3)]}@l;}' perlebcdic.pod
</pre>
<p class="Pp">If you would rather see it in POSIX-BC order then change the
    number 34 in the last line to 44, like this:</p>
<dl class="Bl-tag">
  <dt>recipe 6</dt>
  <dd></dd>
</dl>
<p class="Pp"><span class="Li"></span></p>
<pre>
 perl \
    -ne 'if(/.{29}\d{1,3}\s{2,4}\d{1,3}\s{2,4}\d{1,3}\s{2,4}\d{1,3}/)'\
     -e '{push(@l,$_)}' \
     -e 'END{print map{$_-&gt;[0]}' \
     -e '          sort{$a-&gt;[1] &lt;=&gt; $b-&gt;[1]}' \
     -e '          map{[$_,substr($_,44,3)]}@l;}' perlebcdic.pod
</pre>
<section class="Ss">
<h2 class="Ss" id="Table_in_hex,_sorted_in_1047_order"><a class="permalink" href="#Table_in_hex,_sorted_in_1047_order">Table
  in hex, sorted in 1047 order</a></h2>
Since this document was first written, the convention has become more and more
  to use hexadecimal notation for code points. To do this with the recipes and
  to also sort is a multi-step process, so here, for convenience, is the table
  from above, re-sorted to be in Code Page 1047 order, and using hex notation.
<p class="Pp"><span class="Li"></span></p>
<pre>
                          ISO
                         8859-1             POS-         CCSID
                         CCSID  CCSID CCSID IX-          1047
  chr                     0819   0037 1047  BC  UTF-8  UTF-EBCDIC
 ---------------------------------------------------------------------
 &lt;NUL&gt;                       00   00   00   00   00       00
 &lt;SOH&gt;                       01   01   01   01   01       01
 &lt;STX&gt;                       02   02   02   02   02       02
 &lt;ETX&gt;                       03   03   03   03   03       03
 &lt;ST&gt;                        9C   04   04   04   C2.9C    04
 &lt;HT&gt;                        09   05   05   05   09       05
 &lt;SSA&gt;                       86   06   06   06   C2.86    06
 &lt;DEL&gt;                       7F   07   07   07   7F       07
 &lt;EPA&gt;                       97   08   08   08   C2.97    08
 &lt;RI&gt;                        8D   09   09   09   C2.8D    09
 &lt;SS2&gt;                       8E   0A   0A   0A   C2.8E    0A
 &lt;VT&gt;                        0B   0B   0B   0B   0B       0B
 &lt;FF&gt;                        0C   0C   0C   0C   0C       0C
 &lt;CR&gt;                        0D   0D   0D   0D   0D       0D
 &lt;SO&gt;                        0E   0E   0E   0E   0E       0E
 &lt;SI&gt;                        0F   0F   0F   0F   0F       0F
 &lt;DLE&gt;                       10   10   10   10   10       10
 &lt;DC1&gt;                       11   11   11   11   11       11
 &lt;DC2&gt;                       12   12   12   12   12       12
 &lt;DC3&gt;                       13   13   13   13   13       13
 &lt;OSC&gt;                       9D   14   14   14   C2.9D    14
 &lt;LF&gt;                        0A   25   15   15   0A       15    **
 &lt;BS&gt;                        08   16   16   16   08       16
 &lt;ESA&gt;                       87   17   17   17   C2.87    17
 &lt;CAN&gt;                       18   18   18   18   18       18
 &lt;EOM&gt;                       19   19   19   19   19       19
 &lt;PU2&gt;                       92   1A   1A   1A   C2.92    1A
 &lt;SS3&gt;                       8F   1B   1B   1B   C2.8F    1B
 &lt;FS&gt;                        1C   1C   1C   1C   1C       1C
 &lt;GS&gt;                        1D   1D   1D   1D   1D       1D
 &lt;RS&gt;                        1E   1E   1E   1E   1E       1E
 &lt;US&gt;                        1F   1F   1F   1F   1F       1F
 &lt;PAD&gt;                       80   20   20   20   C2.80    20
 &lt;HOP&gt;                       81   21   21   21   C2.81    21
 &lt;BPH&gt;                       82   22   22   22   C2.82    22
 &lt;NBH&gt;                       83   23   23   23   C2.83    23
 &lt;IND&gt;                       84   24   24   24   C2.84    24
 &lt;NEL&gt;                       85   15   25   25   C2.85    25     **
 &lt;ETB&gt;                       17   26   26   26   17       26
 &lt;ESC&gt;                       1B   27   27   27   1B       27
 &lt;HTS&gt;                       88   28   28   28   C2.88    28
 &lt;HTJ&gt;                       89   29   29   29   C2.89    29
 &lt;VTS&gt;                       8A   2A   2A   2A   C2.8A    2A
 &lt;PLD&gt;                       8B   2B   2B   2B   C2.8B    2B
 &lt;PLU&gt;                       8C   2C   2C   2C   C2.8C    2C
 &lt;ENQ&gt;                       05   2D   2D   2D   05       2D
 &lt;ACK&gt;                       06   2E   2E   2E   06       2E
 &lt;BEL&gt;                       07   2F   2F   2F   07       2F
 &lt;DCS&gt;                       90   30   30   30   C2.90    30
 &lt;PU1&gt;                       91   31   31   31   C2.91    31
 &lt;SYN&gt;                       16   32   32   32   16       32
 &lt;STS&gt;                       93   33   33   33   C2.93    33
 &lt;CCH&gt;                       94   34   34   34   C2.94    34
 &lt;MW&gt;                        95   35   35   35   C2.95    35
 &lt;SPA&gt;                       96   36   36   36   C2.96    36
 &lt;EOT&gt;                       04   37   37   37   04       37
 &lt;SOS&gt;                       98   38   38   38   C2.98    38
 &lt;SGC&gt;                       99   39   39   39   C2.99    39
 &lt;SCI&gt;                       9A   3A   3A   3A   C2.9A    3A
 &lt;CSI&gt;                       9B   3B   3B   3B   C2.9B    3B
 &lt;DC4&gt;                       14   3C   3C   3C   14       3C
 &lt;NAK&gt;                       15   3D   3D   3D   15       3D
 &lt;PM&gt;                        9E   3E   3E   3E   C2.9E    3E
 &lt;SUB&gt;                       1A   3F   3F   3F   1A       3F
 &lt;SPACE&gt;                     20   40   40   40   20       40
 &lt;NON-BREAKING SPACE&gt;        A0   41   41   41   C2.A0    80.41
 &lt;a WITH CIRCUMFLEX&gt;         E2   42   42   42   C3.A2    8B.43
 &lt;a WITH DIAERESIS&gt;          E4   43   43   43   C3.A4    8B.45
 &lt;a WITH GRAVE&gt;              E0   44   44   44   C3.A0    8B.41
 &lt;a WITH ACUTE&gt;              E1   45   45   45   C3.A1    8B.42
 &lt;a WITH TILDE&gt;              E3   46   46   46   C3.A3    8B.44
 &lt;a WITH RING ABOVE&gt;         E5   47   47   47   C3.A5    8B.46
 &lt;c WITH CEDILLA&gt;            E7   48   48   48   C3.A7    8B.48
 &lt;n WITH TILDE&gt;              F1   49   49   49   C3.B1    8B.58
 &lt;CENT SIGN&gt;                 A2   4A   4A   B0   C2.A2    80.43  ##
 .                           2E   4B   4B   4B   2E       4B
 &lt;                           3C   4C   4C   4C   3C       4C
 (                           28   4D   4D   4D   28       4D
 +                           2B   4E   4E   4E   2B       4E
 |                           7C   4F   4F   4F   7C       4F
 &amp;                           26   50   50   50   26       50
 &lt;e WITH ACUTE&gt;              E9   51   51   51   C3.A9    8B.4A
 &lt;e WITH CIRCUMFLEX&gt;         EA   52   52   52   C3.AA    8B.51
 &lt;e WITH DIAERESIS&gt;          EB   53   53   53   C3.AB    8B.52
 &lt;e WITH GRAVE&gt;              E8   54   54   54   C3.A8    8B.49
 &lt;i WITH ACUTE&gt;              ED   55   55   55   C3.AD    8B.54
 &lt;i WITH CIRCUMFLEX&gt;         EE   56   56   56   C3.AE    8B.55
 &lt;i WITH DIAERESIS&gt;          EF   57   57   57   C3.AF    8B.56
 &lt;i WITH GRAVE&gt;              EC   58   58   58   C3.AC    8B.53
 &lt;SMALL LETTER SHARP S&gt;      DF   59   59   59   C3.9F    8A.73
 !                           21   5A   5A   5A   21       5A
 $                           24   5B   5B   5B   24       5B
 *                           2A   5C   5C   5C   2A       5C
 )                           29   5D   5D   5D   29       5D
 ;                           3B   5E   5E   5E   3B       5E
 ^                           5E   B0   5F   6A   5E       5F     ** ##
 -                           2D   60   60   60   2D       60
 /                           2F   61   61   61   2F       61
 &lt;A WITH CIRCUMFLEX&gt;         C2   62   62   62   C3.82    8A.43
 &lt;A WITH DIAERESIS&gt;          C4   63   63   63   C3.84    8A.45
 &lt;A WITH GRAVE&gt;              C0   64   64   64   C3.80    8A.41
 &lt;A WITH ACUTE&gt;              C1   65   65   65   C3.81    8A.42
 &lt;A WITH TILDE&gt;              C3   66   66   66   C3.83    8A.44
 &lt;A WITH RING ABOVE&gt;         C5   67   67   67   C3.85    8A.46
 &lt;C WITH CEDILLA&gt;            C7   68   68   68   C3.87    8A.48
 &lt;N WITH TILDE&gt;              D1   69   69   69   C3.91    8A.58
 &lt;BROKEN BAR&gt;                A6   6A   6A   D0   C2.A6    80.47  ##
 ,                           2C   6B   6B   6B   2C       6B
 %                           25   6C   6C   6C   25       6C
 _                           5F   6D   6D   6D   5F       6D
 &gt;                           3E   6E   6E   6E   3E       6E
 ?                           3F   6F   6F   6F   3F       6F
 &lt;o WITH STROKE&gt;             F8   70   70   70   C3.B8    8B.67
 &lt;E WITH ACUTE&gt;              C9   71   71   71   C3.89    8A.4A
 &lt;E WITH CIRCUMFLEX&gt;         CA   72   72   72   C3.8A    8A.51
 &lt;E WITH DIAERESIS&gt;          CB   73   73   73   C3.8B    8A.52
 &lt;E WITH GRAVE&gt;              C8   74   74   74   C3.88    8A.49
 &lt;I WITH ACUTE&gt;              CD   75   75   75   C3.8D    8A.54
 &lt;I WITH CIRCUMFLEX&gt;         CE   76   76   76   C3.8E    8A.55
 &lt;I WITH DIAERESIS&gt;          CF   77   77   77   C3.8F    8A.56
 &lt;I WITH GRAVE&gt;              CC   78   78   78   C3.8C    8A.53
 `                           60   79   79   4A   60       79     ##
 :                           3A   7A   7A   7A   3A       7A
 #                           23   7B   7B   7B   23       7B
 @                           40   7C   7C   7C   40       7C
 '                           27   7D   7D   7D   27       7D
 =                           3D   7E   7E   7E   3D       7E
 &quot;                           22   7F   7F   7F   22       7F
 &lt;O WITH STROKE&gt;             D8   80   80   80   C3.98    8A.67
 a                           61   81   81   81   61       81
 b                           62   82   82   82   62       82
 c                           63   83   83   83   63       83
 d                           64   84   84   84   64       84
 e                           65   85   85   85   65       85
 f                           66   86   86   86   66       86
 g                           67   87   87   87   67       87
 h                           68   88   88   88   68       88
 i                           69   89   89   89   69       89
 &lt;LEFT POINTING GUILLEMET&gt;   AB   8A   8A   8A   C2.AB    80.52
 &lt;RIGHT POINTING GUILLEMET&gt;  BB   8B   8B   8B   C2.BB    80.6A
 &lt;SMALL LETTER eth&gt;          F0   8C   8C   8C   C3.B0    8B.57
 &lt;y WITH ACUTE&gt;              FD   8D   8D   8D   C3.BD    8B.71
 &lt;SMALL LETTER thorn&gt;        FE   8E   8E   8E   C3.BE    8B.72
 &lt;PLUS-OR-MINUS SIGN&gt;        B1   8F   8F   8F   C2.B1    80.58
 &lt;DEGREE SIGN&gt;               B0   90   90   90   C2.B0    80.57
 j                           6A   91   91   91   6A       91
 k                           6B   92   92   92   6B       92
 l                           6C   93   93   93   6C       93
 m                           6D   94   94   94   6D       94
 n                           6E   95   95   95   6E       95
 o                           6F   96   96   96   6F       96
 p                           70   97   97   97   70       97
 q                           71   98   98   98   71       98
 r                           72   99   99   99   72       99
 &lt;FEMININE ORDINAL&gt;          AA   9A   9A   9A   C2.AA    80.51
 &lt;MASC. ORDINAL INDICATOR&gt;   BA   9B   9B   9B   C2.BA    80.69
 &lt;SMALL LIGATURE ae&gt;         E6   9C   9C   9C   C3.A6    8B.47
 &lt;CEDILLA&gt;                   B8   9D   9D   9D   C2.B8    80.67
 &lt;CAPITAL LIGATURE AE&gt;       C6   9E   9E   9E   C3.86    8A.47
 &lt;CURRENCY SIGN&gt;             A4   9F   9F   9F   C2.A4    80.45
 &lt;MICRO SIGN&gt;                B5   A0   A0   A0   C2.B5    80.64
 ~                           7E   A1   A1   FF   7E       A1     ##
 s                           73   A2   A2   A2   73       A2
 t                           74   A3   A3   A3   74       A3
 u                           75   A4   A4   A4   75       A4
 v                           76   A5   A5   A5   76       A5
 w                           77   A6   A6   A6   77       A6
 x                           78   A7   A7   A7   78       A7
 y                           79   A8   A8   A8   79       A8
 z                           7A   A9   A9   A9   7A       A9
 &lt;INVERTED &quot;!&quot; &gt;             A1   AA   AA   AA   C2.A1    80.42
 &lt;INVERTED QUESTION MARK&gt;    BF   AB   AB   AB   C2.BF    80.73
 &lt;CAPITAL LETTER ETH&gt;        D0   AC   AC   AC   C3.90    8A.57
 [                           5B   BA   AD   BB   5B       AD     ** ##
 &lt;CAPITAL LETTER THORN&gt;      DE   AE   AE   AE   C3.9E    8A.72
 &lt;REGISTERED TRADE MARK&gt;     AE   AF   AF   AF   C2.AE    80.55
 &lt;NOT SIGN&gt;                  AC   5F   B0   BA   C2.AC    80.53  ** ##
 &lt;POUND SIGN&gt;                A3   B1   B1   B1   C2.A3    80.44
 &lt;YEN SIGN&gt;                  A5   B2   B2   B2   C2.A5    80.46
 &lt;MIDDLE DOT&gt;                B7   B3   B3   B3   C2.B7    80.66
 &lt;COPYRIGHT SIGN&gt;            A9   B4   B4   B4   C2.A9    80.4A
 &lt;SECTION SIGN&gt;              A7   B5   B5   B5   C2.A7    80.48
 &lt;PARAGRAPH SIGN&gt;            B6   B6   B6   B6   C2.B6    80.65
 &lt;FRACTION ONE QUARTER&gt;      BC   B7   B7   B7   C2.BC    80.70
 &lt;FRACTION ONE HALF&gt;         BD   B8   B8   B8   C2.BD    80.71
 &lt;FRACTION THREE QUARTERS&gt;   BE   B9   B9   B9   C2.BE    80.72
 &lt;Y WITH ACUTE&gt;              DD   AD   BA   AD   C3.9D    8A.71  ** ##
 &lt;DIAERESIS&gt;                 A8   BD   BB   79   C2.A8    80.49  ** ##
 &lt;MACRON&gt;                    AF   BC   BC   A1   C2.AF    80.56  ##
 ]                           5D   BB   BD   BD   5D       BD     **
 &lt;ACUTE ACCENT&gt;              B4   BE   BE   BE   C2.B4    80.63
 &lt;MULTIPLICATION SIGN&gt;       D7   BF   BF   BF   C3.97    8A.66
 {                           7B   C0   C0   FB   7B       C0     ##
 A                           41   C1   C1   C1   41       C1
 B                           42   C2   C2   C2   42       C2
 C                           43   C3   C3   C3   43       C3
 D                           44   C4   C4   C4   44       C4
 E                           45   C5   C5   C5   45       C5
 F                           46   C6   C6   C6   46       C6
 G                           47   C7   C7   C7   47       C7
 H                           48   C8   C8   C8   48       C8
 I                           49   C9   C9   C9   49       C9
 &lt;SOFT HYPHEN&gt;               AD   CA   CA   CA   C2.AD    80.54
 &lt;o WITH CIRCUMFLEX&gt;         F4   CB   CB   CB   C3.B4    8B.63
 &lt;o WITH DIAERESIS&gt;          F6   CC   CC   CC   C3.B6    8B.65
 &lt;o WITH GRAVE&gt;              F2   CD   CD   CD   C3.B2    8B.59
 &lt;o WITH ACUTE&gt;              F3   CE   CE   CE   C3.B3    8B.62
 &lt;o WITH TILDE&gt;              F5   CF   CF   CF   C3.B5    8B.64
 }                           7D   D0   D0   FD   7D       D0     ##
 J                           4A   D1   D1   D1   4A       D1
 K                           4B   D2   D2   D2   4B       D2
 L                           4C   D3   D3   D3   4C       D3
 M                           4D   D4   D4   D4   4D       D4
 N                           4E   D5   D5   D5   4E       D5
 O                           4F   D6   D6   D6   4F       D6
 P                           50   D7   D7   D7   50       D7
 Q                           51   D8   D8   D8   51       D8
 R                           52   D9   D9   D9   52       D9
 &lt;SUPERSCRIPT ONE&gt;           B9   DA   DA   DA   C2.B9    80.68
 &lt;u WITH CIRCUMFLEX&gt;         FB   DB   DB   DB   C3.BB    8B.6A
 &lt;u WITH DIAERESIS&gt;          FC   DC   DC   DC   C3.BC    8B.70
 &lt;u WITH GRAVE&gt;              F9   DD   DD   C0   C3.B9    8B.68  ##
 &lt;u WITH ACUTE&gt;              FA   DE   DE   DE   C3.BA    8B.69
 &lt;y WITH DIAERESIS&gt;          FF   DF   DF   DF   C3.BF    8B.73
 \                           5C   E0   E0   BC   5C       E0     ##
 &lt;DIVISION SIGN&gt;             F7   E1   E1   E1   C3.B7    8B.66
 S                           53   E2   E2   E2   53       E2
 T                           54   E3   E3   E3   54       E3
 U                           55   E4   E4   E4   55       E4
 V                           56   E5   E5   E5   56       E5
 W                           57   E6   E6   E6   57       E6
 X                           58   E7   E7   E7   58       E7
 Y                           59   E8   E8   E8   59       E8
 Z                           5A   E9   E9   E9   5A       E9
 &lt;SUPERSCRIPT TWO&gt;           B2   EA   EA   EA   C2.B2    80.59
 &lt;O WITH CIRCUMFLEX&gt;         D4   EB   EB   EB   C3.94    8A.63
 &lt;O WITH DIAERESIS&gt;          D6   EC   EC   EC   C3.96    8A.65
 &lt;O WITH GRAVE&gt;              D2   ED   ED   ED   C3.92    8A.59
 &lt;O WITH ACUTE&gt;              D3   EE   EE   EE   C3.93    8A.62
 &lt;O WITH TILDE&gt;              D5   EF   EF   EF   C3.95    8A.64
 0                           30   F0   F0   F0   30       F0
 1                           31   F1   F1   F1   31       F1
 2                           32   F2   F2   F2   32       F2
 3                           33   F3   F3   F3   33       F3
 4                           34   F4   F4   F4   34       F4
 5                           35   F5   F5   F5   35       F5
 6                           36   F6   F6   F6   36       F6
 7                           37   F7   F7   F7   37       F7
 8                           38   F8   F8   F8   38       F8
 9                           39   F9   F9   F9   39       F9
 &lt;SUPERSCRIPT THREE&gt;         B3   FA   FA   FA   C2.B3    80.62
 &lt;U WITH CIRCUMFLEX&gt;         DB   FB   FB   DD   C3.9B    8A.6A  ##
 &lt;U WITH DIAERESIS&gt;          DC   FC   FC   FC   C3.9C    8A.70
 &lt;U WITH GRAVE&gt;              D9   FD   FD   E0   C3.99    8A.68  ##
 &lt;U WITH ACUTE&gt;              DA   FE   FE   FE   C3.9A    8A.69
 &lt;APC&gt;                       9F   FF   FF   5F   C2.9F    FF     ##
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="IDENTIFYING_CHARACTER_CODE_SETS"><a class="permalink" href="#IDENTIFYING_CHARACTER_CODE_SETS">IDENTIFYING
  CHARACTER CODE SETS</a></h1>
It is possible to determine which character set you are operating under. But
  first you need to be really really sure you need to do this. Your code will be
  simpler and probably just as portable if you don't have to test the character
  set and do different things, depending. There are actually only very few
  circumstances where it's not easy to write straight-line code portable to all
  character sets. See &quot;Unicode and EBCDIC&quot; in perluniintro for how to
  portably specify characters.
<p class="Pp">But there are some cases where you may want to know which
    character set you are running under. One possible example is doing sorting
    in inner loops where performance is critical.</p>
<p class="Pp">To determine if you are running under ASCII or EBCDIC, you can use
    the return value of <span class="Li">&quot;ord()&quot;</span> or
    <span class="Li">&quot;chr()&quot;</span> to test one or more character
    values. For example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $is_ascii  = &quot;A&quot; eq chr(65);
    $is_ebcdic = &quot;A&quot; eq chr(193);
    $is_ascii  = ord(&quot;A&quot;) == 65;
    $is_ebcdic = ord(&quot;A&quot;) == 193;
</pre>
<p class="Pp">There's even less need to distinguish between EBCDIC code pages,
    but to do so try looking at one or more of the characters that differ
    between them.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $is_ascii           = ord('[') == 91;
    $is_ebcdic_37       = ord('[') == 186;
    $is_ebcdic_1047     = ord('[') == 173;
    $is_ebcdic_POSIX_BC = ord('[') == 187;
</pre>
<p class="Pp">However, it would be unwise to write tests such as:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $is_ascii = &quot;\r&quot; ne chr(13);  #  WRONG
    $is_ascii = &quot;\n&quot; ne chr(10);  #  ILL ADVISED
</pre>
<p class="Pp">Obviously the first of these will fail to distinguish most ASCII
    platforms from either a CCSID 0037, a 1047, or a POSIX-BC EBCDIC platform
    since
    <span class="Li">&quot;&quot;\r&quot;&#x00A0;eq&#x00A0;chr(13)&quot;</span>
    under all of those coded character sets. But note too that because
    <span class="Li">&quot;\n&quot;</span> is
    <span class="Li">&quot;chr(13)&quot;</span> and
    <span class="Li">&quot;\r&quot;</span> is
    <span class="Li">&quot;chr(10)&quot;</span> on old Macintosh (which is an
    ASCII platform) the second <span class="Li">$is_ascii</span> test will lead
    to trouble there.</p>
<p class="Pp">To determine whether or not perl was built under an EBCDIC code
    page you can use the Config module like so:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use Config;
    $is_ebcdic = $Config{'ebcdic'} eq 'define';
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="CONVERSIONS"><a class="permalink" href="#CONVERSIONS">CONVERSIONS</a></h1>
<section class="Ss">
<h2 class="Ss" id="_utf8::unicode_to_native()__and__utf8::native_to_unicode()_"><a class="permalink" href="#_utf8::unicode_to_native()__and__utf8::native_to_unicode()_">&quot;utf8::unicode_to_native()&quot;
  and &quot;utf8::native_to_unicode()&quot;</a></h2>
These functions take an input numeric code point in one encoding and return what
  its equivalent value is in the other.
<p class="Pp">See utf8.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="tr///"><a class="permalink" href="#tr///">tr///</a></h2>
In order to convert a string of characters from one character set to another a
  simple list of numbers, such as in the right columns in the above table, along
  with Perl's <span class="Li">&quot;tr///&quot;</span> operator is all that is
  needed. The data in the table are in ASCII/Latin1 order, hence the EBCDIC
  columns provide easy-to-use ASCII/Latin1 to EBCDIC operations that are also
  easily reversed.
<p class="Pp">For example, to convert ASCII/Latin1 to code page 037 take the
    output of the second numbers column from the output of recipe 2 (modified to
    add <span class="Li">&quot;\&quot;</span> characters), and use it in
    <span class="Li">&quot;tr///&quot;</span> like so:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $cp_037 =
    '\x00\x01\x02\x03\x37\x2D\x2E\x2F\x16\x05\x25\x0B\x0C\x0D\x0E\x0F' .
    '\x10\x11\x12\x13\x3C\x3D\x32\x26\x18\x19\x3F\x27\x1C\x1D\x1E\x1F' .
    '\x40\x5A\x7F\x7B\x5B\x6C\x50\x7D\x4D\x5D\x5C\x4E\x6B\x60\x4B\x61' .
    '\xF0\xF1\xF2\xF3\xF4\xF5\xF6\xF7\xF8\xF9\x7A\x5E\x4C\x7E\x6E\x6F' .
    '\x7C\xC1\xC2\xC3\xC4\xC5\xC6\xC7\xC8\xC9\xD1\xD2\xD3\xD4\xD5\xD6' .
    '\xD7\xD8\xD9\xE2\xE3\xE4\xE5\xE6\xE7\xE8\xE9\xBA\xE0\xBB\xB0\x6D' .
    '\x79\x81\x82\x83\x84\x85\x86\x87\x88\x89\x91\x92\x93\x94\x95\x96' .
    '\x97\x98\x99\xA2\xA3\xA4\xA5\xA6\xA7\xA8\xA9\xC0\x4F\xD0\xA1\x07' .
    '\x20\x21\x22\x23\x24\x15\x06\x17\x28\x29\x2A\x2B\x2C\x09\x0A\x1B' .
    '\x30\x31\x1A\x33\x34\x35\x36\x08\x38\x39\x3A\x3B\x04\x14\x3E\xFF' .
    '\x41\xAA\x4A\xB1\x9F\xB2\x6A\xB5\xBD\xB4\x9A\x8A\x5F\xCA\xAF\xBC' .
    '\x90\x8F\xEA\xFA\xBE\xA0\xB6\xB3\x9D\xDA\x9B\x8B\xB7\xB8\xB9\xAB' .
    '\x64\x65\x62\x66\x63\x67\x9E\x68\x74\x71\x72\x73\x78\x75\x76\x77' .
    '\xAC\x69\xED\xEE\xEB\xEF\xEC\xBF\x80\xFD\xFE\xFB\xFC\xAD\xAE\x59' .
    '\x44\x45\x42\x46\x43\x47\x9C\x48\x54\x51\x52\x53\x58\x55\x56\x57' .
    '\x8C\x49\xCD\xCE\xCB\xCF\xCC\xE1\x70\xDD\xDE\xDB\xDC\x8D\x8E\xDF';

    my $ebcdic_string = $ascii_string;
    eval '$ebcdic_string =~ tr/\000-\377/' . $cp_037 . '/';
</pre>
<p class="Pp">To convert from EBCDIC 037 to ASCII just reverse the order of the
    tr/// arguments like so:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    my $ascii_string = $ebcdic_string;
    eval '$ascii_string =~ tr/' . $cp_037 . '/\000-\377/';
</pre>
<p class="Pp">Similarly one could take the output of the third numbers column
    from recipe 2 to obtain a <span class="Li">$cp_1047</span> table. The fourth
    numbers column of the output from recipe 2 could provide a
    <span class="Li">$cp_posix_bc</span> table suitable for transcoding as
  well.</p>
<p class="Pp">If you wanted to see the inverse tables, you would first have to
    sort on the desired numbers column as in recipes 4, 5 or 6, then take the
    output of the first numbers column.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="iconv"><a class="permalink" href="#iconv">iconv</a></h2>
XPG operability often implies the presence of an <i>iconv</i> utility available
  from the shell or from the C library. Consult your system's documentation for
  information on iconv.
<p class="Pp">On OS/390 or z/OS see the <b>iconv</b>(1) manpage. One way to
    invoke the <span class="Li">&quot;iconv&quot;</span> shell utility from
    within perl would be to:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    # OS/390 or z/OS example
    $ascii_data = `echo '$ebcdic_data'| iconv -f IBM-1047 -t ISO8859-1`
</pre>
<p class="Pp">or the inverse map:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    # OS/390 or z/OS example
    $ebcdic_data = `echo '$ascii_data'| iconv -f ISO8859-1 -t IBM-1047`
</pre>
<p class="Pp">For other Perl-based conversion options see the
    <span class="Li">&quot;Convert::*&quot;</span> modules on CPAN.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="C__s-1RTL_s0"><a class="permalink" href="#C__s-1RTL_s0">C
  RTL</a></h2>
The OS/390 and z/OS C run-time libraries provide
  <span class="Li">&quot;_atoe()&quot;</span> and
  <span class="Li">&quot;_etoa()&quot;</span> functions.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERATOR_DIFFERENCES"><a class="permalink" href="#OPERATOR_DIFFERENCES">OPERATOR
  DIFFERENCES</a></h1>
The <span class="Li">&quot;..&quot;</span> range operator treats certain
  character ranges with care on EBCDIC platforms. For example the following
  array will have twenty six elements on either an EBCDIC platform or an ASCII
  platform:
<p class="Pp"><span class="Li"></span></p>
<pre>
    @alphabet = ('A'..'Z');   #  $#alphabet == 25
</pre>
<p class="Pp">The bitwise operators such as &amp; ^ | may return different
    results when operating on string or character data in a Perl program running
    on an EBCDIC platform than when run on an ASCII platform. Here is an example
    adapted from the one in perlop:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    # EBCDIC-based examples
    print &quot;j p \n&quot; ^ &quot; a h&quot;;                      # prints &quot;JAPH\n&quot;
    print &quot;JA&quot; | &quot;  ph\n&quot;;                        # prints &quot;japh\n&quot;
    print &quot;JAPH\nJunk&quot; &amp; &quot;\277\277\277\277\277&quot;;  # prints &quot;japh\n&quot;;
    print 'p N$' ^ &quot; E&lt;H\n&quot;;                      # prints &quot;Perl\n&quot;;
</pre>
<p class="Pp">An interesting property of the 32 C0 control characters in the
    ASCII table is that they can &quot;literally&quot; be constructed as control
    characters in Perl, e.g. <span class="Li">&quot;(chr(0)&quot;</span> eq
    <span class="Li">&quot;\c@&quot;</span>)&gt;
    <span class="Li">&quot;(chr(1)&quot;</span> eq
    <span class="Li">&quot;\cA&quot;</span>)&gt;, and so on. Perl on EBCDIC
    platforms has been ported to take <span class="Li">&quot;\c@&quot;</span> to
    <span class="Li">chr(0)</span> and <span class="Li">&quot;\cA&quot;</span>
    to <span class="Li">chr(1)</span>, etc. as well, but the characters that
    result depend on which code page you are using. The table below uses the
    standard acronyms for the controls. The POSIX-BC and 1047 sets are identical
    throughout this range and differ from the 0037 set at only one spot (21
    decimal). Note that the line terminator character may be generated by
    <span class="Li">&quot;\cJ&quot;</span> on ASCII platforms but by
    <span class="Li">&quot;\cU&quot;</span> on 1047 or POSIX-BC platforms and
    cannot be generated as a <span class="Li">&quot;\c.letter.&quot;</span>
    control character on 0037 platforms. Note also that
    <span class="Li">&quot;\c\&quot;</span> cannot be the final element in a
    string or regex, as it will absorb the terminator. But
    <span class="Li">&quot;\c\</span><i>X</i><span class="Li">&quot;</span> is a
    <span class="Li">&quot;FILE</span> <span class="Li">SEPARATOR&quot;</span>
    concatenated with <i>X</i> for all <i>X</i>. The outlier
    <span class="Li">&quot;\c?&quot;</span> on ASCII, which yields a non-C0
    control <span class="Li">&quot;DEL&quot;</span>, yields the outlier control
    <span class="Li">&quot;APC&quot;</span> on EBCDIC, the one that isn't in the
    block of contiguous controls. Note that a subtlety of this is that
    <span class="Li">&quot;\c?&quot;</span> on ASCII platforms is an ASCII
    character, while it isn't equivalent to any ASCII character in EBCDIC
    platforms.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
 chr   ord   8859-1    0037    1047 &amp;&amp; POSIX-BC
 -----------------------------------------------------------------------
 \c@     0   &lt;NUL&gt;     &lt;NUL&gt;        &lt;NUL&gt;
 \cA     1   &lt;SOH&gt;     &lt;SOH&gt;        &lt;SOH&gt;
 \cB     2   &lt;STX&gt;     &lt;STX&gt;        &lt;STX&gt;
 \cC     3   &lt;ETX&gt;     &lt;ETX&gt;        &lt;ETX&gt;
 \cD     4   &lt;EOT&gt;     &lt;ST&gt;         &lt;ST&gt;
 \cE     5   &lt;ENQ&gt;     &lt;HT&gt;         &lt;HT&gt;
 \cF     6   &lt;ACK&gt;     &lt;SSA&gt;        &lt;SSA&gt;
 \cG     7   &lt;BEL&gt;     &lt;DEL&gt;        &lt;DEL&gt;
 \cH     8   &lt;BS&gt;      &lt;EPA&gt;        &lt;EPA&gt;
 \cI     9   &lt;HT&gt;      &lt;RI&gt;         &lt;RI&gt;
 \cJ    10   &lt;LF&gt;      &lt;SS2&gt;        &lt;SS2&gt;
 \cK    11   &lt;VT&gt;      &lt;VT&gt;         &lt;VT&gt;
 \cL    12   &lt;FF&gt;      &lt;FF&gt;         &lt;FF&gt;
 \cM    13   &lt;CR&gt;      &lt;CR&gt;         &lt;CR&gt;
 \cN    14   &lt;SO&gt;      &lt;SO&gt;         &lt;SO&gt;
 \cO    15   &lt;SI&gt;      &lt;SI&gt;         &lt;SI&gt;
 \cP    16   &lt;DLE&gt;     &lt;DLE&gt;        &lt;DLE&gt;
 \cQ    17   &lt;DC1&gt;     &lt;DC1&gt;        &lt;DC1&gt;
 \cR    18   &lt;DC2&gt;     &lt;DC2&gt;        &lt;DC2&gt;
 \cS    19   &lt;DC3&gt;     &lt;DC3&gt;        &lt;DC3&gt;
 \cT    20   &lt;DC4&gt;     &lt;OSC&gt;        &lt;OSC&gt;
 \cU    21   &lt;NAK&gt;     &lt;NEL&gt;        &lt;LF&gt;              **
 \cV    22   &lt;SYN&gt;     &lt;BS&gt;         &lt;BS&gt;
 \cW    23   &lt;ETB&gt;     &lt;ESA&gt;        &lt;ESA&gt;
 \cX    24   &lt;CAN&gt;     &lt;CAN&gt;        &lt;CAN&gt;
 \cY    25   &lt;EOM&gt;     &lt;EOM&gt;        &lt;EOM&gt;
 \cZ    26   &lt;SUB&gt;     &lt;PU2&gt;        &lt;PU2&gt;
 \c[    27   &lt;ESC&gt;     &lt;SS3&gt;        &lt;SS3&gt;
 \c\X   28   &lt;FS&gt;X     &lt;FS&gt;X        &lt;FS&gt;X
 \c]    29   &lt;GS&gt;      &lt;GS&gt;         &lt;GS&gt;
 \c^    30   &lt;RS&gt;      &lt;RS&gt;         &lt;RS&gt;
 \c_    31   &lt;US&gt;      &lt;US&gt;         &lt;US&gt;
 \c?    *    &lt;DEL&gt;     &lt;APC&gt;        &lt;APC&gt;
</pre>
<p class="Pp"><span class="Li">&quot;*&quot;</span> Note:
    <span class="Li">&quot;\c?&quot;</span> maps to ordinal 127
    (<span class="Li">&quot;DEL&quot;</span>) on ASCII platforms, but since
    ordinal 127 is a not a control character on EBCDIC machines,
    <span class="Li">&quot;\c?&quot;</span> instead maps on them to
    <span class="Li">&quot;APC&quot;</span>, which is 255 in 0037 and 1047, and
    95 in POSIX-BC.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTION_DIFFERENCES"><a class="permalink" href="#FUNCTION_DIFFERENCES">FUNCTION
  DIFFERENCES</a></h1>
<dl class="Bl-tag">
  <dt>&quot;chr()&quot;</dt>
  <dd><span class="Li">&quot;chr()&quot;</span> must be given an EBCDIC code
      number argument to yield a desired character return value on an EBCDIC
      platform. For example:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $CAPITAL_LETTER_A = chr(193);
    </pre>
  </dd>
  <dt>&quot;ord()&quot;</dt>
  <dd><span class="Li">&quot;ord()&quot;</span> will return EBCDIC code number
      values on an EBCDIC platform. For example:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $the_number_193 = ord(&quot;A&quot;);
    </pre>
  </dd>
  <dt>&quot;pack()&quot;</dt>
  <dd>The <span class="Li">&quot;c&quot;</span> and
      <span class="Li">&quot;C&quot;</span> templates for
      <span class="Li">&quot;pack()&quot;</span> are dependent upon character
      set encoding. Examples of usage on EBCDIC include:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $foo = pack(&quot;CCCC&quot;,193,194,195,196);
    # $foo eq &quot;ABCD&quot;
    $foo = pack(&quot;C4&quot;,193,194,195,196);
    # same thing

    $foo = pack(&quot;ccxxcc&quot;,193,194,195,196);
    # $foo eq &quot;AB\0\0CD&quot;
    </pre>
    <p class="Pp">The <span class="Li">&quot;U&quot;</span> template has been
        ported to mean &quot;Unicode&quot; on all platforms so that</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    pack(&quot;U&quot;, 65) eq 'A'
    </pre>
    <p class="Pp">is true on all platforms. If you want native code points for
        the low 256, use the <span class="Li">&quot;W&quot;</span> template.
        This means that the equivalences</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    pack(&quot;W&quot;, ord($character)) eq $character
    unpack(&quot;W&quot;, $character) == ord $character
    </pre>
    <p class="Pp">will hold.</p>
  </dd>
  <dt>&quot;print()&quot;</dt>
  <dd>One must be careful with scalars and strings that are passed to print that
      contain ASCII encodings. One common place for this to occur is in the
      output of the MIME type header for CGI script writing. For example, many
      Perl programming guides recommend something similar to:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    print &quot;Content-type:\ttext/html\015\012\015\012&quot;;
    # this may be wrong on EBCDIC
    </pre>
    <p class="Pp">You can instead write</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    print &quot;Content-type:\ttext/html\r\n\r\n&quot;; # OK for DGW et al
    </pre>
    <p class="Pp">and have it work portably.</p>
    <p class="Pp">That is because the translation from EBCDIC to ASCII is done
        by the web server in this case. Consult your web server's documentation
        for further details.</p>
  </dd>
  <dt>&quot;printf()&quot;</dt>
  <dd>The formats that can convert characters to numbers and vice versa will be
      different from their ASCII counterparts when executed on an EBCDIC
      platform. Examples include:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    printf(&quot;%c%c%c&quot;,193,194,195);  # prints ABC
    </pre>
  </dd>
  <dt>&quot;sort()&quot;</dt>
  <dd>EBCDIC sort results may differ from ASCII sort results especially for
      mixed case strings. This is discussed in more detail below.</dd>
  <dt>&quot;sprintf()&quot;</dt>
  <dd>See the discussion of <span class="Li">&quot;printf()&quot;</span> above.
      An example of the use of sprintf would be:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $CAPITAL_LETTER_A = sprintf(&quot;%c&quot;,193);
    </pre>
  </dd>
  <dt>&quot;unpack()&quot;</dt>
  <dd>See the discussion of <span class="Li">&quot;pack()&quot;</span>
    above.</dd>
</dl>
<p class="Pp">Note that it is possible to write portable code for these by
    specifying things in Unicode numbers, and using a conversion function:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    printf(&quot;%c&quot;,utf8::unicode_to_native(65));  # prints A on all
                                               # platforms
    print utf8::native_to_unicode(ord(&quot;A&quot;));   # Likewise, prints 65
</pre>
<p class="Pp">See &quot;Unicode and EBCDIC&quot; in perluniintro and
    &quot;CONVERSIONS&quot; for other options.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="REGULAR_EXPRESSION_DIFFERENCES"><a class="permalink" href="#REGULAR_EXPRESSION_DIFFERENCES">REGULAR
  EXPRESSION DIFFERENCES</a></h1>
You can write your regular expressions just like someone on an ASCII platform
  would do. But keep in mind that using octal or hex notation to specify a
  particular code point will give you the character that the EBCDIC code page
  natively maps to it. (This is also true of all double-quoted strings.) If you
  want to write portably, just use the
  <span class="Li">&quot;\N{U+...}&quot;</span> notation everywhere where you
  would have used <span class="Li">&quot;\x{...}&quot;</span>, and don't use
  octal notation at all.
<p class="Pp">Starting in Perl v5.22, this applies to ranges in bracketed
    character classes. If you say, for example,
    <span class="Li">&quot;qr/[\N{U+20}-\N{U+7F}]/&quot;</span>, it means the
    characters <span class="Li">&quot;\N{U+20}&quot;</span>,
    <span class="Li">&quot;\N{U+21}&quot;</span>, ...,
    <span class="Li">&quot;\N{U+7F}&quot;</span>. This range is all the
    printable characters that the ASCII character set contains.</p>
<p class="Pp">Prior to v5.22, you couldn't specify any ranges portably, except
    (starting in Perl v5.5.3) all subsets of the
    <span class="Li">&quot;[A-Z]&quot;</span> and
    <span class="Li">&quot;[a-z]&quot;</span> ranges are specially coded to not
    pick up gap characters. For example, characters such as &quot;o&quot;
    (<span class="Li">&quot;o WITH CIRCUMFLEX&quot;</span>) that lie between
    &quot;I&quot; and &quot;J&quot; would not be matched by the regular
    expression range <span class="Li">&quot;/[H-K]/&quot;</span>. But if either
    of the range end points is explicitly numeric (and neither is specified by
    <span class="Li">&quot;\N{U+...}&quot;</span>), the gap characters are
    matched:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    /[\x89-\x91]/
</pre>
<p class="Pp">will match <span class="Li">&quot;\x8e&quot;</span>, even though
    <span class="Li">&quot;\x89&quot;</span> is &quot;i&quot; and
    <span class="Li">&quot;\x91 &quot;</span> is &quot;j&quot;, and
    <span class="Li">&quot;\x8e&quot;</span> is a gap character, from the
    alphabetic viewpoint.</p>
<p class="Pp">Another construct to be wary of is the inappropriate use of hex
    (unless you use <span class="Li">&quot;\N{U+...}&quot;</span>) or octal
    constants in regular expressions. Consider the following set of subs:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    sub is_c0 {
        my $char = substr(shift,0,1);
        $char =~ /[\000-\037]/;
    }

    sub is_print_ascii {
        my $char = substr(shift,0,1);
        $char =~ /[\040-\176]/;
    }

    sub is_delete {
        my $char = substr(shift,0,1);
        $char eq &quot;\177&quot;;
    }

    sub is_c1 {
        my $char = substr(shift,0,1);
        $char =~ /[\200-\237]/;
    }

    sub is_latin_1 {    # But not ASCII; not C1
        my $char = substr(shift,0,1);
        $char =~ /[\240-\377]/;
    }
</pre>
<p class="Pp">These are valid only on ASCII platforms. Starting in Perl v5.22,
    simply changing the octal constants to equivalent
    <span class="Li">&quot;\N{U+...}&quot;</span> values makes them
  portable:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    sub is_c0 {
        my $char = substr(shift,0,1);
        $char =~ /[\N{U+00}-\N{U+1F}]/;
    }

    sub is_print_ascii {
        my $char = substr(shift,0,1);
        $char =~ /[\N{U+20}-\N{U+7E}]/;
    }

    sub is_delete {
        my $char = substr(shift,0,1);
        $char eq &quot;\N{U+7F}&quot;;
    }

    sub is_c1 {
        my $char = substr(shift,0,1);
        $char =~ /[\N{U+80}-\N{U+9F}]/;
    }

    sub is_latin_1 {    # But not ASCII; not C1
        my $char = substr(shift,0,1);
        $char =~ /[\N{U+A0}-\N{U+FF}]/;
    }
</pre>
<p class="Pp">And here are some alternative portable ways to write them:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    sub Is_c0 {
        my $char = substr(shift,0,1);
        return $char =~ /[[:cntrl:]]/a &amp;&amp; ! Is_delete($char);

        # Alternatively:
        # return $char =~ /[[:cntrl:]]/
        #        &amp;&amp; $char =~ /[[:ascii:]]/
        #        &amp;&amp; ! Is_delete($char);
    }

    sub Is_print_ascii {
        my $char = substr(shift,0,1);

        return $char =~ /[[:print:]]/a;

        # Alternatively:
        # return $char =~ /[[:print:]]/ &amp;&amp; $char =~ /[[:ascii:]]/;

        # Or
        # return $char
        #      =~ /[ !&quot;\#\$%&amp;'()*+,\-.\/0-9:;&lt;=&gt;?\@A-Z[\\\]^_`a-z{|}~]/;
    }

    sub Is_delete {
        my $char = substr(shift,0,1);
        return utf8::native_to_unicode(ord $char) == 0x7F;
    }

    sub Is_c1 {
        use feature 'unicode_strings';
        my $char = substr(shift,0,1);
        return $char =~ /[[:cntrl:]]/ &amp;&amp; $char !~ /[[:ascii:]]/;
    }

    sub Is_latin_1 {    # But not ASCII; not C1
        use feature 'unicode_strings';
        my $char = substr(shift,0,1);
        return ord($char) &lt; 256
               &amp;&amp; $char !~ /[[:ascii:]]/
               &amp;&amp; $char !~ /[[:cntrl:]]/;
    }
</pre>
<p class="Pp">Another way to write
    <span class="Li">&quot;Is_latin_1()&quot;</span> would be to use the
    characters in the range explicitly:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    sub Is_latin_1 {
        my $char = substr(shift,0,1);
        $char =~ /[&#x00A0;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXAAAA~AeAaAECEEEEeIIIIe]
                  [D&#x2010;N~OOOO~OeXOUUUUeYPssaaaa~aeaaaeceeeeeiiiied`n~oooo~oeXouuuueypye]/x;
    }
</pre>
<p class="Pp">Although that form may run into trouble in network transit (due to
    the presence of 8 bit characters) or on non ISO-Latin character sets. But it
    does allow <span class="Li">&quot;Is_c1&quot;</span> to be rewritten so it
    works on Perls that don't have <span class="Li">'unicode_strings'</span>
    (earlier than v5.14):</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    sub Is_latin_1 {    # But not ASCII; not C1
        my $char = substr(shift,0,1);
        return ord($char) &lt; 256
               &amp;&amp; $char !~ /[[:ascii:]]/
               &amp;&amp; ! Is_latin1($char);
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SOCKETS"><a class="permalink" href="#SOCKETS">SOCKETS</a></h1>
Most socket programming assumes ASCII character encodings in network byte order.
  Exceptions can include CGI script writing under a host web server where the
  server may take care of translation for you. Most host web servers convert
  EBCDIC data to ISO-8859-1 or Unicode on output.
</section>
<section class="Sh">
<h1 class="Sh" id="SORTING"><a class="permalink" href="#SORTING">SORTING</a></h1>
One big difference between ASCII-based character sets and EBCDIC ones are the
  relative positions of the characters when sorted in native order. Of most
  concern are the upper- and lowercase letters, the digits, and the underscore
  (<span class="Li">&quot;_&quot;</span>). On ASCII platforms the native sort
  order has the digits come before the uppercase letters which come before the
  underscore which comes before the lowercase letters. On EBCDIC, the underscore
  comes first, then the lowercase letters, then the uppercase ones, and the
  digits last. If sorted on an ASCII-based platform, the two-letter abbreviation
  for a physician comes before the two letter abbreviation for drive; that is:
<p class="Pp"><span class="Li"></span></p>
<pre>
 @sorted = sort(qw(Dr. dr.));  # @sorted holds ('Dr.','dr.') on ASCII,
                                  # but ('dr.','Dr.') on EBCDIC
</pre>
<p class="Pp">The property of lowercase before uppercase letters in EBCDIC is
    even carried to the Latin 1 EBCDIC pages such as 0037 and 1047. An example
    would be that &quot;Ee&quot; (<span class="Li">&quot;E WITH
    DIAERESIS&quot;</span>, 203) comes before &quot;ee&quot;
    (<span class="Li">&quot;e WITH DIAERESIS&quot;</span>, 235) on an ASCII
    platform, but the latter (83) comes before the former (115) on an EBCDIC
    platform. (Astute readers will note that the uppercase version of
    &quot;ss&quot; <span class="Li">&quot;SMALL LETTER SHARP S&quot;</span> is
    simply &quot;SS&quot; and that the upper case versions of &quot;ye&quot;
    (small <span class="Li">&quot;y WITH DIAERESIS&quot;</span>) and
    &quot;X&quot; (<span class="Li">&quot;MICRO SIGN&quot;</span>) are not in
    the 0..255 range but are in Unicode, in a Unicode enabled Perl).</p>
<p class="Pp">The sort order will cause differences between results obtained on
    ASCII platforms versus EBCDIC platforms. What follows are some suggestions
    on how to deal with these differences.</p>
<section class="Ss">
<h2 class="Ss" id="Ignore__s-1ASCII_s0_vs.__s-1EBCDIC_s0_sort_differences."><a class="permalink" href="#Ignore__s-1ASCII_s0_vs.__s-1EBCDIC_s0_sort_differences.">Ignore
  ASCII vs. EBCDIC sort differences.</a></h2>
This is the least computationally expensive strategy. It may require some user
  education.
</section>
<section class="Ss">
<h2 class="Ss" id="Use_a_sort_helper_function"><a class="permalink" href="#Use_a_sort_helper_function">Use
  a sort helper function</a></h2>
This is completely general, but the most computationally expensive strategy.
  Choose one or the other character set and transform to that for every sort
  comparison. Here's a complete example that transforms to ASCII sort order:
<p class="Pp"><span class="Li"></span></p>
<pre>
 sub native_to_uni($) {
    my $string = shift;

    # Saves time on an ASCII platform
    return $string if ord 'A' ==  65;

    my $output = &quot;&quot;;
    for my $i (0 .. length($string) - 1) {
        $output
           .= chr(utf8::native_to_unicode(ord(substr($string, $i, 1))));
    }

    # Preserve utf8ness of input onto the output, even if it didn't need
    # to be utf8
    utf8::upgrade($output) if utf8::is_utf8($string);

    return $output;
 }

 sub ascii_order {   # Sort helper
    return native_to_uni($a) cmp native_to_uni($b);
 }

 sort ascii_order @list;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1MONO_CASE_s0_then_sort_data_(for_non-digits,_non-underscore)"><a class="permalink" href="#_s-1MONO_CASE_s0_then_sort_data_(for_non-digits,_non-underscore)">MONO
  CASE then sort data (for non-digits, non-underscore)</a></h2>
If you don't care about where digits and underscore sort to, you can do
  something like this
<p class="Pp"><span class="Li"></span></p>
<pre>
 sub case_insensitive_order {   # Sort helper
    return lc($a) cmp lc($b)
 }

 sort case_insensitive_order @list;
</pre>
<p class="Pp">If performance is an issue, and you don't care if the output is in
    the same case as the input, Use <span class="Li">&quot;tr///&quot;</span> to
    transform to the case most employed within the data. If the data are
    primarily UPPERCASE non-Latin1, then apply
    <span class="Li">&quot;tr/[a-z]/[A-Z]/&quot;</span>, and then
    <span class="Li">&quot;sort()&quot;</span>. If the data are primarily
    lowercase non Latin1 then apply
    <span class="Li">&quot;tr/[A-Z]/[a-z]/&quot;</span> before sorting. If the
    data are primarily UPPERCASE and include Latin-1 characters then apply:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   tr/[a-z]/[A-Z]/;
   tr/[aaaa~aeaaaeceeeeeiiiied`n~oooo~oeouuuueyp]/[AAAA~AeAaAECEEEEeIIIIeD&#x2010;N~OOOO~OeOUUUUeYP/;
   s/ss/SS/g;
</pre>
<p class="Pp">then <span class="Li">&quot;sort()&quot;</span>. If you have a
    choice, it's better to lowercase things to avoid the problems of the two
    Latin-1 characters whose uppercase is outside Latin-1: &quot;ye&quot; (small
    <span class="Li">&quot;y WITH DIAERESIS&quot;</span>) and &quot;X&quot;
    (<span class="Li">&quot;MICRO SIGN&quot;</span>). If you do need to
    upppercase, you can; with a Unicode-enabled Perl, do:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    tr/ye/\x{178}/;
    tr/X/\x{39C}/;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Perform_sorting_on_one_type_of_platform_only."><a class="permalink" href="#Perform_sorting_on_one_type_of_platform_only.">Perform
  sorting on one type of platform only.</a></h2>
This strategy can employ a network connection. As such it would be
  computationally expensive.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="TRANSFORMATION_FORMATS"><a class="permalink" href="#TRANSFORMATION_FORMATS">TRANSFORMATION
  FORMATS</a></h1>
There are a variety of ways of transforming data with an intra character set
  mapping that serve a variety of purposes. Sorting was discussed in the
  previous section and a few of the other more popular mapping techniques are
  discussed next.
<section class="Ss">
<h2 class="Ss" id="_s-1URL_s0_decoding_and_encoding"><a class="permalink" href="#_s-1URL_s0_decoding_and_encoding">URL
  decoding and encoding</a></h2>
Note that some URLs have hexadecimal ASCII code points in them in an attempt to
  overcome character or protocol limitation issues. For example the tilde
  character is not on every keyboard hence a URL of the form:
<p class="Pp"><span class="Li"></span></p>
<pre>
    http://www.pvhp.com/~pvhp/
</pre>
<p class="Pp">may also be expressed as either of:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    http://www.pvhp.com/%7Epvhp/

    http://www.pvhp.com/%7epvhp/
</pre>
<p class="Pp">where 7E is the hexadecimal ASCII code point for &quot;~&quot;.
    Here is an example of decoding such a URL in any EBCDIC code page:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $url = 'http://www.pvhp.com/%7Epvhp/';
    $url =~ s/%([0-9a-fA-F]{2})/
              pack(&quot;c&quot;,utf8::unicode_to_native(hex($1)))/xge;
</pre>
<p class="Pp">Conversely, here is a partial solution for the task of encoding
    such a URL in any EBCDIC code page:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $url = 'http://www.pvhp.com/~pvhp/';
    # The following regular expression does not address the
    # mappings for: ('.' =&gt; '%2E', '/' =&gt; '%2F', ':' =&gt; '%3A')
    $url =~ s/([\t &quot;#%&amp;\(\),;&lt;=&gt;\?\@\[\\\]^`{|}~])/
               sprintf(&quot;%%%02X&quot;,utf8::native_to_unicode(ord($1)))/xge;
</pre>
<p class="Pp">where a more complete solution would split the URL into components
    and apply a full s/// substitution only to the appropriate parts.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="uu_encoding_and_decoding"><a class="permalink" href="#uu_encoding_and_decoding">uu
  encoding and decoding</a></h2>
The <span class="Li">&quot;u&quot;</span> template to
  <span class="Li">&quot;pack()&quot;</span> or
  <span class="Li">&quot;unpack()&quot;</span> will render EBCDIC data in EBCDIC
  characters equivalent to their ASCII counterparts. For example, the following
  will print &quot;Yes indeed\n&quot; on either an ASCII or EBCDIC computer:
<p class="Pp"><span class="Li"></span></p>
<pre>
    $all_byte_chrs = '';
    for (0..255) { $all_byte_chrs .= chr($_); }
    $uuencode_byte_chrs = pack('u', $all_byte_chrs);
    ($uu = &lt;&lt;'ENDOFHEREDOC') =~ s/^\s*//gm;
    M``$&quot;`P0%!@&lt;(&quot;0H+#`T.#Q`1$A,4%187&amp;!D:&amp;QP='A\@(2(C)&quot;4F)R@I*BLL
    M+2XO,#$R,S0U-C&lt;X.3H[/#T^/T!!0D-$149'2$E*2TQ-3D]045)35%565UA9
    M6EM&lt;75Y?8&amp;%B8V1E9F=H:6IK;&amp;UN;W!Q&lt;G-T=79W&gt;'EZ&gt;WQ]?G^`@8*#A(6&amp;
    MAXB)BHN,C8Z/D)&amp;2DY25EI&gt;8F9J;G)V&gt;GZ&quot;AHJ.DI::GJ*FJJZRMKJ^PL;*S
    MM+6VM[BYNKN\O;Z_P,'&quot;P\3%QL?(R&lt;K+S,W.S]#1TM/4U=;7V-G:V]S=WM_@
    ?X&gt;+CY.7FY^CIZNOL[&gt;[O\/'R\_3U]O?X^?K[_/W^_P``
    ENDOFHEREDOC
    if ($uuencode_byte_chrs eq $uu) {
        print &quot;Yes &quot;;
    }
    $uudecode_byte_chrs = unpack('u', $uuencode_byte_chrs);
    if ($uudecode_byte_chrs eq $all_byte_chrs) {
        print &quot;indeed\n&quot;;
    }
</pre>
<p class="Pp">Here is a very spartan uudecoder that will work on EBCDIC:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    #!/usr/local/bin/perl
    $_ = &lt;&gt; until ($mode,$file) = /^begin\s*(\d*)\s*(\S*)/;
    open(OUT, &quot;&gt; $file&quot;) if $file ne &quot;&quot;;
    while(&lt;&gt;) {
        last if /^end/;
        next if /[a-z]/;
        next unless int((((utf8::native_to_unicode(ord()) - 32 ) &amp; 077)
                                                               + 2) / 3)
                    == int(length() / 4);
        print OUT unpack(&quot;u&quot;, $_);
    }
    close(OUT);
    chmod oct($mode), $file;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Quoted-Printable_encoding_and_decoding"><a class="permalink" href="#Quoted-Printable_encoding_and_decoding">Quoted-Printable
  encoding and decoding</a></h2>
On ASCII-encoded platforms it is possible to strip characters outside of the
  printable set using:
<p class="Pp"><span class="Li"></span></p>
<pre>
    # This QP encoder works on ASCII only
    $qp_string =~ s/([=\x00-\x1F\x80-\xFF])/
                    sprintf(&quot;=%02X&quot;,ord($1))/xge;
</pre>
<p class="Pp">Starting in Perl v5.22, this is trivially changeable to work
    portably on both ASCII and EBCDIC platforms.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    # This QP encoder works on both ASCII and EBCDIC
    $qp_string =~ s/([=\N{U+00}-\N{U+1F}\N{U+80}-\N{U+FF}])/
                    sprintf(&quot;=%02X&quot;,ord($1))/xge;
</pre>
<p class="Pp">For earlier Perls, a QP encoder that works on both ASCII and
    EBCDIC platforms would look somewhat like the following:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $delete = utf8::unicode_to_native(ord(&quot;\x7F&quot;));
    $qp_string =~
      s/([^[:print:]$delete])/
         sprintf(&quot;=%02X&quot;,utf8::native_to_unicode(ord($1)))/xage;
</pre>
<p class="Pp">(although in production code the substitutions might be done in
    the EBCDIC branch with the function call and separately in the ASCII branch
    without the expense of the identity map; in Perl v5.22, the identity map is
    optimized out so there is no expense, but the alternative above is simpler
    and is also available in v5.22).</p>
<p class="Pp">Such QP strings can be decoded with:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    # This QP decoder is limited to ASCII only
    $string =~ s/=([[:xdigit:][[:xdigit:])/chr hex $1/ge;
    $string =~ s/=[\n\r]+$//;
</pre>
<p class="Pp">Whereas a QP decoder that works on both ASCII and EBCDIC platforms
    would look somewhat like the following:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    $string =~ s/=([[:xdigit:][:xdigit:]])/
                                chr utf8::native_to_unicode(hex $1)/xge;
    $string =~ s/=[\n\r]+$//;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Caesarean_ciphers"><a class="permalink" href="#Caesarean_ciphers">Caesarean
  ciphers</a></h2>
The practice of shifting an alphabet one or more characters for encipherment
  dates back thousands of years and was explicitly detailed by Gaius Julius
  Caesar in his <b>Gallic Wars</b> text. A single alphabet shift is sometimes
  referred to as a rotation and the shift amount is given as a number
  <span class="Li">$n</span> after the string 'rot' or &quot;rot$n&quot;. Rot0
  and rot26 would designate identity maps on the 26-letter English version of
  the Latin alphabet. Rot13 has the interesting property that alternate
  subsequent invocations are identity maps (thus rot13 is its own non-trivial
  inverse in the group of 26 alphabet rotations). Hence the following is a rot13
  encoder and decoder that will work on ASCII and EBCDIC platforms:
<p class="Pp"><span class="Li"></span></p>
<pre>
    #!/usr/local/bin/perl

    while(&lt;&gt;){
        tr/n-za-mN-ZA-M/a-zA-Z/;
        print;
    }
</pre>
<p class="Pp">In one-liner form:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    perl -ne 'tr/n-za-mN-ZA-M/a-zA-Z/;print'
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Hashing_order_and_checksums"><a class="permalink" href="#Hashing_order_and_checksums">Hashing
  order and checksums</a></h1>
Perl deliberately randomizes hash order for security purposes on both ASCII and
  EBCDIC platforms.
<p class="Pp">EBCDIC checksums will differ for the same file translated into
    ASCII and vice versa.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="I18N_AND_L10N"><a class="permalink" href="#I18N_AND_L10N">I18N
  AND L10N</a></h1>
Internationalization (I18N) and localization (L10N) are supported at least in
  principle even on EBCDIC platforms. The details are system-dependent and
  discussed under the &quot;OS ISSUES&quot; section below.
</section>
<section class="Sh">
<h1 class="Sh" id="MULTI-OCTET_CHARACTER_SETS"><a class="permalink" href="#MULTI-OCTET_CHARACTER_SETS">MULTI-OCTET
  CHARACTER SETS</a></h1>
Perl works with UTF-EBCDIC, a multi-byte encoding. In Perls earlier than v5.22,
  there may be various bugs in this regard.
<p class="Pp">Legacy multi byte EBCDIC code pages XXX.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OS_ISSUES"><a class="permalink" href="#OS_ISSUES">OS
  ISSUES</a></h1>
There may be a few system-dependent issues of concern to EBCDIC Perl
  programmers.
<section class="Ss">
<h2 class="Ss" id="_s-1OS/400_s0"><a class="permalink" href="#_s-1OS/400_s0">OS/400</a></h2>
<dl class="Bl-tag">
  <dt>PASE</dt>
  <dd>The PASE environment is a runtime environment for OS/400 that can run
      executables built for PowerPC AIX in OS/400; see perlos400. PASE is
      ASCII-based, not EBCDIC-based as the ILE.</dd>
  <dt>IFS access</dt>
  <dd>XXX.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1OS/390,_s0_z/OS"><a class="permalink" href="#_s-1OS/390,_s0_z/OS">OS/390,
  z/OS</a></h2>
Perl runs under Unix Systems Services or USS.
<dl class="Bl-tag">
  <dt>&quot;sigaction&quot;</dt>
  <dd><span class="Li">&quot;SA_SIGINFO&quot;</span> can have segmentation
      faults.</dd>
  <dt>&quot;chcp&quot;</dt>
  <dd><b>chcp</b> is supported as a shell utility for displaying and changing
      one's code page. See also <b>chcp</b>(1).</dd>
  <dt>dataset access</dt>
  <dd>For sequential data set access try:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my @ds_records = `cat //DSNAME`;
    </pre>
    <p class="Pp">or:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my @ds_records = `cat //'HLQ.DSNAME'`;
    </pre>
    <p class="Pp">See also the OS390::Stdio module on CPAN.</p>
  </dd>
  <dt>&quot;iconv&quot;</dt>
  <dd><b>iconv</b> is supported as both a shell utility and a C RTL routine. See
      also the <b>iconv</b>(1) and <b>iconv</b>(3) manual pages.</dd>
  <dt>locales</dt>
  <dd>Locales are supported. There may be glitches when a locale is another
      EBCDIC code page which has some of the code-page variant characters in
      other positions.
    <p class="Pp">There aren't currently any real UTF-8 locales, even though
        some locale names contain the string &quot;UTF-8&quot;.</p>
    <p class="Pp">See perllocale for information on locales. The L10N files are
        in <i>/usr/nls/locale</i>. <span class="Li">$Config{d_setlocale}</span>
        is <span class="Li">'define'</span> on OS/390 or z/OS.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="POSIX-BC?"><a class="permalink" href="#POSIX-BC?">POSIX-BC?</a></h2>
XXX.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<ul class="Bl-bullet">
  <li>Not all shells will allow multiple <span class="Li">&quot;-e&quot;</span>
      string arguments to perl to be concatenated together properly as recipes
      in this document 0, 2, 4, 5, and 6 might seem to imply.</li>
  <li>There are a significant number of test failures in the CPAN modules
      shipped with Perl v5.22 and 5.24. These are only in modules not primarily
      maintained by Perl 5 porters. Some of these are failures in the tests
      only: they don't realize that it is proper to get different results on
      EBCDIC platforms. And some of the failures are real bugs. If you compile
      and do a <span class="Li">&quot;make test&quot;</span> on Perl, all tests
      on the <span class="Li">&quot;/cpan&quot;</span> directory are skipped.
    <p class="Pp">Encode partially works.</p>
  </li>
  <li>In earlier Perl versions, when byte and character data were concatenated,
      the new string was sometimes created by decoding the byte strings as
      <i>ISO 8859-1 (Latin-1)</i>, even if the old Unicode string used
    EBCDIC.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
perllocale, perlfunc, perlunicode, utf8.
</section>
<section class="Sh">
<h1 class="Sh" id="REFERENCES"><a class="permalink" href="#REFERENCES">REFERENCES</a></h1>
&lt;http://anubis.dkuug.dk/i18n/charmaps&gt;
<p class="Pp">&lt;http://www.unicode.org/&gt;</p>
<p class="Pp">&lt;http://www.unicode.org/unicode/reports/tr16/&gt;</p>
<p class="Pp">&lt;http://www.wps.com/projects/codes/&gt; <b>ASCII: American
    Standard Code for Information Infiltration</b> Tom Jennings, September
  1999.</p>
<p class="Pp"><b>The Unicode Standard, Version 3.0</b> The Unicode Consortium,
    Lisa Moore ed., ISBN 0-201-61633-5, Addison Wesley Developers Press,
    February 2000.</p>
<p class="Pp"><b>CDRA: IBM - Character Data Representation Architecture -</b>
    <b>Reference and Registry</b>, IBM SC09-2190-00, December 1996.</p>
<p class="Pp">&quot;Demystifying Character Sets&quot;, Andrea Vine, Multilingual
    Computing &amp; Technology, <b>#26 Vol. 10 Issue 4</b>, August/September
    1999; ISSN 1523-0309; Multilingual Computing Inc. Sandpoint ID, USA.</p>
<p class="Pp"><b>Codes, Ciphers, and Other Cryptic and Clandestine
    Communication</b> Fred B. Wrixon, ISBN 1-57912-040-7, Black Dog &amp;
    Leventhal Publishers, 1998.</p>
<p class="Pp">&lt;http://www.bobbemer.com/P-BIT.HTM&gt; <b>IBM - EBCDIC and the
    P-bit; The biggest Computer Goof Ever</b> Robert Bemer.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
15 April 2001: added UTF-8 and UTF-EBCDIC to main table, pvhp.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Peter Prymmer pvhp@best.com wrote this in 1999 and 2000 with CCSID 0819 and 0037
  help from Chris Leach and Andre Pirard A.Pirard@ulg.ac.be as well as POSIX-BC
  help from Thomas Dorner Thomas.Dorner@start.de. Thanks also to Vickie Cooper,
  Philip Newton, William Raffloer, and Joe Smith. Trademarks, registered
  trademarks, service marks and registered service marks used in this document
  are the property of their respective owners.
<p class="Pp">Now maintained by Perl5 Porters.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-11-01</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
