<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>PERLTRAP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLTRAP(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLTRAP(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perltrap - Perl traps for the unwary</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The biggest trap of all is forgetting to
    <span class="Li">&quot;use warnings&quot;</span> or use the <b>-w</b>
    switch; see warnings and perlrun. The second biggest trap is not making your
    entire program runnable under <span class="Li">&quot;use
    strict&quot;</span>. The third biggest trap is not reading the list of
    changes in this version of Perl; see perldelta.</p>
<section class="Ss">
<h2 class="Ss" id="Awk_Traps"><a class="permalink" href="#Awk_Traps">Awk
  Traps</a></h2>
<p class="Pp">Accustomed <b>awk</b> users should take special note of the
    following:</p>
<ul class="Bl-bullet">
  <li>A Perl program executes only once, not once for each input line. You can
      do an implicit loop with <span class="Li">&quot;-n&quot;</span> or
      <span class="Li">&quot;-p&quot;</span>.</li>
  <li>The English module, loaded via
    <p class="Pp"></p>
    <pre>    use English;
    </pre>
    <p class="Pp">allows you to refer to special variables (like
        <span class="Li">$/</span>) with names (like
        <span class="Li">$RS</span>), as though they were in <b>awk</b>; see
        perlvar for details.</p>
  </li>
  <li>Semicolons are required after all simple statements in Perl (except at the
      end of a block). Newline is not a statement delimiter.</li>
  <li>Curly brackets are required on <span class="Li">&quot;if&quot;</span>s and
      <span class="Li">&quot;while&quot;</span>s.</li>
  <li>Variables begin with &quot;$&quot;, &quot;@&quot; or &quot;%&quot; in
      Perl.</li>
  <li>Arrays index from 0. Likewise string positions in <b>substr()</b> and
      <b>index()</b>.</li>
  <li>You have to decide whether your array has numeric or string indices.</li>
  <li>Hash values do not spring into existence upon mere reference.</li>
  <li>You have to decide whether you want to use string or numeric
    comparisons.</li>
  <li>Reading an input line does not split it for you. You get to split it to an
      array yourself. And the <b>split()</b> operator has different arguments
      than <b>awk</b>'s.</li>
  <li>The current input line is normally in <span class="Li">$_</span>, not
      <span class="Li">$0</span>. It generally does not have the newline
      stripped. ($0 is the name of the program executed.) See perlvar.</li>
  <li>$&lt;<i>digit</i>&gt; does not refer to fields--it refers to substrings
      matched by the last match pattern.</li>
  <li>The <b>print()</b> statement does not add field and record separators
      unless you set <span class="Li">$,</span> and
      <span class="Li">&quot;$\&quot;</span>. You can set
      <span class="Li">$OFS</span> and <span class="Li">$ORS</span> if you're
      using the English module.</li>
  <li>You must open your files before you print to them.</li>
  <li>The range operator is &quot;..&quot;, not comma. The comma operator works
      as in C.</li>
  <li>The match operator is &quot;=~&quot;, not &quot;~&quot;. (&quot;~&quot; is
      the one's complement operator, as in C.)</li>
  <li>The exponentiation operator is &quot;**&quot;, not &quot;^&quot;.
      &quot;^&quot; is the XOR operator, as in C. (You know, one could get the
      feeling that <b>awk</b> is basically incompatible with C.)</li>
  <li>The concatenation operator is &quot;.&quot;, not the null string. (Using
      the null string would render <span class="Li">&quot;/pat/
      /pat/&quot;</span> unparsable, because the third slash would be
      interpreted as a division operator--the tokenizer is in fact slightly
      context sensitive for operators like &quot;/&quot;, &quot;?&quot;, and
      &quot;&gt;&quot;. And in fact, &quot;.&quot; itself can be the beginning
      of a number.)</li>
  <li>The <span class="Li">&quot;next&quot;</span>,
      <span class="Li">&quot;exit&quot;</span>, and
      <span class="Li">&quot;continue&quot;</span> keywords work
    differently.</li>
  <li>The following variables work differently:
    <p class="Pp"></p>
    <pre>      Awk       Perl
      ARGC      scalar @ARGV (compare with $#ARGV)
      ARGV[0]   $0
      FILENAME  $ARGV
      FNR       $. - something
      FS        (whatever you like)
      NF        $#Fld, or some such
      NR        $.
      OFMT      $#
      OFS       $,
      ORS       $\
      RLENGTH   length($&amp;)
      RS        $/
      RSTART    length($`)
      SUBSEP    $;
    </pre>
  </li>
  <li>You cannot set <span class="Li">$RS</span> to a pattern, only a
    string.</li>
  <li>When in doubt, run the <b>awk</b> construct through <b>a2p</b> and see
      what it gives you.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="C/C"><a class="permalink" href="#C/C">C/C++ Traps</a></h2>
<p class="Pp">Cerebral C and C++ programmers should take note of the
  following:</p>
<ul class="Bl-bullet">
  <li>Curly brackets are required on <span class="Li">&quot;if&quot;</span>'s
      and <span class="Li">&quot;while&quot;</span>'s.</li>
  <li>You must use <span class="Li">&quot;elsif&quot;</span> rather than
      <span class="Li">&quot;else if&quot;</span>.</li>
  <li>The <span class="Li">&quot;break&quot;</span> and
      <span class="Li">&quot;continue&quot;</span> keywords from C become in
      Perl <span class="Li">&quot;last&quot;</span> and
      <span class="Li">&quot;next&quot;</span>, respectively. Unlike in C, these
      do <i>not</i> work within a <span class="Li">&quot;do { }
      while&quot;</span> construct. See &quot;Loop Control&quot; in
    perlsyn.</li>
  <li>The switch statement is called
      <span class="Li">&quot;given&quot;</span>/<span class="Li">&quot;when&quot;</span>
      and only available in perl 5.10 or newer. See &quot;Switch
      Statements&quot; in perlsyn.</li>
  <li>Variables begin with &quot;$&quot;, &quot;@&quot; or &quot;%&quot; in
      Perl.</li>
  <li>Comments begin with &quot;#&quot;, not &quot;/*&quot; or &quot;//&quot;.
      Perl may interpret C/C++ comments as division operators, unterminated
      regular expressions or the defined-or operator.</li>
  <li>You can't take the address of anything, although a similar operator in
      Perl is the backslash, which creates a reference.</li>
  <li><span class="Li">&quot;ARGV&quot;</span> must be capitalized.
      <span class="Li">$ARGV[0]</span> is C's
      <span class="Li">&quot;argv[1]&quot;</span>, and
      <span class="Li">&quot;argv[0]&quot;</span> ends up in
      <span class="Li">$0</span>.</li>
  <li>System calls such as <b>link()</b>, <b>unlink()</b>, <b>rename()</b>, etc.
      return nonzero for success, not 0. (<b>system()</b>, however, returns zero
      for success.)</li>
  <li>Signal handlers deal with signal names, not numbers. Use
      <span class="Li">&quot;kill -l&quot;</span> to find their names on your
      system.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="JavaScript_Traps"><a class="permalink" href="#JavaScript_Traps">JavaScript
  Traps</a></h2>
<p class="Pp">Judicious JavaScript programmers should take note of the
    following:</p>
<ul class="Bl-bullet">
  <li>In Perl, binary <span class="Li">&quot;+&quot;</span> is always addition.
      <span class="Li">&quot;$string1 + $string2&quot;</span> converts both
      strings to numbers and then adds them. To concatenate two strings, use the
      <span class="Li">&quot;.&quot;</span> operator.</li>
  <li>The <span class="Li">&quot;+&quot;</span> unary operator doesn't do
      anything in Perl. It exists to avoid syntactic ambiguities.</li>
  <li>Unlike <span class="Li">&quot;for...in&quot;</span>, Perl's
      <span class="Li">&quot;for&quot;</span> (also spelled
      <span class="Li">&quot;foreach&quot;</span>) does not allow the left-hand
      side to be an arbitrary expression. It must be a variable:
    <p class="Pp"></p>
    <pre>   for my $variable (keys %hash) {
        ...
   }
    </pre>
    <p class="Pp">Furthermore, don't forget the
        <span class="Li">&quot;keys&quot;</span> in there, as
        <span class="Li">&quot;foreach my $kv (%hash) {}&quot;</span> iterates
        over the keys and values, and is generally not useful ($kv would be a
        key, then a value, and so on).</p>
  </li>
  <li>To iterate over the indices of an array, use
      <span class="Li">&quot;foreach my $i (0 .. $#array)</span>
      <span class="Li">{}&quot;</span>. <span class="Li">&quot;foreach my $v
      (@array) {}&quot;</span> iterates over the values.</li>
  <li>Perl requires braces following <span class="Li">&quot;if&quot;</span>,
      <span class="Li">&quot;while&quot;</span>,
      <span class="Li">&quot;foreach&quot;</span>, etc.</li>
  <li>In Perl, <span class="Li">&quot;else if&quot;</span> is spelled
      <span class="Li">&quot;elsif&quot;</span>.</li>
  <li><span class="Li">&quot;? :&quot;</span> has higher precedence than
      assignment. In JavaScript, one can write:
    <p class="Pp"></p>
    <pre>    condition ? do_something() : variable = 3
    </pre>
    <p class="Pp">and the variable is only assigned if the condition is false.
        In Perl, you need parentheses:</p>
    <p class="Pp"></p>
    <pre>    $condition ? do_something() : ($variable = 3);
    </pre>
    <p class="Pp">Or just use <span class="Li">&quot;if&quot;</span>.</p>
  </li>
  <li>Perl requires semicolons to separate statements.</li>
  <li>Variables declared with <span class="Li">&quot;my&quot;</span> only affect
      code <i>after</i> the declaration. You cannot write
      <span class="Li">&quot;$x = 1; my $x;&quot;</span> and expect the first
      assignment to affect the same variable. It will instead assign to an
      <span class="Li">$x</span> declared previously in an outer scope, or to a
      global variable.
    <p class="Pp">Note also that the variable is not visible until the following
        <i>statement</i>. This means that in <span class="Li">&quot;my $x = 1 +
        $x&quot;</span> the second <span class="Li">$x</span> refers to one
        declared previously.</p>
  </li>
  <li><span class="Li">&quot;my&quot;</span> variables are scoped to the current
      block, not to the current function. If you write
      <span class="Li">&quot;{my $x;} $x;&quot;</span>, the second
      <span class="Li">$x</span> does not refer to the one declared inside the
      block.</li>
  <li>An object's members cannot be made accessible as variables. The closest
      Perl equivalent to <span class="Li">&quot;with(object) { method()
      }&quot;</span> is <span class="Li">&quot;for&quot;</span>, which can alias
      <span class="Li">$_</span> to the object:
    <p class="Pp"></p>
    <pre>    for ($object) {
        $_-&gt;method;
    }
    </pre>
  </li>
  <li>The object or class on which a method is called is passed as one of the
      method's arguments, not as a separate
      <span class="Li">&quot;this&quot;</span> value.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Sed_Traps"><a class="permalink" href="#Sed_Traps">Sed
  Traps</a></h2>
<p class="Pp">Seasoned <b>sed</b> programmers should take note of the
  following:</p>
<ul class="Bl-bullet">
  <li>A Perl program executes only once, not once for each input line. You can
      do an implicit loop with <span class="Li">&quot;-n&quot;</span> or
      <span class="Li">&quot;-p&quot;</span>.</li>
  <li>Backreferences in substitutions use &quot;$&quot; rather than
      &quot;\&quot;.</li>
  <li>The pattern matching metacharacters &quot;(&quot;, &quot;)&quot;, and
      &quot;|&quot; do not have backslashes in front.</li>
  <li>The range operator is <span class="Li">&quot;...&quot;</span>, rather than
      comma.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Shell_Traps"><a class="permalink" href="#Shell_Traps">Shell
  Traps</a></h2>
<p class="Pp">Sharp shell programmers should take note of the following:</p>
<ul class="Bl-bullet">
  <li>The backtick operator does variable interpolation without regard to the
      presence of single quotes in the command.</li>
  <li>The backtick operator does no translation of the return value, unlike
      <b>csh</b>.</li>
  <li>Shells (especially <b>csh</b>) do several levels of substitution on each
      command line. Perl does substitution in only certain constructs such as
      double quotes, backticks, angle brackets, and search patterns.</li>
  <li>Shells interpret scripts a little bit at a time. Perl compiles the entire
      program before executing it (except for
      <span class="Li">&quot;BEGIN&quot;</span> blocks, which execute at compile
      time).</li>
  <li>The arguments are available via <span class="Li">@ARGV</span>, not
      <span class="Li">$1</span>, <span class="Li">$2</span>, etc.</li>
  <li>The environment is not automatically made available as separate scalar
      variables.</li>
  <li>The shell's <span class="Li">&quot;test&quot;</span> uses &quot;=&quot;,
      &quot;!=&quot;, &quot;&lt;&quot; etc for string comparisons and
      &quot;-eq&quot;, &quot;-ne&quot;, &quot;-lt&quot; etc for numeric
      comparisons. This is the reverse of Perl, which uses
      <span class="Li">&quot;eq&quot;</span>,
      <span class="Li">&quot;ne&quot;</span>,
      <span class="Li">&quot;lt&quot;</span> for string comparisons, and
      <span class="Li">&quot;==&quot;</span>,
      <span class="Li">&quot;!=&quot;</span>
      <span class="Li">&quot;&lt;&quot;</span> etc for numeric comparisons.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_Traps"><a class="permalink" href="#Perl_Traps">Perl
  Traps</a></h2>
<p class="Pp">Practicing Perl Programmers should take note of the following:</p>
<ul class="Bl-bullet">
  <li>Remember that many operations behave differently in a list context than
      they do in a scalar one. See perldata for details.</li>
  <li>Avoid barewords if you can, especially all lowercase ones. You can't tell
      by just looking at it whether a bareword is a function or a string. By
      using quotes on strings and parentheses on function calls, you won't ever
      get them confused.</li>
  <li>You cannot discern from mere inspection which builtins are unary operators
      (like <b>chop()</b> and <b>chdir()</b>) and which are list operators (like
      <b>print()</b> and <b>unlink()</b>). (Unless prototyped, user-defined
      subroutines can <b>only</b> be list operators, never unary ones.) See
      perlop and perlsub.</li>
  <li>People have a hard time remembering that some functions default to
      <span class="Li">$_</span>, or <span class="Li">@ARGV</span>, or whatever,
      but that others which you might expect to do not.</li>
  <li>The &lt;FH&gt; construct is not the name of the filehandle, it is a
      readline operation on that handle. The data read is assigned to
      <span class="Li">$_</span> only if the file read is the sole condition in
      a while loop:
    <p class="Pp"></p>
    <pre>    while (&lt;FH&gt;)      { }
    while (defined($_ = &lt;FH&gt;)) { }..
    &lt;FH&gt;;  # data discarded!
    </pre>
  </li>
  <li>Remember not to use <span class="Li">&quot;=&quot;</span> when you need
      <span class="Li">&quot;=~&quot;</span>; these two constructs are quite
      different:
    <p class="Pp"></p>
    <pre>    $x =  /foo/;
    $x =~ /foo/;
    </pre>
  </li>
  <li>The <span class="Li">&quot;do {}&quot;</span> construct isn't a real loop
      that you can use loop control on.</li>
  <li>Use <span class="Li">&quot;my()&quot;</span> for local variables whenever
      you can get away with it (but see perlform for where you can't). Using
      <span class="Li">&quot;local()&quot;</span> actually gives a local value
      to a global variable, which leaves you open to unforeseen side-effects of
      dynamic scoping.</li>
  <li>If you localize an exported variable in a module, its exported value will
      not change. The local name becomes an alias to a new value but the
      external name is still an alias for the original.</li>
</ul>
<p class="Pp">As always, if any of these are ever officially declared as bugs,
    they'll be fixed and removed.</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
