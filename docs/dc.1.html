<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   SPDX-License-Identifier: BSD-2-Clause
  
   Copyright (c) 2018-2021 Gavin D. Howard and contributors.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
  
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
  
   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>DC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DC(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">DC(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="Name"><a class="permalink" href="#Name">Name</a></h1>
<p class="Pp">dc - arbitrary-precision decimal reverse-Polish notation
    calculator</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>dc</b> [<b>-cChiPRvVx</b>] [<b>--version</b>] [<b>--help</b>]
    [<b>--digit-clamp</b>] [<b>--no-digit-clamp</b>] [<b>--interactive</b>]
    [<b>--no-prompt</b>] [<b>--no-read-prompt</b>] [<b>--extended-register</b>]
    [<b>-e</b> <i>expr</i>] [<b>--expression</b>=<i>expr</i>...] [<b>-f</b>
    <i>file</i>...] [<b>--file</b>=<i>file</i>...] [<i>file</i>...] [<b>-I</b>
    <i>ibase</i>] [<b>--ibase</b>=<i>ibase</i>] [<b>-O</b> <i>obase</i>]
    [<b>--obase</b>=<i>obase</i>] [<b>-S</b> <i>scale</i>]
    [<b>--scale</b>=<i>scale</i>] [<b>-E</b> <i>seed</i>]
    [<b>--seed</b>=<i>seed</i>]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">dc(1) is an arbitrary-precision calculator. It uses a stack
    (reverse Polish notation) to store numbers and results of computations.
    Arithmetic operations pop arguments off of the stack and push the
  results.</p>
<p class="Pp">If no files are given on the command-line, then dc(1) reads from
    <b>stdin</b> (see the <b>STDIN</b> section). Otherwise, those files are
    processed, and dc(1) will then exit.</p>
<p class="Pp">If a user wants to set up a standard environment, they can use
    <b>DC_ENV_ARGS</b> (see the <b>ENVIRONMENT VARIABLES</b> section). For
    example, if a user wants the <b>scale</b> always set to <b>10</b>, they can
    set <b>DC_ENV_ARGS</b> to <b>-e 10k</b>, and this dc(1) will always start
    with a <b>scale</b> of <b>10</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The following are the options that dc(1) accepts.</p>
<dl class="Bl-tag">
  <dt id="C"><a class="permalink" href="#C"><b>-C</b>,
    <b>--no-digit-clamp</b></a></dt>
  <dd>Disables clamping of digits greater than or equal to the current
      <b>ibase</b> when parsing numbers.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This means that the value added to a number from a digit is always
    that digit&#x2019;s value multiplied by the value of ibase raised to the
    power of the digit&#x2019;s position, which starts from 0 at the least
    significant digit.</p>
<p class="Pp">If this and/or the <b>-c</b> or <b>--digit-clamp</b> options are
    given multiple times, the last one given is used.</p>
<p class="Pp">This option overrides the <b>DC_DIGIT_CLAMP</b> environment
    variable (see the <b>ENVIRONMENT VARIABLES</b> section) and the default,
    which can be queried with the <b>-h</b> or <b>--help</b> options.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="c"><a class="permalink" href="#c"><b>-c</b>,
    <b>--digit-clamp</b></a></dt>
  <dd>Enables clamping of digits greater than or equal to the current
      <b>ibase</b> when parsing numbers.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This means that digits that the value added to a number from a
    digit that is greater than or equal to the ibase is the value of ibase minus
    1 all multiplied by the value of ibase raised to the power of the
    digit&#x2019;s position, which starts from 0 at the least significant
  digit.</p>
<p class="Pp">If this and/or the <b>-C</b> or <b>--no-digit-clamp</b> options
    are given multiple times, the last one given is used.</p>
<p class="Pp">This option overrides the <b>DC_DIGIT_CLAMP</b> environment
    variable (see the <b>ENVIRONMENT VARIABLES</b> section) and the default,
    which can be queried with the <b>-h</b> or <b>--help</b> options.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="E"><a class="permalink" href="#E"><b>-E</b> <i>seed</i>,
    <b>--seed</b>=<i>seed</i></a></dt>
  <dd>Sets the builtin variable <b>seed</b> to the value <i>seed</i> assuming
      that <i>seed</i> is in base 10. It is a fatal error if <i>seed</i> is not
      a valid number.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If multiple instances of this option are given, the last is
  used.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="e"><a class="permalink" href="#e"><b>-e</b> <i>expr</i>,
    <b>--expression</b>=<i>expr</i></a></dt>
  <dd>Evaluates <i>expr</i>. If multiple expressions are given, they are
      evaluated in order. If files are given as well (see below), the
      expressions and files are evaluated in the order given. This means that if
      a file is given before an expression, the file is read in and evaluated
      first.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If this option is given on the command-line (i.e., not in
    <b>DC_ENV_ARGS</b>, see the <b>ENVIRONMENT VARIABLES</b> section), then
    after processing all expressions and files, dc(1) will exit, unless <b>-</b>
    (<b>stdin</b>) was given as an argument at least once to <b>-f</b> or
    <b>--file</b>, whether on the command-line or in <b>DC_ENV_ARGS</b>.
    However, if any other <b>-e</b>, <b>--expression</b>, <b>-f</b>, or
    <b>--file</b> arguments are given after <b>-f-</b> or equivalent is given,
    dc(1) will give a fatal error and exit.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="f"><a class="permalink" href="#f"><b>-f</b> <i>file</i>,
    <b>--file</b>=<i>file</i></a></dt>
  <dd>Reads in <i>file</i> and evaluates it, line by line, as though it were
      read through <b>stdin</b>. If expressions are also given (see above), the
      expressions are evaluated in the order given.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If this option is given on the command-line (i.e., not in
    <b>DC_ENV_ARGS</b>, see the <b>ENVIRONMENT VARIABLES</b> section), then
    after processing all expressions and files, dc(1) will exit, unless <b>-</b>
    (<b>stdin</b>) was given as an argument at least once to <b>-f</b> or
    <b>--file</b>. However, if any other <b>-e</b>, <b>--expression</b>,
    <b>-f</b>, or <b>--file</b> arguments are given after <b>-f-</b> or
    equivalent is given, dc(1) will give a fatal error and exit.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="h"><a class="permalink" href="#h"><b>-h</b>, <b>--help</b></a></dt>
  <dd>Prints a usage message and exits.</dd>
  <dt id="I"><a class="permalink" href="#I"><b>-I</b> <i>ibase</i>,
    <b>--ibase</b>=<i>ibase</i></a></dt>
  <dd>Sets the builtin variable <b>ibase</b> to the value <i>ibase</i> assuming
      that <i>ibase</i> is in base 10. It is a fatal error if <i>ibase</i> is
      not a valid number.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If multiple instances of this option are given, the last is
  used.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="i"><a class="permalink" href="#i"><b>-i</b>,
    <b>--interactive</b></a></dt>
  <dd>Forces interactive mode. (See the <b>INTERACTIVE MODE</b> section.)</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="L"><a class="permalink" href="#L"><b>-L</b>,
    <b>--no-line-length</b></a></dt>
  <dd>Disables line length checking and prints numbers without backslashes and
      newlines. In other words, this option sets <b>BC_LINE_LENGTH</b> to
      <b>0</b> (see the <b>ENVIRONMENT VARIABLES</b> section).</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="O"><a class="permalink" href="#O"><b>-O</b> <i>obase</i>,
    <b>--obase</b>=<i>obase</i></a></dt>
  <dd>Sets the builtin variable <b>obase</b> to the value <i>obase</i> assuming
      that <i>obase</i> is in base 10. It is a fatal error if <i>obase</i> is
      not a valid number.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If multiple instances of this option are given, the last is
  used.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="P"><a class="permalink" href="#P"><b>-P</b>,
    <b>--no-prompt</b></a></dt>
  <dd>Disables the prompt in TTY mode. (The prompt is only enabled in TTY mode.
      See the <b>TTY MODE</b> section.) This is mostly for those users that do
      not want a prompt or are not used to having them in dc(1). Most of those
      users would want to put this option in <b>DC_ENV_ARGS</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">These options override the <b>DC_PROMPT</b> and <b>DC_TTY_MODE</b>
    environment variables (see the <b>ENVIRONMENT VARIABLES</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="R"><a class="permalink" href="#R"><b>-R</b>,
    <b>--no-read-prompt</b></a></dt>
  <dd>Disables the read prompt in TTY mode. (The read prompt is only enabled in
      TTY mode. See the <b>TTY MODE</b> section.) This is mostly for those users
      that do not want a read prompt or are not used to having them in dc(1).
      Most of those users would want to put this option in <b>BC_ENV_ARGS</b>
      (see the <b>ENVIRONMENT VARIABLES</b> section). This option is also useful
      in hash bang lines of dc(1) scripts that prompt for user input.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This option does not disable the regular prompt because the read
    prompt is only used when the <b>?</b> command is used.</p>
<p class="Pp">These options <i>do</i> override the <b>DC_PROMPT</b> and
    <b>DC_TTY_MODE</b> environment variables (see the <b>ENVIRONMENT</b>
    <b>VARIABLES</b> section), but only for the read prompt.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="S"><a class="permalink" href="#S"><b>-S</b> <i>scale</i>,
    <b>--scale</b>=<i>scale</i></a></dt>
  <dd>Sets the builtin variable <b>scale</b> to the value <i>scale</i> assuming
      that <i>scale</i> is in base 10. It is a fatal error if <i>scale</i> is
      not a valid number.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If multiple instances of this option are given, the last is
  used.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="v"><a class="permalink" href="#v"><b>-v</b>, <b>-V</b>,
    <b>--version</b></a></dt>
  <dd>Print the version information (copyright header) and exits.</dd>
  <dt id="x"><a class="permalink" href="#x"><b>-x</b>
    <b>--extended-register</b></a></dt>
  <dd>Enables extended register mode. See the <i>Extended Register Mode</i>
      subsection of the <b>REGISTERS</b> section for more information.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="z"><a class="permalink" href="#z"><b>-z</b>,
    <b>--leading-zeroes</b></a></dt>
  <dd>Makes dc(1) print all numbers greater than <b>-1</b> and less than
      <b>1</b>, and not equal to <b>0</b>, with a leading zero.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<p class="Pp">All long options are <b>non-portable extensions</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDIN"><a class="permalink" href="#STDIN">STDIN</a></h1>
<p class="Pp">If no files are given on the command-line and no files or
    expressions are given by the <b>-f</b>, <b>--file</b>, <b>-e</b>, or
    <b>--expression</b> options, then dc(1) reads from <b>stdin</b>.</p>
<p class="Pp">However, there is a caveat to this.</p>
<p class="Pp">First, <b>stdin</b> is evaluated a line at a time. The only
    exception to this is if a string has been finished, but not ended. This
    means that, except for escaped brackets, all brackets must be balanced
    before dc(1) parses and executes.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">Any non-error output is written to <b>stdout</b>. In addition, if
    history (see the <b>HISTORY</b> section) and the prompt (see the <b>TTY
    MODE</b> section) are enabled, both are output to <b>stdout</b>.</p>
<p class="Pp"><b>Note</b>: Unlike other dc(1) implementations, this dc(1) will
    issue a fatal error (see the <b>EXIT STATUS</b> section) if it cannot write
    to <b>stdout</b>, so if <b>stdout</b> is closed, as in <b>dc &gt;&amp;-</b>,
    it will quit with an error. This is done so that dc(1) can report problems
    when <b>stdout</b> is redirected to a file.</p>
<p class="Pp">If there are scripts that depend on the behavior of other dc(1)
    implementations, it is recommended that those scripts be changed to redirect
    <b>stdout</b> to <b>/dev/null</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">Any error output is written to <b>stderr</b>.</p>
<p class="Pp"><b>Note</b>: Unlike other dc(1) implementations, this dc(1) will
    issue a fatal error (see the <b>EXIT STATUS</b> section) if it cannot write
    to <b>stderr</b>, so if <b>stderr</b> is closed, as in <b>dc
    2&gt;&amp;-</b>, it will quit with an error. This is done so that dc(1) can
    exit with an error code when <b>stderr</b> is redirected to a file.</p>
<p class="Pp">If there are scripts that depend on the behavior of other dc(1)
    implementations, it is recommended that those scripts be changed to redirect
    <b>stderr</b> to <b>/dev/null</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNTAX"><a class="permalink" href="#SYNTAX">SYNTAX</a></h1>
<p class="Pp">Each item in the input source code, either a number (see the
    <b>NUMBERS</b> section) or a command (see the <b>COMMANDS</b> section), is
    processed and executed, in order. Input is processed immediately when
    entered.</p>
<p class="Pp"><b>ibase</b> is a register (see the <b>REGISTERS</b> section) that
    determines how to interpret constant numbers. It is the
    &#x201C;input&#x201D; base, or the number base used for interpreting input
    numbers. <b>ibase</b> is initially <b>10</b>. The max allowable value for
    <b>ibase</b> is <b>16</b>. The min allowable value for <b>ibase</b> is
    <b>2</b>. The max allowable value for <b>ibase</b> can be queried in dc(1)
    programs with the <b>T</b> command.</p>
<p class="Pp"><b>obase</b> is a register (see the <b>REGISTERS</b> section) that
    determines how to output results. It is the &#x201C;output&#x201D; base, or
    the number base used for outputting numbers. <b>obase</b> is initially
    <b>10</b>. The max allowable value for <b>obase</b> is <b>DC_BASE_MAX</b>
    and can be queried with the <b>U</b> command. The min allowable value for
    <b>obase</b> is <b>0</b>. If <b>obase</b> is <b>0</b>, values are output in
    scientific notation, and if <b>obase</b> is <b>1</b>, values are output in
    engineering notation. Otherwise, values are output in the specified
  base.</p>
<p class="Pp">Outputting in scientific and engineering notations are
    <b>non-portable extensions</b>.</p>
<p class="Pp">The <i>scale</i> of an expression is the number of digits in the
    result of the expression right of the decimal point, and <b>scale</b> is a
    register (see the <b>REGISTERS</b> section) that sets the precision of any
    operations (with exceptions). <b>scale</b> is initially <b>0</b>.
    <b>scale</b> cannot be negative. The max allowable value for <b>scale</b>
    can be queried in dc(1) programs with the <b>V</b> command.</p>
<p class="Pp"><b>seed</b> is a register containing the current seed for the
    pseudo-random number generator. If the current value of <b>seed</b> is
    queried and stored, then if it is assigned to <b>seed</b> later, the
    pseudo-random number generator is guaranteed to produce the same sequence of
    pseudo-random numbers that were generated after the value of <b>seed</b> was
    first queried.</p>
<p class="Pp">Multiple values assigned to <b>seed</b> can produce the same
    sequence of pseudo-random numbers. Likewise, when a value is assigned to
    <b>seed</b>, it is not guaranteed that querying <b>seed</b> immediately
    after will return the same value. In addition, the value of <b>seed</b> will
    change after any call to the <b>&#x2019;</b> command or the <b>&#x201C;</b>
    command that does not get receive a value of <b>0</b> or <b>1</b>. The
    maximum integer returned by the <b>&#x2019;</b> command can be queried with
    the <b>W</b> command.</p>
<p class="Pp"><b>Note</b>: The values returned by the pseudo-random number
    generator with the <b>&#x2019;</b> and <b>&#x201C;</b> commands are
    guaranteed to <b>NOT</b> be cryptographically secure. This is a consequence
    of using a seeded pseudo-random number generator. However, they <i>are</i>
    guaranteed to be reproducible with identical <b>seed</b> values. This means
    that the pseudo-random values from dc(1) should only be used where a
    reproducible stream of pseudo-random numbers is <i>ESSENTIAL</i>. In any
    other case, use a non-seeded pseudo-random number generator.</p>
<p class="Pp">The pseudo-random number generator, <b>seed</b>, and all
    associated operations are <b>non-portable extensions</b>.</p>
<section class="Ss">
<h2 class="Ss" id="Comments"><a class="permalink" href="#Comments">Comments</a></h2>
<p class="Pp">Comments go from <b>#</b> until, and not including, the next
    newline. This is a <b>non-portable extension</b>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="NUMBERS"><a class="permalink" href="#NUMBERS">NUMBERS</a></h1>
<p class="Pp">Numbers are strings made up of digits, uppercase letters up to
    <b>F</b>, and at most <b>1</b> period for a radix. Numbers can have up to
    <b>DC_NUM_MAX</b> digits. Uppercase letters are equal to <b>9</b> plus their
    position in the alphabet (i.e., <b>A</b> equals <b>10</b>, or
  <b>9+1</b>).</p>
<p class="Pp">If a digit or letter makes no sense with the current value of
    <b>ibase</b> (i.e., they are greater than or equal to the current value of
    <b>ibase</b>), then the behavior depends on the existence of the
    <b>-c</b>/<b>--digit-clamp</b> or <b>-C</b>/<b>--no-digit-clamp</b> options
    (see the <b>OPTIONS</b> section), the existence and setting of the
    <b>DC_DIGIT_CLAMP</b> environment variable (see the <b>ENVIRONMENT</b>
    <b>VARIABLES</b> section), or the default, which can be queried with the
    <b>-h</b>/<b>--help</b> option.</p>
<p class="Pp">If clamping is off, then digits or letters that are greater than
    or equal to the current value of <b>ibase</b> are not changed. Instead,
    their given value is multiplied by the appropriate power of <b>ibase</b> and
    added into the number. This means that, with an <b>ibase</b> of <b>3</b>,
    the number <b>AB</b> is equal to <b>3^1*A+3^0*B</b>, which is <b>3</b> times
    <b>10</b> plus <b>11</b>, or <b>41</b>.</p>
<p class="Pp">If clamping is on, then digits or letters that are greater than or
    equal to the current value of <b>ibase</b> are set to the value of the
    highest valid digit in <b>ibase</b> before being multiplied by the
    appropriate power of <b>ibase</b> and added into the number. This means
    that, with an <b>ibase</b> of <b>3</b>, the number <b>AB</b> is equal to
    <b>3^1*2+3^0*2</b>, which is <b>3</b> times <b>2</b> plus <b>2</b>, or
    <b>8</b>.</p>
<p class="Pp">There is one exception to clamping: single-character numbers
    (i.e., <b>A</b> alone). Such numbers are never clamped and always take the
    value they would have in the highest possible <b>ibase</b>. This means that
    <b>A</b> alone always equals decimal <b>10</b> and <b>Z</b> alone always
    equals decimal <b>35</b>. This behavior is mandated by the standard for
    bc(1) (see the STANDARDS section) and is meant to provide an easy way to set
    the current <b>ibase</b> (with the <b>i</b> command) regardless of the
    current value of <b>ibase</b>.</p>
<p class="Pp">If clamping is on, and the clamped value of a character is needed,
    use a leading zero, i.e., for <b>A</b>, use <b>0A</b>.</p>
<p class="Pp">In addition, dc(1) accepts numbers in scientific notation. These
    have the form <b>&lt;number&gt;e&lt;integer&gt;</b>. The exponent (the
    portion after the <b>e</b>) must be an integer. An example is
    <b>1.89237e9</b>, which is equal to <b>1892370000</b>. Negative exponents
    are also allowed, so <b>4.2890e_3</b> is equal to <b>0.0042890</b>.</p>
<p class="Pp"><b>WARNING</b>: Both the number and the exponent in scientific
    notation are interpreted according to the current <b>ibase</b>, but the
    number is still multiplied by <b>10^exponent</b> regardless of the current
    <b>ibase</b>. For example, if <b>ibase</b> is <b>16</b> and dc(1) is given
    the number string <b>FFeA</b>, the resulting decimal number will be
    <b>2550000000000</b>, and if dc(1) is given the number string <b>10e_4</b>,
    the resulting decimal number will be <b>0.0016</b>.</p>
<p class="Pp">Accepting input as scientific notation is a <b>non-portable</b>
    <b>extension</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMANDS"><a class="permalink" href="#COMMANDS">COMMANDS</a></h1>
<p class="Pp">The valid commands are listed below.</p>
<section class="Ss">
<h2 class="Ss" id="Printing"><a class="permalink" href="#Printing">Printing</a></h2>
<p class="Pp">These commands are used for printing.</p>
<p class="Pp">Note that both scientific notation and engineering notation are
    available for printing numbers. Scientific notation is activated by
    assigning <b>0</b> to <b>obase</b> using <b>0o</b>, and engineering notation
    is activated by assigning <b>1</b> to <b>obase</b> using <b>1o</b>. To
    deactivate them, just assign a different value to <b>obase</b>.</p>
<p class="Pp">Printing numbers in scientific notation and/or engineering
    notation is a <b>non-portable extension</b>.</p>
<dl class="Bl-tag">
  <dt id="p"><a class="permalink" href="#p"><b>p</b></a></dt>
  <dd>Prints the value on top of the stack, whether number or string, and prints
      a newline after.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This does not alter the stack.</p>
</div>
<dl class="Bl-tag">
  <dt id="n"><a class="permalink" href="#n"><b>n</b></a></dt>
  <dd>Prints the value on top of the stack, whether number or string, and pops
      it off of the stack.</dd>
  <dt id="P~2"><a class="permalink" href="#P~2"><b>P</b></a></dt>
  <dd>Pops a value off the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If the value is a number, it is truncated and the absolute value
    of the result is printed as though <b>obase</b> is <b>256</b> and each digit
    is interpreted as an 8-bit ASCII character, making it a byte stream.</p>
<p class="Pp">If the value is a string, it is printed without a trailing
    newline.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="f~2"><a class="permalink" href="#f~2"><b>f</b></a></dt>
  <dd>Prints the entire contents of the stack, in order from newest to oldest,
      without altering anything.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Users should use this command when they get lost.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Arithmetic"><a class="permalink" href="#Arithmetic">Arithmetic</a></h2>
<p class="Pp">These are the commands used for arithmetic.</p>
<dl class="Bl-tag">
  <dt><b>+</b></dt>
  <dd>The top two values are popped off the stack, added, and the result is
      pushed onto the stack. The <i>scale</i> of the result is equal to the max
      <i>scale</i> of both operands.</dd>
  <dt><b>-</b></dt>
  <dd>The top two values are popped off the stack, subtracted, and the result is
      pushed onto the stack. The <i>scale</i> of the result is equal to the max
      <i>scale</i> of both operands.</dd>
  <dt><b>*</b></dt>
  <dd>The top two values are popped off the stack, multiplied, and the result is
      pushed onto the stack. If <b>a</b> is the <i>scale</i> of the first
      expression and <b>b</b> is the <i>scale</i> of the second expression, the
      <i>scale</i> of the result is equal to <b>min(a+b,max(scale,a,b))</b>
      where <b>min()</b> and <b>max()</b> return the obvious values.</dd>
  <dt><b>/</b></dt>
  <dd>The top two values are popped off the stack, divided, and the result is
      pushed onto the stack. The <i>scale</i> of the result is equal to
      <b>scale</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped off of the stack must be non-zero.</p>
</div>
<dl class="Bl-tag">
  <dt><b>%</b></dt>
  <dd>The top two values are popped off the stack, remaindered, and the result
      is pushed onto the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Remaindering is equivalent to 1) Computing <b>a/b</b> to current
    <b>scale</b>, and 2) Using the result of step 1 to calculate
    <b>a-(a/b)*b</b> to <i>scale</i> <b>max(scale+scale(b),scale(a))</b>.</p>
<p class="Pp">The first value popped off of the stack must be non-zero.</p>
</div>
<dl class="Bl-tag">
  <dt><b>~</b></dt>
  <dd>The top two values are popped off the stack, divided and remaindered, and
      the results (divided first, remainder second) are pushed onto the stack.
      This is equivalent to <b>x y / x y %</b> except that <b>x</b> and <b>y</b>
      are only evaluated once.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped off of the stack must be non-zero.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>^</b></dt>
  <dd>The top two values are popped off the stack, the second is raised to the
      power of the first, and the result is pushed onto the stack. The
      <i>scale</i> of the result is equal to <b>scale</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped off of the stack must be an integer, and if
    that value is negative, the second value popped off of the stack must be
    non-zero.</p>
</div>
<dl class="Bl-tag">
  <dt id="v~2"><a class="permalink" href="#v~2"><b>v</b></a></dt>
  <dd>The top value is popped off the stack, its square root is computed, and
      the result is pushed onto the stack. The <i>scale</i> of the result is
      equal to <b>scale</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The value popped off of the stack must be non-negative.</p>
</div>
<dl class="Bl-tag">
  <dt><b>_</b></dt>
  <dd>If this command <i>immediately</i> precedes a number (i.e., no spaces or
      other commands), then that number is input as a negative number.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Otherwise, the top value on the stack is popped and copied, and
    the copy is negated and pushed onto the stack. This behavior without a
    number is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="b"><a class="permalink" href="#b"><b>b</b></a></dt>
  <dd>The top value is popped off the stack, and if it is zero, it is pushed
      back onto the stack. Otherwise, its absolute value is pushed onto the
      stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>|</b></dt>
  <dd>The top three values are popped off the stack, a modular exponentiation is
      computed, and the result is pushed onto the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped is used as the reduction modulus and must
    be an integer and non-zero. The second value popped is used as the exponent
    and must be an integer and non-negative. The third value popped is the base
    and must be an integer.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>$</b></dt>
  <dd>The top value is popped off the stack and copied, and the copy is
      truncated and pushed onto the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>@</b></dt>
  <dd>The top two values are popped off the stack, and the precision of the
      second is set to the value of the first, whether by truncation or
      extension.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped off of the stack must be an integer and
    non-negative.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="H"><a class="permalink" href="#H"><b>H</b></a></dt>
  <dd>The top two values are popped off the stack, and the second is shifted
      left (radix shifted right) to the value of the first.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped off of the stack must be an integer and
    non-negative.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="h~2"><a class="permalink" href="#h~2"><b>h</b></a></dt>
  <dd>The top two values are popped off the stack, and the second is shifted
      right (radix shifted left) to the value of the first.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The first value popped off of the stack must be an integer and
    non-negative.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="G"><a class="permalink" href="#G"><b>G</b></a></dt>
  <dd>The top two values are popped off of the stack, they are compared, and a
      <b>1</b> is pushed if they are equal, or <b>0</b> otherwise.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="N"><a class="permalink" href="#N"><b>N</b></a></dt>
  <dd>The top value is popped off of the stack, and if it a <b>0</b>, a <b>1</b>
      is pushed; otherwise, a <b>0</b> is pushed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>(</b></dt>
  <dd>The top two values are popped off of the stack, they are compared, and a
      <b>1</b> is pushed if the first is less than the second, or <b>0</b>
      otherwise.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>{</b></dt>
  <dd>The top two values are popped off of the stack, they are compared, and a
      <b>1</b> is pushed if the first is less than or equal to the second, or
      <b>0</b> otherwise.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>)</b></dt>
  <dd>The top two values are popped off of the stack, they are compared, and a
      <b>1</b> is pushed if the first is greater than the second, or <b>0</b>
      otherwise.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>}</b></dt>
  <dd>The top two values are popped off of the stack, they are compared, and a
      <b>1</b> is pushed if the first is greater than or equal to the second, or
      <b>0</b> otherwise.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="M"><a class="permalink" href="#M"><b>M</b></a></dt>
  <dd>The top two values are popped off of the stack. If they are both non-zero,
      a <b>1</b> is pushed onto the stack. If either of them is zero, or both of
      them are, then a <b>0</b> is pushed onto the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is like the <b>&amp;&amp;</b> operator in bc(1), and it is
    <i>not</i> a short-circuit operator.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="m"><a class="permalink" href="#m"><b>m</b></a></dt>
  <dd>The top two values are popped off of the stack. If at least one of them is
      non-zero, a <b>1</b> is pushed onto the stack. If both of them are zero,
      then a <b>0</b> is pushed onto the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is like the <b>||</b> operator in bc(1), and it is <i>not</i>
    a short-circuit operator.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Pseudo"><a class="permalink" href="#Pseudo">Pseudo-Random
  Number Generator</a></h2>
<p class="Pp">dc(1) has a built-in pseudo-random number generator. These
    commands query the pseudo-random number generator. (See Parameters for more
    information about the <b>seed</b> value that controls the pseudo-random
    number generator.)</p>
<p class="Pp">The pseudo-random number generator is guaranteed to <b>NOT</b> be
    cryptographically secure.</p>
<dl class="Bl-tag">
  <dt><b>&#x2019;</b></dt>
  <dd>Generates an integer between 0 and <b>DC_RAND_MAX</b>, inclusive (see the
      <b>LIMITS</b> section).</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The generated integer is made as unbiased as possible, subject to
    the limitations of the pseudo-random number generator.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>&#x201C;</b></dt>
  <dd>Pops a value off of the stack, which is used as an <b>exclusive</b> upper
      bound on the integer that will be generated. If the bound is negative or
      is a non-integer, an error is raised, and dc(1) resets (see the
      <b>RESET</b> section) while <b>seed</b> remains unchanged. If the bound is
      larger than <b>DC_RAND_MAX</b>, the higher bound is honored by generating
      several pseudo-random integers, multiplying them by appropriate powers of
      <b>DC_RAND_MAX+1</b>, and adding them together. Thus, the size of integer
      that can be generated with this command is unbounded. Using this command
      will change the value of <b>seed</b>, unless the operand is <b>0</b> or
      <b>1</b>. In that case, <b>0</b> is pushed onto the stack, and <b>seed</b>
      is <i>not</i> changed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The generated integer is made as unbiased as possible, subject to
    the limitations of the pseudo-random number generator.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Stack_Control"><a class="permalink" href="#Stack_Control">Stack
  Control</a></h2>
<p class="Pp">These commands control the stack.</p>
<dl class="Bl-tag">
  <dt id="c~2"><a class="permalink" href="#c~2"><b>c</b></a></dt>
  <dd>Removes all items from (&#x201C;clears&#x201D;) the stack.</dd>
  <dt id="d"><a class="permalink" href="#d"><b>d</b></a></dt>
  <dd>Copies the item on top of the stack (&#x201C;duplicates&#x201D;) and
      pushes the copy onto the stack.</dd>
  <dt id="r"><a class="permalink" href="#r"><b>r</b></a></dt>
  <dd>Swaps (&#x201C;reverses&#x201D;) the two top items on the stack.</dd>
  <dt id="R~2"><a class="permalink" href="#R~2"><b>R</b></a></dt>
  <dd>Pops (&#x201C;removes&#x201D;) the top value from the stack.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Register_Control"><a class="permalink" href="#Register_Control">Register
  Control</a></h2>
<p class="Pp">These commands control registers (see the <b>REGISTERS</b>
    section).</p>
<dl class="Bl-tag">
  <dt id="s"><a class="permalink" href="#s"><b>s</b><i>r</i></a></dt>
  <dd>Pops the value off the top of the stack and stores it into register
      <i>r</i>.</dd>
  <dt id="l"><a class="permalink" href="#l"><b>l</b><i>r</i></a></dt>
  <dd>Copies the value in register <i>r</i> and pushes it onto the stack. This
      does not alter the contents of <i>r</i>.</dd>
  <dt id="S~2"><a class="permalink" href="#S~2"><b>S</b><i>r</i></a></dt>
  <dd>Pops the value off the top of the (main) stack and pushes it onto the
      stack of register <i>r</i>. The previous value of the register becomes
      inaccessible.</dd>
  <dt id="L~2"><a class="permalink" href="#L~2"><b>L</b><i>r</i></a></dt>
  <dd>Pops the value off the top of the stack for register <i>r</i> and push it
      onto the main stack. The previous value in the stack for register
      <i>r</i>, if any, is now accessible via the <b>l</b><i>r</i> command.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Parameters"><a class="permalink" href="#Parameters">Parameters</a></h2>
<p class="Pp">These commands control the values of <b>ibase</b>, <b>obase</b>,
    <b>scale</b>, and <b>seed</b>. Also see the <b>SYNTAX</b> section.</p>
<dl class="Bl-tag">
  <dt id="i~2"><a class="permalink" href="#i~2"><b>i</b></a></dt>
  <dd>Pops the value off of the top of the stack and uses it to set
      <b>ibase</b>, which must be between <b>2</b> and <b>16</b>,
    inclusive.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If the value on top of the stack has any <i>scale</i>, the
    <i>scale</i> is ignored.</p>
</div>
<dl class="Bl-tag">
  <dt id="o"><a class="permalink" href="#o"><b>o</b></a></dt>
  <dd>Pops the value off of the top of the stack and uses it to set
      <b>obase</b>, which must be between <b>0</b> and <b>DC_BASE_MAX</b>,
      inclusive (see the <b>LIMITS</b> section and the <b>NUMBERS</b>
    section).</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If the value on top of the stack has any <i>scale</i>, the
    <i>scale</i> is ignored.</p>
</div>
<dl class="Bl-tag">
  <dt id="k"><a class="permalink" href="#k"><b>k</b></a></dt>
  <dd>Pops the value off of the top of the stack and uses it to set
      <b>scale</b>, which must be non-negative.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If the value on top of the stack has any <i>scale</i>, the
    <i>scale</i> is ignored.</p>
</div>
<dl class="Bl-tag">
  <dt id="j"><a class="permalink" href="#j"><b>j</b></a></dt>
  <dd>Pops the value off of the top of the stack and uses it to set <b>seed</b>.
      The meaning of <b>seed</b> is dependent on the current pseudo-random
      number generator but is guaranteed to not change except for new major
      versions.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The <i>scale</i> and sign of the value may be significant.</p>
<p class="Pp">If a previously used <b>seed</b> value is used again, the
    pseudo-random number generator is guaranteed to produce the same sequence of
    pseudo-random numbers as it did when the <b>seed</b> value was previously
    used.</p>
<p class="Pp">The exact value assigned to <b>seed</b> is not guaranteed to be
    returned if the <b>J</b> command is used. However, if <b>seed</b>
    <i>does</i> return a different value, both values, when assigned to
    <b>seed</b>, are guaranteed to produce the same sequence of pseudo-random
    numbers. This means that certain values assigned to <b>seed</b> will not
    produce unique sequences of pseudo-random numbers.</p>
<p class="Pp">There is no limit to the length (number of significant decimal
    digits) or <i>scale</i> of the value that can be assigned to
  <b>seed</b>.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="I~2"><a class="permalink" href="#I~2"><b>I</b></a></dt>
  <dd>Pushes the current value of <b>ibase</b> onto the main stack.</dd>
  <dt id="O~2"><a class="permalink" href="#O~2"><b>O</b></a></dt>
  <dd>Pushes the current value of <b>obase</b> onto the main stack.</dd>
  <dt id="K"><a class="permalink" href="#K"><b>K</b></a></dt>
  <dd>Pushes the current value of <b>scale</b> onto the main stack.</dd>
  <dt id="J"><a class="permalink" href="#J"><b>J</b></a></dt>
  <dd>Pushes the current value of <b>seed</b> onto the main stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="T"><a class="permalink" href="#T"><b>T</b></a></dt>
  <dd>Pushes the maximum allowable value of <b>ibase</b> onto the main
    stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="U"><a class="permalink" href="#U"><b>U</b></a></dt>
  <dd>Pushes the maximum allowable value of <b>obase</b> onto the main
    stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="V"><a class="permalink" href="#V"><b>V</b></a></dt>
  <dd>Pushes the maximum allowable value of <b>scale</b> onto the main
    stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="W"><a class="permalink" href="#W"><b>W</b></a></dt>
  <dd>Pushes the maximum (inclusive) integer that can be generated with the
      <b>&#x2019;</b> pseudo-random number generator command.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Strings"><a class="permalink" href="#Strings">Strings</a></h2>
<p class="Pp">The following commands control strings.</p>
<p class="Pp">dc(1) can work with both numbers and strings, and registers (see
    the <b>REGISTERS</b> section) can hold both strings and numbers. dc(1)
    always knows whether the contents of a register are a string or a
  number.</p>
<p class="Pp">While arithmetic operations have to have numbers, and will print
    an error if given a string, other commands accept strings.</p>
<p class="Pp">Strings can also be executed as macros. For example, if the string
    <b>[1pR]</b> is executed as a macro, then the code <b>1pR</b> is executed,
    meaning that the <b>1</b> will be printed with a newline after and then
    popped from the stack.</p>
<dl class="Bl-tag">
  <dt><b>[</b><i>characters</i><b>]</b></dt>
  <dd>Makes a string containing <i>characters</i> and pushes it onto the
    stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If there are brackets (<b>[</b> and <b>]</b>) in the string, then
    they must be balanced. Unbalanced brackets can be escaped using a backslash
    (<b>\</b>) character.</p>
<p class="Pp">If there is a backslash character in the string, the character
    after it (even another backslash) is put into the string verbatim, but the
    (first) backslash is not.</p>
</div>
<dl class="Bl-tag">
  <dt id="a"><a class="permalink" href="#a"><b>a</b></a></dt>
  <dd>The value on top of the stack is popped.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If it is a number, it is truncated and its absolute value is
    taken. The result mod <b>256</b> is calculated. If that result is <b>0</b>,
    push an empty string; otherwise, push a one-character string where the
    character is the result of the mod interpreted as an ASCII character.</p>
<p class="Pp">If it is a string, then a new string is made. If the original
    string is empty, the new string is empty. If it is not, then the first
    character of the original string is used to create the new string as a
    one-character string. The new string is then pushed onto the stack.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="x~2"><a class="permalink" href="#x~2"><b>x</b></a></dt>
  <dd>Pops a value off of the top of the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If it is a number, it is pushed back onto the stack.</p>
<p class="Pp">If it is a string, it is executed as a macro.</p>
<p class="Pp">This behavior is the norm whenever a macro is executed, whether by
    this command or by the conditional execution commands below.</p>
</div>
<dl class="Bl-tag">
  <dt><b>&gt;</b><i>r</i></dt>
  <dd>Pops two values off of the stack that must be numbers and compares them.
      If the first value is greater than the second, then the contents of
      register <i>r</i> are executed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">For example, <b>0 1&gt;a</b> will execute the contents of register
    <b>a</b>, and <b>1 0&gt;a</b> will not.</p>
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
</div>
<dl class="Bl-tag">
  <dt><b>&gt;</b><i>r</i><b>e</b><i>s</i></dt>
  <dd>Like the above, but will execute register <i>s</i> if the comparison
      fails.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>!&gt;</b><i>r</i></dt>
  <dd>Pops two values off of the stack that must be numbers and compares them.
      If the first value is not greater than the second (less than or equal to),
      then the contents of register <i>r</i> are executed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
</div>
<dl class="Bl-tag">
  <dt><b>!&gt;</b><i>r</i><b>e</b><i>s</i></dt>
  <dd>Like the above, but will execute register <i>s</i> if the comparison
      fails.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>&lt;</b><i>r</i></dt>
  <dd>Pops two values off of the stack that must be numbers and compares them.
      If the first value is less than the second, then the contents of register
      <i>r</i> are executed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
</div>
<dl class="Bl-tag">
  <dt><b>&lt;</b><i>r</i><b>e</b><i>s</i></dt>
  <dd>Like the above, but will execute register <i>s</i> if the comparison
      fails.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>!&lt;</b><i>r</i></dt>
  <dd>Pops two values off of the stack that must be numbers and compares them.
      If the first value is not less than the second (greater than or equal to),
      then the contents of register <i>r</i> are executed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
</div>
<dl class="Bl-tag">
  <dt><b>!&lt;</b><i>r</i><b>e</b><i>s</i></dt>
  <dd>Like the above, but will execute register <i>s</i> if the comparison
      fails.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>=</b><i>r</i></dt>
  <dd>Pops two values off of the stack that must be numbers and compares them.
      If the first value is equal to the second, then the contents of register
      <i>r</i> are executed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
</div>
<dl class="Bl-tag">
  <dt><b>=</b><i>r</i><b>e</b><i>s</i></dt>
  <dd>Like the above, but will execute register <i>s</i> if the comparison
      fails.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>!=</b><i>r</i></dt>
  <dd>Pops two values off of the stack that must be numbers and compares them.
      If the first value is not equal to the second, then the contents of
      register <i>r</i> are executed.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
</div>
<dl class="Bl-tag">
  <dt><b>!=</b><i>r</i><b>e</b><i>s</i></dt>
  <dd>Like the above, but will execute register <i>s</i> if the comparison
      fails.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If either or both of the values are not numbers, dc(1) will raise
    an error and reset (see the <b>RESET</b> section).</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt><b>?</b></dt>
  <dd>Reads a line from the <b>stdin</b> and executes it. This is to allow
      macros to request input from users.</dd>
  <dt id="q"><a class="permalink" href="#q"><b>q</b></a></dt>
  <dd>During execution of a macro, this exits the execution of that macro and
      the execution of the macro that executed it. If there are no macros, or
      only one macro executing, dc(1) exits.</dd>
  <dt id="Q"><a class="permalink" href="#Q"><b>Q</b></a></dt>
  <dd>Pops a value from the stack which must be non-negative and is used the
      number of macro executions to pop off of the execution stack. If the
      number of levels to pop is greater than the number of executing macros,
      dc(1) exits.</dd>
  <dt><b>,</b></dt>
  <dd>Pushes the depth of the execution stack onto the stack. The execution
      stack is the stack of string executions. The number that is pushed onto
      the stack is exactly as many as is needed to make dc(1) exit with the
      <b>Q</b> command, so the sequence <b>,Q</b> will make dc(1) exit.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Status"><a class="permalink" href="#Status">Status</a></h2>
<p class="Pp">These commands query status of the stack or its top value.</p>
<dl class="Bl-tag">
  <dt id="Z"><a class="permalink" href="#Z"><b>Z</b></a></dt>
  <dd>Pops a value off of the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If it is a number, calculates the number of significant decimal
    digits it has and pushes the result. It will push <b>1</b> if the argument
    is <b>0</b> with no decimal places.</p>
<p class="Pp">If it is a string, pushes the number of characters the string
  has.</p>
</div>
<dl class="Bl-tag">
  <dt id="X"><a class="permalink" href="#X"><b>X</b></a></dt>
  <dd>Pops a value off of the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">If it is a number, pushes the <i>scale</i> of the value onto the
    stack.</p>
<p class="Pp">If it is a string, pushes <b>0</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="u"><a class="permalink" href="#u"><b>u</b></a></dt>
  <dd>Pops one value off of the stack. If the value is a number, this pushes
      <b>1</b> onto the stack. Otherwise (if it is a string), it pushes
      <b>0</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="t"><a class="permalink" href="#t"><b>t</b></a></dt>
  <dd>Pops one value off of the stack. If the value is a string, this pushes
      <b>1</b> onto the stack. Otherwise (if it is a number), it pushes
      <b>0</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
<dl class="Bl-tag">
  <dt id="z~2"><a class="permalink" href="#z~2"><b>z</b></a></dt>
  <dd>Pushes the current depth of the stack (before execution of this command)
      onto the stack.</dd>
  <dt id="y"><a class="permalink" href="#y"><b>y</b><i>r</i></a></dt>
  <dd>Pushes the current stack depth of the register <i>r</i> onto the main
      stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Because each register has a depth of <b>1</b> (with the value
    <b>0</b> in the top item) when dc(1) starts, dc(1) requires that each
    register&#x2019;s stack must always have at least one item; dc(1) will give
    an error and reset otherwise (see the <b>RESET</b> section). This means that
    this command will never push <b>0</b>.</p>
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Arrays"><a class="permalink" href="#Arrays">Arrays</a></h2>
<p class="Pp">These commands manipulate arrays.</p>
<dl class="Bl-tag">
  <dt><b>:</b><i>r</i></dt>
  <dd>Pops the top two values off of the stack. The second value will be stored
      in the array <i>r</i> (see the <b>REGISTERS</b> section), indexed by the
      first value.</dd>
  <dt><b>;</b><i>r</i></dt>
  <dd>Pops the value on top of the stack and uses it as an index into the array
      <i>r</i>. The selected value is then pushed onto the stack.</dd>
  <dt id="Y"><a class="permalink" href="#Y"><b>Y</b><i>r</i></a></dt>
  <dd>Pushes the length of the array <i>r</i> onto the stack.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This is a <b>non-portable extension</b>.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Global_Settings"><a class="permalink" href="#Global_Settings">Global
  Settings</a></h2>
<p class="Pp">These commands retrieve global settings. These are the only
    commands that require multiple specific characters, and all of them begin
    with the letter <b>g</b>. Only the characters below are allowed after the
    character <b>g</b>; any other character produces a parse error (see the
    <b>ERRORS</b> section).</p>
<dl class="Bl-tag">
  <dt id="gl"><a class="permalink" href="#gl"><b>gl</b></a></dt>
  <dd>Pushes the line length set by <b>DC_LINE_LENGTH</b> (see the
      <b>ENVIRONMENT VARIABLES</b> section) onto the stack.</dd>
  <dt id="gx"><a class="permalink" href="#gx"><b>gx</b></a></dt>
  <dd>Pushes <b>1</b> onto the stack if extended register mode is on, <b>0</b>
      otherwise. See the <i>Extended Register Mode</i> subsection of the
      <b>REGISTERS</b> section for more information.</dd>
  <dt id="gz"><a class="permalink" href="#gz"><b>gz</b></a></dt>
  <dd>Pushes <b>0</b> onto the stack if the leading zero setting has not been
      enabled with the <b>-z</b> or <b>--leading-zeroes</b> options (see the
      <b>OPTIONS</b> section), non-zero otherwise.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="REGISTERS"><a class="permalink" href="#REGISTERS">REGISTERS</a></h1>
<p class="Pp">Registers are names that can store strings, numbers, and arrays.
    (Number/string registers do not interfere with array registers.)</p>
<p class="Pp">Each register is also its own stack, so the current register value
    is the top of the stack for the register. All registers, when first
    referenced, have one value (<b>0</b>) in their stack, and it is a runtime
    error to attempt to pop that item off of the register stack.</p>
<p class="Pp">In non-extended register mode, a register name is just the single
    character that follows any command that needs a register name. The only
    exceptions are: a newline (<b>`\n'</b>) and a left bracket (<b>`['</b>); it
    is a parse error for a newline or a left bracket to be used as a register
    name.</p>
<section class="Ss">
<h2 class="Ss" id="Extended_Register_Mode"><a class="permalink" href="#Extended_Register_Mode">Extended
  Register Mode</a></h2>
<p class="Pp">Unlike most other dc(1) implentations, this dc(1) provides nearly
    unlimited amounts of registers, if extended register mode is enabled.</p>
<p class="Pp">If extended register mode is enabled (<b>-x</b> or
    <b>--extended-register</b> command-line arguments are given), then normal
    single character registers are used <i>unless</i> the character immediately
    following a command that needs a register name is a space (according to
    <b>isspace()</b>) and not a newline (<b>`\n'</b>).</p>
<p class="Pp">In that case, the register name is found according to the regex
    <b>[a-z][a-z0-9_]*</b> (like bc(1) identifiers), and it is a parse error if
    the next non-space characters do not match that regex.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="RESET"><a class="permalink" href="#RESET">RESET</a></h1>
<p class="Pp">When dc(1) encounters an error or a signal that it has a
    non-default handler for, it resets. This means that several things
  happen.</p>
<p class="Pp">First, any macros that are executing are stopped and popped off
    the execution stack. The behavior is not unlike that of exceptions in
    programming languages. Then the execution point is set so that any code
    waiting to execute (after all macros returned) is skipped.</p>
<p class="Pp">However, the stack of values is <i>not</i> cleared; in interactive
    mode, users can inspect the stack and manipulate it.</p>
<p class="Pp">Thus, when dc(1) resets, it skips any remaining code waiting to be
    executed. Then, if it is interactive mode, and the error was not a fatal
    error (see the <b>EXIT STATUS</b> section), it asks for more input;
    otherwise, it exits with the appropriate return code.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PERFORMANCE"><a class="permalink" href="#PERFORMANCE">PERFORMANCE</a></h1>
<p class="Pp">Most dc(1) implementations use <b>char</b> types to calculate the
    value of <b>1</b> decimal digit at a time, but that can be slow. This dc(1)
    does something different.</p>
<p class="Pp">It uses large integers to calculate more than <b>1</b> decimal
    digit at a time. If built in a environment where <b>DC_LONG_BIT</b> (see the
    <b>LIMITS</b> section) is <b>64</b>, then each integer has <b>9</b> decimal
    digits. If built in an environment where <b>DC_LONG_BIT</b> is <b>32</b>
    then each integer has <b>4</b> decimal digits. This value (the number of
    decimal digits per large integer) is called <b>DC_BASE_DIGS</b>.</p>
<p class="Pp">In addition, this dc(1) uses an even larger integer for overflow
    checking. This integer type depends on the value of <b>DC_LONG_BIT</b>, but
    is always at least twice as large as the integer type used to store
  digits.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIMITS"><a class="permalink" href="#LIMITS">LIMITS</a></h1>
<p class="Pp">The following are the limits on dc(1):</p>
<dl class="Bl-tag">
  <dt id="DC_LONG_BIT"><a class="permalink" href="#DC_LONG_BIT"><b>DC_LONG_BIT</b></a></dt>
  <dd>The number of bits in the <b>long</b> type in the environment where dc(1)
      was built. This determines how many decimal digits can be stored in a
      single large integer (see the <b>PERFORMANCE</b> section).</dd>
  <dt id="DC_BASE_DIGS"><a class="permalink" href="#DC_BASE_DIGS"><b>DC_BASE_DIGS</b></a></dt>
  <dd>The number of decimal digits per large integer (see the <b>PERFORMANCE</b>
      section). Depends on <b>DC_LONG_BIT</b>.</dd>
  <dt id="DC_BASE_POW"><a class="permalink" href="#DC_BASE_POW"><b>DC_BASE_POW</b></a></dt>
  <dd>The max decimal number that each large integer can store (see
      <b>DC_BASE_DIGS</b>) plus <b>1</b>. Depends on <b>DC_BASE_DIGS</b>.</dd>
  <dt id="DC_OVERFLOW_MAX"><a class="permalink" href="#DC_OVERFLOW_MAX"><b>DC_OVERFLOW_MAX</b></a></dt>
  <dd>The max number that the overflow type (see the <b>PERFORMANCE</b> section)
      can hold. Depends on <b>DC_LONG_BIT</b>.</dd>
  <dt id="DC_BASE_MAX"><a class="permalink" href="#DC_BASE_MAX"><b>DC_BASE_MAX</b></a></dt>
  <dd>The maximum output base. Set at <b>DC_BASE_POW</b>.</dd>
  <dt id="DC_DIM_MAX"><a class="permalink" href="#DC_DIM_MAX"><b>DC_DIM_MAX</b></a></dt>
  <dd>The maximum size of arrays. Set at <b>SIZE_MAX-1</b>.</dd>
  <dt id="DC_SCALE_MAX"><a class="permalink" href="#DC_SCALE_MAX"><b>DC_SCALE_MAX</b></a></dt>
  <dd>The maximum <b>scale</b>. Set at <b>DC_OVERFLOW_MAX-1</b>.</dd>
  <dt id="DC_STRING_MAX"><a class="permalink" href="#DC_STRING_MAX"><b>DC_STRING_MAX</b></a></dt>
  <dd>The maximum length of strings. Set at <b>DC_OVERFLOW_MAX-1</b>.</dd>
  <dt id="DC_NAME_MAX"><a class="permalink" href="#DC_NAME_MAX"><b>DC_NAME_MAX</b></a></dt>
  <dd>The maximum length of identifiers. Set at <b>DC_OVERFLOW_MAX-1</b>.</dd>
  <dt id="DC_NUM_MAX"><a class="permalink" href="#DC_NUM_MAX"><b>DC_NUM_MAX</b></a></dt>
  <dd>The maximum length of a number (in decimal digits), which includes digits
      after the decimal point. Set at <b>DC_OVERFLOW_MAX-1</b>.</dd>
  <dt id="DC_RAND_MAX"><a class="permalink" href="#DC_RAND_MAX"><b>DC_RAND_MAX</b></a></dt>
  <dd>The maximum integer (inclusive) returned by the <b>&#x2019;</b> command,
      if dc(1). Set at <b>2^DC_LONG_BIT-1</b>.</dd>
  <dt id="Exponent"><a class="permalink" href="#Exponent">Exponent</a></dt>
  <dd>The maximum allowable exponent (positive or negative). Set at
      <b>DC_OVERFLOW_MAX</b>.</dd>
  <dt id="Number"><a class="permalink" href="#Number">Number of vars</a></dt>
  <dd>The maximum number of vars/arrays. Set at <b>SIZE_MAX-1</b>.</dd>
</dl>
<p class="Pp">These limits are meant to be effectively non-existent; the limits
    are so large (at least on 64-bit machines) that there should not be any
    point at which they become a problem. In fact, memory should be exhausted
    before these limits should be hit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">As <b>non-portable extensions</b>, dc(1) recognizes the following
    environment variables:</p>
<dl class="Bl-tag">
  <dt id="DC_ENV_ARGS"><a class="permalink" href="#DC_ENV_ARGS"><b>DC_ENV_ARGS</b></a></dt>
  <dd>This is another way to give command-line arguments to dc(1). They should
      be in the same format as all other command-line arguments. These are
      always processed first, so any files given in <b>DC_ENV_ARGS</b> will be
      processed before arguments and files given on the command-line. This gives
      the user the ability to set up &#x201C;standard&#x201D; options and files
      to be used at every invocation. The most useful thing for such files to
      contain would be useful functions that the user might want every time
      dc(1) runs. Another use would be to use the <b>-e</b> option to set
      <b>scale</b> to a value other than <b>0</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The code that parses <b>DC_ENV_ARGS</b> will correctly handle
    quoted arguments, but it does not understand escape sequences. For example,
    the string <b>&#x201C;/home/gavin/some dc file.dc&#x201D;</b> will be
    correctly parsed, but the string <b>&#x201C;/home/gavin/some</b>
    <b>&quot;dc&quot; file.dc&#x201D;</b> will include the backslashes.</p>
<p class="Pp">The quote parsing will handle either kind of quotes,
    <b>&#x2019;</b> or <b>&#x201C;</b>. Thus, if you have a file with any number
    of single quotes in the name, you can use double quotes as the outside
    quotes, as in <b>&#x201C;some</b> <b>`dc' file.dc&#x201D;</b>, and vice
    versa if you have a file with double quotes. However, handling a file with
    both kinds of quotes in <b>DC_ENV_ARGS</b> is not supported due to the
    complexity of the parsing, though such files are still supported on the
    command-line where the parsing is done by the shell.</p>
</div>
<dl class="Bl-tag">
  <dt id="DC_LINE_LENGTH"><a class="permalink" href="#DC_LINE_LENGTH"><b>DC_LINE_LENGTH</b></a></dt>
  <dd>If this environment variable exists and contains an integer that is
      greater than <b>1</b> and is less than <b>UINT16_MAX</b> (<b>2^16-1</b>),
      dc(1) will output lines to that length, including the backslash newline
      combo. The default line length is <b>70</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The special value of <b>0</b> will disable line length checking
    and print numbers without regard to line length and without backslashes and
    newlines.</p>
</div>
<dl class="Bl-tag">
  <dt id="DC_SIGINT_RESET"><a class="permalink" href="#DC_SIGINT_RESET"><b>DC_SIGINT_RESET</b></a></dt>
  <dd>If dc(1) is not in interactive mode (see the <b>INTERACTIVE MODE</b>
      section), then this environment variable has no effect because dc(1) exits
      on <b>SIGINT</b> when not in interactive mode.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">However, when dc(1) is in interactive mode, then if this
    environment variable exists and contains an integer, a non-zero value makes
    dc(1) reset on <b>SIGINT</b>, rather than exit, and zero makes dc(1) exit.
    If this environment variable exists and is <i>not</i> an integer, then dc(1)
    will exit on <b>SIGINT</b>.</p>
<p class="Pp">This environment variable overrides the default, which can be
    queried with the <b>-h</b> or <b>--help</b> options.</p>
</div>
<dl class="Bl-tag">
  <dt id="DC_TTY_MODE"><a class="permalink" href="#DC_TTY_MODE"><b>DC_TTY_MODE</b></a></dt>
  <dd>If TTY mode is <i>not</i> available (see the <b>TTY MODE</b> section),
      then this environment variable has no effect.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">However, when TTY mode is available, then if this environment
    variable exists and contains an integer, then a non-zero value makes dc(1)
    use TTY mode, and zero makes dc(1) not use TTY mode.</p>
<p class="Pp">This environment variable overrides the default, which can be
    queried with the <b>-h</b> or <b>--help</b> options.</p>
</div>
<dl class="Bl-tag">
  <dt id="DC_PROMPT"><a class="permalink" href="#DC_PROMPT"><b>DC_PROMPT</b></a></dt>
  <dd>If TTY mode is <i>not</i> available (see the <b>TTY MODE</b> section),
      then this environment variable has no effect.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">However, when TTY mode is available, then if this environment
    variable exists and contains an integer, a non-zero value makes dc(1) use a
    prompt, and zero or a non-integer makes dc(1) not use a prompt. If this
    environment variable does not exist and <b>DC_TTY_MODE</b> does, then the
    value of the <b>DC_TTY_MODE</b> environment variable is used.</p>
<p class="Pp">This environment variable and the <b>DC_TTY_MODE</b> environment
    variable override the default, which can be queried with the <b>-h</b> or
    <b>--help</b> options.</p>
</div>
<dl class="Bl-tag">
  <dt id="DC_EXPR_EXIT"><a class="permalink" href="#DC_EXPR_EXIT"><b>DC_EXPR_EXIT</b></a></dt>
  <dd>If any expressions or expression files are given on the command-line with
      <b>-e</b>, <b>--expression</b>, <b>-f</b>, or <b>--file</b>, then if this
      environment variable exists and contains an integer, a non-zero value
      makes dc(1) exit after executing the expressions and expression files, and
      a zero value makes dc(1) not exit.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This environment variable overrides the default, which can be
    queried with the <b>-h</b> or <b>--help</b> options.</p>
</div>
<dl class="Bl-tag">
  <dt id="DC_DIGIT_CLAMP"><a class="permalink" href="#DC_DIGIT_CLAMP"><b>DC_DIGIT_CLAMP</b></a></dt>
  <dd>When parsing numbers and if this environment variable exists and contains
      an integer, a non-zero value makes dc(1) clamp digits that are greater
      than or equal to the current <b>ibase</b> so that all such digits are
      considered equal to the <b>ibase</b> minus 1, and a zero value disables
      such clamping so that those digits are always equal to their value, which
      is multiplied by the power of the <b>ibase</b>.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This never applies to single-digit numbers, as per the bc(1)
    standard (see the <b>STANDARDS</b> section).</p>
<p class="Pp">This environment variable overrides the default, which can be
    queried with the <b>-h</b> or <b>--help</b> options.</p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">dc(1) returns the following exit statuses:</p>
<dl class="Bl-tag">
  <dt><b>0</b></dt>
  <dd>No error.</dd>
  <dt><b>1</b></dt>
  <dd>A math error occurred. This follows standard practice of using <b>1</b>
      for expected errors, since math errors will happen in the process of
      normal execution.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Math errors include divide by <b>0</b>, taking the square root of
    a negative number, using a negative number as a bound for the pseudo-random
    number generator, attempting to convert a negative number to a hardware
    integer, overflow when converting a number to a hardware integer, overflow
    when calculating the size of a number, and attempting to use a non-integer
    where an integer is required.</p>
<p class="Pp">Converting to a hardware integer happens for the second operand of
    the power (<b>^</b>), places (<b>@</b>), left shift (<b>H</b>), and right
    shift (<b>h</b>) operators.</p>
</div>
<dl class="Bl-tag">
  <dt><b>2</b></dt>
  <dd>A parse error occurred.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Parse errors include unexpected <b>EOF</b>, using an invalid
    character, failing to find the end of a string or comment, and using a token
    where it is invalid.</p>
</div>
<dl class="Bl-tag">
  <dt><b>3</b></dt>
  <dd>A runtime error occurred.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Runtime errors include assigning an invalid number to any global
    (<b>ibase</b>, <b>obase</b>, or <b>scale</b>), giving a bad expression to a
    <b>read()</b> call, calling <b>read()</b> inside of a <b>read()</b> call,
    type errors (including attempting to execute a number), and attempting an
    operation when the stack has too few elements.</p>
</div>
<dl class="Bl-tag">
  <dt><b>4</b></dt>
  <dd>A fatal error occurred.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">Fatal errors include memory allocation errors, I/O errors, failing
    to open files, attempting to use files that do not have only ASCII
    characters (dc(1) only accepts ASCII characters), attempting to open a
    directory as a file, and giving invalid command-line options.</p>
</div>
<p class="Pp">The exit status <b>4</b> is special; when a fatal error occurs,
    dc(1) always exits and returns <b>4</b>, no matter what mode dc(1) is
  in.</p>
<p class="Pp">The other statuses will only be returned when dc(1) is not in
    interactive mode (see the <b>INTERACTIVE MODE</b> section), since dc(1)
    resets its state (see the <b>RESET</b> section) and accepts more input when
    one of those errors occurs in interactive mode. This is also the case when
    interactive mode is forced by the <b>-i</b> flag or <b>--interactive</b>
    option.</p>
<p class="Pp">These exit statuses allow dc(1) to be used in shell scripting with
    error checking, and its normal behavior can be forced by using the <b>-i</b>
    flag or <b>--interactive</b> option.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INTERACTIVE_MODE"><a class="permalink" href="#INTERACTIVE_MODE">INTERACTIVE
  MODE</a></h1>
<p class="Pp">Like bc(1), dc(1) has an interactive mode and a non-interactive
    mode. Interactive mode is turned on automatically when both <b>stdin</b> and
    <b>stdout</b> are hooked to a terminal, but the <b>-i</b> flag and
    <b>--interactive</b> option can turn it on in other situations.</p>
<p class="Pp">In interactive mode, dc(1) attempts to recover from errors (see
    the <b>RESET</b> section), and in normal execution, flushes <b>stdout</b> as
    soon as execution is done for the current input. dc(1) may also reset on
    <b>SIGINT</b> instead of exit, depending on the contents of, or default for,
    the <b>DC_SIGINT_RESET</b> environment variable (see the <b>ENVIRONMENT
    VARIABLES</b> section).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="TTY_MODE"><a class="permalink" href="#TTY_MODE">TTY
  MODE</a></h1>
<p class="Pp">If <b>stdin</b>, <b>stdout</b>, and <b>stderr</b> are all
    connected to a TTY, then &#x201C;TTY mode&#x201D; is considered to be
    available, and thus, dc(1) can turn on TTY mode, subject to some
  settings.</p>
<p class="Pp">If there is the environment variable <b>DC_TTY_MODE</b> in the
    environment (see the <b>ENVIRONMENT VARIABLES</b> section), then if that
    environment variable contains a non-zero integer, dc(1) will turn on TTY
    mode when <b>stdin</b>, <b>stdout</b>, and <b>stderr</b> are all connected
    to a TTY. If the <b>DC_TTY_MODE</b> environment variable exists but is
    <i>not</i> a non-zero integer, then dc(1) will not turn TTY mode on.</p>
<p class="Pp">If the environment variable <b>DC_TTY_MODE</b> does <i>not</i>
    exist, the default setting is used. The default setting can be queried with
    the <b>-h</b> or <b>--help</b> options.</p>
<p class="Pp">TTY mode is different from interactive mode because interactive
    mode is required in the bc(1) specification (see the <b>STANDARDS</b>
    section), and interactive mode requires only <b>stdin</b> and <b>stdout</b>
    to be connected to a terminal.</p>
<section class="Ss">
<h2 class="Ss" id="Command"><a class="permalink" href="#Command">Command-Line
  History</a></h2>
<p class="Pp">Command-line history is only enabled if TTY mode is, i.e., that
    <b>stdin</b>, <b>stdout</b>, and <b>stderr</b> are connected to a TTY and
    the <b>DC_TTY_MODE</b> environment variable (see the <b>ENVIRONMENT
    VARIABLES</b> section) and its default do not disable TTY mode. See the
    <b>COMMAND LINE HISTORY</b> section for more information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Prompt"><a class="permalink" href="#Prompt">Prompt</a></h2>
<p class="Pp">If TTY mode is available, then a prompt can be enabled. Like TTY
    mode itself, it can be turned on or off with an environment variable:
    <b>DC_PROMPT</b> (see the <b>ENVIRONMENT VARIABLES</b> section).</p>
<p class="Pp">If the environment variable <b>DC_PROMPT</b> exists and is a
    non-zero integer, then the prompt is turned on when <b>stdin</b>,
    <b>stdout</b>, and <b>stderr</b> are connected to a TTY and the <b>-P</b>
    and <b>--no-prompt</b> options were not used. The read prompt will be turned
    on under the same conditions, except that the <b>-R</b> and
    <b>--no-read-prompt</b> options must also not be used.</p>
<p class="Pp">However, if <b>DC_PROMPT</b> does not exist, the prompt can be
    enabled or disabled with the <b>DC_TTY_MODE</b> environment variable, the
    <b>-P</b> and <b>--no-prompt</b> options, and the <b>-R</b> and
    <b>--no-read-prompt</b> options. See the <b>ENVIRONMENT VARIABLES</b> and
    <b>OPTIONS</b> sections for more details.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SIGNAL_HANDLING"><a class="permalink" href="#SIGNAL_HANDLING">SIGNAL
  HANDLING</a></h1>
<p class="Pp">Sending a <b>SIGINT</b> will cause dc(1) to do one of two
  things.</p>
<p class="Pp">If dc(1) is not in interactive mode (see the <b>INTERACTIVE
    MODE</b> section), or the <b>DC_SIGINT_RESET</b> environment variable (see
    the <b>ENVIRONMENT VARIABLES</b> section), or its default, is either not an
    integer or it is zero, dc(1) will exit.</p>
<p class="Pp">However, if dc(1) is in interactive mode, and the
    <b>DC_SIGINT_RESET</b> or its default is an integer and non-zero, then dc(1)
    will stop executing the current input and reset (see the <b>RESET</b>
    section) upon receiving a <b>SIGINT</b>.</p>
<p class="Pp">Note that &#x201C;current input&#x201D; can mean one of two
    things. If dc(1) is processing input from <b>stdin</b> in interactive mode,
    it will ask for more input. If dc(1) is processing input from a file in
    interactive mode, it will stop processing the file and start processing the
    next file, if one exists, or ask for input from <b>stdin</b> if no other
    file exists.</p>
<p class="Pp">This means that if a <b>SIGINT</b> is sent to dc(1) as it is
    executing a file, it can seem as though dc(1) did not respond to the signal
    since it will immediately start executing the next file. This is by design;
    most files that users execute when interacting with dc(1) have function
    definitions, which are quick to parse. If a file takes a long time to
    execute, there may be a bug in that file. The rest of the files could still
    be executed without problem, allowing the user to continue.</p>
<p class="Pp"><b>SIGTERM</b> and <b>SIGQUIT</b> cause dc(1) to clean up and
    exit, and it uses the default handler for all other signals. The one
    exception is <b>SIGHUP</b>; in that case, and only when dc(1) is in TTY mode
    (see the <b>TTY MODE</b> section), a <b>SIGHUP</b> will cause dc(1) to clean
    up and exit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMMAND_LINE_HISTORY"><a class="permalink" href="#COMMAND_LINE_HISTORY">COMMAND
  LINE HISTORY</a></h1>
<p class="Pp">dc(1) supports interactive command-line editing.</p>
<p class="Pp">If dc(1) can be in TTY mode (see the <b>TTY MODE</b> section),
    history can be enabled. This means that command-line history can only be
    enabled when <b>stdin</b>, <b>stdout</b>, and <b>stderr</b> are all
    connected to a TTY.</p>
<p class="Pp">Like TTY mode itself, it can be turned on or off with the
    environment variable <b>DC_TTY_MODE</b> (see the <b>ENVIRONMENT
    VARIABLES</b> section).</p>
<p class="Pp"><b>Note</b>: tabs are converted to 8 spaces.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LOCALES"><a class="permalink" href="#LOCALES">LOCALES</a></h1>
<p class="Pp">This dc(1) ships with support for adding error messages for
    different locales and thus, supports <b>LC_MESSAGES</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">bc(1)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp">The dc(1) utility operators and some behavior are compliant with
    the operators in the IEEE Std 1003.1-2017 (&#x201C;POSIX.1-2017&#x201D;)
    bc(1) specification at
    https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">None are known. Report bugs at
    https://git.gavinhoward.com/gavin/bc .</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Gavin D. Howard
    <a class="Mt" href="mailto:gavin@gavinhoward.com">gavin@gavinhoward.com</a>&#x00A0;and
    contributors.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 2024</td>
    <td class="foot-os">Gavin D. Howard</td>
  </tr>
</table>
</body>
</html>
