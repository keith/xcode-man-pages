<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2002 Tim J. Robbins
   All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
  
   THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
   $FreeBSD$
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>WORDEXP(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">WORDEXP(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">WORDEXP(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">wordexp</code> &#x2014; <span class="Nd">perform
    shell-style word expansions</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
    &lt;<a class="In">wordexp.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">wordexp</code>(<var class="Fa" style="white-space: nowrap;">const
    char * restrict words</var>,
    <var class="Fa" style="white-space: nowrap;">wordexp_t * restrict we</var>,
    <var class="Fa" style="white-space: nowrap;">int flags</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">wordfree</code>(<var class="Fa" style="white-space: nowrap;">wordexp_t
    *we</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The
    <a class="permalink" href="#wordexp"><code class="Fn" id="wordexp">wordexp</code></a>()
    function performs shell-style word expansion on <var class="Fa">words</var>
    and places the list of words into the <var class="Va">we_wordv</var> member
    of <var class="Fa">we</var>, and the number of words into
    <var class="Va">we_wordc</var>.</p>
<p class="Pp">The <var class="Fa">flags</var> argument is the bitwise inclusive
    OR of any of the following constants:</p>
<dl class="Bl-tag">
  <dt id="WRDE_APPEND"><a class="permalink" href="#WRDE_APPEND"><code class="Dv">WRDE_APPEND</code></a></dt>
  <dd>Append the words to those generated by a previous call to
      <a class="permalink" href="#wordexp~2"><code class="Fn" id="wordexp~2">wordexp</code></a>().</dd>
  <dt id="WRDE_DOOFFS"><a class="permalink" href="#WRDE_DOOFFS"><code class="Dv">WRDE_DOOFFS</code></a></dt>
  <dd>As many <code class="Dv">NULL</code> pointers as are specified by the
      <var class="Va">we_offs</var> member of <var class="Fa">we</var> are added
      to the front of <var class="Va">we_wordv</var>.</dd>
  <dt id="WRDE_NOCMD"><a class="permalink" href="#WRDE_NOCMD"><code class="Dv">WRDE_NOCMD</code></a></dt>
  <dd>Disallow command substitution in <var class="Fa">words</var>. See the note
      in <a class="Sx" href="#BUGS">BUGS</a> before using this.</dd>
  <dt id="WRDE_REUSE"><a class="permalink" href="#WRDE_REUSE"><code class="Dv">WRDE_REUSE</code></a></dt>
  <dd>The <var class="Fa">we</var> argument was passed to a previous successful
      call to <code class="Fn">wordexp</code>() but has not been passed to
      <code class="Fn">wordfree</code>(). The implementation may reuse the space
      allocated to it.</dd>
  <dt id="WRDE_SHOWERR"><a class="permalink" href="#WRDE_SHOWERR"><code class="Dv">WRDE_SHOWERR</code></a></dt>
  <dd>Do not redirect shell error messages to
    <span class="Pa">/dev/null</span>.</dd>
  <dt id="WRDE_UNDEF"><a class="permalink" href="#WRDE_UNDEF"><code class="Dv">WRDE_UNDEF</code></a></dt>
  <dd>Report error on an attempt to expand an undefined shell variable.</dd>
</dl>
<p class="Pp">The <var class="Vt">wordexp_t</var> structure is defined in
    <code class="In">&lt;<a class="In">wordexp.h</a>&gt;</code> as:</p>
<div class="Bd Pp Bd-indent Li">
<pre>typedef struct {
	size_t	we_wordc;	/* count of words matched */
	char	**we_wordv;	/* pointer to list of words */
	size_t	we_offs;	/* slots to reserve in we_wordv */
} wordexp_t;</pre>
</div>
<p class="Pp" id="wordfree">The
    <a class="permalink" href="#wordfree"><code class="Fn">wordfree</code></a>()
    function frees the memory allocated by
  <code class="Fn">wordexp</code>().</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp">The <code class="Fn">wordexp</code>() function returns zero if
    successful, otherwise it returns one of the following error codes:</p>
<dl class="Bl-tag">
  <dt id="WRDE_BADCHAR"><a class="permalink" href="#WRDE_BADCHAR"><code class="Dv">WRDE_BADCHAR</code></a></dt>
  <dd>The <var class="Fa">words</var> argument contains one of the following
      unquoted characters: &#x27E8;newline&#x27E9;,
      &#x2018;<code class="Li">|</code>&#x2019;,
      &#x2018;<code class="Li">&amp;</code>&#x2019;,
      &#x2018;<code class="Li">;</code>&#x2019;,
      &#x2018;<code class="Li">&lt;</code>&#x2019;,
      &#x2018;<code class="Li">&gt;</code>&#x2019;,
      &#x2018;<code class="Li">(</code>&#x2019;,
      &#x2018;<code class="Li">)</code>&#x2019;,
      &#x2018;<code class="Li">{</code>&#x2019;,
      &#x2018;<code class="Li">}</code>&#x2019;.</dd>
  <dt id="WRDE_BADVAL"><a class="permalink" href="#WRDE_BADVAL"><code class="Dv">WRDE_BADVAL</code></a></dt>
  <dd>An attempt was made to expand an undefined shell variable and
      <code class="Dv">WRDE_UNDEF</code> is set in
    <var class="Fa">flags</var>.</dd>
  <dt id="WRDE_CMDSUB"><a class="permalink" href="#WRDE_CMDSUB"><code class="Dv">WRDE_CMDSUB</code></a></dt>
  <dd>An attempt was made to use command substitution and
      <code class="Dv">WRDE_NOCMD</code> is set in
    <var class="Fa">flags</var>.</dd>
  <dt id="WRDE_NOSPACE"><a class="permalink" href="#WRDE_NOSPACE"><code class="Dv">WRDE_NOSPACE</code></a></dt>
  <dd>Not enough memory to store the result.</dd>
  <dt id="WRDE_SYNTAX"><a class="permalink" href="#WRDE_SYNTAX"><code class="Dv">WRDE_SYNTAX</code></a></dt>
  <dd>Shell syntax error in <var class="Fa">words</var>.</dd>
</dl>
<p class="Pp">The <code class="Fn">wordfree</code>() function returns no
  value.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt id="IFS"><a class="permalink" href="#IFS"><code class="Ev">IFS</code></a></dt>
  <dd>Field separator.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">Invoke the editor on all <span class="Pa">.c</span> files in the
    current directory and <span class="Pa">/etc/motd</span> (error checking
    omitted):</p>
<div class="Bd Pp Bd-indent Li">
<pre>wordexp_t we;

wordexp(&quot;${EDITOR:-vi} *.c /etc/motd&quot;, &amp;we, 0);
execvp(we.we_wordv[0], we.we_wordv);</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<p class="Pp">Diagnostic messages from the shell are written to the standard
    error output if <code class="Dv">WRDE_SHOWERR</code> is set in
    <var class="Fa">flags</var>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">sh(1)</a>, <a class="Xr">fnmatch(3)</a>,
    <a class="Xr">glob(3)</a>, <a class="Xr">popen(3)</a>,
    <a class="Xr">system(3)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp">The <code class="Fn">wordexp</code>() and
    <code class="Fn">wordfree</code>() functions conform to
    <span class="St">IEEE Std 1003.1-2001 (&#x201C;POSIX.1&#x201D;)</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Do not pass untrusted user data to
    <code class="Fn">wordexp</code>(), regardless of whether the
    <code class="Dv">WRDE_NOCMD</code> flag is set. The
    <code class="Fn">wordexp</code>() function attempts to detect input that
    would cause commands to be executed before passing it to the shell but it
    does not use the same parser so it may be fooled.</p>
<p class="Pp">The current <code class="Fn">wordexp</code>() implementation does
    not recognize multibyte characters, since the shell (which it invokes to
    perform expansions) does not.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 29, 2004</td>
    <td class="foot-os">Mac OS X 12</td>
  </tr>
</table>
</body>
</html>
