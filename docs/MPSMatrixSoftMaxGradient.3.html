<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   -*- nroff -*-
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>MPSMatrixSoftMaxGradient(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MPSMatrixSoftMaxGradient(3)</td>
    <td class="head-vol">MetalPerformanceShaders.framework</td>
    <td class="head-rtitle">MPSMatrixSoftMaxGradient(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">MPSMatrixSoftMaxGradient</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">#import &lt;MPSMatrixSoftMax.h&gt;</p>
<p class="Pp">Inherits <b>MPSMatrixBinaryKernel</b>.</p>
<p class="Pp">Inherited by <b>MPSMatrixLogSoftMaxGradient</b>.</p>
<section class="Ss">
<h2 class="Ss" id="Instance_Methods"><a class="permalink" href="#Instance_Methods">Instance
  Methods</a></h2>
<br/>
<p class="Pp">(nonnull instancetype) - <b>initWithDevice:</b>
  <br/>
  (void) -
    <b>encodeToCommandBuffer:gradientMatrix:forwardOutputMatrix:resultMatrix:</b>
  <br/>
  (nullable instancetype) - <b>initWithCoder:device:</b>
  <br/>
  (nonnull instancetype) - <b>copyWithZone:device:</b>
  <br/>
  <br/>
</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Properties"><a class="permalink" href="#Properties">Properties</a></h2>
<br/>
<p class="Pp">NSUInteger <b>sourceRows</b>
  <br/>
  NSUInteger <b>sourceColumns</b>
  <br/>
  <br/>
</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Additional_Inherited_Members"><a class="permalink" href="#Additional_Inherited_Members">Additional
  Inherited Members</a></h2>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Detailed_Description"><a class="permalink" href="#Detailed_Description">Detailed
  Description</a></h1>
<p class="Pp">This depends on Metal.framework.</p>
<p class="Pp">Computes the gradient corresponding to a forward
    <b>MPSMatrixSoftMax</b> object.</p>
<p class="Pp"><b>A</b> <b>MPSMatrixSoftMaxGradient</b> object computes:</p>
<p class="Pp"></p>
<pre>
<br/>
            dL_dX_ij = Y_ij * (dL_dY_ij - sum_k(dL_dY_ik * Y_ik)
<br/>
        Where dL_dX is the resulting gradient of the loss function with respect to
<br/>
        the original input to the forward MPSMatrixSoftMax operation, Y is
<br/>
        the output of the forward MPSMatrixSoftMax operation, and dL_dY is the
<br/>
        gradient of the loss function with respect to Y.</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Method_Documentation"><a class="permalink" href="#Method_Documentation">Method
  Documentation</a></h1>
<section class="Ss">
<h2 class="Ss">- (nonnull instancetype) copyWithZone: (nullable NSZone *)
  zone(nullable id&lt; MTLDevice &gt;) device</h2>
<p class="Pp">Make a copy of this kernel for a new device -</p>
<p class="Pp"><b>See also:</b></p>
<div class="Bd-indent"><b>MPSKernel</b></div>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>zone</i> The NSZone in which to allocate the object
<br/>
<i>device</i> The device for the new <b>MPSKernel</b>. If nil, then use
  self.device.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent">a pointer to a copy of this <b>MPSKernel</b>. This will
  fail, returning nil if the device is not supported. Devices must be
  MTLFeatureSet_iOS_GPUFamily2_v1 or later.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss">- (void) encodeToCommandBuffer: (nonnull id&lt; MTLCommandBuffer
  &gt;) commandBuffer(<b>MPSMatrix</b> *__nonnull)
  gradientMatrix(<b>MPSMatrix</b> *__nonnull)
  forwardOutputMatrix(<b>MPSMatrix</b> *__nonnull) resultMatrix</h2>
<p class="Pp">Encode a <b>MPSMatrixSoftMaxGradient</b> object to a command
    buffer.</p>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>commandBuffer</i> <b>A</b> valid MTLCommandBuffer to
  receive the encoded kernel.
<br/>
<i>gradientMatrix</i> <b>A</b> <b>MPSMatrix</b> object containing gradient
  values with respect to the forward operation's output. dL_dY in the class
  description.
<br/>
<i>forwardOutputMatrix</i> <b>A</b> <b>MPSMatrix</b> object containing the
  output values from the forward operation. Y in the class description.
<br/>
<i>resultMatrix</i> The <b>MPSMatrix</b> object to hold the resulting gradient
  values with respect to the forward operation's input. dL_dX in the class
  description.</div>
</section>
<section class="Ss">
<h2 class="Ss">- (nullable instancetype) <b>initWithCoder:</b> (NSCoder
  *__nonnull) aDecoder(nonnull id&lt; MTLDevice &gt;) device</h2>
<p class="Pp"><b>NSSecureCoding</b> compatability See
    <b>MPSKernel::initWithCoder</b>.</p>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>aDecoder</i> The NSCoder subclass with your serialized
  <b>MPSMatrixSoftMaxGradient</b>
<br/>
<i>device</i> The MTLDevice on which to make the
  <b>MPSMatrixSoftMaxGradient</b></div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent"><b>A</b> new <b>MPSMatrixSoftMaxGradient</b> object, or
  nil if failure.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss">- (nonnull instancetype) initWithDevice: (nonnull id&lt;
  MTLDevice &gt;) device</h2>
<p class="Pp">Initialize an <b>MPSMatrixSoftMaxGradient</b> object on a
  device.</p>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>device</i> The device on which the kernel will
  execute.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent"><b>A</b> valid <b>MPSMatrixSoftMaxGradient</b> object or
  nil, if failure.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Property_Documentation"><a class="permalink" href="#Property_Documentation">Property
  Documentation</a></h1>
<section class="Ss">
<h2 class="Ss">- sourceColumns [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></h2>
<p class="Pp">The number of columns to consider from the sources in the
    operation. This property is modifiable and defaults to NSUIntegerMax and the
    number is adjusted dynamically at kernel encode time (see
    encodeToCommandBuffer) to fit into the source matrices available starting
    from [primary/secondary]SourceMatrixOrigin.y, indicating that by default the
    whole source matrix is used. If a different size is desired then this should
    be modified prior to encoding the kernel. It is the user's responsibility to
    ensure that the resultMatrix parameter in encodeToCommandBuffer is large
    enough to accommodate the results of this operation, otherwise the results
    of the encode call are undefined. NOTE: primarySourceMatrixOrigin,
    secondarySourceMatrixOrigin and resultMatrixOrigin from
    <b>MPSMatrixBinaryKernel</b> can be used to control the starting points in
    the primary source, secondary source, and result matrices respectively.</p>
</section>
<section class="Ss">
<h2 class="Ss">- sourceRows [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></h2>
<p class="Pp">The number of rows to consider from the sources in the operation.
    This property is modifiable and defaults to NSUIntegerMax and the number is
    adjusted dynamically at kernel encode time (see encodeToCommandBuffer) to
    fit into the source matrices available starting from
    [primary/secondary]SourceMatrixOrigin.x, indicating that by default the
    whole source matrix is used. If a different size is desired then this should
    be modified prior to encoding the kernel. It is the user's responsibility to
    ensure that the resultMatrix parameter in encodeToCommandBuffer is large
    enough to accommodate the results of this operation, otherwise the results
    of the encode call are undefined. NOTE: primarySourceMatrixOrigin,
    secondarySourceMatrixOrigin and resultMatrixOrigin from
    <b>MPSMatrixBinaryKernel</b> can be used to control the starting points in
    the primary source, secondary source, and result matrices respectively.</p>
<p class="Pp"></p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Author"><a class="permalink" href="#Author">Author</a></h1>
<p class="Pp">Generated automatically by Doxygen for
    MetalPerformanceShaders.framework from the source code.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Mon Jul 9 2018</td>
    <td class="foot-os">Version MetalPerformanceShaders-119.3</td>
  </tr>
</table>
</body>
</html>
