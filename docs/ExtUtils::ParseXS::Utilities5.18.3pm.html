<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>ExtUtils::ParseXS::Utilities(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ExtUtils::ParseXS::Utilities(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">ExtUtils::ParseXS::Utilities(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
ExtUtils::ParseXS::Utilities - Subroutines used with ExtUtils::ParseXS
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use ExtUtils::ParseXS::Utilities qw(
    standard_typemap_locations
    trim_whitespace
    tidy_type
    C_string
    valid_proto_string
    process_typemaps
    make_targetable
    map_type
    standard_XS_defs
    assign_func_args
    analyze_preprocessor_statements
    set_cond
    Warn
    blurt
    death
    check_conditional_preprocessor_statements
    escape_file_for_line_directive
    report_typemap_failure
  );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SUBROUTINES"><a class="permalink" href="#SUBROUTINES">SUBROUTINES</a></h1>
The following functions are not considered to be part of the public interface.
  They are documented here for the benefit of future maintainers of this module.
<section class="Ss">
<h2 class="Ss" id="_standard_typemap_locations()_"><a class="permalink" href="#_standard_typemap_locations()_">&quot;standard_typemap_locations()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Provide a list of filepaths where <i>typemap</i> files may be
        found. The filepaths -- relative paths to files (not just directory
        paths) -- appear in this list in lowest-to-highest priority.</p>
    <p class="Pp">The highest priority is to look in the current directory.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  'typemap'
    </pre>
    <p class="Pp">The second and third highest priorities are to look in the
        parent of the current directory and a directory called
        <i>lib/ExtUtils</i> underneath the parent directory.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  '../typemap',
  '../lib/ExtUtils/typemap',
    </pre>
    <p class="Pp">The fourth through ninth highest priorities are to look in the
        corresponding grandparent, great-grandparent and great-great-grandparent
        directories.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  '../../typemap',
  '../../lib/ExtUtils/typemap',
  '../../../typemap',
  '../../../lib/ExtUtils/typemap',
  '../../../../typemap',
  '../../../../lib/ExtUtils/typemap',
    </pre>
    <p class="Pp">The tenth and subsequent priorities are to look in directories
        named <i>ExtUtils</i> which are subdirectories of directories found in
        <span class="Li">@INC</span> -- <i>provided</i> a file named
        <i>typemap</i> actually exists in such a directory. Example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  '/usr/local/lib/perl5/5.10.1/ExtUtils/typemap',
    </pre>
    <p class="Pp">However, these filepaths appear in the list returned by
        <span class="Li">&quot;standard_typemap_locations()&quot;</span> in
        reverse order, <i>i.e.</i>, lowest-to-highest.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  '/usr/local/lib/perl5/5.10.1/ExtUtils/typemap',
  '../../../../lib/ExtUtils/typemap',
  '../../../../typemap',
  '../../../lib/ExtUtils/typemap',
  '../../../typemap',
  '../../lib/ExtUtils/typemap',
  '../../typemap',
  '../lib/ExtUtils/typemap',
  '../typemap',
  'typemap'
    </pre>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my @stl = standard_typemap_locations( \@INC );
    </pre>
    <p class="Pp">Reference to <span class="Li">@INC</span>.</p>
  </li>
  <li>Return Value
    <p class="Pp">Array holding list of directories to be searched for
        <i>typemap</i> files.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_trim_whitespace()_"><a class="permalink" href="#_trim_whitespace()_">&quot;trim_whitespace()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Perform an in-place trimming of leading and trailing
        whitespace from the first argument provided to the function.</p>
  </li>
  <li>Argument
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  trim_whitespace($arg);
    </pre>
  </li>
  <li>Return Value
    <p class="Pp">None. Remember: this is an <i>in-place</i> modification of the
        argument.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_tidy_type()_"><a class="permalink" href="#_tidy_type()_">&quot;tidy_type()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Rationalize any asterisks
        (<span class="Li">&quot;*&quot;</span>) by joining them into bunches,
        removing interior whitespace, then trimming leading and trailing
        whitespace.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    ($ret_type) = tidy_type($_);
    </pre>
    <p class="Pp">String to be cleaned up.</p>
  </li>
  <li>Return Value
    <p class="Pp">String cleaned up.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_C_string()_"><a class="permalink" href="#_C_string()_">&quot;C_string()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Escape backslashes (<span class="Li">&quot;\&quot;</span>) in
        prototype strings.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
      $ProtoThisXSUB = C_string($_);
    </pre>
    <p class="Pp">String needing escaping.</p>
  </li>
  <li>Return Value
    <p class="Pp">Properly escaped string.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_valid_proto_string()_"><a class="permalink" href="#_valid_proto_string()_">&quot;valid_proto_string()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Validate prototype string.</p>
  </li>
  <li>Arguments
    <p class="Pp">String needing checking.</p>
  </li>
  <li>Return Value
    <p class="Pp">Upon success, returns the same string passed as argument.</p>
    <p class="Pp">Upon failure, returns <span class="Li">0</span>.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_process_typemaps()_"><a class="permalink" href="#_process_typemaps()_">&quot;process_typemaps()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Process all typemap files.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $typemaps_object = process_typemaps( $args{typemap}, $pwd );
    </pre>
    <p class="Pp">List of two elements:
        <span class="Li">&quot;typemap&quot;</span> element from
        <span class="Li">%args</span>; current working directory.</p>
  </li>
  <li>Return Value
    <p class="Pp">Upon success, returns an ExtUtils::Typemaps object.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_make_targetable()_"><a class="permalink" href="#_make_targetable()_">&quot;make_targetable()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Populate <span class="Li">%targetable</span>. This constitutes
        a refinement of the output of
        <span class="Li">&quot;process_typemaps()&quot;</span> with respect to
        its fourth output, <span class="Li">$output_expr_ref</span>.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  %targetable = make_targetable($output_expr_ref);
    </pre>
    <p class="Pp">Single hash reference: the fourth such ref returned by
        <span class="Li">&quot;process_typemaps()&quot;</span>.</p>
  </li>
  <li>Return Value
    <p class="Pp">Hash.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_map_type()_"><a class="permalink" href="#_map_type()_">&quot;map_type()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Performs a mapping at several places inside
        <span class="Li">&quot;PARAGRAPH&quot;</span> loop.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $type = map_type($self, $type, $varname);
    </pre>
    <p class="Pp">List of three arguments.</p>
  </li>
  <li>Return Value
    <p class="Pp">String holding augmented version of second argument.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_standard_XS_defs()_"><a class="permalink" href="#_standard_XS_defs()_">&quot;standard_XS_defs()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Writes to the <span class="Li">&quot;.c&quot;</span> output
        file certain preprocessor directives and function headers needed in all
        such files.</p>
  </li>
  <li>Arguments
    <p class="Pp">None.</p>
  </li>
  <li>Return Value
    <p class="Pp">Returns true.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_assign_func_args()_"><a class="permalink" href="#_assign_func_args()_">&quot;assign_func_args()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Perform assignment to the
        <span class="Li">&quot;func_args&quot;</span> attribute.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $string = assign_func_args($self, $argsref, $class);
    </pre>
    <p class="Pp">List of three elements. Second is an array reference; third is
        a string.</p>
  </li>
  <li>Return Value
    <p class="Pp">String.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_analyze_preprocessor_statements()_"><a class="permalink" href="#_analyze_preprocessor_statements()_">&quot;analyze_preprocessor_statements()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Within each function inside each Xsub, print to the <i>.c</i>
        output file certain preprocessor statements.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li"></span></p>
    <pre>
      ( $self, $XSS_work_idx, $BootCode_ref ) =
        analyze_preprocessor_statements(
          $self, $statement, $XSS_work_idx, $BootCode_ref
        );
    </pre>
    <p class="Pp">List of four elements.</p>
  </li>
  <li>Return Value
    <p class="Pp">Modifed values of three of the arguments passed to the
        function. In particular, the <span class="Li">&quot;XSStack&quot;</span>
        and <span class="Li">&quot;InitFileCode&quot;</span> attributes are
        modified.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_set_cond()_"><a class="permalink" href="#_set_cond()_">&quot;set_cond()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose</li>
  <li>Arguments</li>
  <li>Return Value</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_current_line_number()_"><a class="permalink" href="#_current_line_number()_">&quot;current_line_number()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Figures out the current line number in the XS file.</p>
  </li>
  <li>Arguments
    <p class="Pp"><span class="Li">$self</span></p>
  </li>
  <li>Return Value
    <p class="Pp">The current line number.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_Warn()_"><a class="permalink" href="#_Warn()_">&quot;Warn()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose</li>
  <li>Arguments</li>
  <li>Return Value</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_blurt()_"><a class="permalink" href="#_blurt()_">&quot;blurt()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose</li>
  <li>Arguments</li>
  <li>Return Value</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_death()_"><a class="permalink" href="#_death()_">&quot;death()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose</li>
  <li>Arguments</li>
  <li>Return Value</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_check_conditional_preprocessor_statements()_"><a class="permalink" href="#_check_conditional_preprocessor_statements()_">&quot;check_conditional_preprocessor_statements()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose</li>
  <li>Arguments</li>
  <li>Return Value</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_escape_file_for_line_directive()_"><a class="permalink" href="#_escape_file_for_line_directive()_">&quot;escape_file_for_line_directive()&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Escapes a given code source name (typically a file name but
        can also be a command that was read from) so that double-quotes and
        backslashes are escaped.</p>
  </li>
  <li>Arguments
    <p class="Pp">A string.</p>
  </li>
  <li>Return Value
    <p class="Pp">A string with escapes for double-quotes and backslashes.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_report_typemap_failure_"><a class="permalink" href="#_report_typemap_failure_">&quot;report_typemap_failure&quot;</a></h2>
<ul class="Bl-bullet">
  <li>Purpose
    <p class="Pp">Do error reporting for missing typemaps.</p>
  </li>
  <li>Arguments
    <p class="Pp">The <span class="Li">&quot;ExtUtils::ParseXS&quot;</span>
        object.</p>
    <p class="Pp">An <span class="Li">&quot;ExtUtils::Typemaps&quot;</span>
        object.</p>
    <p class="Pp">The string that represents the C type that was not found in
        the typemap.</p>
    <p class="Pp">Optionally, the string
        <span class="Li">&quot;death&quot;</span> or
        <span class="Li">&quot;blurt&quot;</span> to choose whether the error is
        immediately fatal or not. Default:
        <span class="Li">&quot;blurt&quot;</span></p>
  </li>
  <li>Return Value
    <p class="Pp">Returns nothing. Depending on the arguments, this may call
        <span class="Li">&quot;death&quot;</span> or
        <span class="Li">&quot;blurt&quot;</span>, the former of which is
      fatal.</p>
  </li>
</ul>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
